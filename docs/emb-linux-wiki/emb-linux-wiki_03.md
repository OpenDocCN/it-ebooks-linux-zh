# 开发入口

收集嵌入式 Linux 开发相关的各类资源和信息，内容涵盖从设备驱动开发到系统优化的方方面面。

# 固件

> 原文：[eLinux.org](http://eLinux.org/Firmware "http://eLinux.org/Firmware")
> 翻译：[@lzufalcon](https://github.com/lzufalcon)

# 固件

固件是一类存放在非易失性存储器中的软件。

也可查看 [维基百科上的 Firmware 入口](http://en.wikipedia.org/wiki/Firmware) 获取更多 Firmware 相关的信息。

固件的一种形式是引导程序，这类程序用于初始化设备并装载其他的软件，比如 Linux 内核。

提示一下，引导程序 一节有一份常用 Linux 引导程序的清单。

[分类](http://eLinux.org/Special:Categories "Special:Categories"):

*   [嵌入式字典](http://eLinux.org/Category:Embedded_Dictionary "Category:Embedded Dictionary")
*   [固件](http://elinux.org/Category:Firmware)

# 引导程序

> 原文：[eLinux.org](http://eLinux.org/Bootloader "http://eLinux.org/Bootloader")
> 翻译：[@lzufalcon](https://github.com/lzufalcon)

# 引导程序

简单讲，引导程序是计算机开机后运行的第一个软件程序。它负责装载并移交控制权给操作系统内核（例如 Hurd 或者 Linux）。而内核转而初始化接下来的操作系统部分（例如 GNU）。

## 引导程序清单

图例: **?**: 未知 **-**: 不支持

| 引导程序 | ARM | BFIN | MIPS | PPC | SH | x86 | 备注 |
| [APEX](http://elinux.org/APEX "APEX") | y | - |  ? |  ? |  ? |  ? |  |
| [Barebox (U-Boot-v2)](http://elinux.org/Barebox "Barebox") | y | y | y | y | (进行中) | y | 支持网络安装（系统），集成编辑器和脚本环境 |
| [Blob](http://elinux.org/Blob "Blob") | y | - | - | - | - | - |  |
| [CFE](http://www.linux-mips.org/wiki/Common_Firmware_Environment) | - | - | y | - | - | - | 只支持特定的博通芯片 |
| [coreboot (*LinuxBIOS*)](http://elinux.org/Coreboot "Coreboot") [[1]](http://www.coreboot.org/Welcome_to_coreboot) | y | - | - | - | - | y | Peter Stuge 在 2008 年度 嵌入式 Linux 欧洲研讨会上的谈话，[视频](http://free-electrons.com/pub/video/2008/elce/nluug-fall2008-stuge-coreboot.ogv) |
| [Kexecboot](http://elinux.org/Kexecboot "Kexecboot") | y | - | - | - | - |  ? | 是一个二阶段引导程序，包含 Linux 内核和一个小型 GUI |
| U-Boot | y | y | y | y | y | y | 支持网络安装 |
| [Grub](http://elinux.org/Grub "Grub") |  ? | - |  ? | y | - | y |  |
| [Lilo](http://elinux.org/Lilo "Lilo") | - | - | - | - | - | y | 仅支持 x86，需要用 nasm 编译 |
| [MicroMonitor](http://www.microcross.com/html/micromonitor.html) | y | y |  ? | y | y |  ? |  |
| [PMON 2000](http://www.linux-mips.org/wiki/PMON_2000) | - | - | y | - | - | - |  |
| [Qi](http://elinux.org/index.php?title=Qi&action=edit&redlink=1 "Qi (page does not exist)") | y | - | - | - | - | - | 非常快，可简单直接地引导进 Linux |
| [RedBoot](http://elinux.org/index.php?title=RedBoot&action=edit&redlink=1 "RedBoot (page does not exist)") | y |  ? | y | y | y | y | 支持网络安装 |
| [Syslinux](http://elinux.org/Syslinux "Syslinux") | - | - | - | - | - | y | 变体有 isolinux，可非常灵活地引导启动 x86 机器 |
| [Yaboot](http://yaboot.ozlabs.org/) | - | - | - | y | - | - |  |
| [YAMON](http://www.linux-mips.org/wiki/YAMON) | - | - | y | - | - | - |  |

更多详尽的列表可以从[维基百科](http://en.wikipedia.org/wiki/Comparison_of_boot_loaders)上找到。

## 一些传统的引导程序

下述内容较旧，请不要用于新设计中！

*   rrload（RidgeRun, 曾用于以前的 TI OMAP 开发板）
*   [pmon](http://www.linux-mips.org/wiki/PMON)（曾用 MIPS Linux，包括博通 Wifi 路由器，譬如 Linksys

## 看过来

*   引导程序安全相关资源

[分类](http://eLinux.org/Special:Categories "Special:Categories"):

*   [引导程序](http://eLinux.org/Category:Bootloaders "Category:Bootloaders")

# 安全

> 原文：[eLinux.org](http://eLinux.org/Security)
> 翻译：[@lzz5235](https://github.com/lzz5235)
> 校订：[@lzufalcon](https://github.com/lzufalcon)

# 安全

## 目录

*   2 简介
*   3 技术/项目主页
*   4 Linux Kernel 中的安全子系统
    *   4.1 SELinux
    *   4.2 Tomoyo
    *   4.3 SMACK
*   5 陈旧的信息 ( 2005 年，CELF 调查的相关信息)
    *   5.1 文档
    *   5.2 关键需求与相关技术点
    *   5.3 资源
        *   5.3.1 安全框架
        *   5.3.2 安全组件
        *   5.3.3 安全特性
        *   5.3.4 其他资源
            *   5.3.4.1 安全活动
            *   5.3.4.2 邮件列表
            *   5.3.4.3 会议
            *   5.3.4.4 安全相关的文章
            *   5.3.4.5 论文
            *   5.3.4.6 实例和开源代码

## 简介

本文主要包含与嵌入式 Linux 有关的安全方面的技术。

## 技术/项目主页

*   硬件安全
*   引导程序安全
*   强制访问控制方案比较

## Linux Kernel 中的安全子系统

### SELinux

*   SELinux - 这个组件主要用来实现一种 Linux 安全架构：[FLASK（The Flux Advanced Security Kernel）](http://www.cs.utah.edu/flux/fluke/html/flask.html)。 SELinux 主要起始于 NSA 在 2001 年内核峰会上演示给内核开发人员的一个内核补丁，来自这次报告的反馈促成了 LSM 这个项目。SELinux 项目已经帮助内核定义了大部分的 LSM 接口。
    *   OLS 2008 paper: [消费电子设备下的 SELinux](http://eLinux.org/images/8/88/Nakamura-reprint.pdf "Nakamura-reprint.pdf") Nakamura & Sameshima, 日立软件工程师.
    *   ELC 2008 presentation: [嵌入式 SELinux](http://eLinux.org/images/a/a3/ELC2008_nakamura.pdf "ELC2008 nakamura.pdf")

### Tomoyo

*   TOMOYO Linux 主要用来提升 Linux 自身的安全性，这个特性最初由 [NTT DATA CORPORATION, Japan](http://www.nttdata.co.jp/en/index.html)开发。 TOMOYO Linux 是在 2005 年 11 月 11 日，以 GPL 许可证的形式开源的。 TOMOYO Linux 是一种可以被称为安全操作系统的机制，与 SELinux 非常类似，这个机制可以把各类访问权限化整为零，从而做到更加细粒度的访问控制。
    *   [ELC 2007 presentation](http://eLinux.org/images/b/b5/Elc2007-presentation-20070418-for_linux.pdf "Elc2007-presentation-20070418-for linux.pdf")
    *   [OLS 2007 BoF slides](http://eLinux.org/images/e/eb/Ols2007-tomoyo-20070629.pdf "Ols2007-tomoyo-20070629.pdf")

Tomoyo 在 2.6.28 时被合并到 Linux 内核主线中。

### SMACK

*   SMACK - 即 Simple Mandatory Access Control Kernel （简单强制访问控制内核），这是一个非常轻量级的 Linux 内核 MAC 实现。
    *   官方主页 (非常简单): [`schaufler-ca.com/`](http://schaufler-ca.com/)
    *   LWN.net 文章: [`lwn.net/Articles/244531/`](http://lwn.net/Articles/244531/)
    *   CELF-commissioned 白皮书: [SMACK for Digital TV](http://www.embeddedalley.com/pdfs/Smack_for_DigitalTV.pdf) by Embedded Alley (now Mentor Graphics)

SMACK 在 2.6.25 时被合并到 Linux 内核主线中。

# 陈旧的信息 ( 2005 年，CELF 调查的相关信息)

## 文档

*   CELF 1.0 安全规范: [安全规范 _R2](http://www.celinuxforum.org/CelfPubWiki/SecuritySpec_R2)

## 关键需求与相关技术点

下面是与安全相关的技术点，这些会在后面的表格中引用到。

1.  Umbrella
2.  Linux Security Module (LSM) framework
3.  PAX patch – ( x86 架构独有)
4.  LOMAC
5.  LIDS
6.  Netfilter
7.  digsig/bsign/elfsig
8.  可信计算机集群 (TCG)
9.  TPE (包括 LIDS )
10.  PRAMFS
11.  ACL 文件系统拓展
12.  Posix 中与文件相关的功能

| 需求 | 相关技术 |
| --- | --- |
| 可靠性 | 10 |
| 安全/信任的引导 | 8 |
| 访问控制 | 1, 4, 5, 11, 12 |
| 缓冲区/栈的保护 | 3 |
| 入侵检测 | 5, 8 |
| 可配置的安全选项 | 1, 2, 4, 5, 7, 9(?), 11, 12 |
| 用户认证 | 1, 7 |
| Signed binaries | 1, 7 |
| 可靠的连接 | IPSec, SSL already supported |
| 安全服务 | 1, 4, 5, 7, 8 |
| 防火墙 | 6 |
| 用于支持安全硬件的 API | 8 |
| 安全固件的可升级性 | 9 |
| 认证 | 8 |

对于清单中的相关技术，CELF 安全组织正在研究或者已经支持以下的技术：

*   Umbrella
*   PAX - 目前仅仅是监控（monitor）
*   LIDS
*   Signed Binaries
    *   Dig Sig（DSI 项目的一部分：[`disec.sourceforge.net/`](http://disec.sourceforge.net/)）
    *   Bsign（一个 Debian 项目：[`packages.debian.org/squeeze/bsign`](http://packages.debian.org/squeeze/bsign)）
    *   [ELFSign](http://www.hick.org/code/skape/papers/elfsign.txt)
*   Linux API for TCG - 仍然处在 NPO 状态，并进行讨论
*   TPE - LIDS 的一部分
*   ACL 文件拓展 - 为 CELF 所需（PRAMFS，JFFS2）。也关注 LKLM 讨论，然后进行实现
*   POSIX 中与文件相关的功能

## 资源

### 安全框架

*   [The Linux Security Modules (LSM)](http://lsm.immunix.org) 项目提供一个轻量级而且通用的访问权限控制框架。 当前的计算环境变得越来越不利，往内核中导入增强的访问控制模型改善了主机安全性也能帮助服务器免于被恶意攻击。 安全研究已经提供了许多不同类型的权限访问控制，它们针对不同类型的操作环境有效。而 LSM 框架允许权限访问控制被实现为可加载的内核模块。

*   [Medusa DS9 Security Project](http://medusa.terminus.sk/) 是另外一个提高 Linux 内核安全性的项目，它实现了 ZP 安全框架。 该项目目标就是实现一个安全框架，该框架可用于实现任意安全模型（不同于其他安全 Linux 内核项目）。

Medusa DS9 主要用来提高 Linux 的安全性，它由两部分组成：Linux 内核变更和用户空间守护进程。 内核变更主要来监控系统调用、文件系统动作和进程，它们实现了通信协议部分。而安全守护进程通过字符设备收发 数据包来与内核进行通讯。守护进程包含了整个业务逻辑并实现了具体的安全策略，这就意味着 Medusa 可以实现任何类型的 数据保护模型；而它仅仅有赖于配置文件，该配置文件实际上是用内置编程语言写的一个程序，该语言非常类似于 C 。

*   [Rule Set Based Access Control (RSBAC)](http://www.rsbac.org) 是当今 Linux 内核中一个灵活、强大与快速的开源访问控制框架， 从 2000 年 1 月开始，就已经实现产品级稳定使用。所有开发独立于政府与大企业并且没有重用任何其他访问控制代码。

标准的安装包包括一系列的访问控制模块，比如 MAC、RC、ACL 等，而且运行时注册机制（Runtime Registration Facility, REG）使得我们更加容易 以内核模块的方式实现自己的访问控制模型，并且将它在运行时注册就可以了。

RSBAC 框架建立在通用权限访问控制框架 (GFAC) 之上，该框架是由 Abrams 与 La Padula 设计。 所有安全相关系统调用都由安全实施代码拓展，这种代码调用中央决策组件，进而调用所有的主动决策模块并产生一组决策。 这些决策最终由系统调用扩展来实施。

决策建立在几个方面之上，包括访问请求类型、访问目标和附着于主题呼叫（The Subject Calling）和访问目标之上的属性值。 另外，独立属性被运用在独立的模块中，比如：the privacy module (PM) 。所有的属性被存储在受保护的文件夹内，一个文件夹 对应一个挂载设备，因此改变这些属性需要提供特殊的系统调用。

*   [TrustedBSD MAC 框架](http://www.trustedbsd.org/mac.html) - 强制访问控制拓展了任意访问控制，它允许管理员为系统中所有主体（例如进程和套接字）和对象（如套接字、文件系统对象以及 sysctl 节点）实施额外的安全加固。 该框架的灵活性为新的访问控制模型的开发提供了极大便利。该框架也允许新的访问控制模型作为内核模块载入。

*   [可信计算集群 (TCG)](https://www.trustedcomputinggroup.org/) - TCG 定义了一种基于硬件的安全架构 （硬件为 Trust 的根基），这是在多种平台创建可信计算的一种经济有效的方案。更多的介绍信息请查看 Seiji Munetoh 与 Nicholas Szeto 的演示, TCGOverviewPDF, 这个演示是在 Tech Conference 2005 Docs 页面上。可信平台模块（TPM）是绑定到平台的安全芯片和该架构的关键组件。 TCG 拥有一个移动电话工作组，该工作组发布了一个用户用例文档，该文档可应用于许多通用消费电子设备（包括移动电话）-- [MPWG User Cases](https://www.trustedcomputinggroup.org/groups/mobile/MPWG_Use_Cases.pdf)

### 安全组件

*   SELinux - 主要实现了 [FLASK](http://www.cs.utah.edu/flux/fluke/html/flask.html) 安全架构。 SELinux 主要起始于 NSA 在 2001 年内核峰会期间演示给内核开发者的一个内核补丁，来自该报告的反馈促成了 LSM 项目。 SELinux 项目已经定义了大量的 LSM 接口。

*   [Apparmor](http://en.opensuse.org/Apparmor) - Apparmor 是一个应用安全工具，主要是针对应用程序设计的一个简单易用的安全框架。

*   [Linux 入侵防护系统 (LIDS)](http://www.lids.org/) 由一个内核补丁和一套管理工具组成，它通过实现 MAC 增加了内核的安全性。 当它生效时，文件访问，所有系统网络管理操作，任意权能使用，裸设备、内存和 I/O 访问都能被选择性地禁用（即使针对 Root）。 我们可以配置只允许特定的应用程序访问某些特定文件。它使用和扩展系统能力边界集来控制整个系统，并且为了增强安全性，它为 内核增加了一些网络和文件系统安全特性。我们能够细粒度地在线微调安全保护，隐藏敏感的进程，通过网络接收安全警报，等等。 LIDS 有两个版本，1.2 和 2.2。LIDS 2.2 支持 2.6 内核，LIDS 1.2 支持 2.4 内核，并且它提供了新的功能，可信路径执行（Trusted PATH Execution，TPE） 和可信域实施（Trusted Domain Enforcement，TDE）。这些对于创建沙盒非常有用。LIDS 以 GPL 方式发布。

*   TOMOYO Linux 主要用来提高 Linux 自身的安全性， 该特性最初由 [NTT DATA CORPORATION, Japan](http://www.nttdata.co.jp/en/index.html) 开发。 TOMOYO Linux 是在 2005 年 11 月 11 日， 以 GPL 许可证的形式开源的。TOMOYO Linux 是一个被称为安全操作系统的机制， 它与 SELinux 非常类似，通过把现有的访问权限化整为零，从而可以做到更细粒度的访问控制。

    *   [ELC2007 presentation](http://sourceforge.jp/projects/tomoyo/document/elc2007-presentation-20070418-for_linux.pdf/en/4/elc2007-presentation-20070418-for_linux.pdf)
    *   [OLS2007 BoF slides](http://sourceforge.jp/projects/tomoyo/document/ols2007-tomoyo-20070629.pdf/en/4/ols2007-tomoyo-20070629.pdf)
    *   [CELF Wiki](http://tree.celinuxforum.org/CelfPubWiki/TomoyoLinux)

Tomoyo 在 2.6.28 时被合并到 Linux 内核 主线中。

*   SMACK - 即 Simple Mandatory Access Control Kernel，是 Linux 内核 MAC 的一种轻量级实现。
    *   官方主页 (非常简单): [`schaufler-ca.com/`](http://schaufler-ca.com/)
    *   LWN.net 文章: [`lwn.net/Articles/244531/`](http://lwn.net/Articles/244531/)
    *   CELF-commissioned 白皮书: [SMACK for Digital TV](http://www.embeddedalley.com/pdfs/Smack_for_DigitalTV.pdf) by Embedded Alley (now Mentor Graphics)

SMACK 在 2.6.25 时被合并到 Linux 内核主线中。

*   [Umbrella](http://sourceforge.net/projects/umbrella) 基于 Linux 安全模块框架，为手持设备实现了基于进程的 MAC 与文件认证的功能组合。 其中 MAC 方案由每个进程的一系列限制来实施。

    *   针对资源的限制
    *   针对访问网络接口的限制
    *   针对进程创建与信号处理的限制
    *   文件签名
*   [LOMAC](http://opensource.nailabs.com/lomac/) 是面向 UNIX 内核的一种可动态加载的安全模块， 其中它使用了 Low Water-Mark 的 MAC，用于保护进程和数据的完整性，免于受病毒、特洛伊木马和 远程恶意用户以及缺乏免疫力（易被入侵）的网络服务守护进程的破坏。LOMAC 设计的目标就是兼容性与易用性， 这也是典型用户能够接受的一种 MAC 实现方式。

LOMAC 致力于创建典型用户可接受的一种 MAC 完整性保护方式。LOMAC 实现了一种简单的 MAC 完整性保护方式， 它基于 Biba 的 Low Water-Mark 模型并且被实现为了一个可加载的内核模块（LSM）。它可提供有效的完整性保护， 从而免受病毒、特洛伊木马、远程恶意用户和被成功入侵的网络服务器的损害，并且它无须修改内核、应用或者他们已有的配置。 LOMAC 设计的目标就是易用性，它默认的配置主要用来提供有效的保护，避免为特定的用户、服务器和系统中的其他软件做专门的调整。 LOMAC 可以在系统启动以后通过简单地加载内核模块来加固当前部署的系统。

*   [The Enforcer](http://sourceforge.net/projects/enforcer/) 是一个 Linux 安全模块， 它通过保证文件系统不被恶意篡改，从而提高运行有 Linux 的计算机的完整性。它能通过与 TCPA 硬件进行交互 来提供更高级别的针对软件与敏感数据的防护。

*   [Janus](http://www.cs.berkeley.edu/~daw/janus) 是一个安全工具，用于把不受信的应用关在一个受限的 安全环境（即所谓沙盒）中，它可用于限制被成功入侵的应用造成的危害。在一个受限的沙盒环境中，无须干扰应用的行为， 我们已经成功地运用 Janus 来 “监禁”（Jail）了 Apache，bind 和其他程序。而且我们还在继续寻求在实际产品环境中实验该方案。

*   [Domain and Type Enforcement(DTE)](http://www.cs.wm.edu/~hallyn/dte/) 是一个 MAC 系统， 可以赋予不同文件不同类型，赋予不同进程不同域。来自域间和域到文件的访问都依据 DTE 策略实施。 该项目的首次实现紧紧贴合来自名为《A Domain and Type Enforcement Prototype and Confining Root Programs with Domain and Type Enforcement》的论文的 TIS 描述。

*   [实时 Linux 安全模块(LSM)](http://sourceforge.net/projects/realtime-lsm/) 是 Linux 2.6 内核中可加载的拓展，它可以选择性地赋予实时权限给特定的用户组和应用。

*   [Linux 内核 ACL 支持](http://sourceforge.net/projects/linux-acl/) - 该 Linux 内核补丁和用户代码组合允许支持 Linux 内核 ACLS。

*   [`www.hu.grsecurity.net/ grsecurity`](http://grsecurity.urc.bl.ac.yu/) (镜像原始站点在[这里](http://www.grsecurity.net/)) - 这是一种创新的方式，能安全利用多层次的监测、防护和容器模型。 该项目以 GPL 方式发布。

此外提供了大量其他的特性：

*   一种智能又健壮的基于角色的访问控制系统（RBAC），它可以不经配置为整个系统产生最少的权限策略。
*   chroot 加固
*   避免 /tmp 竞争条件
*   广泛审计
*   预防与地址空间错误有关的所有类型漏洞利用（来自于 Pax 项目）
*   针对 TCP/IP 栈追加的的随机性
*   限制当前用户只能查看自身的进程
*   每个安全警报或者是安全审计包含每个引起该错误事件用户的 IP 地址

### 安全特性

*   NX 补丁 - 最近提交到主线的补丁，用来阻止执行栈段的恶意代码 [LKML 上关于 NX 补丁的讨论](http://groups.google.com/groups?hl=en&lr=&ie=UTF-8&threadm=232Xj-3bC-13%40gated-at.bofh.it&rnum=1&prev=/groups%3Fq%3DNX%2Bsecurity%2Blkml%26hl%3Den%26lr%3D%26ie%3DUTF-8%26selm%3D232Xj-3bC-13%2540gated-at.bofh.it%26rnum%3D1)

### 其他资源

*   启动设备的安全性
    *   安全硬件相关资源
    *   Bootloader 安全相关的资源 -- Bootloader 安全相关的资源

#### 安全活动

*   [可信计算小组](https://www.trustedcomputinggroup.org/)
*   [Linux 安全模块](http://lsm.immunix.org)

#### 邮件列表

*   [Linux 安全模块（LSM）邮件列表](http://vger.kernel.org/vger-lists.html#linux-security-module)

#### 会议

*   Linux Conf Au [Linux Security 2009 (miniconf)](http://linux.conf.au/schedule/32/view_miniconf?day=tuesday)
    *   January 21, 2009
*   Usenix Security Symposium July 31 - August 4, 2006
    *   [proceedings](http://www.usenix.org/events/sec06/tech/)
*   Ottawa Linux Symposium (OLS) July 19 - 22, 2006 [`www.linuxsymposium.org/2006`](http://www.linuxsymposium.org/2006)
    *   [OLS Proceedings](http://www.linuxsymposium.org/2006/proceedings.php)

#### 安全相关的文章

*   [TOMOYO Linux 和基于路径名的安全](http://lwn.net/Articles/277833/) [LWN.net] Apr 2008
*   [The Linux Journal Aug 2003](http://www.linuxjournal.com/article.php?sid=6633)
*   [ARM 上针对安全的 Trust Zone](http://www.arm.com/miscPDFs/4136.pdf)
*   [基于 TPM 的 Linux 运行时认证](http://domino.research.ibm.com/comm/research_projects.nsf/pages/ssd_ima.index.html)

#### 论文

*   [用 TCPA/TCG 硬件做实验](http://www.cs.dartmouth.edu/~sws/pubs/TR2003-476.pdf)
*   [用来阻止动态缓冲区溢出的开放工具对比](http://www.ida.liu.se/~johwi/research_publications/paper_ndss2003_john_wilander.pdf)
*   [SMACK for Digital TV](http://www.embeddedalley.com/pdfs/Smack_for_DigitalTV.pdf)

#### 实例和开源代码

*   Redhat 8 上的 [GPL TCPA Linux 驱动实例](http://www.research.ibm.com/gsal/tcpa/)
*   [Linux TPM 设备驱动](http://sourceforge.net/projects/tpmdd)
*   [TCG 软件栈 (TSS) for Linux](http://sourceforge.net/projects/trousers)
*   一些有用的链接和 NetBSD 驱动可以在 Rick Wash 的[可信计算](http://www.citi.umich.edu/u/rwash/projects/trusted) 主页中看到。

[目录](http://eLinux.org/Special:Categories "Special:Categories"):

*   [安全](http://eLinux.org/Category:Security "Category:Security")

# 引导程序安全

> 原文：[eLinux.org](http://elinux.org/Bootloader_Security_Resources.md)
> 翻译：[@lzz5235](https://github.com/lzz5235)
> 校订：[@lzufalcon](https://github.com/lzufalcon)

# Bootloader 安全相关的资源

## 目录

*   1 概述
*   2 相关技术/项目主页
*   3 安全措施的提高
    *   3.1 可信计算集群 (TCG)
*   4 开源项目/邮件列表
    *   4.1 RedBoot/eCos
    *   4.2 U-Boot
    *   4.3 GRUB
    *   4.4 EtherBoot
*   5 其他资源

## 概述

本文主要包括 bootloaders 安全相关的信息。

## 相关技术/项目主页

*   [安全](http://eLinux.org/Security "Security")
*   [硬件安全相关的资源](http://eLinux.org/Security_Hardware_Resources "Security Hardware Resources")

## 安全措施的提高

目前系统由两种方式启动：

*   可信/认证下的启动: 仅仅是报告
*   安全启动: 系统启动期间可以被挂起

### 可信计算集群 (TCG)

TCG 是一套基于硬件的安全解决方案，不仅为 PC 平台打造，而且适用于嵌入式设备。为了理解 TCG， [TCG 架构规格概述](https://www.trustedcomputinggroup.org/groups/TCG_1_0_Architecture_Overview.pdf) 这份文档不错，推荐看下。

使用可信平台模块（TPM ）安全芯片和写保护的启动代码，我们可以有效的实现可信启动。不幸的是，现有的 TPM 主要为 PC 平台设计，而且 TPM 需要 LPC 总线。 因此我们必须通过胶合逻辑（glue logic，连接复杂逻辑电路的简单逻辑电路的统称）来部署 TPM 到我们的系统中。 目前 Atmel(R) 平台已经发布了 TPM 芯片, AT97SC3201S 提供了 I2C/SMBus 接口。

## 开源项目/邮件列表

### RedBoot/eCos

*   [RedBoot](http://sources.redhat.com/redboot/) 是为嵌入式系统打造的一个完整引导程序环境，它基于 eCos 设计。在 RedBoot 之上做了很多安全增强。
*   [x86 平台下高健壮性的 Bootloader](http://www.ece.uvic.ca/~ece499/2003a/group05/High%20Reliability%20Bootloader%20for%20x86%20-%20Final%20Report.htm) 提供具有二进制代码签名的功能。

### U-Boot

项目站点：[u-boot](http://sourceforge.net/projects/u-boot/)

### GRUB

[GRUB](http://www.gnu.org/software/grub/) 是基于 PC 平台的 bootloader。下面有两个补丁可以使得 GRUB 具有可信启动的功能。

(这种情形，BIOS 必须支持 TCG 可信启动)

*   [University Bochum, Trusted Grub](http://www.prosec.rub.de/trusted_grub.html)
*   [TrouSerS, GRUB TCG 补丁](http://trousers.sourceforge.net/grub.html)

GRUB 提供了密码特性，只有系统管理员才可以启动与系统的交互操作。

### EtherBoot

[EtherBoot](http://www.etherboot.org/) 是一个软件包，用于创建 ROM 镜像，这些镜像能够通过以太网下载代码到 X86 机器上执行。 [SafeBootMode](http://wiki.etherboot.org/pmwiki.php/Main/SafeBootMode) 意味着任何 下载的 NBI 镜像都会被检查是否包含安全的数字签名，如果没有的话，用户 会收到警告。

# 其他资源

*   W. A. Arbaugh , D. J. Farber , J. M. Smith, A secure and reliable bootstrap architecture, Proceedings of the 1997 IEEE Symposium on Security and Privacy, p.65, May 04-07, 1997
*   [面向操作系统安全的 Bootloader](http://www.missl.cs.umd.edu/sebos.html)
*   [Windows Vista 技术预览 - 安全启动](http://www.microsoft.com/whdc/system/platform/pcdesign/secure-start_tech.mspx)

[目录](http://eLinux.org/Special:Categories "Special:Categories"):

*   [安全](http://eLinux.org/Category:Security "Category:Security")
*   [Bootloader](http://eLinux.org/Category:Bootloader "Category:Bootloader")

# 强制访问控制方案比较

> 原文：[eLinux.org](http://eLinux.org/Mandatory_Access_Control_Comparison.md)
> 翻译：[@lzz5235](https://github.com/lzz5235)
> 校订：[@lzufalcon](https://github.com/lzufalcon)

# 强制访问控制（MAC）方案比较

本文主要包含强制访问控制（MAC）解决方案的信息，这些信息是 CE Linux 论坛成员所感兴趣的。因为 MAC 面向 CE 设备提供强大的访问控制，同时这些 CE 设备需要管理丰富的资源。

## 目录

*   1 强制访问控制方案的比较
*   2 基准测试
    *   2.1 Sizing
    *   2.2 Lmbench
    *   2.3 Unixbench
*   3 总结
*   4 其他资源

## 强制访问控制方案的比较

| _ | [LIDS](http://www.lids.org/) | [TOMOYO](http://tomoyo.sourceforge.jp/) | [RSBAC](http://rsbac.org/) | [SELinux](http://selinux.sourceforge.net/) | [App Armor](http://en.opensuse.org/AppArmor) |
| --- | --- | --- | --- | --- | --- |
| 安全模型 | MAC(inode), TPE(1.2),TDE(1.2) | MAC(path) | MAC, RC, ACL, FF, UM, PM, DAZ, JAIL | MAC(label), TE,RBAC,MLC,MCS | MAC(path) |
| 类型 | LSM (2.6), patch (2.4) | patch | patch | LSM | LSM |
| 当前版本 (2.6) | 2.2.2 版本对应 Kernel 2.6.14 (LSM) | 1.1.3 版本对应 Kernel 2.6.11-17 | 1.2.7 版本对应 Kernel 2.6.16 | 在主线内核中 | 2.6.X (LSM) |
| 当前版本 (2.4) | 1.2.2 版本对应 Kernel 2.4.30 | 1.1.3 版本对应 Kernel 2.4.20 - 32 | 1.2.7 版本对应 Kernel 2.4.32 | 被废弃 | ？ |
| 策略学习模式 | /lids/lids.ini | CCS=0 /root/security/profile0.txt | /etc/selinux/config | rsbac_softmode |  |
| 被禁止的选项 | lids=0 |  |  | selinux=0 |  |
| 策略文件位置 | /etc/lids/ | /root/security/ | ？ | /etc/selinux | ？ |
| 发行版 |  |  | Hardened Gentoo | Redhat, Fedora Core, Hardened Gentoo | Open Suse |
| (by 3rd party) | Fedora core, Debian | Fedora core, Debian | Debian | Suse, Ubuntu | Slackware |

## 基准测试

硬件配置：

| 项目 | 配置 |
| --- | --- |
| 硬件 | Sharp Zaurus C860 |
| CPU | [XScale](http://eLinux.org/XScale "XScale") 400MHz， |
| 内存 | --MB |
| OS | Openzaurus 3.5.4.1 + OPIE 1.2 |

### 文件大小

Kernel 2.6.16 (linux-openzaurus-2.6.16-r40, 静态编译)

|  | Normal | LIDS | TOMOYO | RSBAC | SELinux |
| Kernel 镜像大小 (Image) | 2487744 | 2554880 | 2541808 | 2974224 |  ? |
| Kernel 镜像大小 (zImage) | 1181660 | 1205324 | 1207288 | 1351432 |  ? |
| 镜像大小开销 | 0 | 67136 | 54064 | 486480 |  ? |
| 策略大小 | 0 |
| 内存消耗 | 0 |

### Lmbench

处理器, 进程, 本地通信延迟

|  | Normal | LIDS | TOMOYO | RSBAC | SELinux |
| null call | 0.46 | 0.46 | 0.46 |
| null I/O | 1.77 | 1.97 (11%) | 1.77 |
| stat | 12.7 | 15.7 (24%) | 12.8 (1%) |
| open/close | 18.7 | 22.5 (20%) | 59 (216%) |
| select TCP | 91.3 | 91.6 | 91.3 |
| sig inst | 2.89 | 2.83 (-2%) | 2.84 (-2%) |
| sig hndl | 7.58 | 7.66 (1%) | 9.25 (22%) |
| fork | 3795 | 3808 | 3757 (-1%) |
| execve | 13000 | 13000 | 15000 (15%) |
| sh | 36000 | 37000 (3%) | 41000 (14%) |
| ctxsw | 175 | 186.3 (7%) | 177.2 |
| pipe | 356.9 | 375.6 (5%) | 358.1 |
| AF_UNIX | 674 | 718 (7%) | 723 (7%) |
| UDP | 747.5 | 776.3 (4%) | 765.1 (2%) |
| RPC/UDP | 969.1 | 1013 (5%) | 1193 (23%) |
| TCP | 957.3 | 1004 (5%) | 964.6 (1%) |
| RPC/TCP | 1332 | 1380 (4%) | 1353 (2%) |
| TCP 连接 | 2302 | 2379 (3%) | 2357 (2%) |
| 0KB 创建 | 461 | 605.7 (31%) | 669.8 (45%) |
| 0KB 删除 | 232.5 | 267.1 (15%) | 329.5 (42%) |
| 10KB 创建 | 5128.2 | 5234.6 (2%) | 5235.6 (2%) |
| 10KB 删除 | 298.8 | 349.8 (17%) | 415.1 (39%) |
| Mmap 延迟 | - | - | - |
| Prot 故障 | 1.72 | 1.71 | 0.61 (-64%) |
| 页面故障 | 92 | 92 | 86 (-7%) |

### Unixbench

|  | Normal | LIDS | TOMOYO | RSBAC | SELinux |
| execl | 89.3 lps | 84.6 | 59.5 |
| 文件读 1KB | 53974.0 KBps | 52176 | 53505 |
| 文件写 1KB | 328.0 KBps | 321 | 376 |
| 文件拷贝 1KB | 288.0 KBps | 199 | 311 |
| 文件读 256B | 34766.0 KBps | 33831 | 34742 |
| 文件写 256B | 133.0 KBps | 121 | 138 |
| 文件拷贝 256B | 126.0 KBps | 121 | 121 |
| 文件读 4KB | 69148.0 KBps | 67961 | 68851 |
| 文件写 4KB | 1417.0 KBps | 1417 | 1333 |
| 文件拷贝 4KB | 1268.0 KBps | 1237 | 1249 |
| 管道 | 112917.5 lps | 108924 | 112137 |
| 管道切换 | 2655.4 lps | 2559.6 | 2700 |
| 进程创建 | 272.9 lps | 367.8 | 276.4 |
| 系统调用 | 269446.2 lps | 267748 | 268823.9 |
| shell 脚本 (1) | 82.2 lpm | 77.6 | 58.6 |
| shell 脚本 (8) | 5.3 lpm | 5.6 | 5.4 |
| shell 脚本 (16) | 2.0 lpm | 0 | 2 |

## 总结

|  | LIDS | TOMOYO | RSBAC | SELinux | App Armor |
| 构建 (kenrel) (简单 ： 5 - 1 ： 困难) | 4 | 4 | 3 | 5 | ？ |
| 构建 (userland) (简单 ： 5 - 1 ： 困难) | 4 | 4 | 3 | ？ | ？ |
| 镜像大小 | 2% | 2% | 15% | 3% | ？ |
| 性能 |  |  |  |  | ？ |
| 策略精益模式 (好:5 - 1:差) | 4 | 5 | ？ | 3 | ？ |
| 符号链接 | 被封装 | 支持别名机制 |  |  | ？ |
| JFFS2 文件系统 | 支持 | 支持 |  |  | 未知 |

## 其他资源

访问控制对比表格 [`gentoo-wiki.com/Access_Control_Comparison_Table`](http://gentoo-wiki.com/Access_Control_Comparison_Table)

[目录](http://eLinux.org/Special:Categories "Special:Categories"):

*   [安全](http://eLinux.org/Category:Security "Category:Security")

# 安全硬件

> 原文：[eLinux.org](http://eLinux.org/Security_Hardware_Resources.md)
> 翻译：[@lzz5235](https://github.com/lzz5235)
> 校订：[@lzufalcon](https://github.com/lzufalcon)

# 硬件安全相关的资源

本文主要包含基于硬件的安全增强信息，这些信息是 CE Linux 论坛成员所感兴趣的。

## 目录

*   1 技术/项目主页
*   2 解决方案
*   3 产品
    *   3.1 安全芯片
        *   3.1.1 TPM (可信平台模块)
    *   3.2 安全增强的处理器
        *   3.2.1 ARM(R) TrustZone(R)
        *   3.2.2 OMAP M-Shied
        *   3.2.3 Intel(R) 无线可信平台
        *   3.2.4 CELL
*   4 开源项目与邮件列表
    *   4.1 TCG/TPM

## 技术/项目主页

*   [安全](http://eLinux.org/Security "Security")
*   [Bootloader 安全资源](http://eLinux.org/Bootloader_Security_Resources "Bootloader Security Resources")

## 解决方案

*   对于固件安全/启动的支持
*   存储安全
*   密码加速器
*   符合 FIPS 标准的硬件 RNG
*   安全 DMA 通道

## 产品

### 安全芯片

#### TPM (可信平台模块)

[TPM 技术指标](https://www.trustedcomputinggroup.org/groups/tpm/)

### 安全增强的处理器

#### ARM(R) TrustZone(R)

[ARM 可信域](http://www.arm.com/products/esd/trustzone_home.html)

#### OMAP M-Shied

[TI 白皮书](http://focus.ti.com/pdfs/wtbu/ti_mshield_whitepaper.pdf)

#### Intel(R) 无线可信平台

[IBM 白皮书](http://www.intel.com/design/pca/applicationsprocessors/whitepapers/300868.htm)

#### CELL

Cell 处理器拥有隔离的 SPU 运行时环境。[CBE 架构文档](http://cell.scei.co.jp/pdf/CBE_Architecture_v10.pdf)

## 开源项目与邮件列表

### TCG/TPM

*   [Linux TPM Device Driver](http://sourceforge.net/projects/tpmdd)： 通过设备驱动使能 TPM 芯片，设备驱动的技术指标描述在[`www.trustedcomputinggroup.org`](http://www.trustedcomputinggroup.org)。TPM 芯片将使您能够使用硬件来安全地存储和保护您的密钥和个人数据。您也可以查看 TrouSerS 项目。

目前 TPM 驱动已经被包含进 kernel 主线，并且被分为两个部分：

*   *   通用的 tpm 驱动模块 tpm.ko，用于处理所有公共部分
    *   供应商特定部分的 `tmp_<vendor>.ko`

如果你有一个最近的 tpm 模块，那么它很有可能遵循供应商独立的 TIS 协议，而这个 TIS 协议又是由 TCG 制定，那么我们应该首选该供应商模块，这个模块被称为 `tpm_tis.ko` 。

*   [TrouSers](http://sourceforge.net/projects/trousers): 一个开源 TCG 软件栈的实现，它由 IBM 创建和发布。

[目录](http://eLinux.org/Special:Categories "Special:Categories"):

*   [硬件安全相关的资源](http://eLinux.org/Category:Security_Hardware_Resources "Category:Security Hardware Resources")
*   [安全](http://eLinux.org/Category:Security "Category:Security")

# SELinux

> 原文：[eLinux.org](http://eLinux.org/SELinux/SELinux.md)
> 翻译：[@lzz5235](https://github.com/lzz5235)
> 校订：[@lzufalcon](https://github.com/lzufalcon)

# SELinux

[SELinux -- Security Enhanced Linux](http://www.nsa.gov/selinux/)

## Contents

*   1 当前嵌入式 Linux 中的 SELinux 工作进展
    *   1.1 Linux kernel
        *   1.1.1 2.6.18
        *   1.1.2 2.6.24
        *   1.1.3 2.6.25
    *   1.2 SELinux 用户空间
    *   1.3 BusyBox
    *   1.4 策略
*   2 相关移植的实例
    *   2.1 Openmoko 的移植
*   3 技术文档与技术演示
*   4 遗留的问题
    *   4.1 策略
    *   4.2 xattr 4.3 大小

# 当前嵌入式 Linux 中的 SELinux 工作进展

目前许多代码已经提交到 Linux 和用户空间社区。

## Linux Kernel

### 2.6.18

Xattr 对 jffs2 文件系统的支持

### 2.6.24

减轻读写开销：[[1]](http://lkml.org/lkml/2007/9/13/373)

减轻内存使用量：[[2]](http://marc.info/?t=118767097300001&r=1&w=2)

改善 AVC miss 性能：[[3]](http://marc.info/?t=119078657600002&r=1&w=2)

### 2.6.25

Super H 上对审计功能（Audit）的支持：[[4]](http://lkml.org/lkml/2007/11/7/3)

## SELinux 用户空间

减少 SELinux 库的大小：在 libselinux 2.0.35 时合并： [[5]](http://marc.info/?l=selinux&m=118064545200576&w=2)

## BusyBox

与 SELinux 相关的代码被合并到 BusyBox 1.8.0 中。

Support to assign domain to applets is merged to 1.8.0： [[6]](http://www.busybox.net/lists/busybox/2007-August/028481.html)

## 策略

SELinux 策略编辑器非常有用。 请看：[[7]](http://seedit.sourceforge.net/)。

如果我们需要更细粒度的配置，请参考以下策略：[[8]](http://oss.tresys.com/projects/refpolicy) 。

# 相关移植的实例

## Openmoko 移植

[`code.google.com/p/selinux-openmoko/`](http://code.google.com/p/selinux-openmoko/)

[`www.cse.psu.edu/~mhassan/openmoko_se/`](http://www.cse.psu.edu/~mhassan/openmoko_se/)

# 技术文档与技术演示

*   面向消费者电子设备的 SELinux, Ottawa Linux Symposium 2008 论文, [论文](http://ols.fedoraproject.org/OLS/Reprints-2008/nakamura-reprint.pdf) and [录像](http://free-electrons.com/pub/video/2008/ols/ols2008-yuichi-nakamura-selinux.ogg)。
*   移植到 SH 的例子 (Super H) ，这个例子被 CELF Jambolee 所报道。 #18： [[9]](http://tree.celinuxforum.org/CelfPubWiki/JapanTechnicalJamboree18)。
*   将 Xattr 移植到 jffs2 文件系统上 (日语)。 [[10]](http://www.celinuxforum.org/CelfPubWiki/JapanTechnicalJamboree11?action=AttachFile&do=get&target=CELF1027.pdf)

# 遗留的问题

### 策略

### xattr

logfs, yaffs, cramfs 三种文件系统还没有支持 xattr。

### 大小

[目录](http://eLinux.org/Special:Categories "Special:Categories")：

*   [安全](http://eLinux.org/Category:Security "Category:Security")

# TomoyoLinux

> 原文：[eLinux.org](http://eLinux.org/TomoyoLinux)
> 翻译：[@lzz5235](https://github.com/lzz5235)
> 校订：[@ibrother](https://github.com/ibrother)

# TomoyoLinux

![Tomoyo-color.png](http://eLinux.org/File:Tomoyo-color.png)

## 目录

*   1 概述
*   2 从今天开始！
*   3 安装
    *   3.1 主线版本 (2.3)
    *   3.2 原始 hook 版本 (版本 1.8)
    *   3.3 Arch Linux
    *   3.4 MeeGo 1.1
    *   3.5 Android
    *   3.6 TOMOYO Linux on LFS
    *   3.7 TOMOYO Linux on CAT760
*   4 浏览代码
*   5 演示文档
    *   5.1 Highlights
    *   5.2 2010-08-12 LinuxCon 2010
    *   5.3 2009-10-27 Smartbook/Netbook/Mobile Application Conference Taipei 2009
    *   5.4 2009-10-23 Japan Linux Symposium 2009
    *   5.5 2009-9-23 LinuxCon2009
    *   5.6 2009-6-12 CE Linux Forum Japan Technical Jamboree 28
    *   5.7 2009-5-22 CE Linux Forum Japan Technical Jamboree 27
    *   5.8 2009-1-21 Linux Conf Au "Linux Security 2009 (miniconf)"
    *   5.9 2008-11-21 FreedomHEC Taipei (Chinese)
    *   5.10 2008-11-13 PacSec 2008
    *   5.11 2008-7-25 Ottawa Linux Symposium 2008 BoF
    *   5.12 2008-7-9 Linux Foundation Japan #8 Symposium
    *   5.13 2008-4-15 Embedded Linux Conference 2008
    *   5.14 2008-2-24 FOSDEM2008 (Embedded Developer Room)
    *   5.15 2007-11-29 PacSec 2007
    *   5.16 2007-06-29 Ottawa Linux Symposium 2007
    *   5.17 2007-04-18 CELF Worldwide Embedded Linux Conference 2007
*   6 For the memory of OLS2007
*   7 文章
*   8 阅读
*   9 主线
    *   9.1 活动
    *   9.2 预测
*   10 邮件列表
*   11 检查升级？
*   12 匿名交流?
*   13 联系我们

## 概述

TOMOYO Linux 是 Linux 上的一个强制访问控制(MAC)实现，可以用来增加系统的安全性，同时也可以纯粹的作为 系统分析工具使用。这个项目在 2003 年 3 月启动，由日本 NTT DATA 公司资助。

想查看更多的信息，请查看我们的项目主页。

[`tomoyo.sourceforge.jp/`](http://tomoyo.sourceforge.jp/)

## 从今天开始！

*   [TOMOYO Linux LiveCD Tutorial for Ubuntu 10.04 (version 1.8)](http://tomoyo.sourceforge.jp/1.8/ubuntu10.04-live.html.en)
*   [TOMOYO Linux LiveCD Tutorial for CentOS 5.5 (version 1.8)](http://tomoyo.sourceforge.jp/1.8/centos5-live.html.en)

## 安装

### 主线版本 (2.3)

*   [如何使用 TOMOYO Linux](http://tomoyo.sourceforge.jp/2.3/)

### 原始 hook 版本 (版本 1.8)

*   [`tomoyo.sourceforge.jp/1.8/`](http://tomoyo.sourceforge.jp/1.8/)

### Arch Linux

*   [TOMOYO Linux - ArchWiki](https://wiki.archlinux.org/index.php/TOMOYO_Linux)
*   [Perfect Hideout: TOMOYO Linux - 5 个技巧来优化您的体验 experience](http://stolowski.blogspot.com/2010/12/tomoyo-linux-5-tips-to-streamline-your.html)
*   [Perfect Hideout: Arch Linux 上的 TOMOYO Linux 强制访问控制（MAC）](http://stolowski.blogspot.com/2009/10/arch-linux-with-tomoyo-linux-mac.html)

### MeeGo 1.1

*   [MeeGo 上的 TOMOYO Linux](http://tomoyo.sourceforge.jp/1.8/meego-x86.html.en)
*   [基于 MeeGo 1.1 的 TOMOYO Linux 移动电话](http://www.youtube.com/watch?v=H9aZv49d2iw)

### [Android](http://elinux.org/Android_Security#TOMOYO_Linux_investigation)

*   [Android 上的 TOMOYO Linux](http://tomoyo.sourceforge.jp/1.8/android-arm.html)
*   [Celf 演示文档](http://www.slideshare.net/haradats/tomoyo-linux-on-android)
*   [使用 TOMOYO Linux 学习，分析与保护 Android (JLS2009)](http://www.slideshare.net/haradats/learning-analyzing-and-protecting-android-with-tomoyo-linux-jls2009)

### TOMOYO Linux on [LFS](http://www.linuxfromscratch.org/lfs/)

对于这些“顽固的家伙”，TOMOYO Linux 也可以顺利的运行在 [LFS](http://www.linuxfromscratch.org/lfs/) 上。查找您所使用的版本。

*   [TOMOYO CBLFS](http://cblfs.cross-lfs.org/index.php/TOMOYO)

### TOMOYO Linux on CAT760

*   [TOMOYO Linux on CAT760](http://tomoyo.sourceforge.jp/1.8/cat760-sh.html.en)

## 浏览代码

*   [kernel/security/tomoyo](http://tomoyo.sourceforge.jp/cgi-bin/lxr/source/security/tomoyo/)

## 演示文档

### Highlights

*   [Slideshare 上的 TOMOYO](http://www.slideshare.net/haradats/presentations?order=popular)

### 2010-08-12 LinuxCon 2010

*   [您的第一个向导去设置 "安全的 Linux"](http://www.slideshare.net/haradats/your-first-guide-to-secure-linux-4906031)

### 2009-10-27 [Smartbook/Netbook/Mobile Application Conference Taipei 2009](http://www.oss.org.tw/seminar/smartbook2009/index_en.php)

*   [Android 上面的 TOMOYO Linux](http://www.slideshare.net/haradats/taipei2009)

### 2009-10-23 Japan Linux Symposium 2009

*   [内核开发：来自于“错误”的借鉴](http://sourceforge.jp/projects/tomoyo/docs/20091023-drawing-lessons.pdf)
*   ["使用 TOMOYO Linux 学习，分析和保护 Android 系统"](http://sourceforge.jp/projects/tomoyo/docs/JLS_tomoyo_tutorial.pdf)

### 2009-9-23 LinuxCon2009

*   [作为一个企业项目经理的意义 (企业版本)](http://sourceforge.jp/projects/tomoyo/docs/20090923linuxcon2009.pdf)
*   [作为一个企业项目经理的意义 （开源精神版本）](http://www.slideshare.net/haradats/what-does-it-mean-being-an-open-source-project-manager-in-enterprise-open-source-spirit-edition)

### 2009-6-12 [CE Linux Forum Japan Technical Jamboree 28](http://elinux.org/Japan_Technical_Jamboree_28)

*   [第一部分: TOMOYO Linux 的介绍 与 Q&A (日语)](http://sourceforge.jp/projects/tomoyo/docs/Part1_CELF_Jamboree_28_TOMOYOLinuxOutline.pdf)

    *   [视频](http://www.celinuxforum.org/VideoArchive/JJAM28_1b.html)
*   [第二部分: Android 上面的 TOMOYO Linux (英语)](http://sourceforge.jp/projects/tomoyo/docs/Part2_CELF_Jamboree_28_TOMOYO_on_Android.pdf)

    *   [视频](http://www.celinuxforum.org/VideoArchive/JJAM28_1c.html)

### 2009-5-22 [CE Linux Forum Japan Technical Jamboree 27](http://elinux.org/Japan_Technical_Jamboree_27)

*   [Android 上面的 TOMOYO Linux](http://sourceforge.jp/projects/tomoyo/docs/Part2_CELF_Android.pdf)
*   [视频](http://www.celinuxforum.org/VideoArchive/JJAM27_1b.html)

### 2009-1-21 [Linux Conf Au](http://linux.conf.au/) ["Linux Security 2009 (miniconf)"](http://linux.conf.au/schedule/32/view_miniconf?day=tuesday)

*   [TOMOYO Linux 概述](http://sourceforge.jp/projects/tomoyo/docs/lca2009-takeda.pdf)
*   [深度剖析 TOMOYO Linux](http://sourceforge.jp/projects/tomoyo/docs/lca2009-kumaneko.pdf)
*   LWN.net 文章, ["LCA: 安全的面板"](http://lwn.net/Articles/315974/)

### 2008-11-21 [FreedomHEC Taipei](http://freedomhectaipei.pbwiki.com/) ([Chinese](http://seminar.oss.org.tw/fhec/index.html))

*   ["Secure Linux" Primer](http://tomoyo.sourceforge.jp/taipei2008/)
*   [TOMOYO Linux: Linux 上务实可控的安全](http://sourceforge.jp/projects/tomoyo/docs/freedomhectaipei-tomoyo.pdf)

*   [照片](http://picasaweb.google.com/haradats/FreedomHECTaipei2008#)

### 2008-11-13 PacSec 2008

*   [基于行为的应对 SSH 暴力攻击的对策](http://sourceforge.jp/projects/tomoyo/docs/PacSec2008-en.pdf)

### 2008-7-25 Ottawa Linux Symposium 2008 BoF

*   ["MAC for Linux, Time to Glean"](http://sourceforge.jp/projects/tomoyo/document/ols2008-bof.pdf) (pdf)
*   [HTML](http://tomoyo.sourceforge.jp/wiki-e/?OLS2008-MAC-BOF) version

### 2008-7-9 [Linux Foundation Japan](http://www.linux-foundation.jp/) #8 Symposium

*   [Agenda](http://www.linux-foundation.jp/uploads/seminar20080709/sympo0807.pdf)
*   ["真实的主线 - TOMOYO Linux 项目案例"](http://sourceforge.jp/projects/tomoyo/document/lfj2008.pdf) (pdf)
*   [视频](https://www.linuxfoundation.org/events/node/101/)

### 2008-4-15 [Embedded Linux Conference 2008](http://www.embeddedlinuxconference.com/elc2008/)

*   ["如何使用 TOMOYO Linux 分析您的 Linux 行为"](http://sourceforge.jp/projects/tomoyo/document/elc2008.pdf) ([程序](http://www.embeddedlinuxconference.com/elc2008/elc2008_003.htm))

### 2008-2-24 [FOSDEM2008](http://www.fosdem.org/2008/) ([Embedded Developer Room](http://www.fosdem.org/2008/schedule/devrooms/embedded))

*   [程序](http://www.fosdem.org/2008/schedule/events/embedded_tomoyo_secure)
*   ["面向安全嵌入式设备的 TOMOYO Linux"](http://sourceforge.jp/projects/tomoyo/document/fosdem2008.pdf)
*   [照片](http://picasaweb.google.com/haradats/FOSDEM08)

*   [`www.thinkit.co.jp/article/87/3/`](http://www.thinkit.co.jp/article/87/3/) (日语)

### 2007-11-29 [PacSec 2007](http://www.pacsec.jp/speakers.html)

*   [PacSec2007 报道](http://www.thinkit.co.jp/free/article/0712/9/1/)
*   [TOMOYO Linux: 一种实用的方法来了解和保护你自己的 Linux 主机](http://sourceforge.jp/projects/tomoyo/document/PacSec2007-en-no-demo.pdf)
*   [TOMOYO Linux: 一种实用的方法来了解和保护你自己的 Linux 主机 (包含 demo)](http://sourceforge.jp/projects/tomoyo/document/PacSec2007-en-demo.pdf)
*   [Handouts (双语)](http://sourceforge.jp/projects/tomoyo/document/PacSec2007-handout.pdf)
*   [照片](http://picasaweb.google.com/haradats/PacSec2007)

### 2007-06-29 [Ottawa Linux Symposium 2007](http://www.linuxsymposium.org/2007/index_2007.php)

*   [TOMOYO Linux BoF](http://sourceforge.jp/projects/tomoyo/document/ols2007-tomoyo-20070629.pdf)
*   [照片](http://picasaweb.google.com/haradats/OLS2007)

### 2007-04-18 CELF Worldwide [Embedded Linux Conference 2007](http://www.celinux.org/elc2007/index.html)

*   ["TOMOYO Linux - 面向 PC 和 嵌入式 Linux 的轻量级与可管理的安全系统"](http://sourceforge.jp/projects/tomoyo/document/elc2007-presentation-20070418.pdf)
*   [TOMOYO Linux 使用向导](http://sourceforge.jp/projects/tomoyo/document/elc2007-tutorial-20070418.pdf)

## For the memory of OLS2007

*   [Memorial of OLS2007 BOF](http://tomoyo.sourceforge.jp/wiki-e/?OLS2007-BOF)
*   [OLS2007 照片](http://picasaweb.google.co.jp/haradats/OLS2007)
*   [「熱い言葉に背中を押されて」](http://www.thinkit.co.jp/free/article/0709/8/1/) (in Japanese)
*   [「海外での講演、そして新たなチャレンジへ」](http://www.thinkit.co.jp/free/article/0709/8/1/) (in Japanese)

## 文章

*   [来自 JLS [LWN.net](http://lwn.net/Articles/358701/) 的报道]
*   [Perfect Hideout: Arch Linux 上的 TOMOYO Linux 强制访问控制（MAC）](http://stolowski.blogspot.com/2009/10/arch-linux-with-tomoyo-linux-mac.html)
*   [Mandriva Linux 2010 发布 >> IT - Chuiko | Information Technology News](http://it-chuiko.com/computers/1177-mandriva-linux-2010-released.html)
*   [Tomoyo GUI | Eugeni's blog](http://dodonov.net/blog/2009/07/06/tomoyo-gui/)
*   [Linux 2.6.30 下更快的启动 « PixelEstudios.com](http://english.pixelestudios.com/blog/?p=6)
*   [为什么说 Linux 安全已经失败 (过去十年) - Subreption Blog](http://www.subreption.com/blog/2009/10/why-linux-security-has-failed-for-the-past-10-years.html)
*   [Kernel prepatch 2.6.30-rc1 | LWN.net](http://lwn.net/Articles/327610/)
*   [TOMOYO Linux 与基于路径名的安全 | LWN.net](http://lwn.net/Articles/277833/)
*   [TOMOYO Linux | KernelTrap](http://kerneltrap.org/Linux/TOMOYO_Linux)

## Readings

*   [「初体験 TOMOYO Linux」](http://www.thinkit.co.jp/free/article/0706/21/1/) (日语)
*   [世界的 TOMOYO Linux](http://tomoyo.sourceforge.jp/wiki/?WorldOfTomoyoLinux) (日语)

## 主线

### 活动

*   [简略查看](http://tomoyo.sourceforge.jp/wiki-e/?JLS2009)

*   [1st posting (13 Jun, 2007)](http://lwn.net/Articles/238049/)

*   [2nd posting (24 Aug, 2007)](http://lwn.net/Articles/246930/)
*   [3rd posting (2 Oct, 2007)](http://lwn.net/Articles/252652/)
*   [4th posting (11 Oct, 2007)](http://lwn.net/Articles/254503/)
*   [5th posting (17 Nov, 2007)](http://lwn.net/Articles/258905/)
*   [TOMOYO Linux Security Goal (27 Dec, 2007)](http://lwn.net/Articles/263179/) ([thread](http://thread.gmane.org/gmane.linux.kernel.lsm/5022))
*   [6th posting (8 Jan, 2008)](http://lwn.net/Articles/264187/)
*   [7th posting (4 Apr, 2008)](http://lwn.net/Articles/276603/)
*   [8th posting (1 May, 2008)](http://lwn.net/Articles/280979/)
*   [Introduce new LSM hooks where vfsmount is available (17, Sep, 2008)](http://lwn.net/Articles/298823/)
*   [9th posting (24 Sep, 2008)](http://lwn.net/Articles/300190/)
*   [10th posting (9 Oct, 2008)](http://lwn.net/Articles/303042/)
*   [11th posting (20 Oct, 2008)](http://lwn.net/Articles/303973/)
*   [for -mm tree (4 Nov, 2008)](http://lwn.net/Articles/305824/)
*   [13th posting (21 Nov, 2008)](http://lwn.net/Articles/308109/)
*   [14th posting (1 Jan, 2009)](http://lkml.org/lkml/2009/1/1/27)
*   [15th posting (5 Feb, 2009)](http://lwn.net/Articles/318153/)

### 预测

*   [Linux 天气预报/安全 - Linux 基金会](http://www.linux-foundation.org/en/Linux_Weather_Forecast/security)

## 邮件列表

*   英语 [tomoyo-users-en@lists.sourceforge.jp](http://lists.sourceforge.jp/mailman/listinfo/tomoyo-users-en) ([via GMANE](http://dir.gmane.org/gmane.linux.tomoyo.user.english))
*   英语 [tomoyo-dev-en@lists.sourceforge.jp](http://lists.sourceforge.jp/mailman/listinfo/tomoyo-dev-en) ([via GMANE](http://dir.gmane.org/gmane.linux.tomoyo.dev.english))
*   日语 [tomoyo-users@lists.sourceforge.jp](http://lists.sourceforge.jp/mailman/listinfo/tomoyo-users) ([via GMANE](http://dir.gmane.org/gmane.linux.tomoyo.user.japanese))

## 检查升级？

*   [freshmeat.net: TOMOYO Linux 项目详情](http://freshmeat.net/projects/tomoyo)
*   [tomoyo-announce@lists.sourceforge.net (只读)](http://lists.sourceforge.net/lists/listinfo/tomoyo-announce) (创建于 8 月 15 日 2008 年)

## 匿名交流？

[TOMOYO: 论坛: TOMOYO :: 开放讨论 - SourceForge.JP](http://sourceforge.jp/forum/forum.php?forum_id=11352&language_id=1)

## 联系我们

项目经理: [Toshiharu Harada](http://www.linkedin.com/in/toshiharuharada) ([NTT DATA CORPORATION](http://www.nttdata.co.jp/en/index.html))

[分类](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Linux](http://eLinux.org/Category:Linux "Category:Linux")

# 实时

> 书籍：[嵌入式 Linux 知识库](http://tinylab.gitbooks.io/elinux) 原文：[eLinux.org](http://eLinux.org/Real_Time "http://eLinux.org/Real_Time") 翻译：[@hduffddybz](https://github.com/hduffddybz) 校订：[@lzufalcon](https://github.com/lzufalcon)

# 实时

## 简介

本文有实时 Linux 相关的信息，也有 Linux 时间系统相关的信息。 CE Linux 社区对此感兴趣是因为许多消费电子产品有实时需求 (例如在多媒体展示领域，或者是通信领域)。

## 实时领域 Wiki

*   需注意到实时 Linux 的信息主要来源于新的 [RTWiki](http://rt.wiki.kernel.org/)。

## 软件项目

*   [实时抢占](http://eLinux.org/Realtime_Preemption "Realtime Preemption") - Ingo Molnar 给 Linux2.6 内核增添的一系列实时抢占的补丁
*   [内核定时器系统](http://eLinux.org/Kernel_Timer_Systems "内核定时器系统")
    *   改变内核定时器系统的不同提案
*   [软中断线程](http://eLinux.org/Soft_IRQ_Threads "软中断线程") - 将软中断线程化的技术使得它能够被抢占
    *   **NOTE:** 于 2007 年 10 月被并入 [Realtime Preemption](http://eLinux.org/Realtime_Preemption "Realtime Preemption") 补丁中
*   [高精度定时器](http://eLinux.org/High_Resolution_Timers "高精度定时器") - 支持非常高的定时精度
*   [VST](http://eLinux.org/Variable_Scheduling_Timeouts "Variable Scheduling Timeouts")
    *   系统支持 tickless 模式

## 硬件实现

Ti AM18XX PRUSSv1

[Ti_AM33XX_PRUSSv2](http://tinylab.gitbooks.io/elinux/content/zh/dev_portals/Real_Time/Ti_AM33XX_PRUSSv2/Ti_AM33XX_PRUSSv2.html "Ti AM33XX PRUSSv2")

Tools for PRUSS

## 文档

*   [构建嵌入式 Linux 系统，第二版](http://www.amazon.com/Building-Embedded-Linux-Systems-Yaghmour/dp/0596529686) 讨论了实时抢占的补丁
*   [CELF Realtime 规范](http://tree.celinuxforum.org/CelfPubWiki/RTSpecDraft_5fR2) (来源于 2004 年，相当旧的资料了)
*   Manas 于 2005 年在 CELF 技术会议上展示的实时抢占补丁 [Media:Real-Time-Preemption-Patchset.pdf](http://eLinux.org/images/4/4e/Real-Time-Preemption-Patchset.pdf "Real-Time-Preemption-Patchset.pdf")
*   [实时测试的最佳实践](http://eLinux.org/Realtime_Testing_Best_Practices "Realtime Testing Best Practices")
    *   展示了最近测试结果的文档，给出了关于不同实验该如何测试的提示以及该如何避免错误
*   [实时嵌入式 Linux](http://free-electrons.com/articles/realtime/)
*   [使用实时 Linux](http://www.celinux.org/elc08_presentations/Using_Real-Time_Linux.KlaasVanGend.ELC2008.pdf)
    *   Klaas van Gends 于 2008 年在 ELC 做的展示。[视频](http://free-electrons.com/pub/video/2008/elc/elc2008-klaas-van-gend-using-real-time-linux.ogg)
*   Frank Rowand's 一系列演讲
    *   *实时性能调整上的经验*
        *   第一部分， [演示文稿](http://tree.celinuxforum.org/CelfPubWiki/ELCEurope2008Presentations?action=AttachFile&do=get&target=adventures_in_real_time_performance_tuning_part_1-no_hidden.pdf) [视频](http://free-electrons.com/pub/video/2008/elce/elce2008-rowand-adventures-real-time-part1.ogv) ELCE 2008 版本
        *   第二部分， [演示文稿](http://tree.celinuxforum.org/CelfPubWiki/ELCEurope2008Presentations?action=AttachFile&do=get&target=adventures_in_real_time_performance_tuning_part_2-no_hidden.pdf) [视频](http://free-electrons.com/pub/video/2008/elce/elce2008-rowand-adventures-real-time-part2.ogv) ELCE 2008 版本
    *   实时负载测量的一些分析 [演示文稿](http://tree.celinuxforum.org/CelfPubWiki/ELC2009Presentations?action=AttachFile&do=get&target=musings_on_analysis_of_measurements_of_a_real-time_workload.pdf) [视频](http://free-electrons.com/pub/video/2009/elce/elce2009-rowand-measurement-diagnostic-tools.ogv) ELC 2009 版本
    *   实时 Linux 的失效 [演示文稿](http://eLinux.org/images/b/be/Real_time_linux_failure.pdf "Real time linux failure.pdf") [高清视频](http://free-electrons.com/pub/video/2011/elc/elc-2011-rowand-real-time-issues-i-cache-locks.webm) [450x800 视频](http://free-electrons.com/pub/video/2011/elc/elc-2011-rowand-real-time-issues-i-cache-locks-x450p.webm) ECL 2010 版本
    *   Linux PREEMPT_RT 是如何工作的 [演示文稿](http://eLinux.org/images/5/51/Elce11_rowand.pdf "Elce11 rowand.pdf") ELCE 2011 版本
*   实时跟快速的比较， 该如何选择， Paul E. McKenney 于 2008 年在 Ottawa Linux Symposium 会议上所做演讲 [文章](http://ols.fedoraproject.org/OLS/Reprints-2008/mckenney-reprint.pdf) [视频](http://free-electrons.com/pub/video/2008/ols/ols2008-paul-mckenney-real-time-vs-real-fast.ogg)

*   文章: "[Embedded GNU/Linux and Real-Time an executive summary](http://www.reliableembeddedsystems.com/pdfs/2010_03_04_rt_linux.pdf)"，2010 by Robert Berger

    *   该文章为 2010 年的 Embedded World Conference 所写，包含了不同实时方法的比较（包括了 PREEMPT_RT 和双内核）
    *   该文章有许多参考文献列表
*   教程 [RT-Preempt 教程](http://eLinux.org/RT-Preempt_Tutorial "RT-Preempt Tutorial")
*   [OSADL Realtime 页面](https://www.osadl.org/Realtime-Linux.projects-realtime-linux.0.html) 包含了实时延时的测试[testing](https://www.osadl.org/Continuous-latency-monitoring.qa-farm-monitoring.0.html)

## 更多开源项目

*   [Xenomai](http://www.xenomai.org) - 实时开发框架，其跟 Linux 社区有着紧密的合作。 在其他功能方面，其提供了从 VxWorks，PSOS+ 等其他 RTOS 迁移到 Linux 的途径，其依赖于所谓的 skins 机制。

[分类](http://eLinux.org/Special:Categories "Special:Categories"):

*   [实时](http://eLinux.org/Category:Real_Time "Category:Real Time")

# 高精度定时器

> 原文：[eLinux.org](http://eLinux.org/High_Resolution_Timers "http://eLinux.org/High_Resolution_Timers")
> 翻译：[@hduffddybz](https://github.com/hduffddybz)
> 校订：[@lzufalcon](https://github.com/lzufalcon)

# 高精度定时器

## 目录

*   1 描述
*   2 基本原理
*   3 资源
    *   3.1 项目
        *   3.1.1 hrtimers - Thomas Gleixner 的补丁
        *   3.1.2 HRT - Geoge Anzinger 的补丁
*   4 下载
    *   4.1 补丁
*   5 实用程序
*   6 如何使用
*   7 如何检测你的定时器系统是否支持高精度定时器
*   8 如何验证
*   9 示例结果
*   10 案例学习 1
*   11 案例学习 2
*   12 状态
*   13 未来工作/行动清单
*   14 陈旧的信息(2.4 内核)

## 描述

高精度定时器项目的目标是在 Linux 中实现 POSIX 1003.1b Section 14 （时钟，定时器）的 API 。 包括了对高精度定时器的支持 - 也就是说定时器的精度好于 1 个滴答。

当该项目启动时，Linux 还不支持 POSIX 的时钟和定时器的 API 。随着时间推移，时钟和定时器的 API 被采纳，并且支持高精度时钟的核心基础设施被主线（ 2.6.21 内核）接受。在编写本文时，并不是所有的嵌入式平台都支持高精度定时器， 甚至即使内核中有支持的代码，配置起来也比较复杂。

## 基本原理

当时，Linux 中的定时器仅仅支持 1 个滴答精度，滴答的时间长度依赖于内核中的 HZ 值，在 i386 和其他一些平台中是 1ms ，而在绝大多数的嵌入式平台是 10ms 。

因此十分需要高精度定时器使系统能在更加精确的时间间隔中唤醒和处理数据。

## 资源

### 项目

#### hrtimers - Thomas Gleixner 的补丁

支持高精度定时器的一个项目是 Thomas Gleixner 的 hrtimers

Thomas 于 2006 年 7 月在渥太华的 Linux 研讨会上做了一个演讲展示了 hrtimers 的现状。 演讲稿见这里： [OLS hrtimers](https://docs.google.com/file/d/0BzuiPiVvL63cNTYwYWE1YTgtODFhMS00NzM1LTlkMTItYWVlNzU3MWQ1NzA5/edit?sort=name&layout=list&pli=1&pid=0BzuiPiVvL63cNzJlODhmYWEtYWY1MS00Yjc1LTg5YzUtODViMDUzOTZjNzUz&cindex=89#)

在 2006 年 7 月， “通用时钟源” 被主线内核树 (2.6.18-rc 版本)所接受。 这意味着在合适的时候该特性会在 2.6.18 版本中出现。 高精度定时器应该可能很快紧接着在 2.6.19 内核中出现。 在 2006 年 2 月，风河的 James Perkins 写到:

* * *

ktimers 被 hrtimers 所替代，hrtimers 的主要部分被合并并且出现在 Linux 2.6.16-rc2 版本中。hrtimers 是 itimers，nanosleep，posix-timer 的基础。Jonathan Corbet 在下文中很好地诠释了高精度定时器： [`lwn.net/Articles/167897/`](http://lwn.net/Articles/167897/)

由于在 2.6.16-rc2 中只有 hrtimers 的核心，hrtimers 大体上使用系统的定时器作为他们的时钟源，以 HZ 运行。 John Stultz 的通用时钟源代码并没有被合并。 Thomas Gleixner 维护他的 git 仓库并且优雅的发布到 [`www.tglx.de/projects/hrtimers/`](http://www.tglx.de/projects/hrtimers/)，它包含有通用的时钟源（clocksource），新的 timeofday 补丁，并且为一部分架构提供了真正的高精度定时器。

高精度定时器工作是实验性的并持续发展的，首先其聚焦于让 X86 先工作起来，如果这些胜任你的要求，推荐使用 2.6.16 内核。该项目让我们知道有哪些问题和改进. 相反的是，在 2.6.8-2.6.10 时期，George Anzinger 领导的早期实现中提供了相当复杂的一套功能，但是这个项目当时并不活跃。

* * *

*注意到现在 HRT 的维护者反对该特性。*

#### HRT - Geoge Anzinger 的补丁

早于 hrtimers，提供高精度定时器的主要是 George Anzinger 的补丁。官方的 HRT 补丁的页面在:

*   [high-res-timers](http://sourceforge.net/projects/high-res-timers/)

## 下载

### 补丁

*   看 [补丁程序的存档](http://eLinux.org/Patch_Archive "Patch Archive")
*   Tom Rini 对早期的 2.6 版本提交了一些补丁:
    *   [trini patches](http://source.mvista.com/~trini/hrt/hrt_07Dec2004_001_2.6.10-rc3.patch)

## 实用程序

## 如何使用

为使用高精度定时器需要确认内核在目标处理器（或板子）支持该特性。然而你仍需要在 Linux 内核中配置以支持它。

可在你的内核配置中设置 `CONFIG_HIGH_RES_TIMERS=y`

编译内核并且安装到你的目标板上。

为使用 Posix 的定时器 API，请使用在线资源 [[1]](http://www.opengroup.org/onlinepubs/009695399/basedefs/time.h.html)

## 如何检测你的定时器系统是否支持高精度定时器

有许多种方式可以判定你的系统是否支持高精度定时器

*   检查内核的启动信息

    看内核的启动信息或者使用 `dmesg`。 如果内核成功打开了高精度定时器，在启动的时候会打印信息： `Switched to high resolution mode on CPU0` (或者相似的信息)。

*   查看 `/proc/timer_list`

    也可以查看 `timer_list`，可以看到列出的时钟是否支持高精度。下面列出了一份在 [OSK](http://eLinux.org/OSK "OSK")(ARM 系列开发板)的 `/proc/timer_list`，显示了时钟被配置成高精度。

```
$ cat /proc/timer_list

Timer List Version: v0.3
HRTIMER_MAX_CLOCK_BASES: 2
now at 294115539550 nsecs

cpu: 0
 clock 0:
  .index:      0
  .resolution: 1 nsecs
  .get_time:   ktime_get_real
  .offset:     0 nsecs
active timers:
 clock 1:
  .index:      1
  .resolution: 1 nsecs
  .get_time:   ktime_get
  .offset:     0 nsecs
active timers:
 #0: <c1e39e38>, tick_sched_timer, S:01, tick_nohz_restart_sched_tick, swapper/0
 # expires at 294117187500 nsecs [in 1647950 nsecs]
 #1: <c1e39e38>, it_real_fn, S:01, do_setitimer, syslogd/796
 # expires at 1207087219238 nsecs [in 912971679688 nsecs]
  .expires_next   : 294117187500 nsecs
  .hres_active    : 1
  .nr_events      : 1635
  .nohz_mode      : 2
  .idle_tick      : 294078125000 nsecs
  .tick_stopped   : 0
  .idle_jiffies   : 4294966537
  .idle_calls     : 2798
  .idle_sleeps    : 1031
  .idle_entrytime : 294105407714 nsecs
  .idle_sleeptime : 286135498094 nsecs
  .last_jiffies   : 4294966541
  .next_jiffies   : 4294966555
  .idle_expires   : 294179687500 nsecs
jiffies: 4294966542

Tick Device: mode:     1
Clock Event Device: 32k-timer
 max_delta_ns:   2147483647
 min_delta_ns:   30517
 mult:           140737
 shift:          32
 mode:           3
 next_event:     294117187500 nsecs
 set_next_event: omap_32k_timer_set_next_event
 set_mode:       omap_32k_timer_set_mode
 event_handler:  hrtimer_interrupt 
```

下面有一些需要检查的事项:

1.  检查你的时钟分辨率的报告。 如果你的时钟支持高精度，那么 `.resolution` 值将是多少个 ns。如果不支持的话，`.resolution` 值将等于 1 个 tick 对应的纳秒数（在嵌入式平台通常都是 10000ns）。

2.  检查时钟设备的 `event_handler`。 如果事件处理例程是 `hrtimer_interrupt` 时钟被设置成高精度。如果事件处理例程是 `tick_handle_periodic`， 那么时钟设备会设置成有规律的滴答。

3.  检查 timers 的列表，看属性 `.hres_active` 的值是否为 1。 如果是 1，高精度定时器的特性已经被激活了。

4.  运行测试程序

    我们可以运行一个简单的测试程序，实际测量定时器是否在一个滴答的周期内返回。如果是这样的话，这就是内核支持高精度时钟的最有力的证据，可以尝试的示例程序是 [cyclictest](http://rt.wiki.kernel.org/index.php/Cyclictest)。这里提供了一个使用 nanosleep 来测试时钟的示例程序

    $ cyclictest -n -p 80 -i 500 -l 5000

    这个命令行使用 `clock_nanosleep` 做测试， 优先级为 80，间隔 500us， 运行 5000 次迭代测试。

## 如何验证

看上面关于 cyclictest 的描述

## 示例结果

[使用样例外加测量结果。]

## 案例学习 1

## 案例学习 2

## 状态

*   状态: 已经实现
*   支持的体系结构:

    (对于每个架构, 任选一个状态: unknown, patches apply, compiles, runs, works, accepted)

    *   i386: 工作
    *   ARM: 不确定
    *   PPC: 工作
    *   MIPS: 不确定
    *   SH: 不确定

## 未来工作/行动清单

列出了未来可以为该分支做的一些事情:

*   文档
*   测试

## 陈旧的信息 (2.4 版本内核)(译者注：这里不做翻译)

The High Resolution Timers system allows a user space program to be wake up from a timer event with better accuracy, when using the POSIX timer APIs. Without this system, the best accuracy that can be obtained for timer events is 1 jiffy. This depends on the setting of HZ in the kernel. In the 2.4 kernel, HZ was set to 100, which means that the best accuracy you could get on a timer wakeup in user space was 10 milliseconds.

Put differently, if you asked for a timer event in 500 microseconds, you would wake up in 10 milliseconds (at least).

To support this feature on a particular board, you have to add a kernel driver that uses a timer on the system and supports the interface documented in: `include/linux/hrtime.h (in the CELF tree)` Additional documentation about this feature is available in `Documentation/high-res-timers/`

Patches for high-res timers were first presented at the time of kernel version 2.5.47, in November, 2002\. See [early patches](http://lwn.net/Articles/14538/)

[分类](http://eLinux.org/Special:Categories "Special:Categories"):

*   [内核](http://eLinux.org/Category:Kernel "Category:Kernel")

# 内核定时器系统

> From: [eLinux.org](http://eLinux.org/Kernel_Timer_Systems "http://eLinux.org/Kernel_Timer_Systems")

# Kernel Timer Systems

## Contents

*   1 Timer Wheel, Jiffies and HZ (or, the way it was)
    *   1.1 Ingo Molnar's explanation of timer wheel performance
*   2 ktimers
    *   2.1 Material needs rework
    *   2.2 clock events
    *   2.3 clocksource
*   3 Timer information
    *   3.1 /proc/timer-list
    *   3.2 /proc/timer-stats
*   4 Dynamic ticks
    *   4.1 Testing
    *   4.2 Powertop
*   5 timer API
*   6 time API
*   7 High Resolution Timers
*   8 Old timer wheel/jiffy replacement proposals
    *   8.1 Jun Sun's "tock" proposal
    *   8.2 John Stultz
*   9 Timer Tick Thread - LKML July 2005

## Timer Wheel, Jiffies and HZ (or, the way it was)

The original kernel timer system (called the "timer wheel) was based on incrementing a kernel-internal value (jiffies) every timer interrupt. The timer interrupt becomes the default scheduling quamtum, and all other timers are based on jiffies. The timer interrupt rate (and jiffy increment rate) is defined by a compile-time constant called HZ. Different platforms use different values for HZ. Historically, the kernel used 100 as the value for HZ, yielding a jiffy interval of 10 ms. With 2.4, the HZ value for i386 was changed to 1000, yeilding a jiffy interval of 1 ms. Recently (2.6.13) the kernel changed HZ for i386 to

1.  (1000 was deemed too high).

### Ingo Molnar's explanation of timer wheel performance

Ingo Molnar did an in-depth explanation about the performance of the current "timer wheel" implementation of timers. This was part of a series of messages trying to justify the addition of ktimers (which have different characteristics).

It is possibly the best explanation of the timer wheel avaiable: See [`lkml.org/lkml/2005/10/19/46`](http://lkml.org/lkml/2005/10/19/46) and [`lwn.net/Articles/156329/`](http://lwn.net/Articles/156329/)

## ktimers

Update: ktimers have been replaced by hrtimer framework also by Thomas Gleixner, only using a set of functions and datastructures in linux/ktime.h.

### Material needs rework

A bunch of material in this section needs to be created or expanded to take into account the hrtimer system by Thomas Gleixner.

### clock events

[Basic LWN coverage on clockevents concepts](http://lwn.net/Articles/223185/)

### clocksource

[Clocksource Documentation patch that didn't get accepted](http://article.gmane.org/gmane.linux.kernel/1062438). Has some coverage of clock sources although care to be taken by going through patch responses.

Clocksource is also related or the same as the GTOD (Generic time of Day) work by John Stultz that hrtimer framework depends on (as mentioned on p.18 in the OLS 2006 slides).

Also refer to the kernel documentation on [High resolution timers and dynamic ticks design notes](https://www.kernel.org/doc/Documentation/timers/highres.txt) for some notes on clock source.

## Timer information

There are two /proc files that are very useful for gathering information about timers on your system.

### /proc/timer_list

/proc/timer_list has information about the currently configured clocks and timers on the system. This is useful for debugging the current status of the timer system (especially while you are developing clockevent and clocksource support for your platform.)

You can tell if high resolution is configured for you machine by looking at a few different things:

For standard resolution (at jiffy resolution), a clock will have a value for it's '.resolution' field equal to the period of a jiffy. For embedded machines, where HZ is typically 100, this will be 10 milliseconds, or 10000000 (ten million) nanoseconds.

Also for standard resolution, the Clock Event Device will have an event handler of "tick_handle_periodic".

For high resolution, the resolution of the clock will be listed as 1 nanosecond (which is ridiculous, but serves as an indicator of essentially arbitrary precision.) Also, the Clock Event Device will have an event handler of "hrtimer_interrupt".

* * *

[need more info here - and this should probably be written up and put in Documentation/filesystems/proc.txt]

### /proc/timer_stats

/proc/timer_stats is a file in the /proc pseudo file system which allows you to see information about the routines that are requesting timers of the Linux kernel. By cat'ing this file, you can see which routines are using lots of timers, and how frequently they are requesting them. This can be of interest to see

To use /proc/timer_stats, configure the kernel with support for the feature. That is, set CONFIG_TIMER_STATS=y in your .config. This is on the Kernel Hacking menu, with the prompt: "Collect kernel timers statistics"

Compile and install your kernel, and reboot your machine.

To activate the collection of stats (and reset the counters), do "echo 1 >/proc/timer_stats"

To stop collecting stats, do "echo 0 >/proc/timer_stats"

You can dump the statistics either while the collection system is running or stopped. To dump the stats, use 'cat /proc/timer_stats'. This shows the average events/sec at the end as well so you get a rough idea of system activity.

/proc/timer_stats fields (for version 0.1 of the format) are:

```
<count>,  <pid> <command>   <start_func> (<expire_func>) 
```

## Dynamic ticks

Tickless kernel, dynamic ticks or NO_HZ is a config option that enables a kernel to run without a regular timer tick. The timer tick is a timer interrupt that is usually generated HZ times per second, with the value of HZ being set at compile time and varying between around 100 to 1500. Running without a timer tick means the kernel does less work when idle and can potentially save power because it does not have to wake up regularly just to service the timer. The configuration option is CONFIG_NO_HZ and is set by Tickless System (Dynamic Ticks), on the Kernel Features configuration menu.

*   See the [Clockevents and dyntick](http://lwn.net/Articles/223185/) LNW.net article

### Testing

To tell if dynamic ticks is supported in your kernel you can:

Look in dmesg for a line like this one:

```
 # dmesg | grep -i nohz
 Switched to NOHz mode on CPU #0 
```

Or look at the timer interrupts and compare to jiffies:

```
 # cat /proc/interrupts | grep -i time
 # sleep 10
 # cat /proc/interrupts | grep -i time 
```

### Powertop

Powertop is a tool that parses the /proc/timer_stats output and gives a picture of what is causing wakeups on your system. Minimizing these wakeups should allow you to decrease power consumption in your device. Powertop was originally written for the x86 architecture but also works for embedded processors. However, in order to get a clean display from it, you will need an ncurses lib with wide character support.

Here's a poor-man's version of powertop:

```
 # watch "cat /proc/timer_stats | sort -nr | head -n 20" 
```

## timer API

*   interval timers
*   posix timer API
*   sleep, usleep and nanosleep

## time API

*   do_gettimeofday

## High Resolution Timers

See [High Resolution Timers](http://eLinux.org/High_Resolution_Timers "High Resolution Timers"), which describe sub-jiffy timers.

## Old timer wheel/jiffy replacement proposals

### Jun Sun's "tock" proposal

See [`linux.junsun.net/HRT/index.html`](http://linux.junsun.net/HRT/index.html)

This systems replaces jiffies and xtime with tocks (arch-dependent), mtime (monotonic time) and wtime (wall time), and proposes a strategy for migrating to that.

### John Stultz

In 2005, John Stultz proposed changes to the timers to use a 64-bit nanosecond value as the base. He did a presentation and BOF at OLS 2005. (It should be available online)

## Timer Tick Thread - LKML July 2005

There was a very long thread about timers, jiffies, and related subjects in July of 2005 on the kernel mailing list.

The title was: "Re: [PATCH] i386: Selectable Frequency of the Timer Interrupt"

Linus said jiffies is not going away

*   still need 32-bit counter, shouldn't be real-time value (too much overhead to calculate)
*   high-res timers shouldn't be sub-HZ, but instead, HZ should be high and timer tick should not be 1:1 with HZ
    *   in other words, have HZ be high (like 2K), have the timer interrupt fire off at some lower frequency, and increment jiffies by more than one on each interrupt.
    *   rationale for this is to keep a single sub-system

Arjan had good points about coalescing low-res timers

*   3 use cases:

    *   low res timeouts
    *   high res timer for periodic absolute wakeup (wake up every 10 ms, whether last one was late or nt
    *   high res timer for periodic relative wakeup (wake up 10 ms from now)

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Kernel](http://eLinux.org/Category:Kernel "Category:Kernel")

# 实时抢占

> From: [eLinux.org](http://eLinux.org/Realtime_Preemption "http://eLinux.org/Realtime_Preemption")

# Realtime Preemption

## Contents

*   1 Description
    *   1.1 Overview
        *   1.1.1 Voluntary Preempt
        *   1.1.2 Conversion of Spinlocks to Mutexes
    *   1.2 people working on/interested in this stuff
    *   1.3 people working on related stuff
    *   1.4 miscellaneous comments
        *   1.4.1 Comments regarding the scheduling of RT tasks
        *   1.4.2 comments regarding the hard parts of this work
        *   1.4.3 comments about the number of raw spinlocks needed
    *   1.5 Rationale
*   2 Resources
    *   2.1 Projects
    *   2.2 Specifications
    *   2.3 Online resources
*   3 Downloads
    *   3.1 Patch
    *   3.2 Utility programs
*   4 How To Use
    *   4.1 Configuration variables
*   5 How to validate
*   6 Related projects
*   7 Sample Results
    *   7.1 Case Study 1
    *   7.2 Case Study 2
    *   7.3 Case Study 3
*   8 Status
*   9 Future Work/Action Items
    *   9.1 people who expressed interest

## Description

### Overview

Realtime Preemption is (as of this writing 12/21/2004) a patch which tries to improve realtime performance of the Linux kernel.

Recent patches from Ingo include a (large) number of technologies for improving preemption and debugging preemption issues with the Linux kernel.

An overview of the technologies is as follows:

*   voluntary preempt = a set of voluntary preemption points for the kernel, to improve normal scheduling latency (These changes basically
*   BKL change to semaphore
*   latency tracer

#### Voluntary Preempt

Overview:

*   if it's on at compile time, it can be turned off at runtime with the command line: "voluntary-preemption=0" or "voluntary-preemption=off"
*   Creates a new function might_resched(), which is used by might_sleep().

    *   might_resched calls cond_resched() if voluntary preemption is on.

    *   Adds might_sleep in several places.

#### Conversion of Spinlocks to Mutexes

According to Ingo Molnar, it's primary author, "the big change in this release is the addition of PREEMPT_REALTIME, which is a new implementation of a fully preemptible kernel model"

For a brief description of the overall technology, see: [`kerneltrap.org/node/3995?PHPSESSID=4bc02ae16e5a27308031f3cd664fd574`](http://kerneltrap.org/node/3995?PHPSESSID=4bc02ae16e5a27308031f3cd664fd574)

Briefly, the technology makes spinlocks and rwlocks preemptible by default.

*   the patch auto-detects at compile-time the type of lock to use for a spinlock (mutex or original raw_spinlock)
*   it uses a feature of gcc to manage this (reducing patch size)
*   it uses native Linux semaphores for preemption
*   it convert rwlocks to rw-semaphores
*   apparently, about 90 locks are targetted for NON-conversion to preemptibility (that is, they are preserved as RAW_SPINLOCKS)

Ingo mentioned at one time that this was about 20% of the locks in his kernel configuration, implying that there were about 450 spinlocks present in the kernel in his configuration.

Ingo said this about how well this works on Un-processor (UP) systems versus SMP systems.

```
...and no matter how well UP works, to fix SMP one has to 'cover' all the
necessary locks first before fixing it, which (drastic) increase in raw
locks invalidates most of the UP efforts of getting rid of raw locks.
That's why i decided to go for SMP primarily - didnt see much point in
going for UP. 
```

Normally, in UP the spinlocks are compiled away. When PREEMPT is turned on (without the new patch) these spinlocks are turned into markers for non-preemptible regions. When RT-PREEMPT is used,

### people working on/interested in this stuff

*   Ingo Molnar, [Red Hat](http://eLinux.org/Red_Hat "Red Hat"), voluntary preemption, Ingo real-time preemption
*   Sven Dietrich, [Monta Vista](http://eLinux.org/Monta_Vista "Monta Vista"), MV real-time preemption
*   Daniel Walker, [Monta Vista](http://eLinux.org/Monta_Vista "Monta Vista"), priority inheritance??
*   John Cooper, [Time Sys](http://eLinux.org/Time_Sys "Time Sys"), ???
*   Tim Bird, Sony, port to 2.6.10-native, port to PPC
*   Scott Woods, [Time Sys](http://eLinux.org/Time_Sys "Time Sys"), IRQ threading??

### people working on related stuff

*   Bill Huey, [Lynux Works](http://eLinux.org/index.php?title=Lynux_Works&action=edit&redlink=1 "Lynux Works (page does not exist)")??, mmlinux

### miscellaneous comments

#### Comments regarding the scheduling of RT tasks

Ingo said (in this [message](http://groups-beta.google.com/group/linux.kernel/browse_frm/thread/e8b81552643bfc50/d0e021c7065fa600?q=OSDL+bug+3770&_done=%2Fgroup%2Flinux.kernel%2Fsearch%3Fgroup%3Dlinux.kernel%26q%3DOSDL+bug+3770%26qt_g%3D1%26searchnow%3DSearch+this+group%26&_doneTitle=Back+to+Search&&d#d0e021c7065fa600)):

* * *

note that my -RT patchset includes scheduler changes that implement "global RT scheduling" on SMP systems. Give it a go, it's at:

```
 http://redhat.com/~mingo/realtime-preempt/ 
```

you have to enable CONFIG_PREEMPT_RT to active this feature. I've designed this code to not hurt non-RT scheduling, and i've optimized performance for the 'lightly loaded case' (which is the most common to occur on mainline-using systems).

A very short description of the design: there's a global 'RT overload counter' - which is zero and causes no overhead if there is at most 1 RT task in every runqueue. (i.e. at most 2 RT tasks on a 2-way system, at most 4 RT tasks on a 4-way system, etc.) If the system gets into 'RT overload' mode (e.g. the third RT task gets activated on a 2-way box), then the scheduler starts to balance the RT tasks agressively. Also, whenever an RT task is preempted on a CPU, or is woken up but cannot preempt a higher-prio RT task on a given CPU, then it's 'pushed' to other CPUs if possible. This design avoids global locking (it avoids a global runqueue), which simplifies things immensely. (I first tried a global runqueue for RT tasks but the complexity impact was much bigger.)

(note that these scheduler changes are resonably self-contained and do not depend on other parts of PREEMPT_RT, so in theory they could be added to mainline too, after some time - given lots of testing and broad agreement.)

* * *

#### comments regarding the hard parts of this work

Ingo says (at: [`groups-beta.google.com/group/linux.kernel/msg/cf036477d30ab736`](http://groups-beta.google.com/group/linux.kernel/msg/cf036477d30ab736))

some of the harder stuff:

*   the handling of per-CPU data structures (get_cpu_var())

*   RCU and softirq data structures

*   the handling of the IRQ flag

#### comments about the number of raw spinlocks needed

Ingo says (at: [`groups-beta.google.com/group/linux.kernel/msg/e63b2860d2e993dd`](http://groups-beta.google.com/group/linux.kernel/msg/e63b2860d2e993dd))

Sven Dietrich sdietr...@mvista.com wrote:

> IMO the number of raw_spinlocks should be lower, I said teens before.
> 
> Theoretically, it should only need to be around hardware registers and some memory maps and cache code, plus interrupt controller and other SMP-contended hardware.
> 
> yeah, fully agreed. Right now the 90 locks i have means roughly 20% of all locking still happens as raw spinlocks.
> 
> But, there is a 'correctness' *minimum* set of spinlocks that *must* be raw spinlocks - this i tried to map in the -T4 patch. The patch does run on SMP systems for example. (it was developed as an SMP kernel - in fact i never compiled it as UP :-|.) If code has per-CPU or preemption assumptions then there is no choice but to make it a raw spinlock, until those assumptions are fixed.

### Rationale

This feature is intended to provide much better realtime scheduling response for a Linux system.

## Resources

### Projects

Various parties are working on ports: [Time Sys](http://eLinux.org/Time_Sys "Time Sys") and Monta Vista, in particular, seem to have made ports to PPC and ARM platforms.

### Specifications

None that I'm aware of.

### Online resources

The original announcement for voluntary-preemption:

*   [`people.redhat.com/mingo/realtime-preempt/older/ANNOUNCE-voluntary`](http://people.redhat.com/mingo/realtime-preempt/older/ANNOUNCE-voluntary)

Here's some stuff by Jonathon Corbet:

*   [`lwn.net/Articles/106010/`](http://lwn.net/Articles/106010/)
*   [`lwn.net/Articles/107269/`](http://lwn.net/Articles/107269/)
*   [`lwn.net/Articles/108216/`](http://lwn.net/Articles/108216/)
*   [`lwn.net/Articles/129511/`](http://lwn.net/Articles/129511/)

There's a page of links about RT for audio at:

*   [`www.affenbande.org/~tapas/wiki/index.php?Low%20latency%20for%20audio%20work%20on%20linux%202.6.x`](http://www.affenbande.org/~tapas/wiki/index.php?Low%20latency%20for%20audio%20work%20on%20linux%202.6.x)

A brief introduction of RT patch (Sorry, in Japanese only):

*   [`www.atmarkit.co.jp/fembedded/rtos03/rtos03a.html`](http://www.atmarkit.co.jp/fembedded/rtos03/rtos03a.html)

*   Paper: "[Embedded GNU/Linux and Real-Time an executive summary](http://www.reliableembeddedsystems.com/pdfs/2010_03_04_rt_linux.pdf)", 2010 by Robert Berger

    *   This papers, prepared for the Embedded World Conference 2010, compares different real-time approaches (including RT-preempt and dual-kernel approaches).
    *   The paper has an extensive list of references, which are very good.

## Downloads

### Patch

```
 See http://redhat.com/~mingo/realtime-preempt/ 
```

### Utility programs

[other programs, user-space, test, etc. related to this technology]

## How To Use

*   apply patch
*   choose desired preemption level
*   compile kernel

### Configuration variables

The patch introduces (or modifies) the following configuration variables:

| Variable | Purpose |
| ASM_SEMAPHORES |  |
| BLOCKER |  |
| CRITICAL_IRQSOFF_TIMING |  |
| CRITICAL_PREEMPT_TIMING |  |
| CRITICAL_TIMING |  |
| FRAME_POINTER |  |
| LATENCY_TIMING |  |
| LATENCY_TRACE |  |
| MCOUNT |  |
| PREEMPT |  |
| PREEMPT_BKL |  |
| PREEMPT_DESKTOP |  |
| PREEMPT_HARDIRQS |  |
| PREEMPT_NONE |  |
| PREEMPT_RT |  |
| PREEMPT_SOFTIRQS |  |
| PREEMPT_TRACE |  |
| PREEMPT_VOLUNTARY |  |
| RTC_HISTOGRAM |  |
| RT_DEADLOCK_DETECT |  |
| RWSEM_GENERIC_SPINLOCK |  |
| RWSEM_XCHGADD_ALGORITHM |  |
| SPINLOCK_BKL |  |
| USE_FRAME_POINTER |  |
| WAKEUP_TIMING |  |

*   retrieved from patch with command:

```
grep "[+-]config " realtime-preempt-2.6.10-mm1-V0.7.34-01 | sed "s/[+-]config //" | sort | uniq 
```

## How to validate

[put references to test plans, scripts, methods, etc. here]

*   use included trace feature, or
*   use included latency overrun reporting mechanism
*   [Preemption_Instrumentation](http://eLinux.org/Preemption_Instrumentation "Preemption Instrumentation")

## Related projects

[Monta Vista](http://eLinux.org/Monta_Vista "Monta Vista") released a similar technology, which had the following features:

See [`groups-beta.google.com/group/linux.kernel/msg/7eeef031d9ec1446`](http://groups-beta.google.com/group/linux.kernel/msg/7eeef031d9ec1446)

These RT enhancements are an integration of features developed by others and some new MontaVista components:

*   Voluntary Preemption by Ingo Molnar
*   IRQ thread patches by Scott Wood and Ingo Molnar
*   BKL mutex patch by Ingo Molnar (with MV extensions)
*   PMutex from Germany's Universitaet der Bundeswehr, Munich
*   MontaVista mutex abstraction layer replacing spinlocks with mutexes

## Sample Results

[Examples of use with measurement of the effects.]

### Case Study 1

*   Linux RT Benchmarking Framework
    *   [`www.opersys.com/lrtbf/`](http://www.opersys.com/lrtbf/)
*   Summary of dicussion in LKLM (sorry in Japanese)
    *   [`japan.linux.com/kernel/05/07/25/2334226.shtml?topic=1`](http://japan.linux.com/kernel/05/07/25/2334226.shtml?topic=1)
    *   [`japan.linux.com/kernel/05/08/29/0817208.shtml?topic=1`](http://japan.linux.com/kernel/05/08/29/0817208.shtml?topic=1)

### Case Study 2

Trevor Woerner published some results in November 2005 regarding some latency measurements he have been recording on the 2.6.14 kernel with Ingo's patches.

See [`geek.vtnet.ca/embedded/LatencyTests/html/index.html`](http://geek.vtnet.ca/embedded/LatencyTests/html/index.html)

### Case Study 3

## Status

*   [Rt_Preempt_Subpatch_Table](http://eLinux.org/Rt_Preempt_Subpatch_Table "Rt Preempt Subpatch Table")
*   Status: [not started??]

    (one of: not started, researched, implemented, measured, documented, accepted)

*   Architecture Support:

    (for each arch, one of: unknown, patches apply, compiles, runs, works, accepted)

    *   i386: unknown
    *   ARM: unknown
    *   PPC: unknown
    *   MIPS: unknown
    *   SH: unknown

## Future Work/Action Items

Here is a list of things that could be worked on for this feature:

*   help with mainlining???
*   perform testing on multiple platforms
*   provide use cases for justification
*   what else?
*   break patch into manageable pieces - doesn't Ingo use any kind of patch management system???

### people who expressed interest

Manas Saksena, Jon Masters, Takeharu Kato, Ralph Siemsen, Jyunji Kondo

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Kernel](http://eLinux.org/Category:Kernel "Category:Kernel")
*   [Tips and Tricks](http://eLinux.org/Category:Tips_and_Tricks "Category:Tips and Tricks")

# 实时测试最佳实践

> From: [eLinux.org](http://eLinux.org/Realtime_Testing_Best_Practices "http://eLinux.org/Realtime_Testing_Best_Practices")

# Realtime Testing Best Practices

## Contents

*   1 Introduction
    *   1.1 Terminology
*   2 Test programs
    *   2.1 RT Measurement programs
        *   2.1.1 lpptest
        *   2.1.2 RealFeel
        *   2.1.3 RealFeel (ETRI version rf-etri)
        *   2.1.4 Cyclictest
        *   2.1.5 LRTB
        *   2.1.6 Hourglass
        *   2.1.7 Woerner test
        *   2.1.8 Senoner test
    *   2.2 Test Features Table
        *   2.2.1 Benchmarking programs
    *   2.3 Stress programs
        *   2.3.1 Stress actions
*   3 Test Hardware
*   4 Issues and Techniques
    *   4.1 ping flood isn't good as stress test
    *   4.2 Using the LATENCY-TRACE option
    *   4.3 Number of samples recommended
    *   4.4 Things to watch for in testing
*   5 Tests results taxonomy
    *   5.1 Test Table
*   6 Test presentations and documents
    *   6.1 Presentations
    *   6.2 OLS papers
    *   6.3 Real Time Linux Foundation RTL Workshops
*   7 Uncategorized stuff
    *   7.1 Notes on ineffective tests
    *   7.2 Notes on test requirements - need to test kernel error paths
    *   7.3 Notes on test requirements - need for usage profile

## Introduction

This page is intended to serve as a collecting point for presentations, documents, results, links and descriptions about testing Realtime performance of Linux systems. In the first section, please upload or place links to presentations or documentsion on the subject of RT testing for linux.

### Terminology

This document uses the definitions for real time terminology found in: [Real Time Terms](http://eLinux.org/Real_Time_Terms "Real Time Terms")

## Test programs

### RT Measurement programs

Here is a list of programs that have been used for realtime testing:

#### lpptest

*   lpptest - included in the RT-preempt patch
    *   It consists of a
        1.  driver in the linux kernel, to toggle a bit on the parallel port, and watch for a response toggle back
        2.  a user program to cause the measurement to happen
        3.  a driver to respond to this toggling
*   with the RT-preempt patch applied, see:
    *   drivers/char/lpptest.c
    *   scripts/testlpp.c
*   For some other modifications, see [`www.ussg.iu.edu/hypermail/linux/kernel/0702.2/0342.html`](http://www.ussg.iu.edu/hypermail/linux/kernel/0702.2/0342.html)
    *   remove dependency on TSC

This requires a separate machine to send the signal on the parallel port and receive the response. (Can this be run with a loopback cable? It seems like this would disturb the findings).

Are there any writeups of use of this test?

#### RealFeel

*   RealFeel -
    *   code at: [`brain.mcmaster.ca/~hahn/realfeel.c`](http://brain.mcmaster.ca/~hahn/realfeel.c)

This program is a very simple test of how well a periodic interrupt is processed. The program programs a periodic interrupt using /dev/rtc to fire at a fixed interval. The program measures the time duration from interrupt to interrupt, and compares this to the expected value for the duration. This simple program just prints a list of variances from the expected value, forever.

This program uses the TSC in user space for timestamps.

#### RealFeel (ETRI version rf-etri)

This program (latency.c) extends realfeel in several ways:

*   it adds command line arguments to allow runtime control of most parameters
*   it adds a histogram feature to dump the results to a histogram
    *   it can do both linear and logarithmic histograms
*   it locks the process pages in memory (very important)
*   it changes the scheduling priority to SCHED_FIFO, at highest priority (very important)
*   it adds conditional code to trigger output to a parallel port pin (for capture to an external probe or logic analyzer)
*   it abstracts the routine to get the timestamp, with the function: getticks()
*   it handles the interrupt signal and does a clean exit of the main loop (on user break?)
*   it tracks min, max and average latency for whole run, and for every 1000 cycles of the loop
*   it adds a timestamp to the /dev/rtc driver, and reads this as part of the rtc data
    *   how is rtc timestamp used??

#### Cyclictest

*   Cyclictest - See [`rt.wiki.kernel.org/index.php/Cyclictest`](http://rt.wiki.kernel.org/index.php/Cyclictest)

#### LRTB

*   Linux Real-Time Benchmarking Framework - See [`www.opersys.com/lrtbf/`](http://www.opersys.com/lrtbf/)
    *   quickie overview at: [`groups.google.com/group/linux.kernel/msg/11860ef9e4263fa3?hl=en&`](http://groups.google.com/group/linux.kernel/msg/11860ef9e4263fa3?hl=en&)

#### Hourglass

*   Hourglass is a synthetic real-time application that can be used to learn how CPU scheduling in a general-purpose operating system works at microsecond and millisecond granularities
    *   See: [`www.cs.utah.edu/~regehr/hourglass/`](http://www.cs.utah.edu/~regehr/hourglass/)

#### Woerner test

Trevor Woerner wrote an interesting test which received an interrupt on the serial port, and pushed data through several processes, before sending back out the serial port. This test requires an external machine for triggering the test and measuring the results.

See [Trevor Woerner's latency tests](http://geek.vtnet.ca/embedded/LatencyTests/html/index.html)

#### Senoner test

Benno Senoner has a latency test that simulates and audio workload. See [`www.gardena.net/benno/linux/audio/`](http://www.gardena.net/benno/linux/audio/)

Used (and extended??) by Takahashi Iwai - see [`www.alsa-project.org/~iwai/latencytest-0.5.6.tar.gz`](http://www.alsa-project.org/~iwai/latencytest-0.5.6.tar.gz)

### Test Features Table

| Feature | Rf-etri | Williams | LRTB |
| --- | --- | --- | --- |
| Is it platform specific (for target)? | yes - i386 | no, but requires serial port on target | no, but requires parallel port on target |
| How is interrupt generated? | periodic timer programmed via /dev/rtc | data on serial port | data on parallel port |
| What does test measure? | interrupt and scheduling latency | end-to-end response latency | end-to-end response latency |

#### Benchmarking programs

*   see [Benchmark Programs](http://eLinux.org/Benchmark_Programs "Benchmark Programs")
*   some to look into:
    *   hackbench
    *   lmbench
    *   unixbench

### Stress programs

*   Ingo Molnar has a shell script which he calls [dohell](http://groups.google.com/group/linux.kernel/msg/0c88c397347cbd2a?hl=en&)
    *   good candidates seem to be:
        *   find
        *   du
        *   ping
*   [Cache Calibrator](http://monetdb.cwi.nl/Calibrator/) - see [RT-Preempt howto](http://rt.wiki.kernel.org/index.php/RT_PREEMPT_HOWTO)

#### Stress actions

Here are some things that will kill your RT performance:

*   write the time of day to the CMOS of your RTC (see drivers/char/rtc.c - only by code inspection, no test yet)
*   have a bus-master device do a long DMA on the bus
*   get a page fault on your RT process (can be prevented with mlockall)
*   get multiple TLB flushes on your RT code path (how to cause this??)
*   get lots of instruction and data cache misses on your RT code path
    *   how to cause this?
        *   go down error paths in the RT case?
        *   be ON a big error case when the RT event happens?
        *   push your main RT code path and data sets out of cache with other work (in your RT process), prior to the next RT event?
        *   access data in a very non-localized way on your RT code path

## Test Hardware

*   LRTB uses a 3-machine system:
    *   target, host, and logger
    *   target is the system under test
    *   host is a control system, and it also collects the data
    *   logger is a special machine used to cause interrupts on the target, and record the time it takes for the target to respond
    *   Paulo Marqes [offered](http://marc.info/?l=linux-kernel&m=111953832212835&w=2) to create custom hardware for the logger

## Issues and Techniques

This is a list of issues and techniques for dealing with them, having to do with testing realtime performance in Linux.

### ping flood isn't good as stress test

At one of the sessions at ELC 2007, Nicholas McGuire stated that a pingflood test is actually a poor test of RT performance, since it causes locality in the networking code rather than stressing the system.

Here is a list of issues that have to be dealt with:

*   what tests are available on all platforms?
    *   is special clock hardware or registers required for a test (e.g. realfeel, which only supports i386?)
    *   does the program cross-compile?
    *   Does generation of the test conditions perturb the test results?
    *   Is special external hardware required?
    *   How is the system stressed?
        *   How to stress memory (cause cache-flushes and swapping)
        *   How to stress bad code paths (long error paths, fault injection?)
*   How is performance measured?

### Using the LATENCY_TRACE option

Quote about latency-test from Ingo:

```
I'm seeing roughly half of that worst-case IRQ latency on similar
hardware (2GHz Athlon64), so i believe your system has some hardware
latency that masks the capabilities of the underlying RTOS. It would be
interesting to see IRQSOFF_TIMING + LATENCY_TRACE critical path
information from the -RT tree. Just enable those two options in the
.config (on the host side), and do:

        echo 0 > /proc/sys/kernel/preempt_max_latency

and the kernel will begin measuring and tracing worst-case latency
paths. Then put some load on the host when you see a 50+ usec latency
reported to the syslog, send me the /proc/latency_trace. It should be a
matter of a few minutes to capture this information. 
```

### Number of samples recommended

Ingo wrote:

```
also, i'm wondering why you tested with only 1,000,000 samples. I
routinely do 100,000,000 sample tests, and i did one overnight test with
more than 1 billion samples, and the latency difference is quite
significant between say 1,000,000 samples and 100,000,000 samples. All
you need to do is to increase the rate of interrupts generated by the
logger - e.g. my testbox can handle 80,000 irqs/sec with only 15% CPU
overhead. 
```

### Things to watch for in testing

Another note from Ingo - see [here](http://groups.google.com/group/linux.kernel/msg/8c7e61d0926dba80?hl=en&)

*   Note the bit about IRQ 7 - what's up with that?

```
> First things first, we want to report back that our setup is validated
> before we go onto this one. So we've modified LRTBF to do the
> busy-wait thing.

here's another bug in the way you are testing PREEMPT_RT irq latencies.
Right now you are doing this in lrtbf-0.1a/drivers/par-test.c:

    if (request_irq ( PAR_TEST_IRQ,
                                          &par_test_irq_handler,
#if CONFIG_PREEMPT_RT
                                           SA_NODELAY,
#else //!CONFIG_PREEMPT_RT
                                           SA_INTERRUPT,
#endif //PREEMPT_RT

you should set the SA_INTERRUPT flag in the PREEMPT_RT case too! I.e.
the relevant line above should be:

                                           SA_NODELAY | SA_INTERRUPT,

otherwise par_test_irq_handler will run with interrupts enabled, opening
the window for other interrupts to be injected and increasing the
worst-case latency! Take a look at drivers/char/lpptest.c how to do this
properly. Also, double-check that there is no IRQ 7 thread running on
the PREEMPT_RT kernel, to make sure you are measuring irq latencies. 
```

## Tests results taxonomy

### Test Table

| Person | Company | Hardware | Kernel | test method | Measurement method | Results |
| Sangbae Lee | Samsung | OSK - OMAP (ARM) 192 MHZ) | 2.4.20 and 2.6.10 | using two machine test | ZI instrumentation - measure interrupt reponse latency | 2.4.20 - 30~35us, 2.6.10 - 30~35us max |  |
| Sangbae Lee | Samsung | MIPS 264 MHZ | 2.6.10 ?? | ?? | ?? | ?? |  |
| Katsuya Matsubara | IGEL | SH4 | 2.6.?? | ?? | ?? | ?? |  |
| YungJoon Jung | ETRI | Via Nehemiah (i386) | 2.6.12 | periodic interrupt | rf-etri - measure scheduling latency minus interrupt latency | 30 us max scheduling latency with RT-preempt |  |
| Tsutomu Owa | Toshiba | Cell (ppc64) | 2.6.12 | ?? | ?? | ?? |  |

## Test presentations and documents

### Presentations

[Add links here, most recent at top]

*   [TBD Linux Kernel's performance comparison] by HyoJun Im of LG at RTWG 2nd Face-to-Face Meeting in Korea

    *   Tested Linux Kernel's performance by using opensource benchmarks
    *   Test Target : Intel Pentium 4 2GHz, 1GB Memory
        *   compared among linux kernel 2.4.22, 2.6.18 with preemption patch, 2.6.23-rc
        *   used opensource benchmark test programs
            *   Realfeel : measure interrupt latency time
                *   2.6(preemption) - 3.3ms, 2.6(rc3) - 3.5ms, 2.4 - 258.9ms
            *   Hackbench Test : measure the scalability of scheduler
                *   TBD
            *   InterBench Test : measure the latency time of interactive task under load
                *   He has good result table to see
            *   LMbench Test : measure context switching latency time
                *   TBD
*   [Analysis of Interrupt Entry Latency in Linux 2.4 vs 2.6](http://tree.celinuxforum.org/CelfPubWiki/ELC2007Presentations?action=AttachFile&do=get&target=CELF_ELC_Interrupt_Latency_2.4_vs_2.6.pdf) by !SangBae Lee of Samsung for ELC 2007

    *   Analyzed MV 3.1 (2.4.20) and MV 4.0 (2.6.10), using LTT, on OSK board (OMAP 5920 ARM 192 MHZ)
        *   This is not a realtime-preempt patch applied test. Only tested between 2.4.20 and 2.6.10 kernel
    *   Initial results were that linux.2.4.20 was 3X fast for best-case interrupt latency by using LTT
        *   This test's problem was to use LTT, LTT had really high overhead for this test's comparing
    *   After reviewing code and finding that the interrupt code path was almost identical, a different, more lightweight tracer was used (Zoom-in tracer) showing latencies were almost the same between 2.4 kernel and 2.6 kernel
        *   This ZI instrumentation has low overhead, so it is suitable for interrupt reponse time measurement. It was written by SangBae Lee
    *   Also measured on MIPS 264 MHZ (for real TV system), but following data was measured on OSK board
        *   Interrupt response time measured:
            *   with LTT instrumentation:
                *   2.6.10 - min = 30 us, max = 400 us
                *   2.4.20 - min = 10 us, max = 30 us
            *   with ZI instrumentation:
                *   2.6.10 - min = 3 us, max = 30~35 us
                *   2.4.20 - min = 3 us, max = 30~35 us
        *   Basic result = Don't use LTT for measuring RT performance
*   [Porting and Evaluating the Linux Realtime Preemption on Embedded Platform](http://tree.celinuxforum.org/CelfPubWiki/ELC2007Presentations?action=AttachFile&do=get&target=preempt070418celfelc.pdf) by Katsuya Matsubara of Igel at ELC 2007
*   [Realtime Preempt Patch Adaptation Experience (and Real Time BOF notes)](http://tree.celinuxforum.org/CelfPubWiki/ELC2007Presentations?action=AttachFile&do=get&target=RT-BoF-2007-04-17.pdf)
    *   !YungJoon Jung of ETRI at ELC 2007
    *   This is the presentation of Realtime BoF in ELC 2007\. It includes realtime preempt patch adaptation kernel's test
    *   Test on VIA Nehemiah board, 1GHZ, 256M memory
    *   See [`tree.celinuxforum.org/CelfPriWiki/RealTime_20Performance_20Test`](http://tree.celinuxforum.org/CelfPriWiki/RealTime_20Performance_20Test) (need to make this public)
    *   has good charts comparing vanilla, voluntary preempt, preemptible kernel and RT-preempt
    *   min = 5.6 us, max = 41.1 us
    *   showed RT-preempt has throughput problems (reported by hackbench)
*   [Performance Measurement of PPC64 RT patch (update)](http://tree.celinuxforum.org/CelfPubWiki/JapanTechnicalJamboree13?action=AttachFile&do=get&target=CELF_PPC64_RT_20070222.pdf) ([english text](http://tree.celinuxforum.org/CelfPubWiki/JapanTechnicalJamboree13?action=AttachFile&do=get&target=CELF_PPC64_RT_20070222-en.txt))
    *   by Tsutomu Owa of Toshiba at CELF Jamboree 13
*   [Porting pre-empt RT patch on SuperH](http://tree.celinuxforum.org/CelfPubWiki/JapanTechnicalJamboree13?action=AttachFile&do=get&target=preempt070222celfjambo13.pdf) ([english text](http://tree.celinuxforum.org/CelfPubWiki/JapanTechnicalJamboree13?action=AttachFile&do=get&target=preempt070222celfjambo13-en.txt))
    *   by Katsuya Matsubara (IGEL) at CELF Jamboree 13
*   [Performance Measurement of PPC64 RT Patch](http://tree.celinuxforum.org/CelfPubWiki/JapanTechnicalJamboree12?action=AttachFile&do=get&target=CELF_PPC64_RT_20061208.pdf) ([english text](http://tree.celinuxforum.org/CelfPubWiki/JapanTechnicalJamboree12?action=AttachFile&do=get&target=MS_CELF-TJ12-07-en.txt))
    *   by Tsutomu Owa of Toshiba at CELF Jamboree 12
*   [Linux Realtime Preemption and Its Impact on ULDD](http://tree.celinuxforum.org/CelfPubWiki/JapanTechnicalJamboree11?action=AttachFile&do=get&target=preempt061027celfjambo11-en.odp) by Katsuya Matsubara & Hitomi Takahashi of IGEL, for CELF Jamboree 11
    *   very good summary of RT-preempt patch. Also good description of work done on SH4 and work on User Level device drivers.
    *   Describes basic steps to do a new port of RT-preempt
*   [Experience with Realtime Performance](http://tree.celinuxforum.org/CelfPubWiki/ELC2006Presentations?action=AttachFile&do=get&target=ExperienceWithRealtimePerformance.pdf)
    *   by Shinichi Ochiai of Mitsubishi Electric Corporation at CELF ELC 2006
    *   This describes RT features and how they evolved from 2.4.20 to 2.6.16\. Test results are shown for preemptible kernel (2.4.20), voluntary preemption, RT-preempt, and hybrid kernel approach (RTAI). The platforms tested were an SH4 board and an EDEN board, with a VIA processor (i386 clone). RT-preempt is shown to have good RT characteristics, for later kernel versions.
*   [PREEMPT-RT vs I-PIPE: the numbers, take 3](http://groups.google.com/group/linux.kernel/msg/d420ad15b1215e54)
    *   by Kristian Benoit, LKML message, 2005
    *   about extensive testing by Kristian Benoit and Karim Yaghmour
    *   See also [PREEMPT RT vs ADEOS: the numbers, part 1](http://groups.google.com/group/linux.kernel/msg/b59137a4da507a55?hl=en&)
    *   and [PREEMPT_RT vs I-PIPE: the numbers, take 2](http://groups.google.com/group/linux.kernel/msg/43360d2d2ba5121a?hl=en&)
*   [Trevor Woerner's latency tests](http://geek.vtnet.ca/embedded/LatencyTests/html/index.html)
    *   Interesting host/target test of latency via transmission and reception of strings over serial port
*   [Real-Time Preemption Patchset](http://tree.celinuxforum.org/CelfPubWiki/TechConference2005Docs?action=AttachFile&do=get&target=Real-Time-Preemption-Patchset.pdf)
    *   by Manas Saksena, CELF tech conference 2005
    *   Good paper with overview of RT-preempt patch features
*   [Audio Latency on Linux Kernels](http://www.alsa-project.org/~iwai/suselabs2003-audio-latency.pdf)
    *   Takahashi Awai, SUSE, 2003
*   [Linux Scheduler Latency](http://www.linuxdevices.com/articles/AT8906594941.html) - by Clark Williams, Red Hat, March 2002
*   [Realfeel Test of the Preemptible Kernel Patch](http://www.linuxjournal.com/article/6405) - article in Linux Journal, 2002 by Andrew Webber
    *   This is a test of the preemptible kernel feature in 2.4.19, on i386 hardware.
*   [Real Time and Linux, Part 3: Sub-Kernels and Benchmarks](http://www.linuxdevices.com/articles/AT6320079446.html)

    *   article in Embedded Linux Journal, online, 2002 by Kevin Dankwardt
*   [attachment:p-a03_wilshire.pdf Real Time Linux: Testing and Evaluation] - By Phil Wilshire of Lineo at the Second Real Time Linux Workshop, 2000

    *   This paper discusses the different benchmarking tools used to evaluate the performance of Linux and their suitability for evaluating Real Time system Performance. It is focused on RTAI.

### OLS papers

[FIXTHIS - need to scan for past papers]

*   OLS 2006 BOF - Steven Rostedt, RedHat and Klaas Van Gend, MontaVista
    *   See [The State of RT and Common Mistakes (OLS 2006 BOF)](http://www.opentux.nl/artikelen/OLS2006_state_of_RT_and_common_mistakes.odp)
*   OLS 2007 - Paper by Steven Rostedt - see [`ols2006.108.redhat.com/2007/Reprints/rostedt-Reprint.pdf`](https://ols2006.108.redhat.com/2007/Reprints/rostedt-Reprint.pdf)

Darren Hart wrote:

```
I have contributed some testing results to Steven Rostedt's OLS RT Internals
paper.  That will be available to link to after the conference sometime. 
```

### Real Time Linux Foundation RTL Workshops

Nicholas said:

There are a number of publications related to both benchmarking and analysis of hardware related artifacts (cache,BTB,TLB,etc.) which were published at the real-time Linux Workshops.

Here is a link to the RTLF events page:

*   [`www.realtimelinuxfoundation.org/events/events.html`](http://www.realtimelinuxfoundation.org/events/events.html)

So far, I've scanned 1999-2000 for interesting links.

## Uncategorized stuff

This section has random stuff I haven't organized yet:

*   [`eaglet.rain.com/rick/linux/schedstat/`](http://eaglet.rain.com/rick/linux/schedstat/)

    *   scheduler statistics
    *   maybe this can be used to analyze process wakeup latency?? Need to see what stats are kept.
*   Low-latency HowTo (for audio) - [`lowlatency.linuxaudio.org/`](http://lowlatency.linuxaudio.org/)

### Notes on ineffective tests

Nicholas McGuire wrote:

```
The tests noted in the LKML post on this page are very problematic,
ping - -f is not testing RT at all, it keeps the kernel in a very small active
page set thus reducing page related penalties, the while loop using dd
is also not too helpfull as it will de-facto run only in memory and cause
absolutely no disk/mass-storage related interaction (try the same with
mount -o remount,sync /  first and it will be devastating ! (limited to ext2/ext3/ufs)) 
```

### Notes on test requirements - need to test kernel error paths

Nicholas McGuire wrote:

```
The big problem with RT tests published is that they are all looking at the good case,
they are loading the system but assuming successfull operations. The worst cases pop
up when you run in the error paths of the kernel - then a trivial application can
induce very large jitter in the system (run crashme in the background and rerun
the tests...) 
```

### Notes on test requirements - need for usage profile

Also lmbench can give a statistic view of things (and not even that very precisely in some case i.e. context switch measurements are flawed) so this is not of much help for descision makers which variant to use - it does not help if the average performance is good but the mobile phone or mp3 klicks at 1s intervals "deterministically" - so I guess RT benchmarks need a notion of usage-profile to be of value.

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Linux](http://eLinux.org/Category:Linux "Category:Linux")

# 实时抢占教程

> 原文：[eLinux.org](http://eLinux.org/RT-Preempt_Tutorial "http://eLinux.org/RT-Preempt_Tutorial")
> 翻译：[@hduffddybz](https://github.com/hduffddybz)
> 校订：[@lzufalcon](https://github.com/lzufalcon)

# RT-Preempt 教程

*   一篇关于如何在 Linux 中使用 rt-preempt 和 real-time [总结性的技术教程](http://fossprogramming.com/rt-preempt-celf-b.odt) 。

*   关于如何使用 RT-Preempt 的演讲 [Kevin Dankwardt 的视频](http://fossprogramming.com/elc2010-dankwardt-rt-preempt.ogv)

*   这个演讲中的 [html 演示文稿](http://fossprogramming.com/celf/celf-dankwardt-2010-b.html) 和 [odp 演示文稿](http://fossprogramming.com/dankwardt.odp)。

*   示例程序，rt-preempt 补丁，可以从 [这里](http://fossprogramming.com/examples.tar.bz2) 的总结中找到。

*   例子中使用的 [内核](http://www.kernel.org/pub/linux/kernel/v2.6/linux-2.6.33.3.tar.bz2)

[分类](http://eLinux.org/Special:Categories "Special:Categories"):

*   [HOWTOs](http://eLinux.org/Category:HOWTOs "Category:HOWTOs")

# 软中断线程

> 原文：[eLinux.org](http://eLinux.org/Soft_IRQ_Threads "http://eLinux.org/Soft_IRQ_Threads")
> 翻译：[@hduffddybz](https://github.com/hduffddybz)
> 校订：[@lzufalcon](https://github.com/lzufalcon)

# 软中断线程

## 目录

*   1 简介
    *   1.1 LKML 讨论
        *   1.1.1 Time Sys 的补丁
        *   1.1.2 Korty 的补丁
    *   1.2 基本原理
*   2 下载
    *   2.1 补丁
    *   2.2 实用程序
*   3 如何使用
*   4 样例结果
*   5 未来工作

## 简介

本文描述了软中断线程，这是一种机制，它通过可调度的内核线程来执行某些中断的底半部分，这样就可以和其他线程或进程一样在一个调度类里面做优先级调度。

### LKML 讨论

最近（2004 年 7 月），两个补丁被提交到 Linux 内核，用于支持软中断线程。

#### [Time Sys](http://eLinux.org/Time_Sys "Time Sys") 的补丁

阅读 [`lkml.org/lkml/2004/7/13/125`](http://lkml.org/lkml/2004/7/13/125)

该补丁适用于 2.6.8-mm1 内核，但是其中 PPC 特定部分无法打上。

#### Korty 的补丁

阅读 [`lkml.org/lkml/2004/7/13/152`](http://lkml.org/lkml/2004/7/13/152)

### 基本原理

该特性十分重要因为它允许软中断以比实时线程更低的优先级来调度。这会使 Linux 有更好的实时处理能力。

## 下载

### 补丁

```
- [Patch for CELF version XXXXXX is *here*]
- [Patch for 2.4.xx is *here*]
- [Patch for 2.6.xx is *here*] 
```

### 实用程序

无

## 如何使用

[这部分要补充]

## 样例结果

## 未来工作

这里有一系列未来可以为该功能做的事情

```
（现在暂无） 
```

[分类](http://eLinux.org/Special:Categories "Special:Categories"):

*   [内核](http://eLinux.org/Category:Kernel "Category:Kernel")

# 可变调度超时（VST）

> From: [eLinux.org](http://eLinux.org/Variable_Scheduling_Timeouts "http://eLinux.org/Variable_Scheduling_Timeouts")

# Variable Scheduling Timeouts

## Rationale

The Linux kernel relies on periodic timer interrupts to allow the kernel:

*   to keep the current time and date up to date,
*   to do accounting,
*   to check if a different task should be dispatched, and
*   to see if software timer service routines should be called.

Even when the processor is otherwise idle, these interrupts occur and cause the processor to be brought out of a power savings mode even though there may not be anything for it to do other than update the time and go back to sleep. The Variable Scheduling Timeouts (VST) feature modifies the kernel to avoid unnecessary timer interrupts, allowing the processor to stay in a power saving mode for longer periods.

## Specification

A kernel SHOULD disable periodic timer interrupt while CPU is idle and there is no scheduled timer. The length of the time interval during which periodic timer interrupt is disabled SHOULD not be more than a value which SHOULD be configurable.

## Notes

More information on VST is available at the community site [`sourceforge.net/projects/high-res-timers/`](http://sourceforge.net/projects/high-res-timers/)

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [ObsoleteInfo](http://eLinux.org/Category:ObsoleteInfo "Category:ObsoleteInfo")

# Ti AM33XX PRUSSv2

> From: [eLinux.org](http://eLinux.org/Ti_AM33XX_PRUSSv2 "http://eLinux.org/Ti_AM33XX_PRUSSv2")

# Ti AM33XX PRUSSv2

The PRUSS (Programmable Real-time Unit Sub System) consists of two 32-bit 200MHz real-time cores, each with 8KB of program memory and direct access to general I/O. These cores are connected to various data memories, peripheral modules and an interrupt controller for access to the entire system-on-a-chip via a 32-bit interconnect bus.

PRUs are programmed in [Assembly](http://en.wikipedia.org/wiki/Assembly_language), with most commands executing in a single cycle and with no caching or pipe-lining, allowing for 100% predictable timings. At 200MHz, most operations will take 5ns (nanoseconds) to execute, with the exception of accessing memory external to PRU.

## Contents

*   1 This is a Work In Progress
*   2 Available PRU Resources
    *   2.1 Per PRU
    *   2.2 Shared Between PRUs
    *   2.3 Local Peripherals
*   3 Communication
    *   3.1 PRU to Host (PRU to ARM Cortex-A8)
    *   3.2 Host to PRU (ARM Cortex-A8 to PRU)
        *   3.2.1 Interrupts
    *   3.3 PRU to external peripherals
    *   3.4 External peripherals to PRU
    *   3.5 PRU to internal peripherals
    *   3.6 Internal peripherals to PRU
*   4 Loading a PRU Program
*   5 Beaglebone PRU connections and modes
*   6 Assembly
    *   6.1 Four instruction classes
    *   6.2 Instruction Syntax
*   7 C Compiler
    *   7.1 TI
    *   7.2 GCC
*   8 Forth Compiler
*   9 Resources
*   10 Examples

#### This is a Work In Progress

## Available PRU Resources

![AM335x
PRUSS](http://eLinux.org/File:PRUSS.png "AM335x PRUSS")

[Click here for a full list of register mappings.](http://eLinux.org/PRUSSv2_Memory_Map "PRUSSv2 Memory Map")

### Per PRU

8KB program memory Memory used to store instructions and static data AKA Instruction Memory (IRAM). This is the memory in which PRU programs are loaded.

Enhanced GPIO (EGPIO) High-speed direct access to 16 general purpose output and 17 general purpose input pins for each PRU.

PRU0 *pr1_pru_0_pru_r30[15:0]* (PRU0 Register R30 Outputs)

*pr1_pru_0_pru_r31[16:0]* (PRU0 Register R31 Inputs)

PRU1 *pr1_pru_1_pru_r30[15:0]* (PRU1 Register R30 Outputs)

*pr1_pru_1_pru_r31[16:0]* (PRU1 Register R31 Inputs)

Hardware capture modes Serial 28-bit shift in and out.

Parallel 16-bit capture on clock.

[MII](http://en.wikipedia.org/wiki/Media_Independent_Interface) standardised capture mode, used for implementing media independent Fast Ethernet (100Mbps - 25MHz 4-bit).

A 32-bit multiply and accumulate unit (MAC) Enables single-cycle integer multiplications with a 64-bit overflow (useful for decimal results).

8KB data memory Memory used to store dynamic data. Is accessed over the 32-bit bus and so not single-cycle.

One PRU may access the memory of another for passing information but it is recommend to use scratch pad or shared memory, see below.

[Open Core Protocol](http://en.wikipedia.org/wiki/Open_Core_Protocol) (OCP) master port Access to the data bus that interconnects all peripherals on the SoC, including the ARM Cortex-A8, used for data transfer directly to and from the PRU in Level 3 (L3) memory space.

### Shared Between PRUs

Scratch pad 3 banks of 30 32-bit registers (total 90 32-bit registers).

Single-cycle access, can be accessed from either PRU for data sharing and signalling or for individual use.

12KB data memory Accessed over the 32-but bus, not single-cycle.

### Local Peripherals

Local peripherals are those present within the PRUSS and not those belonging to the entire SoC. Peripherals are accessed from PRUs over the Switched Central Resource (SCR) 32-bit bus within the PRUSS.

Attached to the SCR bus is also an OCP slave, enabling OCP masters from outside of the PRUSS to access these local peripherals in Level 4 (L4) memory space.

Enhanced Capture Model (eCAP)

Industrial Ethernet Peripheral (IEP)

Universal Asynchronous Receiver/Transmitter (UART0) Used to perform serial data transmission to the TL16C550 industry standard.

16-bit FIFO receive and transmit buffers + per byte error status.

Can generate Interrupt requests for the PRUSS Interrupt Controller.

Can generate DMA requests for the EDMA SoC DMA controller.

Maximum transmission speed of 192MHz (192Mbps - 24MB/s).

## Communication

Communication between various elements of the PRUSS or the wider SoC may take place either directly, over a bus, via interrupts or via DMA.

The following lists will expose all possible communication approaches for each likely scenario.

For communication via interrupts, please first read the section on the [PRUSSv2 Interrupt Controller](http://eLinux.org/PRUSSv2_Interrupt_Controller "PRUSSv2 Interrupt Controller").

[Click here for a full list of PRUSS Interrupts.](http://eLinux.org/PRUSSv2_Interrupts "PRUSSv2 Interrupts")

The current [example PRU loader](https://github.com/beagleboard/am335x_pru_package/blob/master/pru_sw/app_loader/interface/prussdrv.c) uses [UIO](http://arago-project.org/git/projects/?p=linux-am33x.git;a=commit;h=f1a304e7941cc76353363a139cbb6a4b1ca7c737), but this ideally should be replaced with [remoteproc](http://omappedia.org/wiki/Category:RPMsg) rather than poking at the registers from userspace. In the mean time, according to [this discussion:](https://groups.google.com/d/msg/beagleboard/gqCjxh4uZi0/_uIUD8ZF88QJ) we can use the included script and load the uio_pruss userspace driver.

### PRU to Host (PRU to ARM Cortex-A8)

Include the uio_pruss kernel driver by using **modprobe uio_pruss** or the steps outlined above, if that does not work. Then in a project include the header files for the am335x_pru_package.

```
 #define PRU_NUM0      0
   // Driver header file
   #include <prussdrv.h>
   #include <pruss_intc_mapping.h> 
```

/* Then, initialize the interrupt controller data */

```
 tpruss_intc_initdata pruss_intc_initdata = PRUSS_INTC_INITDATA; 
```

/* Initialize the PRU */

```
 prussdrv_init (); 
```

/* Get the interrupt initialized */

```
 prussdrv_pruintc_init(&pruss_intc_initdata) 
```

/* Execute example on PRU0 where first argument is the PRU# and second is the assembly to execute*/

```
 prussdrv_exec_program (PRU_NUM0, "./example.bin"); 
```

/* Wait until PRU0 sends the interrupt*/

```
 prussdrv_pru_wait_event (PRU_EVTOUT_0); 
```

/* Clear the interrupt*/

```
 prussdrv_pru_clear_event (PRU0_ARM_INTERRUPT); 
```

The PRU (in this case 0) will have the following in the example.bin file to trigger the interrupt:

```
 #define PRU0_ARM_INTERRUPT      19
   MOV       r31.b0, PRU0_ARM_INTERRUPT+16 
```

Register 31 allows for control of the INTC for the PRU.

### Host to PRU (ARM Cortex-A8 to PRU)

#### Interrupts

Each PRU has access to host interrupt channels Host-0 and Host-1 through register R31 bit 30 and bit 31 respectively. By probing these registers, a PRU can determine if an interrupt is currently present on each host channel.

To configure

### PRU to external peripherals

### External peripherals to PRU

### PRU to internal peripherals

### Internal peripherals to PRU

## Loading a PRU Program

## Beaglebone PRU connections and modes

| **PRU #** | **R30(output) bit** | **Pinmux Mode** | **R31(input) bit** | **Pinmux Mode** | **BB Header** | **BB Pin Name** | **ZCZ BallName** | **Offset Reg** | **DT Offset** | **Input Mode** | **Output Mode** |
| 0 | 0 | Mode_5 | 0 | Mode_6 | P9_31 | SPI1_SCLK | mcasp0_aclkx | 990h | 0x190 | 0x06 | 0x25 |
| 0 | 1 | Mode_5 | 1 | Mode_6 | P9_29 | SPI1_D0 | mcasp0_fsx | 994h | 0x194 | 0x06 | 0x25 |
| 0 | 2 | Mode_5 | 2 | Mode_6 | P9_30 | SPI1_D1 | mcasp0_axr0 | 998h | 0x198 | 0x06 | 0x25 |
| 0 | 3 | Mode_5 | 3 | Mode_6 | P9_28 | SPI1_CS0 | mcasp0_ahclkr | 99Ch | 0x19C | 0x06 | 0x25 |
| 0 | 4 | Mode_5 | 4 | Mode_6 | P9_42 | (*note1) | mcasp0_aclkr | 9A0h | 0x1A0 | 0x06 | 0x25 |
| 0 | 5 | Mode_5 | 5 | Mode_6 | P9_27 | GPIO3_19 | mcasp0_fsr | 9A4h | 0x1A4 | 0x06 | 0x25 |
| 0 | 6 | Mode_5 | 6 | Mode_6 | P9_41 | (*note2) | mcasp0_axr1 | 9A8h | 0x1A8 | 0x06 | 0x25 |
| 0 | 7 | Mode_5 | 7 | Mode_6 | P9_25 | GPIO3_21 | mcasp0_ahclkx | 9ACh | 0x1AC | 0x06 | 0x25 |
| 0 | 14 | Mode_6 | N/A |  | P8_12 | GPIO1_12 | gpmc_ad12 | 830h | 0x030 | N/A | 0x25 |
| 0 | 15 | Mode_6 | N/A |  | P8_11 | GPIO1_13 | gpmc_ad13 | 834h | 0x034 | N/A | 0x25 |
| 0 | N/A |  | 14 | Mode_6 | P8_16 | GPIO1_14 | gpmc_ad14 | 838h | 0x038 | 0x06 | N/A |
| 0 | N/A |  | 15 | Mode_6 | P8_15 | GPIO1_15 | gpmc_ad15 | 83Ch | 0x03C | 0x06 | N/A |
| 0 | N/A |  | 16 | Mode_6 | P9_24 | UART1_TXD | uart1_txd | 984h | 0x184 | 0x06 | N/A |
| 1 | 0 | Mode_5 | 0 | Mode_6 | P8_45 | GPIO2_6 | lcd_data0 | 8A0h | 0x0A0 | 0x06 | 0x25 |
| 1 | 1 | Mode_5 | 1 | Mode_6 | P8_46 | GPIO2_7 | lcd_data1 | 8A4h | 0x0A4 | 0x06 | 0x25 |
| 1 | 2 | Mode_5 | 2 | Mode_6 | P8_43 | GPIO2_8 | lcd_data2 | 8A8h | 0x0A8 | 0x06 | 0x25 |
| 1 | 3 | Mode_5 | 3 | Mode_6 | P8_44 | GPIO2_9 | lcd_data3 | 8ACh | 0x0AC | 0x06 | 0x25 |
| 1 | 4 | Mode_5 | 4 | Mode_6 | P8_41 | GPIO2_10 | lcd_data4 | 8B0h | 0x0B0 | 0x06 | 0x25 |
| 1 | 5 | Mode_5 | 5 | Mode_6 | P8_42 | GPIO2_11 | lcd_data5 | 8B4h | 0x0B4 | 0x06 | 0x25 |
| 1 | 6 | Mode_5 | 6 | Mode_6 | P8_39 | GPIO2_12 | lcd_data6 | 8B8h | 0x0B8 | 0x06 | 0x25 |
| 1 | 7 | Mode_5 | 7 | Mode_6 | P8_40 | GPIO2_13 | lcd_data7 | 8BCh | 0x0BC | 0x06 | 0x25 |
| 1 | 8 | Mode_5 | 8 | Mode_6 | P8_27 | GPIO2_22 | lcd_vsync | 8E0h | 0x0EO | 0x06 | 0x25 |
| 1 | 9 | Mode_5 | 9 | Mode_6 | P8_29 | GPIO2_23 | lcd_hsync | 8E4h | 0x0E4 | 0x06 | 0x25 |
| 1 | 10 | Mode_5 | 10 | Mode_6 | P8_28 | GPIO2_24 | lcd_pclk | 8E8h | 0x0E8 | 0x06 | 0x25 |
| 1 | 11 | Mode_5 | 11 | Mode_6 | P8_30 | GPIO2_25 | lcd_ac_bias_en | 8ECh | 0x0EC | 0x06 | 0x25 |
| 1 | 12 | Mode_5 | 12 | Mode_6 | P8_21 | GPIO1_30 | gpmc_csn1 | 880h | 0x080 | 0x06 | 0x25 |
| 1 | 13 | Mode_5 | 13 | Mode_6 | P8_20 | GPIO1_31 | gpmc_csn2 | 884h | 0x084 | 0x06 | 0x25 |
| 1 | N/A |  | 16 | Mode_6 | P9_26 | UART1_RXD | uart1_rxd | 980h | 0x180 | 0x06 | NA |

```
*Note1: The PRU0 Registers{30,31} Bit 4 (GPIO3_18) is routed to P9_42-GPIO0_7 pin.  You MUST set GPIO0_7 to input mode in pinmuxing.

*Note2: The PRU0 Registers{30,31} Bit 6 (GPIO3_20) is routed to P9_41-GPIO0_20(CLKOUT2). You must set GPIO0_20 to input mode in pinmuxing. 
```

## Assembly

The complete list of PRU assembly instructions can be found [at TI](http://processors.wiki.ti.com/index.php/PRU_Assembly_Instructions).

### Four instruction classes

*   Arithmetic
*   Logical
*   Flow Control
*   Register Load/Store

### Instruction Syntax

*   Mnemonic, followed by comma separated parameter list
*   Parameters can be a register, label, immediate value, or constant table entry
*   Example
    *   SUB r3, r4, 10
    *   Subtracts immediate value 10 (decimal) from the value in r4 and then places the result in r3 (or r3 = r4 - 10)

## C Compiler

### TI

*   [TI C Compiler download](http://software-dl.ti.com/codegen/non-esd/downloads/download.htm#PRU)
*   [TI Code Composer Studio](http://www.ti.com/tool/ccstudio-sitara)
*   [CCS PRU compiler release discussion on Element14 site](http://www.element14.com/community/community/knode/single-board_computers/next-gen_beaglebone/blog/2014/04/30/bbb--pru-c-compiler)

### GCC

*   [GCC C wiki](https://github.com/dinuxbg/gnupru/wiki)
*   [GCC C compiler source](https://github.com/dinuxbg/gnupru)
*   [GCC C compiler announcement](https://groups.google.com/forum/#!topic/beagleboard/hC5OwPXuSmQ)

## Forth Compiler

*   [Forth for PRU](https://github.com/biocode3D/prufh)

## Resources

*   [PRU FAQ](https://groups.google.com/forum/?fromgroups#!topic/beagleboard/u28ytaoNenU)
*   [AM335x PRU support package on Github](https://github.com/beagleboard/am335x_pru_package)
*   [AM335x PRU-ICSS Reference Guide](https://github.com/beagleboard/am335x_pru_package/blob/master/am335xPruReferenceGuide.pdf?raw=true)
*   The documentation on the subsystem is [here](http://eLinux.org/images/6/65/Spruh73c.pdf "Spruh73c.pdf"). TI does not support this subsystem and all questions/inquires/problems should be directed to the community.
*   Example for the first PRU version (Ti AM18XX and other DSP) [`www.ti.com/tool/sprc940`](http://www.ti.com/tool/sprc940)
*   [Element14 write-up on using PRU](http://www.element14.com/community/community/knode/single-board_computers/next-gen_beaglebone/blog/2013/05/22/bbb--working-with-the-pru-icssprussv2)

*   [PRU assembly syntax highlighting for TextMate, Sublime Text, etc.](https://github.com/sagedevices/ti-pruv2-assembly-textmate-bundle)

*   A userspace [debugging utility](https://docs.google.com/file/d/0B80aJokrBccAV1paMTU0bjM1OXc/edit?usp=sharing) with credit to PRU_EVTOUT_2 from the #beagle IRC channel.

*   ncurses based debugger work has started at [here](https://github.com/wz2b/prude).
*   A classic CLI debugger is available on SourceForge called [prudebug](http://sourceforge.net/projects/prudebug).
*   For using the Open Core Protocol to [access external memory](http://nomel.org/post/30006622413/beaglebone-tutorial-accessing-main-memory-from-the-pru) from the PRU.
*   Jason Kridner's presentation at Pumping Station: One - [video](http://videos.pumpingstationone.org/video/27/real-time-programming-with-beaglebone-prus) [slides](http://beagleboard.org/static/PumpingStationOne20140628_Real-timeProgrammingWithBeagleBonePRUs.pptx.pdf)

## Examples

*   [BeagleBone_6502_RemoteProc_cape](http://eLinux.org/BeagleBone_6502_RemoteProc_cape "BeagleBone 6502 RemoteProc cape")
*   [BeagleBone Nixie Cape PRU App](https://github.com/mranostay/beagle-nixie)
*   [PRU Soft UART Driver](http://processors.wiki.ti.com/index.php/Soft-UART_Implementation_on_AM335X_PRU_-_Software_Users_Guide)
*   [PRU Projects](http://processors.wiki.ti.com/index.php/PRU_Projects)
*   [SPI ADC](http://exploringbeaglebone.com/chapter13/#prettyPhoto)

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [ECE497](http://eLinux.org/Category:ECE497 "Category:ECE497")
*   [BeagleBone](http://eLinux.org/index.php?title=Category:BeagleBone&action=edit&redlink=1 "Category:BeagleBone (page does not exist)")
*   [PRU](http://eLinux.org/Category:PRU "Category:PRU")

# 启动时间

> 原文：[eLinux.org](http://eLinux.org/Boot_Time "http://eLinux.org/Boot_Time")
> 翻译：[@lzufalcon](https://github.com/lzufalcon)
> 校订：[@ibrother](https://github.com/ibrother)

# 启动时间

## 目录

*   1 简介
*   2 技术/项目主页
    *   2.1 测量启动时间
    *   2.2 用于减少启动时间的技术和技巧
        *   2.2.1 引导程序（Bootloader）加速
        *   2.2.2 内核加速
            *   2.2.2.1 文件系统方面的问题
        *   2.2.3 用户空间和应用程序加速
        *   2.2.4 系统休眠相关的改进
        *   2.2.5 杂项
        *   2.2.6 一些未经验证的想法
*   3 文章和演讲稿
    *   3.1 案例研究
*   4 其他的项目/邮件列表/资源
    *   4.1 SysV 'init' 的替代品
        *   4.1.1 busybox init
        *   4.1.2 upstart
        *   4.1.3 Android init
        *   4.1.4 systemd
    *   4.2 Kexec
    *   4.3 启动画面（Splash Screen）项目
    *   4.4 其他
*   5 正在从事快速启动工作的公司、个人或者项目
*   6 启动时间检查清单

## 简介

本章包含的话题有启动时间的测量、分析、人因工程（human factors）、初始化技术和优化技巧等。

产品花在启动方面的时间直接影响终端用户对该产品的第一印象。

一个消费电子设备不管如何引人注目或者设计得怎么好，设备从关机状态到可交互的使用状态所需的时间对于获得正面的用户体验尤为关键。案例 #1 就是在关机状态从头启动一个设备的例子。

启动一个设备涉及到许多步骤和一系列的事件。为了使用前后一致的术语，消费电子 Linux 论坛（CE Linux Forum）的启动时间优化工作组起草了一个术语词汇表，该表包括了相关术语在该领域内通用的定义。该词汇表如下：

*   启动时间相关的词汇表

## 技术/项目主页

下面主要介绍与减少 Linux 启动时间有关的各种技术。

有一部分描述了 eLinux.org 上可以下载的本地补丁，而其余部分则介绍了在其他地方维护的项目或者补丁。

### 测量启动时间

*   Printk Times - 用于显示每个 printk 的执行时间
*   内核函数跟踪（Ftrace） - 用于报告内核中每个函数的调用时间
*   Linux 跟踪工具箱（LTT） - 用于报告确切的内核和进程事件的时间数据
*   [Oprofile（译注：最新替代品是 perf）](http://oprofile.sourceforge.net/news/) - 通用的 Linux 分析器（Profile）
*   Bootchart - 用于 Linux 启动过程的性能分析和数据展示。收集启动过程中的用户空间部分的资源使用情况和进程信息，然后渲染成 PNG、SVG 或者 EPS 格式的图表。
*   [Bootprobe](http://people.redhat.com/berrange/systemtap/bootprobe/) - 一组用于分析系统启动过程的 System Tap 脚本
*   当然，别忘了 `cat /proc/uptime` （译注：统计系统已经运行的时间）
*   grabserial - Tim Bird （译注：CE Linux Forum 主席）写的一个非常赞的工具用于记录控制台输出并打上时间戳
*   进程跟踪 - 同样是 Tim Bird 写的一个简单补丁，用于记录 exec、fork 和 exit 系统调用。
*   [ptx_ts](http://pengutronix.de/software/ptx_ts/index_en.html) - Pengutronix 的时间戳记录器（TimeStamper）：一个简单的过滤器，可前置时间戳到标准输出（STDOUT）上，有点像 grabserial 但是不限于串口。
*   Initcall（内核初始化函数）调试 - 一个用于显示 initcalls 所花时间的内核命令行选项
*   也可以看下: Kernel 检测工具，里头列举了一些已知的内核检测工具，这些对于测量内核启动时间来说可能会有帮助。

### 减少启动时间的技术和技巧

#### 引导程序（Bootloader）加速

*   就地执行（XIP）内核 - 允许内核在 ROM 或者 FLASH 上就地执行（XIP）
*   在启动时通过 DMA 拷贝内核镜像
    *   使用 DMA 从闪存（Flash）拷贝内核镜像文件到内存中
*   采用未压缩的内核 - 一个未压缩的内核或许可以更快启动
*   快速内核解压

#### 内核加速

*   关闭控制台 - 避免启动过程中的控制台输出开销（译注：尤其是串口控制台，会严重拖慢系统启动，甚至带来各种实时问题）
*   关闭调试接口 和 `printk` - 避免调试接口和`printk`带来的开销，缺点是将丢失大量（对于调试可能有用）的信息
*   不同步 RTC - 避免在启动时延迟用 RTC 时钟边沿同步系统时间（可能带来时钟漂移）
*   更短的 IDE 延迟时间 - 减少 IDE 启动延迟的持续时间（有效但是可能危险）
*   硬编码内核模块信息 - 通过硬编码用于加载重定位信息的内容来减少加载模块的开销
*   不侦测 IDE - 强制内核使用 `ide<x>=noprobe` 命令行选项，从而绕过 IDE 侦测
*   预设 LPJ - 允许使用一个预设的 `loops_per_jiffy`（同样可以通过内核命令行选项设置）
*   异步函数调用 - 允许侦测（Probe）函数或者其他函数并行处理，从而让耗时的启动活动并行起来
    *   设备侦测函数线程化 - 允许驱动并行地侦测设备（译注：没有提交到主线，不过内核有其他类似优化，比如异步函数调用，见 `kernel/async.c`）
*   重排驱动初始化过程
    *   允许驱动总线侦测尽可能快地启动（译注：总线 Probe 完以后，挂在上面的设备就可以相应地尽快完成 Probe）
*   延迟 Initcalls - 延迟不重要的模块初始化函数到主要启动过程之后
*   NAND ECC（Error Correcting Code）技术改进 - 2.6.28 之前的 `nand_ecc.c` 有改进的空间，可以从 [mtd git 仓库](http://git.infradead.org/mtd-2.6.git?a=blob_plain;f=drivers/mtd/nand/nand_ecc.c;hb=HEAD) 找到这样一个改善的版本，相应文档在[这里](http://git.infradead.org/mtd-2.6.git?a=blob_plain;f=Documentation/mtd/nand_ecc.txt;hb=HEAD)。这个当且仅当系统使用软 ECC 校验时才有效
*   检查内核正在使用哪个内存分配器，Slob 或者 Slub 可能比 Slab 更好，早期内核默认使用 Slab，可根据需要切换为 Slob 或者 Slub
*   如果系统不需要，可以从内核中去掉 SYSFS 甚至 PROCFS 支持。一项测试表明删掉 SYSFS 可以节省 20 ms
*   仔细调研所有的内核配置选项，看看它们是否有用。即使选上的选项最终没有用到，它也可能增加内核尺寸因而会增加内核加载时间（假设没有使用就地执行 XIP 功能）。通常，这个需要一些试验和测试！例如，选上 `CONFIG_CC_OPTIMIZE_FOR_SIZE`（在内核的 `General Setup` 配置菜单下面）在一个案例中能够产生 20ms 的启动优化。虽然不是很显著，但是对于启动时间优化来说，积少成多就能看到效果（Not dramatic, but when reducing boot time every penny counts!）。

*   迁移到一个不同的编译器版本可能会产生更短和更快的代码。通常，新的编译器能够产生更优的代码。你也可以玩转一下各种编译器选项看看哪些表现最好。

*   如果在内核中用上 initramfs 和压缩了的内核，那么最好是不要再压缩 initramfs。这个主要是为了避免重复两次解压数据。一个针对该问题的补丁被提交到了 LKML（译注：Linux 内核邮件列表）：[`lkml.org/lkml/2008/11/22/112`](http://lkml.org/lkml/2008/11/22/112)

##### 文件系统方面的问题

对于同样的数据集，不同的文件系统拥有不同的初始化（即挂载，mounting）时间，这取决于元数据（meta-data）是否必须从存储器读到内存并且在挂载过程中使用哪种算法。

*   文件系统信息 - 介绍了各种文件系统启动时间相关的信息
*   文件系统 - 嵌入式系统关注的各类文件系统，也包括一些优化建议
*   避免使用 Initramfs - 解释了如果想极小化启动时间的话为什么不能使用 initramfs
*   拆分分区。如果挂载一个文件系统耗费太久，那么可以考虑把一个文件系统拆分成两部分，一部分带有在启动时或者启动后立即需要的信息，而另外一部分可以（延迟到）后面挂载
*   Ramdisks 用法澄清 - 解释为什么使用 Ramdisk 通常会引起更长的启动时间而不是更短

#### 用户空间和应用程序加速

*   优化 RC 脚本 - 减少执行 RC 脚本的开销
*   并行执行 RC 脚本 - 以并行而不是串行方式执行 RC 脚本
*   就地执行应用程序 - 允许程序和库能够在 ROM 和 FLASH 中就地执行
*   预链接 - 避免在首次加载程序时进行运行时链接
*   静态链接应用程序。这样可以避免运行时链接。如果应用程序少的话会有用，这样也可以减少镜像文件的大小，因为不再需要动态库。
*   `GNU_HASH`: 在动态链接时有大约 50% 左右的速度改善
    *   可以看[这里](http://sourceware.org/ml/binutils/2006-06/msg00418.html)
*   应用程序初始化优化 - 通过如下方法优化程序加载和初始化时间：
    *   使用 mmap vs. read
    *   采用页映射的特性
*   把模块编译到内核镜像中
    *   通过把模块加到内核镜像中可以避免模块加载的额外开销
*   加速模块加载 - 使用 Alessio Igor Bogani 的内核补丁来改善模块加载时间：[加速符号定位进程](http://comments.gmane.org/gmane.linux.kernel.embedded/3508)。
*   避免使用 `udev`，因为它花费相当一部分时间来构建 `/dev` 目录。在嵌入式系统中，通常会事先知道需要哪些设备，在哪些情况下用哪些驱动，所以我们知道在 `/dev` 下，哪些设备入口需要创建，这些应该静态而不是动态创建。所以，在这里，`mknod` 是友，`udev` 是敌。
*   如果你还是喜欢 `udev` 而且也喜欢快速启动，也可以尝试这种方法：在系统启动时开启 `udev` 并备份它创建的设备节点。接着，修改系统的初始化脚本成这样：不再运行 `udev`，而是把刚备份的设备节点拷贝到 `/dev` 目录中，之后再像往常一样安装热插拔守护进程（即 `udev`）。这个戏法避免了启动时的设备节点创建但是还是可以让系统在之后（按需动态）创建设备节点。
*   如果设备有连接网络，最好使用静态 IP 地址。通过 DHCP 获取地址会增加时间并产生相应的额外开销。
*   迁移到不同的编译器版本可以产生更短和更快的代码。通常新编译器产生更优的代码。你也可以玩转各个选项看看哪个最佳。
*   如果可能，从 glibc 转到 uClibc。这个会产生更小的可执行文件因此会有更快的加载时间。
*   库优化工具：[`libraryopt.sourceforge.net/`](http://libraryopt.sourceforge.net/)

    该工具允许创建优化的库。不需要的函数会被移除因此而获得更好性能。正常情况下，有些库所占用的内存页面包含不会用到的代码（临近用到的代码），经过优化后，这种情况不会再发生，所以可以花更少的内存页面因此会有更少的内存加载，结果一些时间就会省掉。

*   [函数重排](http://www.celinux.org/elc08_presentations/DDLink%20FunctionReorder%2008%2004.pdf)

    这是一种技术，用于重排可执行文件中的函数，确保它们根据需要依次出现。它可以改善应用程序加载的时间，因为所有的初始化代码被打包成一组页面，而不是离散成多个不同的页面。

#### 系统休眠相关的改进

另外一个改善启动时间的途径是利用休眠相关的机制。已知的两种方案是：

*   使用标准的休眠/唤醒方案。这个已经由来自三星的 Chan Ju, Park 演示过。看表格 23 以及之后的内容：[PPT](http://eLinux.org/images/9/98/LinuxBootupTimeReduction4DSC.ppt "LinuxBootupTimeReduction4DSC.ppt") 以及这篇[论文](http://www.kernel.org/doc/ols/2006/ols2006v2-pages-239-248.pdf) 的第 2.7 节。

    该方法的一个问题是闪存写比闪存读慢很多，所以实际上创建一个休眠镜像可能消耗相当长的一段时间。

*   实现快照启动。这个由 Sony 的 Hiroki Kaminaga 完成并且描述在 ARM 快照启动 和 [Snapshot-boot-final.pdf](http://elinux.org/images/3/37/Snapshot-boot-final.pdf)

    这个类似上述休眠/唤醒方案。但是休眠文件被保留并且在每次启动时使用。缺点是在制作快照时不可以挂载可写分区，否则当分区被修改，而休眠文件中的应用在映像中有未修改分区有关的信息时，就会产生不一致性。

#### 杂项

关于压缩 一文讨论了压缩技术在启动时间优化方面的效果。这个能够影响内核与用户空间两者的启动时间。

#### 一些未经验证的想法

该节只是对没来得及实现但可能利于启动优化的一些想法做一个记录。

*   **预填充的缓冲区高速缓存** - 因为 initramfs 执行了额外的数据拷贝，所以想法是可以有一个预填充的缓冲区高速缓存。一种简单的场景是当启动完成并且应用初始化完了以后，就允许把缓冲区高速缓存转存出来。然后这个数据可以在后续的启动中用于初始化缓冲区高速缓存（当然不需要拷贝了）。一种可能的方法是把这些数据直接打包到内核镜像中并直接使用，当然也可以选择分开加载。不幸地是，我现在具有的这块知识不足以做一个简单的实现。注意事项：
    *   是否可能把缓冲区高速缓存拆分成两个不同的部分，一个静态分配，另外一个动态分配？
    *   预填充的缓冲区高速缓存的内存页可能不能丢弃，所以他们需要被固定保护起来。
    *   除了缓冲区高速缓存数据外，一些其他的变量也可能需要保存
    *   类似的方法对于文件数据缓存也可能有效

*   **专用文件系统** - 当前的文件系统中有大量的抽象，这些抽象方便了新文件系统的添加并且为所有文件系统创建了统一视图。无疑这个设计很漂亮整洁，但是这些抽象层也引入了一些开销。一种解决方案或许是创建一个专有的文件系统，只支持 1 到 2 种文件系统，从而可以消除抽象层带来的开销。这或许会有用，不过合并到主线的几率为 0 。

## 文章和演讲稿

*   [嵌入式 Linux 启动时间优化研讨会材料](http://free-electrons.com/doc/training/boot-time/)

    *   由 Free Electrons 提供
    *   一则关于启动时间优化技术的演讲稿 - Atmel SAMA5 硬件上的实际实验情况
*   "启动时间优化" - （[幻灯](http://elinux.org/images/d/d1/Alexandre_Belloni_boottime_optimizations.pdf)

    *   Alexandre Belloni 于 2012 年 11 月 6 日 在 ELC Europe 上做的报告
    *   [Free-Electrons 上的入口](http://free-electrons.com/blog/elce-2012-videos/)

*   "减少启动时间的正确途径" - （[幻灯](http://elinux.org/images/f/f7/RightApproachMinimalBootTimes.pdf)
    *   Andrew Murray 于 2010 年 10 月 28 日 在 ELC Europe 上做的报告
    *   这个包含一个 1 秒钟启动的针对 SH7724 的 QT Linux 冷启案例研究，也有用户空间函数重排的信息
    *   类似的幻灯片，关于 1 秒钟启动的针对 OMAP3530EVM 的案例研究，可以从[这里](http://www.slideshare.net/andrewmurraympc/t-iswift-boot) 找到。
*   "1 秒钟的 Linux 启动演示（新版）" ([Youtube 视频（来自 MontaVista）](http://www.youtube.com/watch?v=-l_DSZe8_F8))
*   "用于减少启动时间的工具和技巧" - （[幻灯](http://eLinux.org/images/9/98/Tools-and-technique-for-reducing-bootup-time.ppt "Tools-and-technique-for-reducing-bootup-time.ppt") | [ODP](http://eLinux.org/images/4/40/Tools-and-technique-for-reducing-bootup-time.odp "Tools-and-technique-for-reducing-bootup-time.odp") | [PDF](http://eLinux.org/images/d/d2/Tools-and-technique-for-reducing-bootup-time.pdf "Tools-and-technique-for-reducing-bootup-time.pdf")
    *   Tim Bird 于 2008 年 11 月 7 日 在 ELC Europe 报告，展示了他当时收集的一些减少启动时间的技巧
    *   Tims 开发的快速启动工具 提供了一些关于该报告的在线材料

*   [Christopher Hallinan](http://www.mvista.com/download/author.php?a=37) 于 2008 年在 MontaVista 视讯会议上做了一个关于如何减少启动时间的报告，幻灯在[这里](http://www.mvista.com/download/power/Reducing-boot-time-techniques-for-fast-booting.pdf)
*   [优化链接器加载时间](http://lwn.net/Articles/192082/)

    *   介绍各类启动时间优化、预链接等
*   [X86 上的启动延迟基准测试](http://benyossef.com/benchmarking-boot-latency-on-x86/)

    *   由 Gilad Ben-Yossef 于 2008 年 7 月完成
    *   该教程关于如何使用 TSC 寄存器和内核的 `PRINTK_TIMES` 特性来测量 x86 系统启动时间，包括 BIOS、引导程序、内核以及第一个用户程序。
*   [嵌入式 Linux 的快速启动](http://tree.celinuxforum.org/CelfPubWiki/KoreaTechJamboree3?action=AttachFile&do=get&target=The_Fast_Booting_of_Embedded_Linux.pdf)

    *   来自韩国 ETRI 的 HoJoon Park 于 2008 年 7 月 在 CELF [3rd Korean Technical Jamboree](http://tree.celinuxforum.org/CelfPubWiki/KoreaTechJamboree3) 做的报告。
    *   解释了用于减少不同阶段启动时间的不同技术
*   Tim Bird 做的关于启动时间优化技术的调查：

    *   [用于优化 Linux 启动时间的方法](http://kernel.org/doc/ols/2004/ols2004v1-pages-79-88.pdf)
        *   为 2004 年 Ottawa Linux 专题研讨会准备的论文
    *   [减少嵌入式 Linux 系统的启动时间](http://eLinux.org/images/7/78/ReducingStartupTime_v0.8.pdf "ReducingStartupTime v0.8.pdf")
        *   2003 年 11 月的报告，描述了一些存在的启动时间优化技术和策略
*   在消费电子设备上并行化 Linux 启动 - （[PDF](http://tree.celinuxforum.org/CelfPubWiki/ELCEurope2007Presentations?action=AttachFile&do=view&target=par.pdf)

*   [通过应用并行来获得更快的 Linux 启动速度](http://www.ibm.com/developerworks/cn/linux/l-boot-faster/)

    *   由来自 IBM Developer Works 的 M. Tim Jones 撰写
    *   该文展示了一些用于提高 Linux 启动速度的选项，包括两个用于并行初始化过程的方法，也展示了如何用图形可视化启动过程的性能数据。
*   [Android 启动时间优化](http://www.slideshare.net/kanru/android-boot-time-optimization)

    *   由来自 0xlab 的 Kan-Ru Chen 撰写
    *   该报告涵盖了 Android 启动时间测量、分析、以及提出的一些优化方法、基于休眠的优化技术以及一些潜在的 Andriod 用户空间优化技术。
*   TI 嵌入式处理器的维基也提供了一些信息，描述了 Linux/Android 启动时间的优化过程

    *   [Linux 启动时间优化](http://processors.wiki.ti.com/index.php/Optimize_Linux_Boot_Time)
    *   [Android 启动时间优化](http://processors.wiki.ti.com/index.php/Android_Boot_Time_Optimization)
*   [实现 Android 的检查点技术（Checkpointing）](http://www.slideshare.net/jserv/implement-checkpointing-for-android-elce2012)

    *   由 0xlab 的 Kito Cheng 和 Jim Huang 撰写
    *   实现 Android 检查点技术（Checkpointing）的原因
        *   恢复到事先存储的状态可以获得更快的 Android 启动时间
        *   基于定期检查点技术可以获得更好的产品试用体验

### 案例研究

*   [在用 NAND 的 ARM 机器上做到从引导程序启动到 Shell 只花 300 ms](http://www.makelinux.com/emb/fastboot/omap)
*   三星的关于数码照相机的可行性（Proof-Of-Acceptability）研究，看这里：[启动时间优化 PPT](http://eLinux.org/images/9/98/LinuxBootupTimeReduction4DSC.ppt "LinuxBootupTimeReduction4DSC.ppt") 和 [论文](http://www.kernel.org/doc/ols/2006/ols2006v2-pages-239-248.pdf)
*   [1 秒内把 Linux 从关机状态启动到用户空间](https://docs.blackfin.uclinux.org/doku.php?id=fast_boot_example)
    *   在该文中，Robin Getz 描述了用于加速 blackfin 开发板的技术
*   [在 3.2 秒内启动 Linux dm365 网络照相机](http://e2e.ti.com/support/embedded/f/354/t/51158.aspx)
*   [在 0.5 秒内启动内核和 Shell (不包括 U-boot 和解压)](http://e2e.ti.com/support/dsp/davinci_digital_media_processors/f/100/p/7616/30088.aspx)
*   [Warp2, Lineo Solutions, 2008 年，2.97 秒启动, ARM11, 400MHz](http://www.theinquirer.net/inquirer/news/1049451/linux-boots)

## 其他的项目/邮件列表/资源

### SysV 'init' 的替代品

启动 Linux 系统的传统方法是用 `/sbin/init`，它是一个初始化程序，负责解析 `/etc/inittab`，并能够针对不同的运行级别和系统事件（各类按键组合和电源事件）产生一系列动作。

可查看 [init(8) 手册页](http://linux.die.net/man/8/init) 和 [inittab(5) 首页页](http://linux.die.net/man/5/inittab) 获取更多信息。

#### busybox init

BusyBox 通常包含一个 `init` 小程序。

截止 2000 年，Busybox init 和全功能的 init 之间，`inittab` 支持的特性稍微有些差异。但是不知道到 2010 以后（译注：现在都 2015 年了，看来这个文章真地有点老了，后面有时间很多材料得好好整理下），情况是否依旧。可以从[这里](http://spblinux.de/2.0/doc/init.html)看到一些细节。

Denys Vlasenko, Busybox 的维护人员之一，曾经建议用名叫 `runsv` 的工具替换掉传统的 `init`，可以看下[这里](http://busybox.net/~vda/init_vs_runsv.html)。

#### upstart

`upstart` 是一个新的 Linux 桌面工具，它提供了 `/sbin/init`，但是实现了不同的操作语义：

*   首页：[`upstart.ubuntu.com/`](http://upstart.ubuntu.com/)
*   维基百科地址：[`en.wikipedia.org/wiki/Upstart`](http://en.wikipedia.org/wiki/Upstart)

#### Android init

Android `init` 是专门为启动 Andriod 系统而定制的程序，看[这里](http://eLinux.org/Android_Booting#.27init.27 "Android Booting")。

#### systemd

systemd 是一个新的项目 (就当时 2010 年 5 月而言)，用于在 Linux 桌面系统中启动守护进程和服务，可以看看[这里](http://0pointer.de/blog/projects/systemd.html)。

### Kexec

*   Kexec 允许系统不经 BIOS 重启（注：与通常的重启不同）。也就是说，一个 Linux 内核可以无需进入引导程序就能直接启动另外一个 Linux 内核，白皮书在[kexec.pdf](http://elinux.org/images/2/2f/ELC-2010-Damm-Kexec.pdf)。
    *   这里是另外一篇文章：[使用 kexec 快速重启 Linux](http://www.ibm.com/developerworks/cn/linux/l-kexec/index.html)

### 启动画面（Splash Screen）项目

*   [Splashy](https://wiki.archlinux.org/index.php/Splashy_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)) - 一种在启动过程的早期阶段放置启动画面的技术，这个是用户空间代码。
    *   这个貌似是最新的启动画面技术，为主流发行版所用。为了支持该技术，需要在内核中添加一个 Framebuffer 驱动。
*   [Gentoo Splashscreen](https://wiki.gentoo.org/wiki/Fbsplash) - 一种在启动过程早期放置启动画面的新技术
*   [PSplash](http://git.yoctoproject.org/cgit/cgit.cgi/psplash) - PSplash 是一种用户空间的图形化引导启动画面，主要针对嵌入式 Linux 设备，支持 16bpp 或者 32bpp 的帧缓冲。

### 其他

*   [基于休眠快照启动](http://tree.celinuxforum.org/CelfPubWiki/) - 一种用软件唤醒来快速启动系统的技术

## 正在从事快速启动的公司、个人或者项目

*   Intel - Arjan van de Ven - see [`lwn.net/Articles/299483/`](http://lwn.net/Articles/299483/)
*   fastboot Git 仓库 - see [`lwn.net/Articles/299591/`](http://lwn.net/Articles/299591/)
*   Free Electrons - [`free-electrons.com/services/boot-time/`](http://free-electrons.com/services/boot-time/)

## 启动时间检查清单

可以从 2009 年 8 月的一个关于 ARM 设备上启动时间的讨论中找到一些事关启动时间优化的提示和建议。

虽然可能会重复本文中已经介绍的内容，但是咱们还是从上述讨论中提取了一个检查清单（译注：可以方便启动优化时做检查）：

*   CPU 时钟频率切到最大了吗？如果内核、引导程序或者硬件负责设置 CPU 功率和速度，那么我们得确保各 CPU 用最大速度而不是最低速度启动。

*   SOC 上的内存接口硬件（寄存器）的定时配置（例如 RAM 和 NOR/NAND 定时）优化过吗？许多供应商卖硬件时采用保守的设置：“好吧，工作了，以后再优化”。我们想要的配置是：“尽可能地快，但是还得稳定且可靠”。这部分可能需要一些硬件知识并且必须为不同内存设备做不同配置（译注：不同内存设备特性不一样，比如说工作频率会有差异）。

*   我们的引导程序用了指令和数据缓存吗？例如 U-Boot 在 ARM 设备上默认没有使能数据缓存，因为要使能数据缓存，需要额外定制 MMU 表。

*   内核从存储设备（例如 NOR 或者 NAND）拷贝到内存中使用了优化过的方法吗？比如 DMA 或者是 ARM 上至少得用上 `load/store multiple` 命令（ldm/stm）？

*   如果用 U-boot 的 uImage，在启动参数中设置 `verify=no` 可以避免校验码验证。

*   优化内核的尺寸

    *   可以尝试一些针对嵌入式系统的内核配置选项，例如，消除所有的 printk 字符串，减少数据结构或者消除不需要的功能。
*   拷贝了几次内核镜像数据？第一次由引导程序从存储设备拷到内存，然后内核的解压程序负责解压到最终的位置？如果使用压缩了的内核和 NOR 闪存，可以考虑在 NOR 闪存中就地执行（XIP）解压器。

*   如果使用了压缩内核，检查下压缩算法。zlib 在解压方面较慢，而 lzo 则更快。所以如果采用 lzo 压缩，我们也可以加速一些东西（可以从 LKML 查看这些）。如果没有任何压缩也可能是一件好事（看下一个话题）。

*   检查是否使用了未压缩的内核（根据系统配置）。在闪存系统上使用未压缩的内核可以优化启动时间。原因是当存储设备的速率低于解压速率时，压缩过的内核才有优势（译注：拷贝时间 v.s. 解压时间）。在支持 DMA 的典型嵌入式系统上，其读取到内存的速率胜过基于 CPU 的解压速率。当然，这取决于很多方面，比如闪存控制器的性能、内核存储文件系统性能、DMA 控制器性能、缓存架构等。所以，每个系统会有个体差异。举例来说：使用未解压的内核（约 2.8MB）解压（在 NOR 闪存中就地执行解压程序）比从闪存拷贝 2.8MB 内核到内存中多花费了约 0.5 秒。

*   使用提前计算好的 `loops-per-jiffy`，（译注：然后通过内核命令行参数传给内核，可避免执行重新计算的代码）

*   使能内核 `quiet` 选项（译注：可关闭控制台输出）

*   如果使用 UBI 文件系统：UBI 用到 MTD 设备上相当缓慢。细节在 MTD 的 [UBI 伸缩性](http://www.linux-mtd.infradead.org/doc/ubi.html#L_scalability) 一文中有解释。如果不用 UBI2，我们基本啥也优化不了，UBIFS 将没啥用（UBIFS would stay intact），有一些关于这个的讨论，并且貌似要做 UBI2 相当困难：（[一些想法](http://www.linux-mtd.infradead.org/faq/ubi.html#L_attach_faster)）。

    *   紧跟着的邮件里头，Sascha Hauer 写到：

    > "非常有趣的是，内核 NAND 驱动比 U-boot 中的慢很多，看完发现结果是内核驱动用了中断来判断控制器是否准备好，换成轮询以后 NAND 的性能提升了一倍。UBI 挂载更快并且这个为启动过程又省掉了几秒钟 :-) “

*   启动时使用静态设备节点，之后再设置 Busybox mdev 来做动态热插拔

*   如果使能了网络，那么在网络代码路径中可能会有很长的超时设定，具体取决于是否指定了静态地址。可以看下 `net/ipv4/ipconfig.c` 文件中的定义：`CONF_PRE_OPEN` 和 `CON_POST_OPEN` 以及[IP 延迟配置补丁](http://patchwork.kernel.org/patch/31678/).

*   并行化启动过程

*   关闭该选项："Set system time from RTC on startup and resume"，可避免减慢内核启动。（要实现 RTC 同步），我们可以在 init 末尾使用 `hwclock -s` 命令。

[分类](http://eLinux.org/Special:Categories "Special:Categories"):

*   [启动时间](http://eLinux.org/Category:Boot_Time "Category:Boot Time")
*   [引导程序](http://eLinux.org/Category:Bootloader "Category:Bootloader")
*   [消费电子 Linux 工作组](http://eLinux.org/Category:CE_Linux_Working_Groups "Category:CE Linux Working Groups")

# About Compression

> From: [eLinux.org](http://eLinux.org/About_Compression "http://eLinux.org/About_Compression")

# About Compression

## Contents

*   1 About Compression
    *   1.1 Introduction
    *   1.2 Effects of compression (general discussion)
        *   1.2.1 Space impact
        *   1.2.2 Performance impact
    *   1.3 Where compression may be applied
    *   1.4 Initramfs compression
    *   1.5 Kernel compression
    *   1.6 Filesystem compression
    *   1.7 Concluding remarks

# About Compression

## Introduction

This page discussed compression in relation to boot and load time. First we explain the effects of compression on the system in general. Next we discuss where compression may be applied. After that we will discuss the alternatives and go into detail whether they are worthwhile or not.

## Effects of compression (general discussion)

### Space impact

Generally compression will cause that less space is needed. Typically a piece of data that is compressed becomes smaller. Note though that this is not always the case. If you compress something which is already compressed there is probably nothing to gain, and in most cases you'll lose a little bit, because the compressor itself adds info for decompression. Compressing audio or video files (like mp3, DivX or jpeg files) also will yield little space reduction as these data files are internally already highly compressed.

The amount of compression also depends on the compression algorithm and the options that are applied.

### Performance impact

Of course compression also has a performance impact. At first sight it may seem that the impact is negative, as additional time is needed to compress/decompress the data. However experiments may yield otherwise.

Consider the following situation. You have a 2 MB linux kernel. Compression will reduce that kernel to 1 MB. Now suppose you store the kernel in flash which has a read speed of 20 MB/s. In case of an uncompressed kernel, 100 ms will be needed to read the kernel from flash to RAM. However if the kernel is compressed, the actual I/O activity will only take 50 ms. So if decompressing 1MB takes less than 50 ms (decompression speed > 40 MB/s) you gain some time.

So whether or not compression affects your performance positive or negative depends on factors like read speed and decompression speed.

Of course it is not as simple as this. If reading is done through DMA and your system is CPU constrained compression will cause performance degradation. This is because reading using DMA is almost free as far as the CPU is concerned, and the decompression additionally loads the CPU (which was already the bottleneck).

## Where compression may be applied

There are a number of places where compression can be applied in Linux:

*   If you use an initramfs in the kernel by default this initramfs is compressed.
*   The kernel itself often is also compressed. (hint: if your kernel name is vmlinuz or bzImage it is most likely a compressed kernel, if your kernel name is vmlinux it is probably not compressed; if you want to make sure: **file** is your friend here.
*   The filesystem itself can also apply compression. This is often the case with flash file systems. Notably SquashFS, CRAMFS and JFFS2 use filesystem compression.
*   Compression of executables, application data and the like. This is outside the scope of this page and not covered.

## Initramfs compression

Initramfs in most cases is compressed. If you specify an initramfs file system while building the kernel, the initramfs image will be compressed and embedded into the kernel image. It is not required to compress the image, but there is no CONFIG option to disable this. The build scripts always perform the compression, and only if you tweak the script you can avoid the compression.

Another way to specify an initramfs is through the initrd= boot line parameter. In that case it is totally up to you whether or not you use a compressed or uncompressed cpio archive.

Now is initramfs compression useful? Well the first answer depends on load time versus decompress time as explained before. However, if you are using a compressed kernel and an embedded initramfs image, compression is useless as you compress the data twice. First as initramfs image and later a second time when the kernel is compressed. This is not giving additional benefit and only wastes CPU time.

Despite the arguments above though, there is one case where a compressed initramfs image in a compressed kernel is meaningful. That is if you are low on RAM. A compressed initramfs requires less RAM so it might well be that a compressed image fits whereas an uncompressed image does not fit. Note though that this only applies to RAM usage during boot. When the bootstrapping is completed and the kernel is started the space taken up by the initramfs image is released.

## Kernel compression

For kernel compression the general arguments hold. However note that kernel decompression is done by the boot loader. This means that factors like read speed and decompression performance depend on the implementation of the boot loader and not on the implementation in the kernel. As these normally differ decompression speed here might differ from the decompression done in the kernel for initramfs.

## Filesystem compression

The underlying filesystem can also provide compression. So you could in theory have a compressed initramfs in a compressed kernel which reside in a compressed filesystem. Not desirable at all. If your filesystem uses compression you probably do not want to compress kernel or initramfs. Then again this is probably not likely. Most boot loaders seem to load the kernel directly from flash or from an uncompressed filesystem.

## Concluding remarks

*   Take care to avoid nested compression
*   When deciding whether to apply compression or not, make sure to benchmark both alternatives

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [System Size](http://eLinux.org/Category:System_Size "Category:System Size")

# Application Init Optimizations

> From: [eLinux.org](http://eLinux.org/Application_Init_Optimizations "http://eLinux.org/Application_Init_Optimizations")

# Application Init Optimizations

## Contents

*   1 Description
*   2 Rationale
*   3 Application Tuning
    *   3.1 Using mmap() instead of read() for initial application data load
    *   3.2 Customizing file cache control in the Kernel
    *   3.3 Eliminating redundant page copies
    *   3.4 Reducing page faults
    *   3.5 Controlling API
*   4 Resources
    *   4.1 Projects
*   5 Specifications
*   6 Downloads
    *   6.1 Patch
*   7 Sample Results
    *   7.1 Case Study 1
    *   7.2 Case Study 2
*   8 Future Work/Action Items
*   9 Other resource

## Description

This page describes optimizations to a large application and to the kernel, to shorten the time required to load and execute an application.

Two main techniques are described here: 1) use of mmap vs. read and 2) control over page mapping characteristics. These techniques are discussed below.

## Rationale

Kernel bootup time is drastically improved with recent efforts including CELF activities. As a next step, application bootup time should be considered to cut down the system total bootup time. The techniques described here are applicable to a large number of embedded systems, which consist of large, single-application programs.

## Application Tuning

### Using mmap() instead of read() for initial application data load

An application may load a large amount of data when it is first initialized. This can result in a long delay as the file data is read into memory. It is possible to avoid the initial cost of this read, by using mmap() instead of read().

Instead of loading all of the data into memory with the read system call, the file can be mapped into memory with the mmap system call. Once the data file is mapped, individual pages will be demand loaded during execution, when the application reads them. Depending on the initial working set size of the data in the file, this can result in significant time savings. (For example, if an application only initially uses 50% of the data from the file, then only 50% of the data will be read into memory from persistent storage. There is extra overhead due to the cost of page-faults incurred in loading the pages on demand. However, this page fault overhead is offset by the savings in the number of page reads (compared to the read() case).

### Customizing file cache control in the Kernel

To further improve this method, the kernel can be modified to reduce page copying and page faults.

### Eliminating redundant page copies

When pages are demand loaded to a memory-mapped file, the pages are kept in memory as part of the kernel “file cache” and mapped into the requesting process's address space. If the page is accessed via a write operation, then the page in the file system cache is copied to a newly allocated memory page. (This is referred to as "copy-on-write"). The copied page can be then be freely modified by the process which maps it.

Suppose, however, that a file is mapped or accessed by only one process. Then, copying the page is redundant. In this case, we can convert the page in the file cache to a private page immediately. By utilizing this assumption (only one user for the page), the cost of the copy can be eliminated. This has the side benefit of reducing memory consumption as well.

### Reducing page faults

In some cases, an individual page in the process address space is accessed first with a read operation, then with a write operation. This results in two page faults for the same page (one to load the page and move it "through" the file cache, and the other to get a local copy of the page.) By eliminating the page copy, and making the page private on the first access (whether read or write), the second page fault can be reduced.

### Controlling API

The current system is experimental, in the way it manages the files affected by this caching/virtual memory customization. It would be better to control this mechanism per file or virtual memory area. The fcntl system call or mmap system call are candidates where this control could be introduced.

## Resources

### Projects

None.

## Specifications

[Boot Time](http://eLinux.org/Boot_Time "Boot Time")

## Downloads

### Patch

Sorry but there is no available patch at this time.

## Sample Results

### Case Study 1

**Hardware'**

*   [Towa Meccs TMM1000](http://www.towanet.com/seihin/sh_board/index.html)

*   SH3(7709) 133MHz

*   32MB RAM
*   64MB CF memory

**Software** **Kernel**

*   2.4.27 kernel.

**Target application**

*   [intent](http://tao-group.com/)
*   Loading data size: 8MB

**Methods explanation**

1.  read(CF/ext3) The data file is loaded using read system call from a ext3 file system on a CompactFlash memory.
2.  mmap(CF/ext3) The data file is mapped to the process virtual space using mmap system call.
3.  takeover(CF/ext3) The data file is mapped and the page in the file system cache (which is created during page fault handling) is converted to private page immediately.
4.  takeover(CF/squash) Same as No.3 except using the SquashFS file system.
5.  takeover(RD/squash) Same as No.3 except the file system is on read from a RAM Disk instead of Compact Flash.

**Results**

| **No.** | **Method** | **Media** | **FS** | **Ave.** | **1st** | **2nd** | **3rd** | **Diff.** |
| --- | --- | --- | --- | --- | --- | --- | --- | --- |
| 1 | read | CF | ext3 | **4.420** | 4.418 | 4.420 | 4.421 | - |
| 2 | mmap | CF | ext3 | **3.995** | 3.995 | 3.995 | 3.996 | -0.424 |
| 3 | takeover | CF | ext3 | **3.959** | 3.959 | 3.958 | 3.966 | -0.461 |
| 4 | takeover | CF | squash | **4.002** | 4.000 | 4.000 | 4.007 | -0.417 |
| 5 | takeover(total) | RD | squash | **4.588** | 4.579 | 4.590 | 4.595 | 0.168 |
|  | dd(CF -> RD) | RD | squash | 1.212 | 1.209 | 1.209 | 1.217 |  |
|  | mount | RD | squash | 0.041 | 0.040 | 0.041 | 0.041 |  |
|  | takeover | RD | squash | 3.336 | 3.330 | 3.340 | 3.337 |  |

*   UNIT: sec
*   CF: CompactFlash / RD: RAM Disk

![Chart1.png](http://eLinux.org/File:Chart1.png)

1.  As the result of using mmap system call, bootup time is reduced by about 400msec (10% of total init time).
2.  By using the takeover method, page faults are reduced to 317 times, versus 496 under the mmap method. Also, redundant page copies are eliminated. As the result, about 40msec is eliminated.
3.  Squashfs is compressed ROM file system and there are some extra cost to access data, decompression and so on… But the performance is not so bad against ext3fs. Using squashfs is a good choice to reduce consumption of storage spaces.
4.  Using a file system on a RAM disk is the most efficient way to increase file access performance. If the storage

device which stores the file system image is enough fast and extra RAM usage is affordable, it might be a good choice to reduce bootup time.

### Case Study 2

*   Status: measured
*   Architecture Support:

*   i386: unknown

*   ARM: unknown
*   PPC: unknown
*   MIPS: unknown
*   SH: works on SH3

## Future Work/Action Items

Here is a list of things that could be worked on for this feature:

*   I'm considering to implement similar file cache control using fadvise system call under 2.6 kernel.

## Other resource

This project was demo-ed at the 2005 CELF Technical Conference. The picture of the poster is here:

![Celf-demo-poster-fujitsu.jpg](http://eLinux.org/File:Celf-demo-poster-fujitsu.jpg)

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Boot Time](http://eLinux.org/Category:Boot_Time "Category:Boot Time")

# Application XIP

> From: [eLinux.org](http://eLinux.org/Application_XIP "http://eLinux.org/Application_XIP")

# Application XIP

## Contents

*   1 Introduction
*   2 Rationale
*   3 Downloads
    *   3.1 Patch
*   4 Utility programs
*   5 How To Use
*   6 General
*   7 Linear CRAMFS Usage
*   8 References
*   9 Cramfs
*   10 xip2fs
*   11 Sample Results
*   12 Future Work
*   13 Sample images

## Introduction

This page describes the feature Application XIP. This is a method of storing and executing applications directly from the file system, instead of first loading them into RAM. With Application XIP, the text (or code) pages of the application are never loaded into RAM. Instead, the (?? incomplete text)

## Rationale

This feature is important for these reasons:

*   reduction in RAM footprint
*   faster first invocation
*   reduction in RAM fragmentation (for non-MMU systems)
*   reduced power consumption of flash vs. SDRAM

Greg Ungerer said this on the ksummit-discuss list (July 2004): "Application XIP provides a win of keeping the application code in flash even when that is shared. Can make a difference on small memory systems.

It also helps alleviate the contiguous memory problem (or memory fragmentation if you prefer) when you don't have an MMU. We need to be able to allocate a big enough contigous memory region to load the text into. Can be a problem on systems that have been running for a while and free memory is fragmented. If the application can be run XIP from flash then you at least don't need to worry about that. (This is a very real problem on small RAM systems).

The argument isn't so much RAM is cheaper than flash either. Small embedded systems will have flash and it comes in discrete sizes (1, 2, 4, 8 MB, etc). Sometimes it just makes sense to use what flash you have more effectively."

## Downloads

### Patch

*   Code for Linear CramFS and XIP for 2.4.20 is in the base patch (base-2.4.20-8.patch) in the CELF 1.0 release. The code is not isolated into its own patch, but can be found pretty easily by grepping for CRAMFS_LINEAR. See the [CELinux_040503_Release](http://eLinux.org/CELinux_040503_Release "CELinux 040503 Release") page for the source.
*   Patches for Linear Cramfs feature for 2.6.9, 2.6.10, 2.6.12 and 2.6.14 are in the [Patch Archive](http://eLinux.org/Patch_Archive "Patch Archive")

## Utility programs

## How To Use

## General

To use application XIP, you have to use a file system which supports it. One file system known to support it is Cramfs, described below.

Note that on an MMU-less system, the flash pages cannot be remapped to arbitrary locations in the memory space. Therefore, the text pages must be stored in flash contiguously and in order. Thus, only a file system which stores meta-data (directory nodes and index tables) separate from file data, and which allows a file to be saved as a single linear image, can support XIP under these conditions.

## Linear CRAMFS Usage

The "cramfs-linear-xip" patch for kernel.org linux-2.6.9 enables a kernel to perform XIP of applications from CramFS filesystems. The code is derived from the source base of [Montavista](http://en.wikipedia.org/wiki/Montavista) Software's products and has copyrights by Shane Nay and Robert Leslie. I'm not sure if these are actively maintained anywhere, nor whether the [Montavista](http://en.wikipedia.org/wiki/Montavista) versions have deviated from other versions.

To use this feature...

You'll need a version of mkcramfs that does not compress files with sticky bit (chmod t) set (some versions require option -x to enable this behavior). I believe various versions are floating about, or I can look into sending a version of this as well.

Copy the resulting image to a flash partition on your board.

Build a kernel with:

```
CONFIG_CRAMFS_LINEAR=y
CONFIG_CRAMFS_LINEAR_XIP=y 
```

and if it is the root filesystem:

```
CONFIG_ROOT_CRAMFS_LINEAR=y 
```

When mounting the filesystem specify flags physaddr=0xNNNNNNNN, where NNNNNNNN is the physical address at which the flash partition appears. The dmesg output of the mtd probe and map drivers will show this.

For example, on my OMAP1510 Innovator mtd partition #3 is at 0x240000, as shown in the boot log:

```
Creating 5 MTD partitions on "omap_nor_cs0":

0x00000000-0x00020000 : "bootloader"
0x00020000-0x00040000 : "params"
0x00040000-0x00240000 : "kernel"
0x00240000-0x01000000 : "rootfs"
0x01000000-0x02000000 : "filesystem" 
```

To mount that as root I set U-Boot bootargs as:

`setenv bootargs console=ttyS0,115200n8 noinitrd root=/dev/null rootflags=physaddr=0x240000 rootfstype=cramfs`

Or can mount non-root with:

`mount -t cramfs -o physaddr=0x240000 none /mnt/mtd`

Note that this patch bypasses the MTD subsystem and generally assumes all flash chips backing the XIP partition are wholly dedicated to serving XIP images, and that the flash chips are never in any state other than read mode (for example, no writeable partitions that are backed by the same chip). You'll need to understand the flash chip topology of your board to correctly partition the mtd devices. Also note that certain flash chips are able to independently read and write different areas and the MTD layer may support this, so the restriction might not apply to your board.

This hasn't been tested very much at this point (Nov 8th 2004) so please let us all know if any problems or suggestions.

What I will guess is that the MTD_XIP stuff (which is in linux-mtd but only for certain flash types and platforms) will eventually supplant Linear CramFS and only the XIP portions of the patch will then be needed, which might be more palatable to the kernel maintainers. I'll talk to some folks about this. CELF might then be interested in contributing to (or advocacy of) support for more flash types and platforms for MTD_XIP.

*   *   Todd Poynor, [Montavista](http://en.wikipedia.org/wiki/Montavista)

## References

*   [Configure Linux for XIP](http://www.denx.de/twiki/bin/view/DULG/ConfigureLinuxForXIP) - Describes experience with using both Kernel XIP and application XIP.

## Cramfs

[CRAMFS](http://sourceforge.net/projects/cramfs/)

## xip2fs

Arnd Bergman, on LKML Sep 9, 2004 with subject " " wrote: On [linuxvm.org/patches](http://linuxvm.org/Patches/), you can find a file system called xip2fs, that uses an ext2 read-only fs for XIP. The code there works only if the backing memory is a zSeries DCSS memory segment, but it should be fairly easy to port to some other low-level memory provider.

## Sample Results

Here are some rough numbers: Time to run shell script which starts TinyX X server and "xsetroot -solid red", then shuts down:

| Invocation | Non-XIP | XIP |
| --- | --- | --- |
| First time | 3.195 seconds | 2.035 seconds |
| Second time | 1.744 seconds | 1.765 seconds |

It was measured on a 168MHz ARM 925T TI OMAP 1510\. In both cases the filesystem was in flash. Note that once the Non-XIP application pages are in RAM in the page cache, the Non-XIP case beats the XIP case (probably due to the penalty to access flash memory).

So the only performance win is on the first invocation of the application. The biggest benefit from Application XIP is from saving the RAM required for the text section of the program.

\<\<need that.u0005c="" some="" on="" data="" class="calibre16">></need>

## Future Work

Here is a list of things that could be worked on for this feature:

*   Cooperate with MTD to allow XIP from partitions managed by the usual MTD interfaces.
*   Or at least not require the physical address to be supplied (filesystem can look it up).
*   Cooperate with writeable MTD partitions on the same flash chip: suspend write/erase in progress to allow XIP reads.
*   Support additional filesystems.

## Sample images

[Tim Riker](http://eLinux.org/User:TimRiker "User:TimRiker") built some sample images for a TI OMAP 1510 Innovator that use XIP kernel with XIP user space. The kernel is a [Montavista](http://en.wikipedia.org/wiki/Montavista) kernel with XIP enabled. The filesystem uses [uClibc](http://uClibc.org/) and busybox and does a dhcp request on boot. inetd and telnetd are enabled on boot up. He uses rrload to boot with the following as kernel arguments:

`noinitrd console=ttyS0,115200n8 root=/dev/null rootflags=physaddr=0x00260000 ip=none init=/linuxrc`

*   (1457.9 KB) [XIP kernel](http://eLinux.org/images/5/51/Linux-2.4.20-xip.rr "Linux-2.4.20-xip.rr")
*   (1076 KB) [XIP filesystem](http://eLinux.org/images/9/9f/Xip.cramfs.rr "Xip.cramfs.rr")
*   (556 KB) [non-xip filesystem](http://eLinux.org/images/c/ce/Non-xip.cramfs.rr "Non-xip.cramfs.rr") (for comparison)

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Boot Time](http://eLinux.org/Category:Boot_Time "Category:Boot Time")
*   [System Size](http://eLinux.org/Category:System_Size "Category:System Size")

# Asynchronous function calls

> From: [eLinux.org](http://eLinux.org/Asynchronous_function_calls "http://eLinux.org/Asynchronous_function_calls")

# Asynchronous function calls

In order to make the kernel boot faster, a set of patches was introduced by Arjan van de Ven in January 2009 to create infrastructure to allow doing some of the initialization steps asynchronously. The patches allow overlapping significant portions of the hardware delays in practice. Asynchronous function calls has been merged in mainline starting from 2.6.29\. Starting from 2.6.30 the asynchronous function call infrastructure is enabled by default.

In order to not change device order and other similar observables, the patch does NOT do full parallel initialization.

Rather, it operates more in the way an out of order CPU does; the work may be done out of order and asynchronous, but the observable effects (instruction retiring for the CPU) are still done in the original sequence.

## References

This work was described in the LWN.net article [An asynchronous function call infrastructure](http://lwn.net/Articles/314808/)

See [`lkml.org/lkml/2009/1/4/155`](http://lkml.org/lkml/2009/1/4/155) for the first patch in the series.

Work similar in spirit to this was done previously, but with smaller scope and apparently not mainlined.

See [Threaded Device Probing](http://eLinux.org/Threaded_Device_Probing "Threaded Device Probing")

## Status

This work was mainlined in kernel version 2.6.30 and is now found in the source file `kernel/async.c`

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Boot Time](http://eLinux.org/Category:Boot_Time "Category:Boot Time")
*   [Kernel](http://eLinux.org/Category:Kernel "Category:Kernel")

# Avoid Initramfs

> From: [eLinux.org](http://eLinux.org/Avoid_Initramfs "http://eLinux.org/Avoid_Initramfs")

# Avoid Initramfs

If you wish to improve the boot time, avoid using initramfs. Rationale is that intramfs requires copying the data twice. First the data needs to be loaded either by the boot loader or as part of your kernel image, and next the data is copied from the initramfs image to the buffer cache in the kernel.

Another disadvantage of initramfs is that the initramfs contains complete files. So if you have e.g. glibc in your initramfs it will be put into the buffer cache completely. However, only part of it will be needed as no-one uses all functions in glibc. If only part of a library or executable is used, the time to read, uncompress and copy the other parts is wasted.

Better just use the files directly from disk or flash. If your buffer cache is big enough they will stay in the buffer cache after the initial load anyway (and if your buffer cache is small you probably cannot afford to use initramfs at all).

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Boot Time](http://eLinux.org/Category:Boot_Time "Category:Boot Time")

# Bootchart

> From: [eLinux.org](http://eLinux.org/Bootchart "http://eLinux.org/Bootchart")

# Bootchart

[Bootchart](http://www.bootchart.org/) is a tool for performance analysis and visualization of the Linux boot process. Resource utilization and process information are collected during the user-space portion of the boot process and are later rendered in a PNG, SVG or EPS encoded chart. For embedded systems several developers have tried to use bootchart to analyze boot time, but problems arose. There have been several efforts to modify bootchart to make it more useful for embedded development.

## Contents

*   1 Research & Presentations
    *   1.1 Timechart
    *   1.2 Bootchart-Lite
    *   1.3 ubootchart
    *   1.4 EmBootchart
    *   1.5 BusyBox
        *   1.5.1 To use
*   2 Related projects
    *   2.1 SystemTap Scripts
    *   2.2 Updated Fork

## Research & Presentations

### Timechart

*   Tool introduced on [Arjan Van de Ven's blog](http://blog.fenrus.org/?p=5)
*   Now available in the mainline Linux kernel. It uses the 'perf' infrastructure. Hence, you need a recent enough kernel (2.6.32 or later).
*   See [tools/perf/builtin-timechart.c](http://lxr.free-electrons.com/source/tools/perf/builtin-timechart.c) and [tools/perf/Documentation/perf-timechart.txt](http://lxr.free-electrons.com/source/tools/perf/Documentation/perf-timechart.txt) in the kernel sources for details.

### Bootchart-Lite

[bootchart-lite-en.pdf](http://tree.celinuxforum.org/CelfPubWiki/JapanTechnicalJamboree16?action=AttachFile&do=get&target=bootchart-lite-en.pdf) Presentation by Shuuji Miyake of Fujitsu Software Technologies Limited, about bootchart deficiencies in the embedded space and ideas for fixing them.

*   Not sure this is related to bootchart-lite project on Google Code, below--that was [created by Fred Chien of OpenMoko](http://kerneltrap.org/mailarchive/openmoko-devel/2008/7/7/2372584/thread).

[Bootchart-lite Project Home](http://code.google.com/p/bootchart-lite/)

`# Non-members may check out a read-only working copy anonymously over HTTP.`

svn checkout [`bootchart-lite.googlecode.com/svn/trunk/`](http://bootchart-lite.googlecode.com/svn/trunk/) bootchart-lite-read-only

### ubootchart

Like Bootchart Lite, an implementation of the ideas from "embootchart".

*   [ubootchart Project Home](http://code.google.com/p/ubootchart/)
*   [Initial blog post](http://roblog.sixbynine.org/?p=19)

### EmBootchart

*   [Visualizing Resource Usage During Boot](http://eLinux.org/images/8/80/VisualizingResUsageDuringBoot.pdf "VisualizingResUsageDuringBoot.pdf")
    *   Presentation on 'embootchart' by Matthew Klahn and Moosa Muhammad of Motorola about bootchart deficiencies in the embedded space, and a program (unfortunately never published) to fix them.

### BusyBox

Busybox has a C implementation of bootchartd. It compiles to less than 40k (static uclibc i386 build). It will be available in the busybox-1.17.0 release. Please send bug reports, improvements to busybox mailing list.

*   [Busybox Project Home](http://busybox.net/)
*   [bootchartd applet code](http://git.busybox.net/busybox/tree/init/bootchartd.c)

```
Usage: bootchartd start [PROG ARGS]|stop|init

Options:
start: start background logging; with PROG, run PROG, then kill logging with USR1
stop: send USR1 to all bootchartd processes
init: start background logging; stop when getty/xdm is seen (for init scripts)
Under PID 1: start background logging, then execute $bootchart_init, /init, /sbin/init
This makes it possible to start bootchartd even before init by booting kernel with:
init=/sbin/bootchartd bootchart_init=/path/to/regular/init 
```

Note that if you're using an initramfs, you'll need

```
rdinit=/sbin/bootchartd 
```

instead of

```
init=/sbin/bootchartd 
```

Note also that bootchartd tries to create a gzipped tarball, so you either need a full tar with gz support, or you need to enable FEATURE_SEAMLESS_GZ in busybox. If 'tar -z' is not working, bootchartd will not produce output.

#### To use

To use this, capture the bootchart information using bootchartd, then transfer the information to your host machine, and use bootchart to produce a graphic chart of the boot sequence.

The host 'bootchart' provided by Ubuntu-based hosts uses [pybootchartgui](http://code.google.com/p/pybootchartgui/) to generate a graph from the collected data. However, that version of pybootchartgui does not work well with the data generated by busybox bootchartd. A newer project [bootchart2](https://github.com/mmeeks/bootchart) has improved pybootchartgui and included it in their sources, and this works fine with busybox bootchartd data.

After downloading bootchart2 and running 'make', you can generate a graph (bootchart.png) with:

```
 /path/to/bootchart2/pybootchartgui.py bootlog.tgz 
```

An example graph, generated in a different way, is shown below:

![Bootchart.png](http://eLinux.org/File:Bootchart.png)

## Related projects

### SystemTap Scripts

A related project is a set of [System Tap](http://eLinux.org/System_Tap "System Tap") scripts to provide information about boot time. See [Bootprobe](http://people.redhat.com/berrange/systemtap/bootprobe/)

### Updated Fork

Bootchart has been forked and updated and can be found on github [`github.com/mmeeks/bootchart`](https://github.com/mmeeks/bootchart) (Main changes: no java, better visualization)

Another fork (the same?) can be found here: [Updated Bootchart](http://foo-projects.org/~sofar/bootchart/)

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Boot Time](http://eLinux.org/Category:Boot_Time "Category:Boot Time")
*   [Measuring](http://eLinux.org/Category:Measuring "Category:Measuring")
*   [Linux](http://eLinux.org/Category:Linux "Category:Linux")
*   [Bootchart](http://eLinux.org/Category:Bootchart "Category:Bootchart")

# Boot-up Time Definition Of Terms

> From: [eLinux.org](http://eLinux.org/Boot-up_Time_Definition_Of_Terms "http://eLinux.org/Boot-up_Time_Definition_Of_Terms")

# Boot-up Time Definition Of Terms

## Definition of Terms for Bootup Times working group

Boot up The time from power on to user start (the start of user init).

Busy wait Using a timed loop to create a delay. This is often used with probing. Because the device is executing instructions in the loop, no other work can be done until the loop ends.

Cold start The time from power on to first available use.

Deferred An operation, which would occur at a specific point in the unmodified Linux boot up processing, is changed so that it can occur later in the processing.

De-serialized A set of operations, which would be serialized in an unmodified Linux environment, is changed so that the operations can be done concurrently.

Disk spinup The time required for a hard disk to reach operational speed after application of power.

Firmware The first set of machine instructions to run on the hardware after the application of power. The firmware may consist of several stages that bootstrap from one stage to the next. On an x86 machine, for example, the firmware is the BIOS. It is the responsibility of the firmware to do initial preparation of the hardware, and to load and execute the OS. This typically includes probing the hardware to discover attached devices and setting up configuration information that the OS will read during boot up.

First available use The first opportunity for actual use of the product, after a boot up, resume, or unhibernate operation.

First user experience The first visual or audio indication of activity to the user of the product, after a boot up, resume or unhibernate operation. (same as "splash")

Flash Flash memory

Hibernate The action of transitioning the machine into a no power state, in a way such that the current operating state can be restored in the future without a full initialization sequence.

Kernel decompression The action of decompressing a compressed kernel image. This stage usually includes simultaneously transferring the kernel image from persistent storage to RAM.

Kernel init The kernel initialization sequence, consisting of the period of time from kernel start to start of user init.

Kernel start The point in the boot up when the product executes the first instruction of start_kernel() routine in the kernel.

Power lost The moment that the product can no longer function because there is no more power applied to it.

Power off The moment that the machine transitions to a "losing power" state (this is not the same as the time when no more power is being applied to the CPU).

Power on The moment of application of power to the device.

Probing The act of discovering the configuration or attributes of the machine or its operating state. A probe typically consists of sending a hardware signal and waiting, for a given time, for a response from an attached bus or device.

Resume The action of transitioning the machine into a usable state from a low power state (suspend).

ROM Read-only-memory

Shutdown The action of turning the product off. The time from user power off to power lost.

Suspend The action of transitioning the product into a low power state, wherein the device cannot be used, but can be resumed quickly.

Serialized A set of operations is serialized if the operations are performed in order, without overlap or concurrency.

Splash The first visual or audio indication of activity to the user of the product, after a boot up, resume or unhibernate operation. (same as "first user experience")

Time-to-splash The time from power on to splash (or first user experience).

Unhibernate The action of transitioning the machine from hibernation into a usable state. Specifically, the usable state is the same or as close as possible to the state when hibernation was entered (eg., the same applications are running, the same files are open, etc.)

User init The time from the first instruction of the first user space program (usually /sbin/init) until the product is ready for first available use.

User power off The action or moment that the user initiates terminating the power to the device. Some devices do not use "user power off" as the primary means of "turning off" the device. Instead, a press of the "off" button may result in a suspend operation.

Warm start The time from start of resume to first available use.

XIP Execute-in-place - a method of executing code directly from ROM or Flash, without first loading it into RAM. This affects startup time, RAM and ROM footprint (size), and execution performance.

The terms used to describe boot up can refer to **events** (things that occur or start at a specific moment in time) or **time periods** (the time interval from one event to another).

Here is a list showing the sequence of main **events** during cold start: *Note: \* means this event is optional.*

```
 1\.    power on
 2\.    firmware starts
 2.1 * firmware splash
 3\.  * kernel decompression starts
 4\.    kernel start
 4.1 * kernel splash
 5\.    user start
 5.1 * user splash
 6\.  * RC script start
 7\.    application start
 8\.    first available use 
```

Note that there may be multiple "splash" events in the system, but that the terminology here refers only to the first splash. This is also referred to in the terminology definitions as "first user experience". Splash events are highly important to diminish the *apparent* time to boot of the product. Note that the first splash event might occur at different locations in this sequence, depending on how the system is configured and what software performs the first user output. Also, even though user splash presentation is listed as event 5.1, it could occur anywhere between events 5 and 8, depending on the user-space software which performs the splash.

Here are bootup **time periods** (intervals), defined according to the above sequence of events:

*   cold start: time from 1 to 8
*   bootup: time from 1 to 5
*   kernel init: time from 4 to 5
*   user init: time from 5 to 8
*   time-to-splash: time from 1 to either 2.1, 3.1, or 5.1 (depending on which is used)

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Boot Time](http://eLinux.org/Category:Boot_Time "Category:Boot Time")

# BusyBox

> From: [eLinux.org](http://eLinux.org/BusyBox "http://eLinux.org/BusyBox")

# BusyBox

Busybox is a program with small memory footprint, designed to replace a suite of otherwise large Linux utilities. It is commonly used in embedded Linux systems. Over 58 projects are listed on the [busybox projects page](http://www.busybox.net/products.html).

The text segment is only loaded once. Subsequent calls to subprograms use the same text segment, saving memory.

Additionally, it is highly configurable. Only the required applets are compiled in reducing storage requirements.

See [`www.busybox.net/`](http://www.busybox.net/)

A good article on busybox is at: [`www-128.ibm.com/developerworks/linux/library/l-busybox/`](http://www-128.ibm.com/developerworks/linux/library/l-busybox/)

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Linux](http://eLinux.org/Category:Linux "Category:Linux")
*   [Software](http://eLinux.org/Category:Software "Category:Software")

# Deferred Initcalls

> From: [eLinux.org](http://eLinux.org/Deferred_Initcalls "http://eLinux.org/Deferred_Initcalls")

# Deferred Initcalls

## Contents

*   1 Introduction
*   2 Description
*   3 How to use
    *   3.1 deferred USB initcall example
*   4 Patch

## Introduction

An "initcall" is the initialization function for a module which is statically linked into the Linux kernel. Running of initcalls can consume a large amount of time during bootup. However, some modules do not need to be initialized so early, in order for the embedded device to become usable for its primary purpose. These initcalls can be run later, after first boot (and possibly first use) has completed.

For example, many digital cameras have USB buses, which need to be initialized in order for the camera to be used as a mass storage device (to download pictures to a desktop computer). However, the USB buses do not need to be initialized for the primary use of the camera, which is to take pictures. In order to be able to take a picture as soon as possible after booting, initialization of the USB system in the kernel can be deferred until after the primary boot sequence for the camera.

## Description

Using a short patch (available for kernel version 2.6.27) it is possible to avoid running certain initcalls at bootup time. The way this patch works is that the developer selects some initcalls that they want to defer and modifies the declaration of those initcalls.

When the system is booted, those initcalls are not called in their normal sequence. When the system is done with primary boot, an application from user space triggers the calling of the deferred initcalls, using a flag in the /proc filesystem.

When the flag is set, the deferred initcalls are run, and the kernel memory for the "init" segment is finally freed.

## How to use

To use deferred initcalls, first you need to identify the modules that are not required for the primary functionality of the product, and which are taking too long to initialize. (See [Initcall Debug](http://eLinux.org/Initcall_Debug "Initcall Debug") for this.)

Using the example above of the digital camera and USB, you could identify uhci_hcd_usb and ehci_hcd_init as two initcalls that could be deferred.

Change the module init routine declaration for the initcalls you wish to defer. This is done in the Linux kernel source code. For example, change:

```
module_init(foo_init)

deferred_module_init(foo_init) 
```

Modules marked like this are not initialized during kernel boot

After main init, do:

```
 cat /proc/deferred_initcalls 
```

This will cause the kernel to run all deferred initcalls. Also the .init section memory is freed by kernel. The contents of /proc/deferred_initcalls will return 0 if deferred initcalls were not yet run, and 1 otherwise on subsequent reads.

### deferred USB initcall example

As a test, on an X86 desktop system, I deferred the initialization of the USB subsystem on a 2.6.27 kernel, by using deferred_module_init on the functions: ehci_hcd_init and uhci_hcd_init

This resulted in a total times savings of 530 milliseconds, during the kernel boot phase. (Of course, this time was used subsequently when the deferred initcalls were triggered later on.)

Specifially, I changed:

```
module_init(ehci_hcd_init) 
```

to

```
deferred_modle_init(echi_hcd_init) 
```

and

```
module_init(uhci_hcd_init) 
```

to

```
deferred_module_init(uhci_hcd_init) 
```

## Patch

Here is the main deferred initcalls patch for 2.6.26, 2.6.27: [Media:Deferred_initcalls.patch](http://eLinux.org/images/1/18/Deferred_initcalls.patch "Deferred initcalls.patch")

For 2.6.28 the forward-ported patch is here: [Media:Deferred_initcalls-2.6.28.patch](http://eLinux.org/images/b/b4/Deferred_initcalls-2.6.28.patch "Deferred initcalls-2.6.28.patch")

For 3.10 the patch is here: [Media:0001-Port-deferred-initcalls-to-3.10.patch](http://eLinux.org/images/5/51/0001-Port-deferred-initcalls-to-3.10.patch "0001-Port-deferred-initcalls-to-3.10.patch")

Here (inline) is a patch showing modification of USB and IDE initcalls to be be deferred initcalls: (This patch is also available downloadable as: [Media:Defer-usb-and-ide-initcalls.patch](http://eLinux.org/images/9/94/Defer-usb-and-ide-initcalls.patch "Defer-usb-and-ide-initcalls.patch"))

```
commit e7a5b8bb6a5d04054dec1e85d53bbe115059d0d0
Author: Tim Bird <tim.bird@am.sony.com>
Date:   Fri Sep 12 11:35:58 2008 -0700

    Use deferred_module_init on long-probing IDE and USB modules.
    These modules were taking about 700 ms and 400 ms, respectively
    to initialize.  On many embedded systems, these initializations
    can be done after major boot activity is completed, with no
    loss of functionality.

diff --git a/drivers/ata/ata_piix.c b/drivers/ata/ata_piix.c
index e9e32ed..cb2ebf3 100644
--- a/drivers/ata/ata_piix.c
+++ b/drivers/ata/ata_piix.c
@@ -1494,5 +1494,5 @@ static void __exit piix_exit(void)
    pci_unregister_driver(&piix_pci_driver);
 }

-module_init(piix_init);
+deferred_module_init(piix_init);
 module_exit(piix_exit);
diff --git a/drivers/usb/host/ehci-hcd.c b/drivers/usb/host/ehci-hcd.c
index 8409e07..44a8340 100644
--- a/drivers/usb/host/ehci-hcd.c
+++ b/drivers/usb/host/ehci-hcd.c
@@ -1107,7 +1107,7 @@ clean0:
 #endif
    return retval;
 }
-module_init(ehci_hcd_init);
+deferred_module_init(ehci_hcd_init);

 static void __exit ehci_hcd_cleanup(void)
 {
diff --git a/drivers/usb/host/uhci-hcd.c b/drivers/usb/host/uhci-hcd.c
index 3a7bfe7..9c27ef0 100644
--- a/drivers/usb/host/uhci-hcd.c
+++ b/drivers/usb/host/uhci-hcd.c
@@ -999,7 +999,7 @@ static void __exit uhci_hcd_cleanup(void)
    kfree(errbuf);
 }

-module_init(uhci_hcd_init);
+deferred_module_init(uhci_hcd_init);
 module_exit(uhci_hcd_cleanup);

 MODULE_AUTHOR(DRIVER_AUTHOR); 
```

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Boot Time](http://eLinux.org/Category:Boot_Time "Category:Boot Time")
*   [Kernel](http://eLinux.org/Category:Kernel "Category:Kernel")

# Disable Console

> From: [eLinux.org](http://eLinux.org/Disable_Console "http://eLinux.org/Disable_Console")

# Disable Console

## Contents

*   1 Description
*   2 How to implement or use
*   3 Expected Improvement
*   4 Resources
    *   4.1 Projects
    *   4.2 Specifications
    *   4.3 Patches
*   5 Case Studies
    *   5.1 Case 1
*   6 Case 2

## Description

You can save time during kernel bootup by disabling the console output. The easiest way to do this is to use the "quiet" option on the kernel command line (described below).

Printk output is usually directed to a serial port or a VGA console during bootup. By disabling console output, the time taken to output the characters (and perform things like software scrolling of the display buffer) is eliminated.

## How to implement or use

To disable console output during kernel bootup, use the "quiet" option on the kernel command line.

To do this, just put the word "quiet" (without the quotes) in the kernel command line, with no other arguments. This will suppress printk output during booting. Note that printk messages are still buffered in the kernel and can be retrieved after booting using the "dmesg" command.

## Expected Improvement

This saves time during kernel bootup by suppressing printk output. Printk output delays depend on a number of factors, but in the use cases cited below, the savings were in the range of a few hundred milliseconds.

With a serial console, the time to output characters is dependent on the serial port speed. However, with a VGA console, the time to output the characters is dependent on the speed of the processor. Therefore, the slower your processor, the more savings you will gain from this technique.

## Resources

### Projects

None

### Specifications

None

### Patches

None

## Case Studies

### Case 1

| Hardware | KMC SH board, using VGA console |
| Kernel Version | CELF-1 (040126) |
| Configuration | relatively small configuration (*details not available*) |
| Time without "quiet" option | 637878 usec |
| Time with "quiet" option | 461893 usec |
| Time savings | 176 milliseconds |

From data submitted by Maruyama Kiyoyasu of Mitsubishi.

## Case 2

| Hardware | TI OMAP board, using serial console |
| Kernel Version | CELF-1 (040126) |
| Configuration | Kernel booted with XIP, CRAMFS root file system, with preset-LPJ |
| Time without "quiet" option | 551735 usec |
| Time with "quiet" option | 280676 usec |
| Time savings | 271 milliseconds |

From data submitted by Noboru Wakabayashi of Hitachi.

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Boot Time](http://eLinux.org/Category:Boot_Time "Category:Boot Time")
*   [Kernel](http://eLinux.org/Category:Kernel "Category:Kernel")

# DMA Copy Of Kernel On Startup

> From: [eLinux.org](http://eLinux.org/DMA_Copy_Of_Kernel_On_Startup "http://eLinux.org/DMA_Copy_Of_Kernel_On_Startup")

# DMA Copy Of Kernel On Startup

## Contents

*   1 Description
*   2 Rationale
*   3 Resources
    *   3.1 Projects
*   4 Specifications
*   5 Downloads
    *   5.1 Patch
    *   5.2 Utility programs
*   6 How To Use
*   7 Sample Results
    *   7.1 Case Study 1
    *   7.2 Case Study 2
*   8 Status
*   9 Future Work/Action Items

## Description

This section describes the technology of DMA copy of kernel on startup. It's necessary to copy binary images, such as a kernel image, file system images, and so on, from ROM to RAM on bootup if XIP isn't used. In this case, using DMA transfer is very efficient to save the time and CPU resources.

## Rationale

This feature is important to CELF because it reduces bootup time significantly.

## Resources

### Projects

None.

## Specifications

None.

## Downloads

### Patch

Sorry but there is no available patch at this time.

### Utility programs

None

## How To Use

## Sample Results

### Case Study 1

Jyunji Kondo (of Fujitsu Prime Software Technologies) measured the result of using DMA kernel copy on FR-V processor.

| Hardware | Fujitsu FR-V Design Kit for FR450 core |
| Kernel Version | 2.6.6 |
| Configuration | - DMA kernel copy enabled/disabled - [Preset LPJ](http://elinux.org/Preset_LPJ "Preset LPJ") enabled/disabled
- Avoiding printk messages enabled/disabled |

Here is the graphic chart which illustrates the elapse time of each startup stage.

![Normal Vs Fast
Boot.png](http://eLinux.org/File:Normal_Vs_Fast_Boot.png)

Figure 1: Comparison of normal and fast boot

![Alert.gif](http://eLinux.org/File:Alert.gif) Hardware initialization consumes about 200 milliseconds before firmware init.

And here is the table which shows the actual performance number.

Table 1: Elapse time of each stage (in milliseconds)

| **-** | **firm init** | **kernel init** | **user init** | **user splash** | **total** |
| --- | --- | --- | --- | --- | --- |
| normal boot | 229 | 660 | 290 | 112 | 1,291 |
| fast boot | 49 | 88 | 287 | 113 | 537 |

In the normal boot case, the kernel image whose size is 1.7MB around is copied from ROM to RAM by CPU at firmware init. On the other hand, DMA copy is used in the fast boot case and it reduces about 180 milliseconds.

It owes much to the potentiality of FR-V processor, but it's worthy of consideration to use such a hardware assist feature for reducing bootup time.

### Case Study 2

## Status

Status - measured not started, researched, implemented, measured, documented, accepted

*   Architecture Support:

    (for each arch, one of: unknown, patches apply, compiles, runs, works, accepted)

    *   i386: unknown
    *   ARM: unknown
    *   PPC: unknown
    *   MIPS: unknown
    *   SH: unknown
    *   FR-V: works

## Future Work/Action Items

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Boot Time](http://eLinux.org/Category:Boot_Time "Category:Boot Time")
*   [Bootloader](http://eLinux.org/Category:Bootloader "Category:Bootloader")

# Fast Kernel Decompression

> From: [eLinux.org](http://eLinux.org/Fast_Kernel_Decompression "http://eLinux.org/Fast_Kernel_Decompression")

# Fast Kernel Decompression

This page has notes about faster kernel decompression.

## Contents

*   1 Description
*   2 How to implement or use
*   3 Expected Improvement
*   4 Resources
    *   4.1 Projects
*   5 Case Studies
    *   5.1 Case 1
    *   5.2 Case 2
    *   5.3 Case 3

## Description

Currently, the method used to compress the kernel is gzip. However, other compression and decompression methods exist which may allow improvements in kernel decompression (and hence startup) performance.

This page documents Sony's investigation of UCL compression/decompression performance, for possible use in speeding up bootup time on an embedded device. In our testing UCL decompressed a sample file system image 43% faster than gunzip, and a sample kernel image 28% faster than gunzip.

From the UCL web page, it states:

*   UCL is written in ANSI C. Both the source code and the compressed data format are designed to be portable across platforms.

*   UCL implements a number of algorithms with the following features:

    *   Decompression is simple and *very* fast.
    *   Requires no memory for decompression.
    *   The decompressors can be squeezed into less than 200 bytes of code.
    *   Focuses on compression levels for generating pre-compressed data which achieve a quite competitive compression ratio.
    *   Allows you to dial up extra compression at a speed cost in the compressor. The speed of the decompressor is not reduced.
    *   Algorithm is thread safe.
    *   Algorithm is lossless.
*   UCL supports in-place decompression.

*   UCL and the UCL algorithms and implementations are distributed under the terms of the GNU General Public License (GPL) { auf Deutsch }. Special licenses for commercial and other applications are available by contacting the author.

Another method of speeding up the kernel load phase of bootup is to use DMA Copy Of Kernel On Startup

## How to implement or use

Get UCL from following URL and use sample command "uclpack"

```
 http://www.oberhumer.com/opensource/ucl/download/ucl-1.03.tar.gz 
```

untar the file, build , and use the sample command "uclpack", located at: ucl-1.03/examples/uclpack in the untar'ed source tree.

## Expected Improvement

The case study below is intended to show a performance improvement in decompressing a sample file system and sample kernel.

## Resources

*   UCL can be obtained at: [`www.oberhumer.com/opensource/ucl/`](http://www.oberhumer.com/opensource/ucl/)

### Projects

*   lzop ( [`www.lzop.org/`](http://www.lzop.org/) [Wikipedia: lzop](http://en.wikipedia.org/wiki/lzop) ) uses the miniLZO Lempel-Ziv-Oberhumer ( [Wikipedia: LZO](http://en.wikipedia.org/wiki/Lempel-Ziv-Oberhumer) ) algorithm. It has the reputation of extremely fast decompression and a tiny decompressor, but larger compressed files -- apparently faster decompression and better compressed file size than Lempel-Ziv Ross Williams ( [Wikipedia: LZRW](http://en.wikipedia.org/wiki/LZRW) ) -- faster than memcopy() on some machines.
*   UPX: the the Ultimate Packer for eXecutables ( [Wikipedia: UPX](http://en.wikipedia.org/wiki/UPX) ; [`upx.sf.net/`](http://upx.sf.net/) ) uses the UCL algorithm
*   gzip ( [Wikipedia: gzip](http://en.wikipedia.org/wiki/gzip) )
*   bzip2 ( [Wikipedia: bzip2](http://en.wikipedia.org/wiki/bzip2) ; [`www.bzip.org/`](http://www.bzip.org/) ) has the reputation of giving smaller compressed files and about the same decompression time as gzip (but longer compression times)

[Are there other compressors with better decompression performance than gzip??

## Case Studies

### Case 1

For this use case, we compiled both uclpack and gzip for the [PowerPC](http://eLinux.org/PowerPC "PowerPC") platform. Then we ran the programs on the target platform, compressing and decompressing two different file images

*   an initrd filesystem image, and a linux kernel image (originally uncompressed).

The size and performance results from running these commands are in the tables below.

| Image file: | initrd-2.6.5-1.358 |
| method | UCL | GZIP | improved % |
| parameter | -b4194304 | -8 | . |
| source file size | 819200 | 819200 | . |
| compressed size | 187853 | 189447 | . |
| compression rate | 77.1% | 76.9% | 0.3% |
| compression time: user (sec) | 5.13 | 2.03 | -152.5% |
| sys (sec) | 0.09 | 0.06 | -36.5% |
| total (sec) | 5.22 | 2.09 | -149.0% |
| decompression time: user (sec) | 0.12 | 0.3 | 59.7% |
| sys (sec) | 0.1 | 0.08 | -16.9% |
| total (sec) | 0.22 | 0.39 | 43.0% |
| . | . | . | . |
| Image file: | vmlinux-2.4.20 for ibm-440gp |
| method | UCL | GZIP | improved % |
| parameter | -b4194304 | -8 | . |
| source file size | 1810351 | 1810351 | . |
| compressed size | 790250 | 776807 | . |
| compression rate | 56.3% | 57.1% | -1.3% |
| compression time: user (sec) | 17.29 | 6.07 | -185.0% |
| sys (sec) | 0.04 | 0.02 | -92.4% |
| total (sec) | 17.33 | 6.09 | -184.6% |
| decompression time: user (sec) | 0.12 | 0.16 | 26.1% |
| sys (sec) | 0.03 | 0.04 | 35.8% |
| total (sec) | 0.15 | 0.2 | 28.2% |

Hardware 

PPC440GP - 300 MHZ

Kernel Version 

Linux kernel running on target was 2.6.11, kernel which was compressed with Linux 2.4.20

Configuration 

See above tables for parameters to gzip and ucl

Time without change 

[put that here]

Time with change 

[put that here]

### Case 2

### Case 3

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Boot Time](http://eLinux.org/Category:Boot_Time "Category:Boot Time")
*   [Kernel](http://eLinux.org/Category:Kernel "Category:Kernel")

# Filesystem Information

> From: [eLinux.org](http://eLinux.org/Filesystem_Information "http://eLinux.org/Filesystem_Information")

# Filesystem Information

## Boot Time with various file systems

Noboru Wakabayashi of Hitachi provided the following report.

On the OMAP Innovator he built the following file systems:

*   CRAMFS
*   CRAMFS with XIP
*   ROMFS
*   JFFS2
*   ext2 over RAM disk

He measured the time to initialize these file systems by logic analyzer. This was done by modifying the busybox init program to make LED turn on red. When innovator power on, the LED lights up green. So the time from the light turning from green to red was measured. Also, he measured the time using KFI (from start_kernel() to to_usrspace()).

Results are shown in the following table. (The result is average of 10 trials for each configuration.)

| **Configuration/Filesystem** | **logic analyzer(sec)** | **KFI(usec)** |
| --- | --- | --- |
| CRAMFS* | 3.638850 | 842789.1 |
| CRAMFS with XIP | 2.788076 | 764141.3 |
| CRAMFS with XIP and PLPJ | 2.583988 | 551735.5 |
| ROMFS | 3.510876 | 839078.2 |
| JFFS2* | 4.822642 | 1241068.4(log full) |
| ext2 over RAM disk | cannot measure | 2952081.6(log full) |

*   JFFS2: JFFS2 required much time at first boot time, so he measured from the 2nd starting.

*   CRAMFS: At first, he also measured the time with CONFIG_KFI by logic analyzer. The result is 4.324660 sec. It costs more than without CONFIG_KFI. So, he measured file systems without CONFIG_KFI when he used logic analyzer.

The attached zip file has the kfi logfiles for these different tests: no zip found: kfi-results-omap-filesystems.zip

Next he remeasured the time to initialize "CRAMFS with XIP and PLPJ" using the "quiet" option. The result is 280676 usec from start_kernel() to to_userspace(). The above result is 551735.5 usec.The time is reduced about 50%.

The following table shows output from 'kd' on the kfi logfile.

output from 'kd' on the kfi logfile

| **Function** | **Count** | **Time** | **Average** | **Local** | **Max-sub** | **Ms count** |
| --- | --- | --- | --- | --- | --- | --- |
| do_basic_setup | 1 | 114068 | 114068 | 509 | do_initcalls | 1 |
| mem_init | 1 | 110376 | 110376 | 490 | free_all_bootmem_node | 1 |
| free_all_bootmem_node | 1 | 109378 | 109378 | 12 | free_all_bootmem_core | 1 |
| free_all_bootmem_core | 1 | 109366 | 109366 | 109366 | - | 0 |
| schedule | 10 | 84482 | 8448 | 34 | do_schedule | 10 |
| do_schedule | 10 | 84448 | 8444 | 574 | switch_to | 9 |
| do_initcalls | 1 | 84159 | 84159 | 3831 | device_init | 1 |
| switch_to | 9 | 83874 | 9319 | 83874 | - | 0 |
| register_proc_table | 22 | 39161 | 1780 | 13079 | register_proc_table | 18 |
| device_register | 11 | 22297 | 2027 | 415 | device_add | 11 |
| device_add | 11 | 21882 | 1989 | 1439 | kobject_add | 11 |
| device_init | 1 | 20633 | 20633 | 30 | net_dev_init | 1 |
| tifb_init | 1 | 18759 | 18759 | 844 | register_framebuffer | 1 |
| register_framebuffer | 1 | 13092 | 13092 | 88 | take_over_console | 1 |
| take_over_console | 1 | 13004 | 13004 | 819 | redraw_screen | 1 |
| kobject_add | 15 | 12996 | 866 | 738 | create_dir | 15 |
| setup_arch | 1 | 12542 | 12542 | 131 | paging_init | 1 |
| paging_init | 1 | 12411 | 12411 | 386 | free_area_init_node | 1 |
| create_dir | 15 | 12258 | 817 | 3625 | populate_dir | 9 |
| free_area_init_node | 1 | 12025 | 12025 | 30 | free_area_init_core | 1 |
| free_area_init_core | 1 | 11995 | 11995 | 7496 | __alloc_bootmem_node | 1 |
| rs_init | 1 | 11794 | 11794 | 377 | printk | 3 |
| inet_init | 1 | 11696 | 11696 | 1718 | ip_init | 1 |
| redraw_screen | 2 | 11247 | 5623 | 871 | do_update_region | 1 |
| printk | 18 | 10870 | 603 | 10870 | - | 0 |
| net_dev_init | 1 | 10334 | 10334 | 3102 | ethif_probe | 1 |

# Probe times for various file systems

As part of work supported by Sony/Matsushita, Todd Poynor got the following numbers using KFI on a 200MHz IBM 405GP "Walnut" evaluation board with a 100MHz core bus and 33MHz PCI bus. A Seagate Barracuda ATA IV 60GB disk drive is cabled to one of the two IDE interfaces on a Promise Ultra66 PCI-IDE bridge card (PDC20262 chipset). All of the drivers for PCI, IDE, PCI-IDE disk, and EXT2 filesystem are built into the kernel.

Boot execution time of IDE/PCI-IDE/MS-DOS partition drivers: 262 msecs. This includes the time to probe and identify the IDE drive device and read the disk partition information from the drive. We booted the kernel with option hdf=none to turn off the slave device on interface ide2, so that it would not be probed. We also modified the kernel to turn off probes of the second IDE interface on the Promise card. (This was prior to fixing the "ide\<xu0005c class="calibre16">=noprobe" option bug. If you don't turn off probing the second empty IDE interface then probling takes 1.3 seconds on both a PPC 405GP and a MIPS ITE8172!)</xu0005c>

About 250 msecs of the time is spent during the bus probe in repeated calls to ide_delay_50ms() during probe and drive identification, which busywaits (in order to let the IDE controller make progress before polling for status or to allow previous operations to complete). Reading capacity info, etc. also blocks using a wait_for_completion(). The MSDOS partition code also locks pages, which can call schedule() to wait for locks.

If the IDE drivers are made modules for delayed initialization, allowing concurrent module initialization with application execution, then kernel preemption is turned off for about 252 msecs during init of the ide-probe-mod module, which could significantly interfere with real-time response of other threads. (This was verified using the CONFIG_PREEMPT_TIMES feature that gives preemption lock times in /proc/latencytimes, which is also supported in the CELF kernel.) Because the Big Kernel Lock (BKL) is held during module initialization, preemption is disabled while the module init routines runs and uses busywait calls, but preemption is allowed when CPU-yielding wait calls are employed (the linux scheduler drops and reacquires the BKL in this case).

So we changed the ide_delay_50ms() busywaits to call schedule_timeout() instead (this is also in the CELF kernel; select CONFIG_IDE_PREEMPT), resulting in a 9.68 msec maximum preempt off time. Note that if you're not using modules but are instead building the drivers statically into the kernel, then the CPU-yielding calls do add some amount of time to the total execution time due to context-switch overhead, etc.

My coworker Dave Singleton also did some analysis and improvement of IDE on the MIPS ITE8172 (again for Sony/Matsushita). He found that with his 7200RPM Maxtor drive, he could reduce the 50ms probe delays to 1ms with no problem. With this, plus some context switch removal and the other optimizations given above, the following boot times were observed, by filesystem type:

{{{ ext2: 167 milliseconds ext3: 457 milliseconds xfs: 236 milliseconds }}}

He explains: "Both EXT3 and XFS file systems cause a log replay at boot/mount time. To improve this time the log recovery feature was by passed in the case of XFS. The log was not replayed and the root file system was mounted readonly. The first init script after booting remounted the root file system readwrite and replayed the log to ensure file system integrity. No such changes were made to EXT3, which is the reason it had the slowest boot times of all 3 file system types."

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [File Systems](http://eLinux.org/Category:File_Systems "Category:File Systems")

# Hardcode kernel module info

> From: [eLinux.org](http://eLinux.org/Hardcode_kernel_module_info "http://eLinux.org/Hardcode_kernel_module_info")

# Hardcode kernel module info

Sony found that with the 2.4 kernel, and an extremely large kernel loadable module, it could take the kernel module loader up to 3 seconds just to scan the relocation table for the module in order to load it.

The following patch allows one to pass some arguments to the kernel command line to hardcode some of the information that is detected at module load time. This reduced the module load time significantly for this situation.

This is a very specialized problem, but in case some one finds this useful, here's a more detailed description of the problem, and a patch:

## Detailed problem description

We've found that `module_frob_arch_sections(ppc)` takes a long time to find unique symbols in the relocation sections of the kernel module's elf header.

Our particular kernel module had a relocation section with 13757 entries(2749 unique ones) in it, and for this module, we measured 3 seconds to process this section by count_reloc function.

(There may be a way to not generate all this many entries, or not do the relocations in insmod etc... but we don't know about it at this time.)

We made a patch to just work around this problem by just passing the size info by the argument when insmod happens, and not do actual counting.

-Whether we should think of fixing the count algorithm or other proper way of fixing this. -Whether we should think of an option not to do any relocations at all

## Patch for 2.4.17 kernel

Download the patch at: [Elf_plt_info.patch](http://eLinux.org/images/3/3f/Elf_plt_info.patch "Elf plt info.patch")

This patch makes it possible to specify the core size and init size, avoiding the call to module_frob_arch_sections()

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Boot Time](http://eLinux.org/Category:Boot_Time "Category:Boot Time")
*   [Kernel](http://eLinux.org/Category:Kernel "Category:Kernel")

# IDE No Probe

> From: [eLinux.org](http://eLinux.org/IDE_No_Probe "http://eLinux.org/IDE_No_Probe")

# IDE No Probe

***Preliminary Draft*** under construction

## Contents

*   1 Introduction
    *   1.1 Rationale
*   2 Downloads
    *   2.1 Patch
    *   2.2 Utility programs
*   3 How To Use
*   4 Sample Results
    *   4.1 Experimental Results #1
    *   4.2 Experimental Results #2
    *   4.3 Experimental Results #3
*   5 Details
*   6 Future Work

## Introduction

This page describes the feature "forced IDE noprobe". Normally, the Linux kernel supports the ability to avoid probing for specific IDE drives and IDE interfaces, using a command line argument specified at boot time. The command line argument is "hdx==noprobe" or "idex==noprobe".

Under certain conditions this command line argument is not observed by the Linux kernel (at least for version 2.4.20). This "feature" forces the kernel to observe the "noprobe" command for IDE interfaces.

The fix here records the fact that "noprobe" was specified on the command line (via "the forcenoprobe" field), and skips probing the device if it is set, even if the driver has changed the setting of the noprobe field. This is all a quick hack, and a more systemic rewrite of noprobe handling would be more appropriate for community work, if this is still needed.

### Rationale

Probing IDE devices can take a few seconds during system startup. It is especially painful to probe interfaces which are known not to be used in an embedded device.

## Downloads

### Patch

*   Patch for CELF tree is isolated here: ide-noprobe.patch
*   ![Alert.gif](http://eLinux.org/File:Alert.gif)THIS PATCH (IN ITS ISOLATED FORM) HAS NOT BEEN VERIFIED
*   Patch for 2.4.xx is *needed*
*   Don't know if patch for 2.6.xx is needed

### Utility programs

None.

## How To Use

*   Apply this patch to your CELF tree (or verify that it is already present)
*   use "ide1==noprobe" on the kernel command line

    *   see the documentation on ide driver command line parameters in the file:

        ```
        drivers/ide/ide.c 
        ```

    *   The documentation is in a comment right before the routine

        ```
        ide-setup() 
        ```

        , at about line 3200 in the file.

*   verify that no probing is done for ide1

*   measure the time savings from using the patch and the "noprobe" option

## Sample Results

### Experimental Results #1

Todd Poynor of MontaVista measured the effect of specifying "hdf==none ide3==noprobe" (avoid probing ide2 slave and both ide3 devices) on a 200MHz IBM 405GP "Walnut" evaluation board with a 33MHz PCI bus. A Seagate Barracuda ATA IV 60GB disk drive was cabled to one of the two IDE interfaces on a Promise Ultra66 PCI-IDE bridge card (PDC20262 chipset). All of the drivers for PCI, IDE, PCI-IDE disk, and EXT2 file system were built into the kernel.

The time to init IDE was 1.3 seconds when the missing devices were probed, and about 230 milliseconds when "hdf==none ide3==noprobe" was specified. Thus, the resulting bootup time savings were about 1.1 seconds.

### Experimental Results #2

### Experimental Results #3

## Details

More details on the original problem in case you're interested...

drivers/ide/ide.c: ide_setup() is called early in start_kernel sequence (via parse_options -> checksetup -> __setup() macro mechanism). It calls init_hwif_data to init each interface to "noprobe==1". Then parses cmd line params such as "ide1==noprobe", setting noprobe back to 1.

Later, drivers such as the PCI-IDE bridge driver, at

```
drivers/ide/ide-pci.c: ide_setup_pci_device 
```

, resets the value of noprobe according to whether there's a valid interface there:

```
 hwif->noprobe == !hwif->io_ports[IDE_DATA_OFFSET]; 
```

This undoes the effect of any "noprobe" cmd line option.

## Future Work

Here is a list of things that could be worked on for this feature:

*   get an exhaustive list of places where noprobe is reset by the kernel
*   find out why community overrides this flag in places?
*   maybe refactor to be a "forcenoprobe" option?
*   find out if the same problem exists in 2.6.xx kernels

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Boot Time](http://eLinux.org/Category:Boot_Time "Category:Boot Time")
*   [Kernel](http://eLinux.org/Category:Kernel "Category:Kernel")

# Include modules in kernel image

> From: [eLinux.org](http://eLinux.org/Include_modules_in_kernel_image "http://eLinux.org/Include_modules_in_kernel_image")

# Include modules in kernel image

For best performance do not load modules at init time. Instead include those modules in the kernel image.

This will give a bigger kernel (as the modules are in it) so loading and starting the kernel will be slower. However this time is recovered because there are no modules to be loaded (which is slightly more expensive than having them into the kernel).

TODO: perform measurements to quantify the gain

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Kernel](http://eLinux.org/Category:Kernel "Category:Kernel")

# Initcall Debug

> From: [eLinux.org](http://eLinux.org/Initcall_Debug "http://eLinux.org/Initcall_Debug")

# Initcall Debug

## Introduction

Passing the option "initcall_debug" on the kernel command line will cause timing information to be printed to the console for each initcall. initcalls are used to initialize statically linked kernel drivers and subsystems and contribute a significant amount of time to the Linux boot process. The output looks like this:

```
calling ipc_init+0x0/0x28 @ 1
msgmni has been set to 42
initcall ipc_init+0x0/0x28 returned 0 after 1872 usecs 
```

You can use 'dmesg' to see the messages after the kernel has booted. With a short 'sed' script, you can reorder the final 'timing' line, and sort the initcalls numerically by duration. Here is a command to do this:

```
dmesg -s 128000 | grep "initcall" | sed "s/\(.*\)after\(.*\)/\2 \1/g" | sort -n 
```

## Sample output

Here is some sample output from the above command sequence. This was on an old X86-based desktop system. [Printk Times](http://eLinux.org/Printk_Times "Printk Times") was turned on (hence the extra timestamp on each line.)

```
24 msecs [ 2.237177] initcall acpi_button_init+0x0/0x51 returned 0
28 msecs [ 0.763503] initcall init_acpi_pm_clocksource+0x0/0x16c
returned 0
32 msecs [ 0.348241] initcall acpi_pci_link_init+0x0/0x43 returned 0

33 msecs [ 0.919004] initcall inet_init+0x0/0x1c7 returned 0
33 msecs [ 5.282722] initcall psmouse_init+0x0/0x5e returned 0
54 msecs [ 2.979825] initcall e100_init_module+0x0/0x4d returned 0
71 msecs [ 0.650325] initcall pnp_system_init+0x0/0xf returned 0
91 msecs [ 0.872402] initcall pcibios_assign_resources+0x0/0x85
returned 0
187 msecs [ 4.369187] initcall ehci_hcd_init+0x0/0x70 returned 0
245 msecs [ 2.777161] initcall serial8250_init+0x0/0x100 returned 0
673 msecs [ 5.098052] initcall uhci_hcd_init+0x0/0xc1 returned 0
830 msecs [ 4.067279] initcall piix_init+0x0/0x27 returned 0
1490 msecs [ 8.290606] initcall ip_auto_config+0x0/0xd70 returned 0 
```

## Notes

Using initcall_debug increases the amount of messages produced by the kernel during system boot. It's a good idea to increase the printk log buffer size to avoid overflowing the log buffer. To do this, increase the value of CONFIG_LOG_BUF_SHIFT from 14 to 18\. This increases the log buffer from the default size of 16k to 256K.

You will need to enable CONFIG_PRINTK_TIME and CONFIG_KALLSYMS in your kernel configuration for this to work correctly. The first option displays printk timings and the second option ensures that function names are printed rather than memory addresses.

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Boot Time](http://eLinux.org/Category:Boot_Time "Category:Boot Time")
*   [Kernel](http://eLinux.org/Category:Kernel "Category:Kernel")

# Kernel Function Trace

> From: [eLinux.org](http://eLinux.org/Kernel_Function_Trace "http://eLinux.org/Kernel_Function_Trace")

# Kernel Function Trace

## Contents

*   1 Introduction
*   2 Basic Use
*   3 Download
    *   3.1 Patches
    *   3.2 KFT utilities
*   4 How To Use
    *   4.1 Adding platform support for the kft clock source
*   5 Issues
    *   5.1 Overhead
*   6 Similar technologies
*   7 Filter Q&A
*   8 Sample results
    *   8.1 kft log output (excerpt)
    *   8.2 kft log analysis with 'kd'
    *   8.3 kft nested call trace with 'kd -c'

## Introduction

Kernel Function Trace (KFT) is a kernel function tracing system, which uses the "-finstrument-functions" capability of the gcc compiler to add instrumentation callouts to every function entry and exit. The KFT system provides for capturing these callouts and generating a trace of events, with timing details. KFT is excellent at providing a good timing overview of kernel procedures, allowing you to see where time is spent in functions and sub-routines in the kernel.

The main mode of operation with KFT is to use the system with a dynamic trace configuration. That is, you can set a trace configuration after kernel startup, using the `/proc/kft` interface, and retrieve trace data immediately. However, another (special) mode of operation is available, called STATIC_RUN mode, where the configuration for a KFT run is configured and compiled statically into the kernel. This mode is useful for getting a trace of kernel operation during system bootup (before user space is running).

The KFT configuration lets you specify how to automatically start and stop a trace, whether to include interrupts as part of the trace, and whether to filter the trace data by various criteria (for minimum function duration, only certain listed functions, etc.) KFT trace data is retrieved by reading from `/proc/kft_data` after the trace is complete.

Tools are supplied to convert numeric trace data to kernel symbols, and to process and analyze the data in a KFT trace.

## Basic Use

Documentation for KFT is available (as of 2.6.12) in Documentation/kft.txt, after applying the kft-all-in-one.patch.

An online guide is provided at Using Kernel Function Trace

Here's a presentation about KFT usage:

*   Presentation: [Learning the Kernel and Finding Performance Problems with KFI](http://eLinux.org/images/7/7c/KFI-presentation.pdf "KFI-presentation.pdf")
*   Sample trace used with presentation: [omap-serial_init.trace.txt](http://eLinux.org/images/1/1b/Omap-serial_init.trace.txt "Omap-serial init.trace.txt")

KFT used to be called KFI (for Kernel Function Instrumentation). For prior releases of KFT, see KernelFunctionInstrumentation

## Download

### Patches

*   Download directory with recent versions: ftp://dslab.lzu.edu.cn/pub/kft/
    *   This is a fairly slow link - you can download the patch for 2.6.21 here: [kft-all-in-one-2.6.21.patch](http://eLinux.org/images/3/33/Kft-all-in-one-2.6.21.patch "Kft-all-in-one-2.6.21.patch")
*   Patches for Linux 2.6.8.1, 2.6.11 and 2.6.12: see the [Patch Archive](http://eLinux.org/Patch_Archive "Patch Archive") page (available as an all-in-one patch or a tar archive of broken-out patches)
*   Patch for Linux 2.6.11: (can just download [kfi-2.patch](http://eLinux.org/images/9/97/Kfi-2.patch "Kfi-2.patch"))
*   Patch for Linux 2.6.7 (for x86 only): [kfi-26-test1.patch](http://eLinux.org/images/a/a6/Kfi-26-test1.patch "Kfi-26-test1.patch")
*   Patch for CELF kernel (based on linux-2.4.20): [kfi-24-test4.patch](http://eLinux.org/images/b/bd/Kfi-24-test4.patch "Kfi-24-test4.patch")

### KFT utilities

KFT includes several helper scripts which are located in the kernel `scripts` directory:

*   addr2sym - convert function addresses to symbols in the trace data
*   kd - KFT dump - does filtering, sorting, analysis and trace formatting of KFT trace logs
*   mkkftrun.pl - used during building the kernel to convert a configuration file into a C file to be compiled into the kernel
*   sym2addr - convert function names to addresses in a KFT configuration file (for a dynamic trace)

See Documentation/kft.txt, in the kernel source tree after applying the patch, for instructions on using these programs.

## How To Use

*   download both the patch
*   apply the patch in the kernel top-level directory:
*   patch -p1 \<kft.patch
*   read the rest of the instructions in the Documentation/kft.txt file. (my apologies for being lazy!)

### Adding platform support for the kft clock source

The current patch (from Sep 2005), uses sched_clock() as the clock source for kft_readclock(). sched_clock() is new in the 2.6 kernel, and returns a 64-bit value containing nanoseconds (not necessarily relative to any particular time base, but assumed to be monotonically increasing, and relatively frequency-stable.)

If your platform has good support for sched_clock(), then KFT should work for you unmodified. If not, you may wish to do one of two things:

*   improve support for sched_clock() in your board port, or
*   write a custom kft_readclock() routine.

A "good" sched_clock() routine will provide at least microsecond resolution on return values. Some architectures have sched_clock() returning values based on the `jiffy` variable, which on many embedded platforms only has resolution to 10 milliseconds.

There are some sample custom kft_readclock() routines in the current patch for different architectures.

## Issues

Here is a list of things that need more work:

*   may need to add noinstrument attributes for some time-critical code (need to check this)
    *   maybe check "Function Trace in KDB" patch for help with this

### Overhead

Mitsubishi measured the overhead of KFI (the predecessor to KFT). The period is from start_kernel() to smp_init().

Platform was: SH7751R 240MHz (Memory Clock 80MHz)

`With KFI : 922.419 msec Without KFI : 666.982 msec Overhead : 27.69%`

## Similar technologies

There are other technologies for doing call traces or kernel profiling that are similar to KFT. Some of these are mentioned on the Kernel Instrumentation page. One that is very similar is a kernel trace mechanism for use with KDB. A patch was posted to LKML in January of 2002\. See the message: [`www.uwsg.iu.edu/hypermail/linux/kernel/0201.3/0888.html`](http://www.uwsg.iu.edu/hypermail/linux/kernel/0201.3/0888.html)

## Filter Q&A

Tim asked the question:

Q. Is there a way to adjust the trigger or filters to reduce the memory usage?

A. The memory usage is determined by the size of the log, which is specified by `logentries` in the KFT configuration. If `logentries` is not specified, it defaults to a rather large number (20,000 in the current code). To use a smaller trace log, specify a smaller number of logentries in the KFT configuration.

The use of triggers and filters can help you fit more data (or more pertinent data) into the log, so you can more readily see the information you are interested in.

By setting start and stop triggers with a narrower "range" of operation, then the amount of data put into the log will be more limited. For example, the default configuration for a static trace uses

`trigger start entry start_kernel trigger stop entry to_userspace`

This will trace EVERYTHING that the kernel does between those two routines. However, you can limit tracing to a much smaller time area of kernel initialization using better triggers. Here is an example showing a triggers for just watching mem_init(): `trigger start entry mem_init trigger stop exit mem_init`

Filters are also vital to reduce the number of entries the trace log. With no time filters in place, KFT will log every single function executed by the kernel. This will quickly overrun the log (no matter what size you have reserved with `logentries`.

When using KFT to find long-duration functions in the kernel, we usually are not interested in routines that execute quickly, and instead use something like "filter mintime 500" to filter out routines taking less than 500 microseconds.

## Sample results

Here is an excerpt from a KFI log trace (processed with addr2sym). It shows all functions which lasted longer than 500 microseconds, from when the kernel entered start_kernel() to when it entered to_userspace().

### kft log output (excerpt)

`Kernel Instrumentation Run ID 0`

Logging started at 6785045 usec by entry to function start_kernel Logging stopped at 8423650 usec by entry to function to_userspace

Filters: 500 usecs minimum execution time

Filter Counters:

Execution time filter count = 896348 Total entries filtered = 896348 Entries not found = 24

Number of entries after filters = 1757

```
Entry      Delta      PID            Function                    Called At
      1          0       0                start_kernel   L6+0x0
     14       8687       0                  setup_arch   start_kernel+0x35
     39        891       0                setup_memory   setup_arch+0x2a8
     53        872       0   register_bootmem_low_pages   setup_memory+0x8f
     54        871       0                free_bootmem   register_bootmem_low_pages+0x95
     54        871       0           free_bootmem_core   free_bootmem+0x34
    930       7432       0                 paging_init   setup_arch+0x2af
    935       7427       0             zone_sizes_init   paging_init+0x4e
    935       7427       0              free_area_init   zone_sizes_init+0x83
    935       7427       0         free_area_init_node   free_area_init+0x4b
    935       3759       0        __alloc_bootmem_node   free_area_init_node+0xc5
    935       3759       0        __alloc_bootmem_core   __alloc_bootmem_node+0x43
   4694       3668       0         free_area_init_core   free_area_init_node+0x75
   4817       3535       0            memmap_init_zone   free_area_init_core+0x2bd
   8807     266911       0                   time_init   start_kernel+0xb6
   8807     261404       0               get_cmos_time   time_init+0x1c
 270211       5507       0                select_timer   time_init+0x41
 270211       5507       0                    init_tsc   select_timer+0x45
 270211       5507       0               calibrate_tsc   init_tsc+0x6c
 275718       1638       0                console_init   start_kernel+0xbb
 275718       1638       0                    con_init   console_init+0x59
 275954        733       0          vgacon_save_screen   con_init+0x288
 277376       6730       0                    mem_init   start_kernel+0xf8
 277376       1691       0            free_all_bootmem   mem_init+0x52
 277376       1691       0       free_all_bootmem_core   free_all_bootmem+0x24
 284118      25027       0             calibrate_delay   start_kernel+0x10f
 293860        770       0                     __delay   calibrate_delay+0x62
 293860        770       0                   delay_tsc   __delay+0x26
 294951       1534       0                     __delay   calibrate_delay+0x62
 294951       1534       0                   delay_tsc   __delay+0x26
 297134       1149       0                     __delay   calibrate_delay+0xbe
 297134       1149       0                   delay_tsc   __delay+0x26
 .
 .
 .
1638605          0     145              filemap_nopage   do_no_page+0xef
1638605          0     145                 __lock_page   filemap_nopage+0x286
1638605          0     145                 io_schedule   __lock_page+0x95
1638605          0     145                    schedule   io_schedule+0x24
1638605          0       5                    schedule   worker_thread+0x217
1638605          0       1                to_userspace   init+0xa6 
```

The log is attached here: [Media:Kfiboot-9.lst](http://eLinux.org/images/6/68/Kfiboot-9.lst "Kfiboot-9.lst") A Delta value of 0 usually means the exit from the routine was not seen.

### kft log analysis with 'kd'

Below is a `kd` dump of the data from the above log.

For the purpose of finding areas of big time in the kernel, the functions with high "Local" time are important. For example, `delay_tsc()` is called 156 times, resulting in 619 milliseconds of duration. Other time-consuming routines were: `isapnp_isolate()`, `get_cmos_time()`, `default_idle()`.

The top line showing schedule() called 192 times and lasting over 5 seconds, is accounted wrong due to the switch in execution control inside the schedule routine. (The count of 192 calls is correct, but the duration is wrong.)

```
$ ~/work/kft/kft/kd -n 30 kftboot-9.lst
Function                  Count Time     Average  Local
------------------------- ----- -------- -------- --------
schedule                    192  5173790    26946  5173790
do_basic_setup                1  1159270  1159270       14
do_initcalls                  1  1159256  1159256      627
__delay                     156   619322     3970        0
delay_tsc                   156   619322     3970   619322
__const_udelay              146   608427     4167        0
probe_hwif                    8   553972    69246      126
do_probe                     31   553025    17839       68
ide_delay_50ms              103   552588     5364        0
isapnp_init                   1   383138   383138       18
isapnp_isolate                1   383120   383120   311629
ide_init                      1   339778   339778       22
probe_for_hwifs               1   339756   339756      103
ide_scan_pcibus               1   339653   339653       13
init_setup_piix               2   339640   169820        0
ide_scan_pcidev               2   339640   169820        0
piix_init_one                 2   339640   169820        0
ide_setup_pci_device          2   339640   169820      242
probe_hwif_init               4   339398    84849       40
time_init                     1   266911   266911        0
get_cmos_time                 1   261404   261404   261404
ide_generic_init              1   214614   214614        0
ideprobe_init                 1   214614   214614        0
wait_for_completion           6   194573    32428        0
default_idle                183   192589     1052   192589
io_schedule                  18   171313     9517        0
__wait_on_buffer             14   150369    10740      141
i8042_init                    1   137210   137210      295
i8042_port_register           2   135318    67659      301
__serio_register_port         2   135017    67508        0 
```

### kft nested call trace with 'kd -c'

Below is a `kd -c` trace of the data from a log taken from a PPC440g platform, from a (dynamic) trace of the function do_fork().

Here is the configuration file that was used: `new begin trigger start entry do_fork trigger stop exit do_fork end`

Here is the first part of the trace in nested call format: Times (Entry, Duration and Local) are in micro-seconds. Note the timer interrupt during the routine.

```
 Entry      Duration   Local       Pid    Trace
        4      20428        209      33 do_fork
        7          6          6      33 |  alloc_pidmap
       18       2643         84      33 |  copy_process
       21        114         19      33 |  |  dup_task_struct
       24          8          6      33 |  |  |  prepare_to_copy
       27          2          2      33 |  |  |  |  sub_preempt_count
       35         22          9      33 |  |  |  kmem_cache_alloc
       38          2          2      33 |  |  |  |  __might_sleep
       43         11          9      33 |  |  |  |  cache_alloc_refill
       49          2          2      33 |  |  |  |  |  sub_preempt_count
       60         65          6      33 |  |  |  __get_free_pages
       63         59         14      33 |  |  |  |  __alloc_pages
       65          3          3      33 |  |  |  |  |  __might_sleep
       71          3          3      33 |  |  |  |  |  zone_watermark_ok
       77         37         17      33 |  |  |  |  |  buffered_rmqueue
       80          4          4      33 |  |  |  |  |  |  __rmqueue
       86          3          3      33 |  |  |  |  |  |  sub_preempt_count
       92          3          3      33 |  |  |  |  |  |  bad_range
       98          2          2      33 |  |  |  |  |  |  __mod_page_state
      103          8          5      33 |  |  |  |  |  |  prep_new_page
      106          3          3      33 |  |  |  |  |  |  |  set_page_refs
      117          2          2      33 |  |  |  |  |  zone_statistics
      141         25          4      33 |  |  do_posix_clock_monotonic_gettime
      143         21          6      33 |  |  |  do_posix_clock_monotonic_get
      146         15          6      33 |  |  |  |  do_posix_clock_monotonic_gettime_parts
      149          9          6      33 |  |  |  |  |  getnstimeofday
      152          3          3      33 |  |  |  |  |  |  do_gettimeofday
      169          3          3      33 |  |  copy_semundo
      174         41         17      33 |  |  copy_files
      177         19          9      33 |  |  |  kmem_cache_alloc
      180          2          2      33 |  |  |  |  __might_sleep
      185          8          5      33 |  |  |  |  cache_alloc_refill
      188          3          3      33 |  |  |  |  |  sub_preempt_count
      200          3          3      33 |  |  |  count_open_files
      209          2          2      33 |  |  |  sub_preempt_count
      218         19          8      33 |  |  kmem_cache_alloc
      220          2          2      33 |  |  |  __might_sleep
      225          9          6      33 |  |  |  cache_alloc_refill
      229          3          3      33 |  |  |  |  sub_preempt_count
      241          2          2      33 |  |  sub_preempt_count
      246        216          9      33 |  |  kmem_cache_alloc
      249        199        199      33 |  |  |  __might_sleep
            !!!! start
      253        151         63      33 timer_interrupt
      256          8          6      -1 !  profile_tick
      259          2          2      -1 !  !  profile_hit
      267         61         15      -1 !  update_process_times
      270          8          5      -1 !  !  account_system_time
      273          3          3      -1 !  !  !  update_mem_hiwater
      281          8          5      -1 !  !  run_local_timers
      284          3          3      -1 !  !  !  raise_softirq
      293         27         16      -1 !  !  scheduler_tick 
```

. . .

To see the full trace, go to the [KftDoForkTrace](http://eLinux.org/KftDoForkTrace "KftDoForkTrace") page.

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Boot Time](http://eLinux.org/Category:Boot_Time "Category:Boot Time")
*   [Measuring](http://eLinux.org/Category:Measuring "Category:Measuring")
*   [Kernel Function Trace](http://eLinux.org/Category:Kernel_Function_Trace "Category:Kernel Function Trace")

# Kernel Instrumentation

> From: [eLinux.org](http://eLinux.org/Kernel_Instrumentation "http://eLinux.org/Kernel_Instrumentation")

# Kernel Instrumentation

Here is a listing of some instrumentation systems for the kernel:

## Contents

*   1 Existing Instrumentation Systems
    *   1.1 TimePegs
    *   1.2 Printk Times
    *   1.3 Boot Tracer
    *   1.4 Kernel Function Instrumentation (KFI)
    *   1.5 Linux Trace Toolkit
    *   1.6 Kernel Tracer (in IKD patch)
    *   1.7 Function trace in KDB
    *   1.8 ftrace
    *   1.9 SystemTap / Kprobes
*   2 Notes

## Existing Instrumentation Systems

### TimePegs

Andrew Morton's system for measuring intervals between kernel events:

See [`www.zipworld.com.au/~akpm/linux/timepeg.txt`](http://www.zipworld.com.au/~akpm/linux/timepeg.txt)

Patches at:

[`www.zip.com.au/~akpm/linux/index.html#timepegs`](http://www.zip.com.au/~akpm/linux/index.html#timepegs)

### Printk Times

Produces printk's with extra time data on them. As of kernel 2.6.11 this is part of the mainline kernel enabled by CONFIG_PRINTK_TIME. Previous versions can add it via a very simple patch. It works for bootup time measurements, or other places where you can just jam in a printk or two.

See Printk Times

### Boot Tracer

Starting from 2.6.28 the kernel has this new feature to optimize the boot time. It records the timings of the initcalls. Its aim is to be parsed by the scripts/bootgraph.pl tool to produce graphics about boot inefficiencies, giving a visual representation of the delays during initcalls. Users need to boot with the "initcall_debug" and "printk.time=1" parameters, and run "dmesg | perl scripts/bootgraph.pl > output.svg" to generate the final data.

### Kernel Function Instrumentation (KFI)

A system which uses a compiler flag to instrument most of the functions in the kernel. Timing data is recorded at each function entry and exit. The data can be extracted and displayed later with a command-line program.

The kernel portion of this is available in the CELF tree now.

Grep for CONFIG_KFI.

See the page [Kernel Function Instrumentation](http://eLinux.org/Kernel_Function_Instrumentation "Kernel Function Instrumentation") page for some preliminary notes.

FIXTHIS - need to isolate this as a patch.

### Linux Trace Toolkit

See [Linux Trace Toolkit](http://www.opersys.com/LTT/)

### Kernel Tracer (in IKD patch)

This is part of a general kernel tools package, maintained by Andrea Arcangeli.

See [`www.kernel.org/pub/linux/kernel/people/andrea/ikd/README`](http://www.kernel.org/pub/linux/kernel/people/andrea/ikd/README)

The ktrace implementation is in the file kernel/debug/profiler.c It was originally written by Ingo Molnar, Richard Henderson and/or Andrea Arcangeli

It uses the compiler flag -pg to add profiling instrumentation to the kernel.

### Function trace in KDB

Last year (Jan 2002) Jim Houston sent a patch to the kernel mailing list which provides support compiler-instrumented function calls.

See [`www.ussg.iu.edu/hypermail/linux/kernel/0201.3/0888.html`](http://www.ussg.iu.edu/hypermail/linux/kernel/0201.3/0888.html)

### ftrace

Ftrace is a simple function tracer which initially came from the -rt patches but was mainlined in 2.6.27\. Compiler profiling features are used to insert an instrumentation call (with gcc *-pg* option) that can be overwritten with a NOP sequence to ensure overhead is minimal with tracing disabled (this is enabled through CONFIG_DYNAMIC_FTRACE). There are a number of tracers in the kernel that use ftrace to trace high level events such as irq enabling/disabling preemption enabling/disabling, scheduler events and branch profiling.

The interface to access ftrace can be found in */debugfs/tracing*, and is very extensively documented in [Documentation/trace/ftrace.txt](http://lxr.free-electrons.com/source/Documentation/trace/ftrace.txt).

Steven Rostedt, ftrace's main developer, gave a conference on ftrace at the Ottawa Linux Symposium 2008\. The [video](http://free-electrons.com/pub/video/2008/ols/ols2008-steven-rostedt-ftrace.ogg) and [slides](http://people.redhat.com/srostedt/ftrace-tutorial.odp).

### SystemTap / Kprobes

[SystemTap](http://sourceware.org/systemtap/) is a sophisticated kernel instrumentation tool that can be scripted with its own language to gather information about a running kernel. It uses the Kprobes infrastructure to implement it's tracing.

## Notes

Some random thoughts on instrumentation:

*   Most instrumentation systems need lots of memory to buffer the data produced
*   Some instrumentation systems support filters or triggers to allow for better control over the information saved
*   instrumentation systems tend to introduce overhead or otherwise interfere with the thing they are measuring
    *   instrumentation systems tend to pollute the cache lines for the processor
*   There doesn't seem to be a single API to support in-kernel timing instrumentation which is supported on lots of different architectures. This is the main reason for CELF's current project to define an [Instrumentation API](http://eLinux.org/Instrumentation_API "Instrumentation API")

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Kernel](http://eLinux.org/Category:Kernel "Category:Kernel")

# Kernel XIP

> From: [eLinux.org](http://eLinux.org/Kernel_XIP "http://eLinux.org/Kernel_XIP")

# Kernel XIP

This page describes the use of Kernel Execute-In-Place as a bootup time reduction technique.

## Contents

*   1 Description
*   2 How to implement or use
*   3 Expected Improvement - about .5 seconds
*   4 Resources
    *   4.1 Projects
    *   4.2 Specifications
    *   4.3 Patches
*   5 Case Studies
    *   5.1 Case 1 - XIP on Arctic III PowerPC board
    *   5.2 Case 2 - XIP on OMAP Innovator
        *   5.2.1 Case 3 - comparing NOR XIP with OneNAND quick-copy to RAM
*   6 Questions
*   7 Implementation Notes (from the field)
    *   7.1 Notes on configuring Linux for XIP (for PPC)
    *   7.2 Using XIP with U-Boot on Arm
    *   7.3 How to determine offsets for sections

## Description

Execute-in-Place ([Wikipedia entry](http://en.wikipedia.org/wiki/Execute_in_place)) is a method of executing code directly from long-term storage, instead of first loading it into RAM.

When the kernel is executed in place, the bootloader does not have to:

1.  read the kernel from flash or
2.  decompress the kernel and
3.  write the kernel to RAM.

## How to implement or use

TODO: describe how to achieve the technique (config options, command args, etc.)

see [Kernel XIP Instructions For OMAP](http://eLinux.org/Kernel_XIP_Instructions_For_OMAP "Kernel XIP Instructions For OMAP")

## Expected Improvement - about .5 seconds

The expected improvement from using this technique depends on the size of the kernel, and the time to load it and decompress it from persistent storage.

In general, time savings of about .5 seconds have been observed.

## Resources

### Projects

*   [Configure Linux For XIP](http://www.denx.de/twiki/bin/view/DULG/ConfigureLinuxForXIP) describes experience with using both Kernel XIP and application XIP.

*   In this [e-mail](http://lists.arm.linux.org.uk/pipermail/linux-arm-kernel/2003-June/015571.html), David Woodhouse described issues with implementing support for KERNEL XIP in flash. The requirements here are a bit different from supporting KERNEL XIP in ROM, since the flash may be unreadable during certain flash operations. Therefore, portions of the kernel must be copied to RAM, and certain kernel operations must be disallowed when the flash is unavailable.

### Specifications

TODO: list or link to CELF specifications related to this technique

### Patches

*   Kernel 2.6.10 now includes XIP support:

> ARM PATCH 2154/2: XIP kernel for ARM
> 
> Patch from Nicolas Pitre
> 
> This patch allows for the kernel to be configured for XIP. A lot of people are using semi hacked up XIP patches already so it is a good idea to have a generic and clean implementation supporting all ARM targets. The patch isn't too intrusive.
> 
> It involves:
> 
> *   modifying the kernel entry code to map separate .text and .data sections in the initial page table, as well as relocating .data to ram when needed
>     
>     
> *   modifying the linker script to account for the different VMA and LMA for .data, as well as making sure that .init.data gets relocated to ram
>     
>     
> *   adding the final kernel mapping with a new MT_ROM mem type
>     
>     
> *   distinguishing between XIP and non-XIP for bootmem and memory resource declaration
>     
>     
> *   and adding proper target handling to Makefiles.
>     
>     
> 
> While at it, this also cleans up the kernel boot code a bit so the kernel can now be compiled for any address in ram, removing the need for a relation between kernel address and start of ram. Also throws in some more comments.
> 
> And finally the _text, _etext, _end and similar variables are now declared extern void instead of extern char, or even extern int. That allows for operations on their address directly without any cast, and trying to reference them by mistake would yield an error which is a good thing.
> 
> Tested both configurations: XIP and non XIP, the later producing a kernel for execution from ram just as before.
> 
> Signed-off-by: Nicolas Pitre Signed-off-by: Russell King

## Case Studies

### Case 1 - XIP on Arctic III PowerPC board

XIP was used on a PowerPC board, with the following results:

*   Hardware: PowerPC 405LP Arctic III, running at 266 MHZ
*   Kernel Version: MontaVista Linux CEE 3.0 (based on 2.4.20)
*   Configuration: Features built statically into the kernel included: Arctic ethernet, audio, and MTD; 405LP LCD and touchscreen; 405 onchip I2C; and pinned TLBs; Dynamic Power Management; preemptible kernel with selected spinlock breaking; serial driver and serial console (kernel messages are disabled for boot time measurements); TCP/IP (IP addresses are configured after boot) with network devices, network packet filtering, packet protocol, and IP multicast; virtual terminal; UNIX domain sockets and UNIX98 PTYs; Linux Driver Model; and /proc, sysfs, tmpfs, ramfs, cramfs, devpts filesystems.
*   Time without change: 1357 milliseconds
*   Time with change: 894 milliseconds
*   Total Reduction in boot time: 463 milliseconds

Table of bootup times:

| **Boot Stage** | **Non-XIP Time** | **XIP Time** |
| --- | --- | --- |
| Copy kernel to RAM | 85 ms | 12 ms * |
| Decompress kernel | 453 ms | 0 ms |
| Kernel time to initialize (time to first user space program) | 819 ms | 882 ms |
| Total kernel boot time | 1357 ms | 894 ms |
| **Reduction:** | * | **463 ms** |

*   still have to copy data segment

Thanks to Todd Poynor of MontaVista for providing this information.

### Case 2 - XIP on OMAP Innovator

XIP was used on a TI OMAP (Innovator board), with the following results:

*   Hardware: TI OMAP 1510, running at 168 MHZ
*   Kernel Version: 2.4.20 (precursor to CELF tree)
*   Configuration: [need to put config information here]
*   see [Kernel XIP Instructions For OMAP](http://eLinux.org/Kernel_XIP_Instructions_For_OMAP "Kernel XIP Instructions For OMAP")

| **Boot Stage** | **Non-XIP Time Kernel compressed** | **Non-XIP Time Kernel not compressed** | **XIP Time** |
| --- | --- | --- | --- |
| Copy kernel to RAM | 56 ms | 120 ms | 0 ms |
| Decompress kernel | 545 ms | 0 ms | 0 ms |
| Kernel time to initialize (time to first user space program) | 88 ms | 208 ms | 110 ms |
| Total kernel boot time | 689 ms | 208 ms | 110 ms |
| **Reduction:** | * | **481 ms** | **579 ms** |

Thanks to Hiroyuki Machida of Sony for providing this information.

#### Case 3 - comparing NOR XIP with OneNAND quick-copy to RAM

*   Hardware: TI OMAP 5912, running at 196 MHZ (OSK5912 from Spectrum Digital)
*   Kernel Version: 2.6.10-omap1 (binary size is about 2MBytes uncompressed)

Dongjun Shin of Samsung Electronics reports:

As I've mentioned in AG meeting, we've done some boot time measurements on OMAP 5912 target platform (OSK5912 from Spectrum Digital). We've done this experiment in order to identify the timing gap between NOR XIP and NAND shadowing. Here is the result (the number represents time in microseconds).

The column noted as "XIP tuning" means that we changed the NOR I/F setting of OMAP (EMIFS) so that the synchronous read is used instead of (default) asynchronous read.

In case of OneNAND, only 1Kbytes of initial part of OneNAND can be used as XIP region and we used 1Kbytes IPL for loading u-boot. Shadowing means that kernel copy (to RAM) is used.

The reason why the kernel initialization time are broken into 2 phases is that we used timer register for measurement and the timer is initialized during kernel booting. You can just add the values for 2 phases to get the total kernel booting time.

| Boot stage | NOR | OneNAND |
| XIP | Shadowing |
| Normal | Tuning | Compressed | Uncompressed |
| **Boot loader CPU frequency** | 96MHz | 96 MHz |
| **Boot loader (IPL)** | 0 | 0 | 5,999 | 5,999 |
| **Boot loader (u-boot)** | 388,146 | 372,538 | 356,821 | 356,810 |
| **Copy kernel to RAM** | 0 | 0 | 35,029 | 56,884 |
| **Decompress kernel** | 0 | 0 | 1,178,481 | 0 |
| **Kernel time to initialize - 1 phase** | 18,964 | 12,826 | 9,091 | 9,119 |
| **Kernel time to initialize - 2 phase** | 61,176 | 51,263 | 50,118 | 50,126 |
| **Total** | 468,287 | 436,626 | 1,635,540 | 478,938 |
| *times are in microseconds* |

*   Related info
    *   [omap patch archive](http://www.muru.com/linux/omap)
    *   [Samsung NAND flash memory datasheet](http://www.samsung.com/Products/Semiconductor/Flash/TechnicalInfo/datasheets.htm)
    *   [OneNAND e-brochure](http://www.samsung.com/Products/Semiconductor/Support/ebrochure/memory/onenand_v10.pdf)

## Questions

TimRiker asks:

*   What is the ram/rom footprint of these?
*   Are we close to using sram only for some implementations?
*   Has anyone looked at romfs and XIP user space?

## Implementation Notes (from the field)

*   [Discussion](http://lists.infradead.org/pipermail/linux-mtd/2003-June/007918.html) about XIP when flash might be in use - note mention of '__xipram' attribute (for partial XIP??)

### Notes on configuring Linux for XIP (for PPC)

*   [Notes](http://www.denx.de/twiki/publish/DULG/ConfigureLinuxForXIP.html) on configuring XIP

### Using XIP with U-Boot on Arm

Wolfgang Denks, the primary author of the UBoot bootloader, wrote the following:

```
>> Yes. But... _Does_ mkimage -x put header on the front of it?

Yes, it does.

>>> > * You program the resulting image at 0x10004000.
>>> >
>>> > What is programmed at 0x10004000 ?  The xipImage code or the uboot header?
>
>>
>> The u-boot headers, yes. Thats wrong. But how to use mkimage -x then?
>> Is the header-caused offset known?

Yes. The U-Boot header is 64 bytes.

U-Boot expects (and verifies) that the entry point is  equal  to  the load address plus the size of the U-Boot header. 
```

Lots more details are in the thread (split across months in the archives):

*   [Thread: Nov. 2004](http://lists.arm.linux.org.uk/pipermail/linux-arm-kernel/2004-November/025472.html)
*   [`lists.arm.linux.org.uk/pipermail/linux-arm-kernel/2004-December/025674.html`](http://lists.arm.linux.org.uk/pipermail/linux-arm-kernel/2004-December/025674.html) Thread: Dec. 2004]

### How to determine offsets for sections

Dick Johnson talks about how to set the physical address for ELF sections by editing the kernel link files.

```
On Fri, 21 Oct 2005, Sreeni wrote:
>> Hi,<br>
>><br>
>> I have a montavista XIP kernel running on ARM and my kernel will be in<br>
>> the flash. Since its XIP, I know that the ".text" portion of the<br>
>> kernel will be executed from flash but that ".data" needs to be placed<br>
>> in SDRAM. Now my question is - based on what offset this data will be<br>
>> placed?<br>
>><br>
>> My SDRAM physicall address starts at 3000_0000 and flash starts at<br>
>> 0100_0000\. when i allocated a global variable in the kernel module and<br>
>> when i try to check its actually physical address using virt_to_phys,<br>
>> its giving me the address in the range of 0100_0000 ~ 0600_0000 which<br>
>> is my flash (the PAGE_OFFSET doesn't work in case of XIP).<br>
>><br>
>> Can you please help in knowing the physical address of my .data<br>
>> portion in this situation.<br>
>><br>
>> Thanks<br>
>> Shree<br>
</code><br>
I don't know about the ARM in particular, but if you look in ../arch/arm/boot/compressed/vmlinux.lds.in,
you will see that this linker-file simply allocates the start addresses of each section as the next
available address. The same is true of ../arch/arm/boot/bootp.lds. If you expect to have code the data
elements and stack accessed at a specific physical offset, you modify the linker files().

Note that "." means "right here", just like '$' in many assemblers. You can specify a physical offset
simply as:

 ENTRY(_start)
 SECTIONS
 {
   . == 0x01000000  <==== like this for code
   .text : {
    ...
    ... }
    .rodata : { }
    . == 0x30000000 <==== like this data
    .data : {  }
    .bss  : {  }
 }

In the above, we have put .rodata (initialized ASCII stuff) right after the code in the .text section.
You may need to extract this from the binary blob to put into your NVRAM.

Also, any initialzed data needs to be relocated to your writable SDRAM and the .bss stuff needs to be
zeroed. This is non-trivial. You may want to create a ".reloc" section which contains your initialized
data, put it in your flash, and relocate it at startup.

...

Cheers,
Dick Johnson 
```

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Boot Time](http://eLinux.org/Category:Boot_Time "Category:Boot Time")
*   [Bootloader](http://eLinux.org/Category:Bootloader "Category:Bootloader")
*   [Kernel XIP](http://eLinux.org/Category:Kernel_XIP "Category:Kernel XIP")
*   [System Size](http://eLinux.org/Category:System_Size "Category:System Size")

# Optimize RC Scripts

> From: [eLinux.org](http://eLinux.org/Optimize_RC_Scripts "http://eLinux.org/Optimize_RC_Scripts")

# Optimize RC Scripts

## Contents

*   1 RC Scripts Speed-Up
*   2 Introduction
    *   2.1 Purpose of Feature
    *   2.2 Feature requirements
    *   2.3 Acceptance Criteria
*   3 BusyBox Optimization
    *   3.1 Known Problems
*   4 How to Optimize Init Scripts for BusyBox
    *   4.1 Examples of Init Scripts Optimization
        *   4.1.1 Unnecessary codes elimination
        *   4.1.2 Built-in usage
        *   4.1.3 Piped command usage
        *   4.1.4 Back-quoted command usage
*   5 Init Scripts Optimization
    *   5.1 Benchmark Environment and Procedure
*   6 Optimization Results
*   7 Downloads

## RC Scripts Speed-Up

This material was excerpted from a document with the following copyright statement:

*   Copyright 2002, 2003, 2004 Sony Corporation
*   Copyright 2002, 2003, 2004 Matsushita Electric Industrial Co., Ltd.
*   Copyright 2002-2004 by MontaVista Software.

It was submitted as input to the forum by Sony Corporation, on April 8, 2004.

## Introduction

The init scripts of the existing Embedded Linux distribution are the shell scripts to be executed with ’bash’. To reduce system boot time, some modifications to be applied to the scripts and faster shell interpreter to be used. The document describes the BusyBox optimizations; the init scripts modifications; how to reduce the system boot time using the optimized BusyBox, and to optimize shell scripts for BusyBox. Also, the benchmark procedure and optimization results are described.

### Purpose of Feature

The init scripts execution time, i.e. the time interval between the start of the init process and the start of user applications, must be reduced.

### Feature requirements

*   The modified init scripts must be run with "bash" as well as the BusyBox "ash" shell.
*   The execution time of the init scripts and the total system boot time must be reduced.
*   The guide to speed-optimization of the init scripts must be provided.

### Acceptance Criteria

*   The modified init scripts are able to successfully run with "bash" as well as the BusyBox "ash" shell.
*   The execution time of the init scripts with BusyBox is reduced in the comparison with the original init scripts with "bash"; the total system boot time is not greater then 5 sec.
*   The guide to speed-optimization of the init scripts is available.

## BusyBox Optimization

Since ’bash’ and GNU utilities are very heavy applications, BusyBox is useful to reduce system boot time. BusyBox combines tiny versions of many common UNIX utilities (shellutils, fileutils, etc.) into a single small executable. The commands and utilities included in BusyBox are divided into the classes: built-ins and applets. The built-ins are simply invoked as functions, and applets are invoked by means of the ’fork/exec’ system calls. Also, BusyBox scripts can use external commands and utilities.

Usage of the BusyBox built-ins is rather than the applets and external commands by performance reasons, because the ’fork/exec’ system calls are very heavy and they make the main contribution to shell inefficiency. Because the original BusyBox is only size-optimized, the following features must be considered from the performance standpoint:

*   Each command including built-ins within pipes are forked.
*   Each back-quoted command is forked.
*   The ’echo’, ’test’, and ’[’ commands and other most frequent commands in the scripts are implemented as applets.

To avoid such drawbacks, we optimized BusyBox 1.00-pre3 in order to speed up script execution. The BusyBox optimizations for the ’ash’ shell are listed below:

*   The set of shell commands and utilities is implemented as built-ins.
*   The invoked ’cat’ command at the beginning of pipes is eliminated and file descriptors are passed only into the next command of the pipe.

The following shell commands and utilities are implemented as built-ins in the optimized BusyBox ’ash’ shell: ’,’, ’:’,’[’, ’alias’, ’break’, ’cd’, ’chdir’, ’continue’, ’echo’, ’eval’, ’exec’, ’exit’, ’export’, ’false’, ’kill’, ’let’, ’local’, ’pidof’, ’pwd’, ’read’, ’readonly’, ’return’, ’set’, ’shift’, ’test’, ’times’, ’trap’, ’true’, ’type’, ’ulimit’, ’umask’, ’unalias’, ’unset’, ’wait’.

NOTES:

*   This need seems to be addressed for all applets at least in Busybox 1.1.1 (and perhaps in earlier versions). The "Shells -> Standalone shell" configuration setting is supposed to address this need. See the menuconfig help for details.
*   In newer BusyBox releases (1.13.0 and maybe even earlier releases) the most frequently used applets, 'test', 'echo' can be configured as being 'built-in'. The newer BusyBox releases are also smaller in size and can save some extra milliseconds in execution of startup scripts.

### Known Problems

The following BusyBox commands work in the different manner from the ’bash’ commands and GNU utilities: ’nice’, ’find’, ’mount’, ’umount’, ’init’, ’halt’, ’shutdown’, ’syslogd’, ’klogd’, ’hwclock’, ’cron’, ’anacron’, ’crontab’, 'pidof'.

If the different behaviour is unwanted or these BusyBox applets do not provide the necessary utility, use the external commands instead of them, or simply do not configure them as applets.

## How to Optimize Init Scripts for BusyBox

Follow the rules listed below to reduce execution time for the init scripts:

*   Do not use unnecessary codes in the scripts.
*   Replace external commands and utilities with the BusyBox built-ins as far as possible.
*   Do not use the piped commands as far as possible.
*   Reduce the number of commands within a pipe.
*   Do not use the back-quoted commands as far as possible.

The main goal of such optimization is to reduce the number of the "fork/exec" calls during a script execution.

### Examples of Init Scripts Optimization

The following examples demonstrate how the recommendations of shell scripts optimization can be applied to the init scripts.

#### Unnecessary codes elimination

This example demonstrates the elimination of duplicate codes from the "mountswap.sh" and "checkrootfs.sh" scripts: the command "swapon" runs one time in the modified scripts.

*   Before optimization:

checkrootfs.sh:

```
if [ "$FSCKSWAP" !== no ]
then
   if [ -x /sbin/swapon ]
   then
       mount -n /proc
       if ! grep -qs resync /proc/mdstat
       then
           [ "$VERBOSE" !== no ] && echo "Activating swap..."

           swapon -a 2> /dev/null
       fi
       umount -n /proc
    fi
fi 
```

mountswap.sh:

```
grep -qs resync /proc/mdstat || swapon -a 2> /dev/null 
```

*   After optimization:

checkrootfs.sh:

mountswap.sh:

```
if [ "$FSCKSWAP" !== "no" ]; then
    if [ ! ‘grep -qs resync /proc/mdstat‘ ]
    then
        log_status_msg "Starting $DESC: " -n
        log_status_msg "$BASENAME1" -n
        $DAEMON1 $ARGS1
        RET==$?
        if [ $RET -eq 0 ]; then
            log_success_msg ". " -n
        else
            log_failure_msg " failed ($RET: $ERROR)."
            return 1
        fi
    fi
fi 
```

#### Built-in usage

This example demonstrates usage of the "echo" built-in instead of the external command "printf" in the "nfs-common" script.

*   Before optimization:

nfs-common:

```
 printf "Starting $DESC:"
   printf " statd" 
```

*   After optimization: init-functions:

```
log_status_msg() {
   if [ "$1" !== "" ] && [ "$1" !== "-n" ]
   then

      if [ "$2" == "-n" ]
      then echo -n "$1"
      else echo "$1"
      fi

    fi
return 0
} 
```

nfs-common.sh:

```
 log_status_msg "Starting $DESC: " -n
 log_status_msg "$BASENAME1" ?n 
```

#### Piped command usage

This example demonstrates the elimination of the piped commands (the example is hypothetic, because the init scripts do not contain such inefficiencies).

*   Before optimization:

```
cat /proc/mounts | grep ext3 | cut -d’ ’ -f2,3 
```

*   After optimization:

```
sed -n ’s/^[^ ]* \([^ ]*\) \(ext3\) .*$/\1 \2/p’ /proc/mounts 
```

This example demonstrates the reduction of the commands in the pipe (the example is also hypothetic). Note, the optimized version does not invoke the "fork" call, because the "cat" optimization is used.

*   Before optimization:

```
cat /etc/passwd | grep user | wc -l | tr -d ’’ | sed ’s/ *//’ 
```

*   After optimization:

```
cat /etc/passwd | grep -c user 
```

#### Back-quoted command usage

This example demonstrates the back-quoted command elimination (the example is hypothetic, because the init scripts do not contain such inefficiencies).

*   Before optimization:

```
if [ "‘grep rpcuser /etc/passwd‘" !== "" ]
then
    echo "rpcuser"
else
    echo "no rpcuser"
fi 
```

*   After optimization:

```
if grep rpcuser /etc/passwd >/dev/null
then
    echo "rpcuser"
else
    echo "no rpcuser"
fi 
```

## Init Scripts Optimization

The existing init scripts were modified to reduce their execution time following the recommendations, which are described above.

### Benchmark Environment and Procedure

To estimate the results of the init script optimization and the BusyBox usage, the TI OMAP 1510 Innovator platform is used. To measure the duration of the kernel loading, the KFI support is used (to measure the init script execution time, the KFI support is disabled). The measurements are performed on the systems with/without XIP support To take measurements without the XIP support, the following kernel configuration is used:

```
CONFIG_ARM==y
CONFIG_UID16==y
CONFIG_RWSEM_GENERIC_SPINLOCK==y
CONFIG_EXPERIMENTAL==y
CONFIG_ADVANCED_OPTIONS==y
CONFIG_MODULES==y
CONFIG_KMOD==y
CONFIG_ARCH_OMAP==y
CONFIG_OMAP_INNOVATOR==y
CONFIG_INNOVATOR_MISSED_IRQS==y
CONFIG_ARCH_OMAP1510==y
CONFIG_CLOCK_COUNTS_DOWN==y
CONFIG_CPU_32==y
CONFIG_CPU_ARM925T==y
CONFIG_CPU_ARM925_CPU_IDLE==y
CONFIG_CPU_ARM925_I_CACHE_ON==y
CONFIG_CPU_ARM925_NON_STREAMING_ON==y
CONFIG_CPU_ARM925_D_CACHE_ON==y
CONFIG_CPU_32v4==y
CONFIG_KERNEL_START==0xc0000000
CONFIG_ZBOOT_ROM_TEXT==0
CONFIG_ZBOOT_ROM_BSS==0
CONFIG_NET==y
CONFIG_SYSVIPC==y
CONFIG_SYSCTL==y

CONFIG_MAX_USER_RT_PRIO==100
CONFIG_MAX_RT_PRIO==0
CONFIG_FPE_NWFPE==m
CONFIG_KCORE_ELF==y
CONFIG_BINFMT_AOUT==m
CONFIG_BINFMT_ELF==y
CONFIG_OMAP1510_PM==y
CONFIG_DPM==y
CONFIG_BOOT_FREQ==y
CONFIG_OMAP_ARM_168MHZ==y
CONFIG_OMAP1510_DPM==y
CONFIG_INNOVATOR_DPM==y
CONFIG_CMDLINE=="mem==32M console==ttyS0,115200n8 noinitrd root==/dev/null rootflags==physaddr==0x0260000"
CONFIG_ALIGNMENT_TRAP==y
CONFIG_PREEMPT==y
CONFIG_LOCK_BREAK==y
CONFIG_MTD==y
CONFIG_MTD_PARTITIONS==y
CONFIG_MTD_CONCAT==y
CONFIG_MTD_CHAR==y
CONFIG_MTD_BLOCK==y
CONFIG_MTD_CFI==y
CONFIG_MTD_GEN_PROBE==y
CONFIG_MTD_CFI_ADV_OPTIONS==y
CONFIG_MTD_CFI_NOSWAP==y
CONFIG_MTD_CFI_GEOMETRY==y
CONFIG_MTD_CFI_B2==y
CONFIG_MTD_CFI_I1==y
CONFIG_MTD_CFI_INTELEXT==y
CONFIG_MTD_CFI_AMDSTD==y
CONFIG_MTD_OMAP==y
CONFIG_MTD_OMAP_0==y
CONFIG_MTD_OMAP_1==y
CONFIG_BLK_DEV_LOOP==m
CONFIG_BLK_DEV_RAM==y
CONFIG_BLK_DEV_RAM_SIZE==4096
CONFIG_BLK_DEV_INITRD==y
CONFIG_PACKET==m
CONFIG_NETFILTER==y
CONFIG_UNIX==y
CONFIG_INET==y
CONFIG_IP_MULTICAST==y
CONFIG_IP_PNP==y
CONFIG_NETDEVICES==y
CONFIG_NET_ETHERNET==y
CONFIG_NET_VENDOR_SMC==y
CONFIG_SMC9194==y
CONFIG_PPP==m
CONFIG_PPP_MULTILINK==y
CONFIG_PPP_ASYNC==m
CONFIG_PPP_DEFLATE==m
CONFIG_PPPOE==m
CONFIG_IRDA==m
CONFIG_IRLAN==m
CONFIG_IRNET==m
CONFIG_IRCOMM==m
CONFIG_OMAP_SIR==m
CONFIG_INPUT==m
CONFIG_INPUT_KEYBDEV==m
CONFIG_INPUT_MOUSEDEV==m
CONFIG_INPUT_MOUSEDEV_SCREEN_X==240
CONFIG_INPUT_MOUSEDEV_SCREEN_Y==320
CONFIG_INPUT_EVDEV==m
CONFIG_VT==y
CONFIG_VT_CONSOLE==y
CONFIG_SERIAL==y
CONFIG_SERIAL_CONSOLE==y
CONFIG_UNIX98_PTYS==y

CONFIG_UNIX98_PTY_COUNT==256
CONFIG_I2C==m
CONFIG_I2C_ALGOBIT==m
CONFIG_I2C_OMAP1510==m
CONFIG_I2C_CHARDEV==m
CONFIG_I2C_PROC==m
CONFIG_SENSORS==y
CONFIG_SENSORS_OTHER==y
CONFIG_SENSORS_EEPROM==m
CONFIG_WATCHDOG==y
CONFIG_OMAP_WATCHDOG==m
CONFIG_OMAP_RTC==m
CONFIG_RV5C387_RTC==m
CONFIG_RV5C387_RTC==m
CONFIG_VIDEO_DEV==m
CONFIG_VIDEO_PROC_FS==y
CONFIG_AUTOFS4_FS==m
CONFIG_EXT3_FS==m
CONFIG_JBD==m
CONFIG_FAT_FS==m
CONFIG_MSDOS_FS==m
CONFIG_VFAT_FS==m
CONFIG_JFFS_FS==m
CONFIG_JFFS_FS_VERBOSE==0
CONFIG_JFFS2_FS==y
CONFIG_JFFS2_FS_DEBUG==0
CONFIG_CRAMFS==y
CONFIG_CRAMFS_LINEAR==y
CONFIG_CRAMFS_LINEAR_XIP==y
CONFIG_ROOT_CRAMFS_LINEAR==y
CONFIG_TMPFS==y
CONFIG_RAMFS==y
CONFIG_PROC_FS==y
CONFIG_DEVPTS_FS==y
CONFIG_EXT2_FS==m
CONFIG_NFS_FS==y
CONFIG_NFS_V3==y
CONFIG_NFSD==m
CONFIG_NFSD_V3==y
CONFIG_SUNRPC==y
CONFIG_LOCKD==y
CONFIG_LOCKD_V4==y
CONFIG_SMB_FS==m
CONFIG_MSDOS_PARTITION==y
CONFIG_SMB_NLS==y
CONFIG_NLS==y
CONFIG_NLS_DEFAULT=="iso8859-1"
CONFIG_NLS_CODEPAGE_437==m
CONFIG_PC_KEYMAP==y
CONFIG_FB==y
CONFIG_DUMMY_CONSOLE==y
CONFIG_FB_OMAP==y
CONFIG_FBCON_ADVANCED==y
CONFIG_FBCON_CFB16==y
CONFIG_FBCON_FONTWIDTH8_ONLY==y
CONFIG_FBCON_FONTS==y
CONFIG_FONT_8x8==y
CONFIG_FONT_ACORN_8x8==y
CONFIG_SOUND==m
CONFIG_SOUND_OMAP==m
CONFIG_SOUND_OMAP_AIC23==m
CONFIG_INNOVATOR_TS==y
CONFIG_MMC==m
CONFIG_OMAP_MMC==m
CONFIG_INSTANT_ON==y
CONFIG_DEFAULT_LPJ==414720
CONFIG_INSTANT_ON_LPJ==414720
CONFIG_FRAME_POINTER==y

CONFIG_DEBUG_INFO==y
CONFIG_DEBUG_KERNEL==y
CONFIG_MAGIC_SYSRQ==y
CONFIG_DEBUG_BUGVERBOSE==y
CONFIG_DEBUG_ERRORS==y
CONFIG_ZLIB_INFLATE==y
CONFIG_ZLIB_DEFLATE==y 
```

To take measurements with the XIP support, the following kernel configuration is used:

```
CONFIG_ARM==y
CONFIG_UID16==y
CONFIG_RWSEM_GENERIC_SPINLOCK==y
CONFIG_EXPERIMENTAL==y
CONFIG_ADVANCED_OPTIONS==y
CONFIG_MODULES==y
CONFIG_KMOD==y
CONFIG_ARCH_OMAP==y
CONFIG_OMAP_INNOVATOR==y
CONFIG_INNOVATOR_MISSED_IRQS==y
CONFIG_ARCH_OMAP1510==y
CONFIG_CLOCK_COUNTS_DOWN==y
CONFIG_CPU_32==y
CONFIG_CPU_ARM925T==y
CONFIG_CPU_ARM925_CPU_IDLE==y
CONFIG_CPU_ARM925_I_CACHE_ON==y
CONFIG_CPU_ARM925_NON_STREAMING_ON==y
CONFIG_CPU_ARM925_D_CACHE_ON==y
CONFIG_CPU_32v4==y
CONFIG_KERNEL_START==0xc0000000
CONFIG_ZBOOT_ROM_TEXT==0
CONFIG_ZBOOT_ROM_BSS==0
CONFIG_NET==y
CONFIG_SYSVIPC==y
CONFIG_SYSCTL==y
CONFIG_MAX_USER_RT_PRIO==100
CONFIG_MAX_RT_PRIO==0
CONFIG_XIP_ROM==y
CONFIG_XIP_PHYS_ADDR==60400
CONFIG_FPE_NWFPE==m
CONFIG_KCORE_ELF==y
CONFIG_BINFMT_AOUT==m
CONFIG_BINFMT_ELF==y
CONFIG_OMAP1510_PM==y
CONFIG_DPM==y
CONFIG_BOOT_FREQ==y
CONFIG_OMAP_ARM_168MHZ==y
CONFIG_OMAP1510_DPM==y
CONFIG_INNOVATOR_DPM==y
CONFIG_CMDLINE=="mem==32M console==ttyS0,115200n8 noinitrd root==/dev/null rootflags==physaddr==0x0260000"
CONFIG_ALIGNMENT_TRAP==y
CONFIG_PREEMPT==y
CONFIG_LOCK_BREAK==y
CONFIG_MTD==y
CONFIG_MTD_DEBUG==y
CONFIG_MTD_DEBUG_VERBOSE==0
CONFIG_MTD_PARTITIONS==y
CONFIG_MTD_CONCAT==y
CONFIG_MTD_CHAR==y
CONFIG_MTD_BLOCK==y
CONFIG_MTD_CFI==y
CONFIG_MTD_GEN_PROBE==y
CONFIG_MTD_CFI_ADV_OPTIONS==y
CONFIG_MTD_CFI_NOSWAP==y
CONFIG_MTD_CFI_GEOMETRY==y
CONFIG_MTD_CFI_B2==y
CONFIG_MTD_CFI_I1==y

CONFIG_MTD_CFI_INTELEXT==y
CONFIG_MTD_CFI_AMDSTD==y
CONFIG_MTD_OMAP==y
CONFIG_MTD_OMAP_1==y
CONFIG_BLK_DEV_LOOP==m
CONFIG_BLK_DEV_RAM==y
CONFIG_BLK_DEV_RAM_SIZE==4096
CONFIG_BLK_DEV_INITRD==y
CONFIG_PACKET==m
CONFIG_NETFILTER==y
CONFIG_UNIX==y
CONFIG_INET==y
CONFIG_IP_MULTICAST==y
CONFIG_IP_PNP==y
CONFIG_NETDEVICES==y
CONFIG_NET_ETHERNET==y
CONFIG_NET_VENDOR_SMC==y
CONFIG_SMC9194==y
CONFIG_PPP==m
CONFIG_PPP_MULTILINK==y
CONFIG_PPP_ASYNC==m
CONFIG_PPP_DEFLATE==m
CONFIG_PPPOE==m
CONFIG_IRDA==m
CONFIG_IRLAN==m
CONFIG_IRNET==m
CONFIG_IRCOMM==m
CONFIG_OMAP_SIR==m
CONFIG_INPUT==m
CONFIG_INPUT_KEYBDEV==m
CONFIG_INPUT_MOUSEDEV==m
CONFIG_INPUT_MOUSEDEV_SCREEN_X==240
CONFIG_INPUT_MOUSEDEV_SCREEN_Y==320
CONFIG_INPUT_EVDEV==m
CONFIG_VT==y
CONFIG_VT_CONSOLE==y
CONFIG_SERIAL==y
CONFIG_SERIAL_CONSOLE==y
CONFIG_UNIX98_PTYS==y
CONFIG_UNIX98_PTY_COUNT==256
CONFIG_I2C==m
CONFIG_I2C_ALGOBIT==m
CONFIG_I2C_OMAP1510==m
CONFIG_I2C_CHARDEV==m
CONFIG_I2C_PROC==m
CONFIG_SENSORS==y
CONFIG_SENSORS_OTHER==y
CONFIG_SENSORS_EEPROM==m
CONFIG_WATCHDOG==y
CONFIG_OMAP_WATCHDOG==m
CONFIG_OMAP_RTC==m
CONFIG_RV5C387_RTC==m
CONFIG_RV5C387_RTC==m
CONFIG_VIDEO_DEV==m
CONFIG_VIDEO_PROC_FS==y
CONFIG_AUTOFS4_FS==m
CONFIG_EXT3_FS==m
CONFIG_JBD==m
CONFIG_FAT_FS==m
CONFIG_MSDOS_FS==m
CONFIG_VFAT_FS==m
CONFIG_JFFS_FS==m
CONFIG_JFFS_FS_VERBOSE==0
CONFIG_JFFS2_FS==y
CONFIG_JFFS2_FS_DEBUG==0
CONFIG_CRAMFS==y
CONFIG_CRAMFS_LINEAR==y
CONFIG_CRAMFS_LINEAR_XIP==y

CONFIG_ROOT_CRAMFS_LINEAR==y
CONFIG_TMPFS==y
CONFIG_RAMFS==y
CONFIG_PROC_FS==y
CONFIG_DEVPTS_FS==y
CONFIG_EXT2_FS==m
CONFIG_NFS_FS==y
CONFIG_NFS_V3==y
CONFIG_NFSD==m
CONFIG_NFSD_V3==y
CONFIG_SUNRPC==y
CONFIG_LOCKD==y
CONFIG_LOCKD_V4==y
CONFIG_SMB_FS==m
CONFIG_MSDOS_PARTITION==y
CONFIG_SMB_NLS==y
CONFIG_NLS==y
CONFIG_NLS_DEFAULT=="iso8859-1"
CONFIG_NLS_CODEPAGE_437==m
CONFIG_PC_KEYMAP==y
CONFIG_FB==y
CONFIG_DUMMY_CONSOLE==y
CONFIG_FB_OMAP==y
CONFIG_FBCON_ADVANCED==y
CONFIG_FBCON_CFB16==y
CONFIG_FBCON_FONTWIDTH8_ONLY==y
CONFIG_FBCON_FONTS==y
CONFIG_FONT_8x8==y
CONFIG_FONT_ACORN_8x8==y
CONFIG_SOUND==m
CONFIG_SOUND_OMAP==m
CONFIG_SOUND_OMAP_AIC23==m
CONFIG_INNOVATOR_TS==y
CONFIG_MMC==m
CONFIG_OMAP_MMC==m
CONFIG_TRACE==y
CONFIG_TRACE_BOOT==y
CONFIG_INSTANT_ON==y
CONFIG_DEFAULT_LPJ==414720
CONFIG_INSTANT_ON_LPJ==414720
CONFIG_FRAME_POINTER==y
CONFIG_DEBUG_INFO==y
CONFIG_DEBUG_KERNEL==y
CONFIG_MAGIC_SYSRQ==y
CONFIG_DEBUG_BUGVERBOSE==y
CONFIG_DEBUG_ERRORS==y
CONFIG_ZLIB_INFLATE==y
CONFIG_ZLIB_DEFLATE==y 
```

The set of the init scripts of the consumer packages is divided into the minimal and optional subsets. The following scripts belong to the minimal subset: ’bootmisc.sh’, ’checkfs.sh’, ’checkroot.sh’, ’hwclock.sh’, ’modutils.sh’, ’mountall.sh’, ’networking.sh’, ’urandom.sh’.

The following scripts belong to the optional subset: ’anacron.sh’, ’cron.sh’, ’devfsd.sh’, ’devshm.sh’, ’ifupdown.sh’, ’rmnologin.sh’, ’syslog.sh’.

Thus,

*   the minimal packages are: "initscripts", "util-linux", "modutils", and "netbase";
*   the optional packages are: "initscripts", "anacron", "cron", "devfsd", "ifupdown", "sysklogd", "util-linux", "modutils", and "netbase".

The init scripts are used with the "bash", BusyBox, 0.60.3 and the optimized BusyBox 1.00-pre3\. The sizes of the shell executables are:

Since profiling tools slow up program execution, the Linux Trace Toolkit (LTT) is not used to measure the execution time of the init scripts.

| Shell | Size |
| --- | --- |
| bash | 562 Kb |
| BusyBox 0.60.3 | 872 Kb |
| BusyBox 1.00-pre3 | 210 Kb |
| The optimized BusyBox 1.00-pre3 | 259 Kb |

To obtain the start time of the init scripts, the modified "init" utility is used. The following patch for the "init" utility is applied:

```
diff -Naur sysvinit-2.78.orig/src/init.c sysvinit-2.78/src/init.c
--- sysvinit-2.78.orig/src/init.c 2000-02-11 14:17:02.000000000 +0300
+++ sysvinit-2.78/src/init.c 2003-12-08 20:20:15.000000000 +0300
@@ -684,7 +684,7 @@
    (void) tcgetattr(fd, &tty);
    tty.c_cflag &== CBAUD|CBAUDEX|CSIZE|CSTOPB|PARENB|PARODD;
-   tty.c_cflag |== HUPCL|CLOCAL;
+   tty.c_cflag |== CREAD|HUPCL|CLOCAL;
    tty.c_cc[VINTR] == 3; /* ctrl(’c’) */
    tty.c_cc[VQUIT] == 28; /* ctrl(’\\’) */
@@ -2443,6 +2443,13 @@
    FILE *fp;
    char *p;
    int f, fd;
+
+#ifdef TIME_MEASURE
+ struct timeval current;
+ if (!gettimeofday (&current, 0))
+ printf ("INIT: started at %ld\n", (current.tv_sec * 1000) + (current.tv_usec / 1000));
+#endif
 /* Get my own name */
 if ((p == strrchr(argv[0], ’/’)) !== NULL) 
```

To obtain the time of the end of the init script execution, the following program is used in the inittab:

```
#include <sys/time.h>
#include <stdio.h>
int main (int argc, char **argv)
{
    struct timeval current;
    if (!gettimeofday (&current, 0))
    printf ("printtime: current time %ld ms\n", (current.tv_sec * 1000) + (current.tv_usec / 1000));
    return 0;
} 
```

Thus, we consider the sum of the init script execution time and the kernel loading time, which are measured in ways described above, is the total system boot time.

## Optimization Results

Measurement results with the XIP support Kernel loading time: 0.6 sec. Init script execution time:

| **Script set** | **Shell** | **Time** | **%** |
| --- | --- | --- | --- |
| minimal | bash | 3.6 sec. | 35% |
| minimal | BusyBox 0.60.3 | 5.3 sec. | 52% |
| minimal | optimized BusyBox 1.00-pre3 | 2.6 sec. | 25% |
| minimal + optional | bash | 7.6 sec. | 74% |
| minimal + optional | BusyBox 0.60.3 | 10.1 sec. | 100% |
| minimal + optional | optimized BusyBox 1.00-pre3 | 4.9 sec. | 48% |

Total system boot time (kernel loading time + init script execution time):

| **Script set** | **Shell** | **Time** | **%** |
| --- | --- | --- | --- |
| minimal | bash | 4.3 sec. | 39% |
| minimal | BusyBox 0.60.3 | 6.0 sec. | 55% |
| minimal | optimized BusyBox 1.00-pre3 | 3.2 sec. | 29% |
| minimal + optional | bash | 8.2 sec. | 76% |
| minimal + optional | BusyBox 0.60.3 | 10.7 sec. | 100% |
| minimal + optional | optimized BusyBox 1.00-pre3 | 5.5 sec. | 51% |

Measurement results without the XIP support Kernel loading time: 0.4 sec. Init script execution time:

| **Script set** | **Shell** | **Time** | **%** |
| --- | --- | --- | --- |
| minimal | bash | 4.4 sec. | 52% |
| minimal | BusyBox 0.60.3 | 5.0 sec. | 59% |
| minimal | optimized BusyBox 1.00-pre3 | 2.9 sec. | 34% |
| minimal + optional | bash | 6.8 sec. | 82% |
| minimal + optional | BusyBox 0.60.3 | 8.3 sec. | 100% |
| minimal + optional | optimized BusyBox 1.00-pre3 | 4.6 sec. | 55% |

*Total system boot time (kernel loading time + init script execution time):

| **Script set** | **Shell** | **Time** | **%** |
| --- | --- | --- | --- |
| minimal | bash | 4.8 sec. | 55% |
| minimal | BusyBox 0.60.3 | 5.4 sec. | 61% |
| minimal | optimized BusyBox 1.00-pre3 | 3.3 sec. | 38% |
| minimal + optional | bash | 7.3 sec. | 83% |
| minimal + optional | BusyBox 0.60.3 | 8.7 sec. | 100% |
| minimal + optional | optimized BusyBox 1.00-pre3 | 5.0 sec. | 57% |

## Downloads

*   [busybox-1.00-pre3-optimized.patch](http://eLinux.org/images/6/65/Busybox-1.00-pre3-optimized.patch "Busybox-1.00-pre3-optimized.patch")
*   [init_scripts.tgz](http://eLinux.org/images/d/db/Init_scripts.tgz "Init scripts.tgz")

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Boot Time](http://eLinux.org/Category:Boot_Time "Category:Boot Time")
*   [Optimize RC Scripts](http://eLinux.org/Category:Optimize_RC_Scripts "Category:Optimize RC Scripts")

# Parallel RC Scripts

> From: [eLinux.org](http://eLinux.org/Parallel_RC_Scripts "http://eLinux.org/Parallel_RC_Scripts")

# Parallel RC Scripts

## Contents

*   1 Description
*   2 How to implement or use
*   3 Expected Improvement
*   4 Resources
    *   4.1 Projects
*   5 Specifications
*   6 Patches
*   7 Case Studies
    *   7.1 Case 1
    *   7.2 Case 2
    *   7.3 Case 3

## Description

One way to reduce bootup time is to run RC scripts in parallel. RC scripts are normally run in sequence in a desktop configuration of Linux. By running the scripts in parallel, it is possible to take advantage of the multi-processing capabilities of the OS (such as overlapping execution with I/O, etc.)

## How to implement or use

See the projects listed below for details on different methods of doing this.

## Expected Improvement

[Not determined yet.]

## Resources

### Projects

*   InitNG: a new replacement for SysV init. Boots your system much faster by running as much as possible asynchronously. See [InitNG](http://www.initng.org/)
*   IBM article on on using Makefile techniques to express dependencies between services and support parallel service start. See [BootFaster](http://www-106.ibm.com/developerworks/linux/library/l-boot.html?ca=dgr-lnxw04BootFaster)
*   Richard Gooch project to rewrite boot script system from scratch. Eliminates lots of BSD and SYS V-isms, and introduces dependencies. See [boot scripts](http://www.atnf.csiro.au/people/rgooch/linux/boot-scripts/)
*   Serel project - for parallelizing service startup. Commands are inserted into RC scripts to cause needed services to start (based on XML database of dependencies). See [fastboot](http://www.fastboot.org/)

## Specifications

*   LSB specification for comments in RC Scripts which allow parallization. See [[1]](http://www.linuxbase.org/spec/refspecs/LSB_1.1.0/gLSB/initscrcomconv.html)

## Patches

None.

# Case Studies

[None yet.]

## Case 1

[put information about an actual use of this technique here. A case study should include:]

Hardware:: [hardware description here] Kernel Version:: [kernel version here] Configuration:: [information about the configuration used here] Time without change:: [put that here] Time with change:: [put that here]

[Add any additional notes as you see fit.]

## Case 2

## Case 3

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [HOWTOs](http://eLinux.org/Category:HOWTOs "Category:HOWTOs")

# Pre Linking

> From: [eLinux.org](http://eLinux.org/Pre_Linking "http://eLinux.org/Pre_Linking")

# Pre Linking

## Contents

*   1 Description
*   2 Overview of linking
*   3 Expected Improvement
*   4 Resources
    *   4.1 RedHat prelinking system
    *   4.2 Instructions for using prelinking with Gentoo
    *   4.3 Related Projects
*   5 Specifications
*   6 Patches
*   7 Case Studies
    *   7.1 Case 1 - Panasonic mobile phone prelink
    *   7.2 Case 2
    *   7.3 Case 3
*   8 Future Work
*   9 Material from CELF presentations
    *   9.1 ARM Prelink
    *   9.2 MIPS Prelink

## Description

Pre-Linking is a mechanism for linking programs to shared libraries ahead of time. In general, every time an application is run it must have its external symbols resolved - looked up in the shared library symbol table, and fixed up in the program binary to refer to the correct offsets in the library. To use prelinking, a special utility is run which does this resolution and fixup once for the program. This saves the cost of linking at runtime.

There is an existing package from RedHat which provides this feature.

A drawback of this is that if the shared library is changed, the fixups are no longer correct, and the program must be fixed-up again. This is much less of an issue in an embedded situation, where the programs and libraries are less likely to change than in a desktop or server Linux system.

## Overview of linking

There is an excellent paper with an overview of dynamic linking issues at: [Pre Linking Overview](http://web.archive.org/web/*/http://www.cis.upenn.edu/~mwh/papers_DB/ieee_computer97.pdf) This paper describes not only pre-linking, but lazy linking and more exotic systems, like compile-on-load.

## Expected Improvement

[This is not measured yet.]

We expect that with use of prelinking, there will be a slight reduction in boot time for Linux system, in the area of initial application loading.

We need to use this system and measure the effect of prelinking for a determined set of applications.

## Resources

### RedHat prelinking system

*   The prelink package is at: [`people.redhat.com/jakub/prelink/`](http://people.redhat.com/jakub/prelink/)
*   A white paper is at: [prelink](http://people.redhat.com/jakub/prelink/prelink.pdf)

prelink currently supports the following architectures: alpha, arm, cris, i386, ia64, ppc32, ppc64, s390, sh, sparc32, sparc64, x86_64\. At present the glibc dynamic linker is required to prelink executables and load prelinked code, uClibc does not support it.

### Instructions for using prelinking with Gentoo

The following page has information on how to use prelinking with a Gentoo system:

[`www.gentoo.org/doc/en/prelink-howto.xml`](http://www.gentoo.org/doc/en/prelink-howto.xml)

### Related Projects

*   Prebinding (RelCache) - RelCache (aka ELF prebinding) news [`mail-index.netbsd.org/tech-userlevel/2002/12/04/0017.html`](http://mail-index.netbsd.org/tech-userlevel/2002/12/04/0017.html)
*   RelCache vs. Red Hat prelink

[`mail-index.netbsd.org/tech-userlevel/2002/12/01/0000.html`](http://mail-index.netbsd.org/tech-userlevel/2002/12/01/0000.html)

*   Resident - Resident Good (comparisons with prebind)

[`www.shiningsilence.com/dbsdlog/2004/01/20/215.html`](http://www.shiningsilence.com/dbsdlog/2004/01/20/215.html)

## Specifications

None so far.

## Patches

No kernel patches required for kernels 2.4.10 and later.

## Case Studies

### Case 1 - Panasonic mobile phone prelink

Panasonic used pre-linking on their Linux-based mobile phones. These used a 2.4.x Linux kernel, for an ARM processor. Measuring the time to load a single multimedia application with regular dynamic linking and pre-linking, showed that pre-linking could save a lot of time.

Hardware 

ARM9 (unspecified CPU frequency)

Kernel Version 

2.4.20 (based on Monta Vista Linux CEE 3.1), glibc 2.3

Time without change 

2479 ms

Time with change 

125 ms

Source 

page 19 of [Making Mobile Phone with CE Linux](http://tree.celinuxforum.org/CelfPubWiki/ITJ2005Detail1-2?action=AttachFile&do=get&target=CELF_Technical_Jamboree_June13.pdf)

### Case 2

### Case 3

## Future Work

This item is a work-in-progress, and we are just getting started.

## Material from CELF presentations

### ARM Prelink

*   Japan Jamboree #3
    *   [`tree.celinuxforum.org/CelfPubWiki/JapanTechnicalJamboree3#head-1515fb2d64cd91370e9cb2f6ad4847483e729cf3`](http://tree.celinuxforum.org/CelfPubWiki/JapanTechnicalJamboree3#head-1515fb2d64cd91370e9cb2f6ad4847483e729cf3) In the presentation of "Making Mobile Phone with CE Linux", the evaluation of Prelink on ARM architecture was mentioned.
        *   by Mr. Mizuyama (Panasonic Mobile)

### MIPS Prelink

*   Japan Jamboree #13
    *   [`tree.celinuxforum.org/CelfPubWiki/JapanTechnicalJamboree13#head-ab59e6354d343ec0a804b5f440d35b5dcc27304c`](http://tree.celinuxforum.org/CelfPubWiki/JapanTechnicalJamboree13#head-ab59e6354d343ec0a804b5f440d35b5dcc27304c)
        *   Evaluation report by Mr. Yagi (Mitsubishi)

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [HOWTOs](http://eLinux.org/Category:HOWTOs "Category:HOWTOs")
*   [Boot Time](http://eLinux.org/Category:Boot_Time "Category:Boot Time")

# Preset LPJ

> From: [eLinux.org](http://eLinux.org/Preset_LPJ "http://eLinux.org/Preset_LPJ")

# Preset LPJ

## Contents

*   1 Introduction
    *   1.1 LKML Discussion
    *   1.2 Rationale
    *   1.3 Specification
*   2 Downloads
    *   2.1 Patch
*   3 How To Use
*   4 Sample Results
    *   4.1 case 1*2.6.7 with patch
    *   4.2 case 2
    *   4.3 case 3
    *   4.4 case 4
    *   4.5 case 5*2.6.8-rc1-mm1
    *   4.6 case 6
*   5 Future Work
*   6 Testing

## Introduction

"Preset LPJ" is a feature to avoid the cost associated with calibrating loops_per_jiffy at each boot time.

The value of loops_per_jiffy (LPJ) is normally calculated in the routine calibrate_delay() early in the initialization sequence of the Linux kernel. The cost of doing this operation is independent of the CPU frequency and is about 250 milliseconds on most hardware. The value of LPJ should be the same for the same hardware operating at the same clock frequency. Thus LPJ can be calculated once and used for subsequent boots, and the cost to do the delay calibration can be avoided.

Basically, the patch allows you to specify a preset value for loops_per_jiffy at kernel compile time, or on the command line at kernel boot time.

### LKML Discussion

The CELF patch was submitted to LKML on July 10, and was discussed [here](http://groups.google.com/groups?hl==en&lr==&ie==UTF-8&threadm==2g9er-88a-15%40gated-at.bofh.it&rnum==1&prev==/groups%3Fq%3Dpreset%2Blpj%26hl%3Den%26lr%3D%26ie%3DUTF-8%26selm%3D2g9er-88a-15%2540gated-at.bofh.it%26rnum%3D1)

### Rationale

This saves about 250 milliseconds on a 2.4-based Linux system. The duration of the calibration does not depend on the speed of the processor, but on the value of HZ for a particular architecture, and the number of iterations required to perform the calibration. For a 2.6 version of Linux, HZ is now defined as 1000 for the i386 platform (meaning a HZ duration is 1 millisecond rather than 10 milliseconds as it was for most architectures in the 2.4 version of the Linux kernel). Thus, for i386, the savings is now only about 25 milliseconds. However, many architectures still use a HZ value of 100, so for these architectures this change is still important.

### Specification

The forum has written a specification for this feature. It is available at: [Calibrate Delay Avoidance Specification R2]. The specification page has more details about the operation of calibrate_delay() and the need for this feature.

## Downloads

![Alert.gif](http://eLinux.org/File:Alert.gif) A version of this feature is now included in official (Linus' tree) Linux version 2.6.9-rc2.

*   Note that this version does away with the kernel configuration option, and only allows preseting lpj from the kernel command line.

### Patch

*   No patch, no configuration settings needed for kernel's later than 2.6.9-rc2.
*   Patch for 2.6.7 is on the [Patch Archive](http://eLinux.org/Patch_Archive "Patch Archive") page
*   Patch for CELF version 040304 is here: attachment:preset-lpj-1.patch

## How To Use

Boot your kernel

*   Measure boot time
*   In kernel boot messages, read loops_per_jiffy value measured by your kernel. Example: Calibrating delay loop... 187.59 BogoMIPS (lpj==937984)
*   If you see no such message in the console, view the /proc/kmsg file or boot your kernel with the "loglevel==8" parameter.

For kernels older than 2.6.9-rc2

*   Apply this patch to your CELF kernel
*   Configure your kernel with the feature turned on:

```
 **Turn on "Fast boot options"
 **Turn on "Use preset loops_per_jiffy" 
```

*   Recompile your kernel

Reboot your kernel

*   Provide a preset value for loops_per_jiffy at the kernel command line using the string "lpj==\<valueu0005c class="calibre16">", where \ <valueu0005c class="calibre16">is replaced with the correct value for loops_per_jiffy for your platform.</valueu0005c></valueu0005c>
*   Measure the new boot time and compare with the original one
*   Notice the new message: Calibrating delay loop (skipped)... 187.59 BogoMIPS preset

## Sample Results

### case 1*2.6.7 with patch

Tim Bird (of Sony) measured the result of using preset lpj on his x86 desktop system. It saved 268 milliseconds of bootup time.

Details:

*   Kernel version: CELF Linux kernel (2.4.20-based)
*   CPU: Pentium 4 running at 3 GHz

### case 2

Richard Griffiths (of Intel) measured the result of using preset lpj on an x86 system. It saved about the same (~268 milliseconds) of bootup time.

Details:

*   Kernel version: CELF Linux kernel (2.4.20-based)
*   CPU: Celeron running at 1 GHz

### case 3

Noboru Wakabayashi (of Hitachi) measured the result of using preset lpj on a TI OMAP (ARM-based) system. It saved about 212 milliseconds.

*   Kernel version: CELF Linux kernel (2.4.20-based)
*   CPU: OMAP 1510 running at 168 MHz

### case 4

Tim Bird measured use of preset-lpj on an x86 desktop system with the 2.6.6 kernel. It saved 25 milliseconds.

Details:

*   Kernel version: Linux (kernel.org) 2.6.6 with preset-lpj patch applied
*   CPU: Pentium 4 running at 3 GHz

### case 5*2.6.8-rc1-mm1

With the new patch, Tim Bird got the following results:

*   Kernel version: Linux (kernel.org) 2.6.8-rc1-mm1
*   CPU: Pentium 4 running at 3 GHz
*   With HZ==1000:

```
 **normal boot: calibrate_delay() took 23 milliseconds
  **specifying lpj==xxx: calibrate_delay() took 43 microseconds. 
```

*   With HZ==100:

```
 **normal boot: calibrate_delay() took 264 milliseconds
  **specifying lpj==xxx: calibrate_delay() took 43 microseconds. 
```

### case 6

Jyunji Kondo (of Fujitsu Prime Software Technologies) measured the result of using preset lpj on FR-V processor. It saved about 205 milliseconds.

Details:

*   Kernel version: 2.6.6
*   CPU: FR-V FR450 core running at 360 MHz

Please also refer to the graphic chart in DMA Copy Of Kernel On Startup.

## Future Work

Here is a list of things that need to be done with this patch:

*   possibly provide lpj validation feature, mentioned by specification

## Testing

Testing performed for 2.6.7*for preset-lpj-5.patch (after LKML discussion)

*   see if patch applies cleanly to 2.6.7
    *   OK
*   see if patch applies cleanly to 2.6.7-mm7
    *   (preset-lpj-04.06.25.patch applied cleanly, but with offsets for all hunks)
*   see if patch applies cleanly to 2.6.7-bk20
    *   (preset-lpj-04.06.25.patch applied cleanly, but with offsets for all hunks)
*   see if build succeeds on 2.6.7
    *   OK
*   runtime tests:
    *   run with PRESET_LPJ set to 0 (default)
        *   result should be: (everything normal)
        *   should print lpj value that is used
    *   run with PRESET_LPJ set to 0, with lpj==xxx command line
        *   should skip calibration, but print BogoMips anyway
        *   should NOT?? print lpj value that can be used??
    *   run with PRESET_LPJ option set to yyy in config
        *   should skip calibration
        *   should NOT print lpj value that can be used
    *   run with PRESET_LPJ option set to yyy in config, with lpj==xxx command line
        *   should skip calibration, and use xxx rather than yyy
        *   should NOT print lpj value that can be used
    *   run with PRESET_LPJ option set to yyy in config, with lpj==0 command line
        *   should perform calibration
        *   should print lpj value that is used

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Boot Time](http://eLinux.org/Category:Boot_Time "Category:Boot Time")
*   [Kernel](http://eLinux.org/Category:Kernel "Category:Kernel")

# Printk Times

> From: [eLinux.org](http://eLinux.org/Printk_Times "http://eLinux.org/Printk_Times")

# Printk Times

## Contents

*   1 Introduction
    *   1.1 Rationale
*   2 Downloads
    *   2.1 Patches
    *   2.2 Utility program
*   3 How To Use (2-6 version of kernel)
    *   3.1 runtime control of printk times
        *   3.1.1 History
    *   3.2 Trouble-shooting
    *   3.3 Customizing the printk times clock
*   4 How To Use (2-4 version of kernel)
*   5 Sample Results
    *   5.1 show-delta results
*   6 Related Work
    *   6.1 Standardized boot instrumentation points
    *   6.2 initcall-debug

## Introduction

"Printk-times" is a simple technology which adds some code to the standard kernel printk routine, to output timing data with each message. While crude, this can be used to get an overview of the areas of kernel initialization which take a relatively long time. This feature is used by the Bootup Time Working Group to identify areas of the Linux kernel requiring work to improve bootup time, and to measure the improvements of changes made by the working group.

The technology for this feature consists of a patch and a utility program. The patch alters the printk code in the kernel to emit the timing data.

**UPDATE:** The patch was incorporated into the mainline kernel as of version 2.6.11! Both the feature, and the utility program are now part of mainline Linux!!

With printk-times turned on, the system emits the timing data as a floating point number of seconds (to microsecond resolution) for the time at which the printk started. The utility program shows the time between calls, or it can show the times relative to a specific message. This makes it easier to see the timing for specific segments of kernel code.

### Rationale

There are other instrumentation systems for the kernel that have more advanced features than this. However, this system is very simple and robust. It does not require extra programs, interfaces in proc of sysfs, or even a root filesystem, in order to obtain measurements of bootup time. Its weakness is that you can only see timing information for areas of the kernel which have printks. In order to get more detail for an area of interest, you have to add additional printks to the kernel, and re-compile it. Also, printks themselves may add too much timing overhead to the kernel, particularly when the output is over a serial line (which is very common in embedded configurations).

For a system that provides much more detailed timing information, you may want to use Kernel Function Instrumentation instead.

## Downloads

### Patches

*   Patch for x86 for 2.4.20 kernel: [instrumented_printk.patch](http://eLinux.org/images/d/d0/Instrumented_printk.patch "Instrumented printk.patch")
*   Patches (arch-neutral) for 2.6.x kernels are on the Patch Archive page.
*   Patch for 2.6.11-rc4: [printk-times-3.patch](http://eLinux.org/images/e/e6/Printk-times-3.patch "Printk-times-3.patch")

[Image:Alert.gif] - patch is no longer needed. Printk-times was incorporated into the mainline Linux kernel as of version 2.6.11.

### Utility program

The program `show_delta` reads the information from printk output, and displays time values as delta's between printks. This helps to more easily find periods of long time between printks. (This is easier than "eye-balling" the dump, looking for jumps in the time.)

The `show_delta` is in the `/scripts` directory of the kernel source, for kernel versions 2.6.12 and above.

## How To Use (2.6 version of kernel)

*   If using a kernel version prior to 2.6.11, apply the appropriate patch to your kernel
*   When booting the kernel, add the option "printk.time=1" (or "time" for older kernels) on the kernel command line
*   You should see extra data at the beginning of each printk line
*   Examine the data while it is displayed, or after booting use the "dmesg" command line.
*   (See the "trouble-shooting" section below if you only see some, not all, of the bootup messages)
*   Collect the kernel printk data with `dmesg`
*   save the results to a file, like so: `dmesg >/tmp/bootup_printks`
*   alternatively, if you are using a serial console, you can capture the kernel printk output to the capture buffer of your terminal program and save it to a file for use later.

*   (Optionally) To see the time spent between successive printks, use the `show_delta` command.

    *   `scripts/show_delta /tmp/bootup_printks`
*   (Optionally) To avoid the overhead of writing out the kernel messages during bootup, try booting the kernel with the "quiet" kernel command line option.
*   If you use a serial console, it is possible for the speed of the serial connection to interfere with the accuracy of the timing data. In this case you may wish to boot the kernel with the "quiet" option, which suppresses printk output during boot. When this option is used, the kernel messages are not printed during bootup, but are still available after booting with the `dmesg` command.

*   (Optionally) If you want to configure the kernel to always boot with timing information turned on, and/or you want to see timing information for the kernel BEFORE it parses the kernel command line:

    *   Configure your kernel with "Show timing information on printks" turned on.
    *   This option is on the the "Kernel hacking" menu of the kernel configuration program.
    *   Compile and boot your kernel

### runtime control of printk times

You can enable and disable printk timestamps at runtime, by writing to /sys/module/printk/parameters/time.

```
# cat /sys/module/printk/parameters/time
N
# echo 1 >/sys/module/printk/parameters/time
# cat /sys/module/printk/parameters/time
Y
# echo "sample log message" >/dev/kmsg
# dmesg | tail
....
[3814526.197336] sample log message 
```

#### History

Jan Engelhardt supplied a patch against 2.6.17 which allows for runtime control of the printk-times control flag. Here is what he wrote:

> Currently, enabling/disabling printk timestamps is only possible through reboot (bootparam) or recompile. I normally do not run with timestamps (since syslog handles that in a good manner), but for measuring small kernel delays (e.g. irq probing - see parport thread) I needed subsecond precision, but then again, just for some minutes rather than all kernel messages to come. The following patch adds a module_param() with which the timestamps can be en-/disabled in a live system through /sys/module/printk/parameters/printk_time.

The patch was applied in 2.6.18.

### Trouble-shooting

*   Not all kernel messages are displayed by dmesg
    *   The printk-times feature adds a number of bytes at the beginning of each printk message. The default kernel message buffer size may not be sufficient to hold all the messages with this additional overhead. You can increase the kernel message buffer size when compiling the kernel, by adjusting the "Kernel Log buffer size" (found on the "General Setup" menu). Notethat you must also specify a larger buffer read size with "dmesg", with the '-s' option.
        *   ex: `dmesg -s 128000 >/tmp/bootup_printks`
*   Resolution of timings is very bad.
    *   Printk-time uses the routine sched_clock() in the kernel. On some platforms, sched_clock() only has a resolution of 1 jiffy (which may be 10 milliseconds or longer). This means that you will only see the time increment at this resolution, giving imprecise results for printk-times. To correct this problem, the best solution is to implement a good sched_clock() routine for your platform. Sched_clock() returns a 64-bit value which is nanoseconds since some event (usually either since machine power-on, or since time_init() was called.) Many embedded processors have a clock or timer on the System-On-Chip which can provide a good resolution clock source for sched_clock(). It is best if the clock can provide resolution better than 1 microsecond. Note that this only requires a clock running at 1 MHz to achieve this resolution.
*   Machine hangs when printk-times is compiled ON.
    *   You may experience a panic, hang-up, or some other problem with printk-times turned on. I have seen problems caused by calls to sched_clock() too early in boot sequence. Some platforms don't support calling sched_clock() before memory, interrupts or other architecture-specific items are initialized. (The 'i386' arch is OK, since it's sched_clock() by default uses the TSC, which does not need any prior setup.) In case you have problems on your platform, you may need to adjust the sched_clock() function to return 0 until it is safe to begin operation (usually until after time_init() completes.)

### Customizing the printk times clock

Somewhere between 2.6.11 and 2.6.14, the printk routine was modified to use printk_clock() instead of sched_clock() directly. This means that you can override printk_clock() on your platform to use a custom timestamp source different from the one used by sched_clock() (Or, you can avoid calling sched_clock() until it is ready - say, after time_init()).

## How To Use (2.4 version of kernel)

*   Apply the 2.4-based patch to your kernel
*   You MUST set the value for fixed_cpu_khz, in the file `include/asm-386/timex.h` (in the inline macro highres_timer_ticks_to_timeval) to the correct value for your machine.
*   to find out the correct value for this, run your system (without the patch or with the option turned off), and 'cat /proc/cpuinfo' Use the value from the "cpu MHZ" line, multiplied by 1000 (that is, with the decimal point removed.)
*   Configure your kernel with "Configure timing instrumentation in printk" turned on.
*   (This should appear at the bottom of the "General Setup menu of the kernel configuration program.)
*   Compile and boot your kernel
*   You should see extra data at the beginning of each printk line
*   Collect the kernel printk data with `dmesg` save the results to a file, like so: `dmesg >bootup_printks`
*   alternatively, if you are using a serial console, you can capture the kernel printk output to the capture buffer of your terminal program and save it to a file for use later.
*   (Optionally) Use show_delta to display the time spent between successive printks
*   (Optionally) Boot with the "quiet" kernel command line option.
*   If you are using a serial console, it is possible that the speed of the serial connection will interfere with the accuracy of the timing data. In this case you may wish to boot the kernel with the "quiet" option, which will suppress printk output during boot. When this option is used, the kernel messages are still be available after booting with the dmesg command.

## Sample Results

Below is a sample of kernel messages produced by a 2.6.11 kernel, with "time" specified on the kernel command line. Note that the messages don't start having the time prefix until the kernel command line is processed. Then, the timestamps don't have real values until the timer code in the kernel is initialized. This is fairly typical for non-x86 kernels.

```
Linux version 2.6.11 (tbird@timdesk.am.sony.com) (gcc version 3.4.3) #35 Wed Oct 8 12:09:15 PDT 2008
memsize environment variable not set: assuming 32MB
splash screen environment variable not set: assuming not enabled
CPU revision is: 0001906c
Start xilleon_setup...
Enable memory access in PCI space for DMA
Xilleon GPIO4_SEL: 0x00000200
Xilleon GPIO5_SEL: 0x00000080
Determined physical RAM map:
 memory: 00080000 @ 00000000 (ROM data)
 memory: 00180000 @ 00080000 (reserved)
 memory: 02000000 @ 00200000 (usable)
On node 0 totalpages: 8704
  DMA zone: 8704 pages, LIFO batch:2
  Normal zone: 0 pages, LIFO batch:1
  HighMem zone: 0 pages, LIFO batch:1
Built 1 zonelists
Kernel command line: root=/dev/nfs nfsroot=192.168.2.1:/nfsroot_gtx rw ip=192.168.2.93 time
[    0.000000] Primary instruction cache 32kB, physically tagged, 4-way, linesize 16 bytes.
[    0.000000] Primary data cache 32kB, 4-way, linesize 16 bytes.
[    0.000000] Synthesized TLB refill handler (20 instructions).
[    0.000000] Synthesized TLB load handler fastpath (32 instructions).
[    0.000000] Synthesized TLB store handler fastpath (32 instructions).
[    0.000000] Synthesized TLB modify handler fastpath (31 instructions).
[    0.000000] PID hash table entries: 256 (order: 8, 4096 bytes)
[    0.000000] calculating r4koff... #### mips_hpt_frequency: 246095550
[    0.000000] 00258d1b(2460955) with HZ(100)
[    0.000000] CPU frequency 492.19 MHz
[    0.098499] Using 246.096 MHz high precision timer.
[    0.128948] Dentry cache hash table entries: 8192 (order: 3, 32768 bytes)
[    0.136327] Inode-cache hash table entries: 4096 (order: 2, 16384 bytes)
[    0.145717] Memory: 29608k/32768k available (2147k kernel code, 3120k reserved, 400k data, 124k init, 0k highmem)
[    0\. 156719] Calibrating delay loop... 491.52 BogoMIPS (lpj=2457600)
[    0.384932] Mount-cache hash table entries: 512 (order: 0, 4096 bytes)
[    0.392079] Checking for 'wait' instruction...  available.
[    0.399982] NET: Registered protocol family 16
[    0.406901] SCSI subsystem initialized
[    0.411487] usbcore: registered new driver usbfs
[    0.416508] usbcore: registered new driver hub
[    0.422558] HBIU Device 0000:00:14.0 0 MEM 20000000:27ffffff -> 08000000:0fffffff
[    0.430497] PCU  Device 0000:00:14.0 3 MEM 1c000000:1fffffff -> 1c000000:1fffffff
[    0.438416] PCI  Device 0000:00:14.0 2 MEM 19000000:191fffff -> 10000000:101fffff
[    0.446330] PCI  Device 0000:00:14.2 0 MEM 19200000:19200fff -> 10200000:10200fff
[    0.454241] PCI  Device 0000:00:14.0 1 I/O 00002000:000020ff -> 00002000:000020ff
[    0.466247] uirt: Xilleon IR TV Remote Driver [fmt:12-bit Sony nuirt:1 demod=n nscan=3 debug=n]
[    0.475923] Serial: 8250/16550 driver $Revision: 1.90 $ 4 ports, IRQ sharing disabled
[    0.484350] ttyS0 at MMIO 0x0 (irq = 100) is a 16550A
[    0.489832] ttyS1 at MMIO 0x0 (irq = 99) is a 16550A
[    0.495228] ttyS2 at MMIO 0x0 (irq = 122) is a 16550A
[    0.500699] ttyS3 at MMIO 0x0 (irq = 127) is a 16550A
[    0.506385] io scheduler noop registered
[    0.510541] io scheduler deadline registered
[    0.516049] loop: loaded (max 8 devices)
[    0.523834] GMAC_ETH: Init completed-GMAC
[    0.528498] MUSB Core: Initializing MUSB Driver [npci=1][gadget=no][otg=no][dma=no]
[    0.536585] Probing direct bus [direct=1]
[    0.541245] MGC_LinuxInitController: MUSBxDRC at 0xbe001400, IRQ 130
[    0.547971] MGC_LinuxInitController: Driver instance data at 0x810d2000
[    0.702474] MGC_O_HDRC_CONFIGDATA register contents: 0xde
[    0.708164] MGC_HdrcInit: ConfigData=de (UTMI-8, dyn FIFOs, bulk combine, bulk split, HB-ISO Rx, HB-ISO  Tx, SoftConn )
[    0.719350] MGC_LinuxInitController: End 00: FIFO TxSize=0040/RxSize=0040
[    0.726504] MGC_LinuxInitController: End 01: Shared FIFO TxSize=0400/RxSize=0400
[    0.734302] MGC_LinuxInitController: End 02: Shared FIFO TxSize=0400/RxSize=0400
[    0.742096] MGC_LinuxInitController: End 03: FIFO TxSize=0800/RxSize=0000
[    0.749247] MGC_LinuxInitController: End 04: FIFO TxSize=0000/RxSize=0800
[    0.756394] MGC_LinuxInitController: End 05: Shared FIFO TxSize=0100/RxSize=0100
[    0.764188] MGC_LinuxInitController: End 06: Shared FIFO TxSize=0100/RxSize=0100
[    0.771985] MGC_LinuxInitController: End 07: Shared FIFO TxSize=0100/RxSize=0100
[    0.779783] MGC_LinuxInitController: End 08: Shared FIFO TxSize=0100/RxSize=0100
[    0.787576] MGC_LinuxInitController: End 09: Shared FIFO TxSize=0100/RxSize=0100
[    0.795386] MGC_LinuxInitController: New bus @0x804d2e80
[    0.801568] musb-hcd usb0: new USB bus registered, assigned bus number 1
[    0.809014] hub 1-0:1.0: USB hub found
[    0.812976] hub 1-0:1.0: 1 port detected
[    0.916507] ohci_hcd: 2004 Nov 08 USB 1.1 'Open' Host Controller (OHCI) Driver (PCI)
[    0.916679] ohci_hcd 0000:00:14.2: OHCI Host Controller
[    0.922216] ohci_hcd 0000:00:14.2: irq 2, pci mem 0x10200000
[    0.928346] ohci_hcd 0000:00:14.2: new USB bus registered, assigned bus number 2
[    0.948236] hub 2-0:1.0: USB hub found
[    0.952246] hub 2-0:1.0: 2 ports detected
[    0.975448] USB Universal Host Controller Interface driver v2.2
[    0.981849] Initializing USB Mass Storage driver...
[    0.987126] usbcore: registered new driver usb-storage
[    0.992536] USB Mass Storage support registered.
[    0.997407] i2c /dev entries driver
[    1.001451] Misc PCA16 driver minor=62
[    1.005490] NET: Registered protocol family 2
[    1.010225] IP: routing cache hash table of 512 buckets, 4Kbytes
[    1.016822] TCP established hash table entries: 2048 (order: 2, 16384 bytes)
[    1.024317] TCP bind hash table entries: 2048 (order: 1, 8192 bytes)
[    1.031076] TCP: Hash tables configured (established 2048 bind 2048)
[    1.037833] NET: Registered protocol family 1
[    1.536645] GMAC_ETH: Reset called
[    1.540426] GMAC_ETH: Half duplex
[    2.530746] IP-Config: Guessing netmask 255.255.255.0
[    2.536368] IP-Config: Complete:
[    2.539580]       device=eth0, addr=192.168.2.93, mask=255.255.255.0, gw=255.255.255.255,
[    2.548143]      host=192.168.2.93, domain=, nis-domain=(none),
[    2.554384]      bootserver=255.255.255.255, rootserver=192.168.2.1, rootpath=
[    2.562567] Looking up port of RPC 100003/2 on 192.168.2.1
[    2.570535] Looking up port of RPC 100005/1 on 192.168.2.1
[    2.632542] VFS: Mounted root (nfs filesystem).
[    2.637464] Freeing unused kernel memory: 124k freed 
```

### show_delta results

Sample Results for `show_delta`:

*   Printk Times Sample1
    *   basic output from show_delta with every line relative to the line previous
*   Printk Times Sample2
    *   shows output with all lines relative to first line (good for getting the total kernel bootup time)
*   Printk Times Sample3
    *   shows output relative to a single line in the middle (good for measuring the total time for multi-line items)

* * *

Sample Results for dmesg output for 2.6.11-rc4:

*   Printk Times Sample4
    *   showing truncation of dmesg output

## Related Work

### Standardized boot instrumentation points

Here are some ideas for additional work needed on this system:

*   should add printks to key areas of the kernel (e.g. before each sub-system init), to establish reference timings for various sub-systems
    *   this would be useful to find boot time regressions

### initcall_debug

A system already exists for finding the amount of time it takes to load all the individual non-core drivers in the kernel. It is called initcall_debug.

See Initcall_Debug

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Boot Time](http://eLinux.org/Category:Boot_Time "Category:Boot Time")
*   [Measuring](http://eLinux.org/Category:Measuring "Category:Measuring")
*   [Printk](http://eLinux.org/Category:Printk "Category:Printk")

# Ramdisks demasked

> From: [eLinux.org](http://eLinux.org/Ramdisks_demasked "http://eLinux.org/Ramdisks_demasked")

# Ramdisks demasked

## Contents

*   1 Ramdisks demasked
    *   1.1 Introduction
    *   1.2 How ram disks are used
    *   1.3 Why is there no performance gain?
    *   1.4 But is there no situation when a ram disk will give a gain?
    *   1.5 But what about initramfs?
    *   1.6 So ram disks are useless?

# Ramdisks demasked

## Introduction

When a system does not boot as quickly as expected, people sometimes revert to using a populated ram disk. The idea is that a ram disk resides in RAM, and hence is faster than a flash file system (which is correct). However, in the end no performance gain occurs. This page described why this happens and why in general a ram disk is not a good idea.

## How ram disks are used

The standard way to use a populated ram disk is to make a ram disk image, load it to memory using the boot loader (e.g. using a grub initrd line in menu.lst) and tell the kernel to use the ram disk (by means of the initrd= and root=/dev/ram0 kernel parameter).

## Why is there no performance gain?

This is simple. The ramdisk need to be loaded from flash memory. This takes time. After that there is indeed a speedup because you do not need to access the flash any more. However, the gain from this speedup hardly ever recoups the time needed to load the flash disk in the first place.

Reason for this is that if there is no ram disk only those parts of an executable that are really needed are read from the background memory. Unit of transfer is a page (typically 4K or 8K). So if you were using only a few functions from e.g. glibc only those pages are loaded, not the full glibc (which might be around 1MB). However in case of a ram disk, the whole glibc needs to be loaded. It is easy to see that loading a whole file (as done in the ram disk case) takes more time than reading the pages that you need (as is the case in the non ramk disk case).

Now you might reason that pages might be read multiple times, which contribues to the gain. Technically you are right. Rereading the same page several times will cause some saving (although it still can be argued if this is enough to recover the ram disk load time). However lets look a little bit deeper: If a page is reread it has been dropped from the buffer cache. This means that the kernel is running out of buffer space. If that is the problem then a ram disk is not going to be the solution! Better use no ram disk and give that memory to the kernel, who will most likely be able to use it in a more efficient manner.

## But is there no situation when a ram disk will give a gain?

Of course there are. I can think of the following situations:

*   If most or all pages of your ram disk are used, especially if your boot loader is faster reading the ram disk than the kernel is (this could be related to compression and/or to less read overhead).
*   If the source of the ram disk might disappear (e.g. if the ram file system resides on the network or on a removable disk that may be removed).
*   If execution start time is more important than boot time (then it helps if glibc and friends are in RAM). (this might also be the case if your ramfs is e.g. read over the network).

## But what about initramfs?

initramfs has the same inherent problems. It does a little bit better job because it copies the data to the buffer cache. After that the memory occupied by the initramfs image is released. However, still it reads more than needed.

## So ram disks are useless?

No, not at all. Having populated ram disk and use them as root filesystem is often not very meaningful. However a ram disk or ramfs device which is used to store temporary data can be very useful. It is a lot faster to write a 1MB temp file to RAM than it is to write it to flash.

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Tips and Tricks](http://eLinux.org/Category:Tips_and_Tricks "Category:Tips and Tricks")

# Reordering of driver initialization

> From: [eLinux.org](http://eLinux.org/Reordering_of_driver_initialization "http://eLinux.org/Reordering_of_driver_initialization")

# Reordering of driver initialization

## Contents

*   1 Description
*   2 How to implement or use
*   3 Expected Improvement
*   4 Resources
    *   4.1 Projects
    *   4.2 Specifications
    *   4.3 Patches
*   5 Case Studies

## Description

Some products need to have some type of storage available as soon as possible after kernel initialization. Think of SD card type removable media that could contain possible upgrades or other versions of a software product. In order to mount these media right away, they should be probed and recognized by the time your favorite startup script (or 'init') is started. Sometimes bus/media probing can take a long time, especially if you have slow buses, or when one bus can support several types of media. In the latter case, an SD card attached to a bus (host) that can support SD 2.0, SD 1.0 and MMC protocols, they have to be probed from super to lesser interface specification (SD cards understand basic MMC protocol as well). Worst case, the media is probed and detected after your favorite startup scrupt (or 'init') has finished its work already!

## How to implement or use

By simply identifying which driver(s) is (are) associated with the medium, move them upward in the driver makefile(s) to put them more in front of the to-be-initialized kernel modules list.

## Expected Improvement

Media are probed and disks are added before kernel initialization finishes, no 'hotplugging' interface necessary. Startup scripts (or 'init') can decide what to do before it is 'too late'.

## Resources

None.

### Projects

None.

### Specifications

None.

### Patches

None.

## Case Studies

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Boot Time](http://eLinux.org/Category:Boot_Time "Category:Boot Time")
*   [Kernel](http://eLinux.org/Category:Kernel "Category:Kernel")

# RTC No Sync

> From: [eLinux.org](http://eLinux.org/RTC_No_Sync "http://eLinux.org/RTC_No_Sync")

# RTC No Sync

## Contents

*   1 Introduction
    *   1.1 LKML discussion
    *   1.2 Rationale
*   2 Downloads
    *   2.1 Patch
    *   2.2 Utility programs
*   3 How To Use
*   4 Sample Results
    *   4.1 case 1
    *   4.2 case 2
    *   4.3 case 3
*   5 Status
    *   5.1 Previous mainline attempts
*   6 Future Work

## Introduction

One routine that potentially takes a long time during kernel startup is `get_cmos_time()`. This routine is used to read the value of the external real-time clock (RTC) when the kernel boots. Currently, this routine delays until the edge of the next second rollover, in order to ensure that the time value in the kernel is accurate with respect to the RTC.

However, this operation can take up to one full second to complete, and thus introduces up to 1 second of variability in the total bootup time.

The synchronization in this routine is easy to remove. It can be eliminated by removing the first two loops in the function `get_cmos_time()`, which is located in `include/asm-i386/mach-default/mach_time.h` for the i386 architecture. Similar routines are present in the kernel source tree for other architectures.

One tradeoff in making this modification is that the time stored by the Linux kernel is no longer completely synchronized (to the boundary of a second) with the time in the machine's realtime clock hardware. Some systems save the system time back out to the hardware clock on system shutdown. After numerous bootups and shutdowns, this lack of synchronization will cause the realtime clock value to drift from the correct time value.

Since the amount of un-synchronization is up to a second per boot cycle, this drift can be significant. However, for some embedded applications, this drift is unimportant. Also, in some situations the system time may be synchronized with an external source anyway, so the drift, if any, is corrected under normal circumstances soon after booting.

### LKML discussion

The RTC synchronization was discussed on LKML in May (with even Linus himself commenting) That thread is available [here](http://groups.google.com/groups?hl==en&lr==&ie==UTF-8&threadm==1To2R-2S7-11%40gated-at.bofh.it&rnum==1&prev==/groups%3Fhl%3Den%26lr%3D%26ie%3DUTF-8%26selm%3D1To2R-2S7-11%40gated-at.bofh.it).

### Rationale

The RTC edge synchronization can take up to 1 second, and takes .5 seconds on average.

## Downloads

### Patch

*   [Patch for CELF version XXXXXX is *here*]
*   [Patch for 2.4.xx is *here*]
*   Patch for 2.6.7 (only for i386 architecture): rtc-nosynch-3.patch
*   Patch for 2.6.10 for PPC architecture: attachment:rtcnosync-ppc-2.6.10.patch

You might also want to check the [Patch Archive](http://eLinux.org/Patch_Archive "Patch Archive")

### Utility programs

None

## How To Use

Apply the patch to your Linux kernel. Then reconfigure your kernel so that "CONFIG_RTC_NO_SYNC_ON_READ" is enabled.

The option will be found under "General Setup", "Fast boot options" labeled as "No SYNC on read of Real Time Clock".

## Sample Results

### case 1

Tim Bird measured the effect of eliminating this synchronization on an HP xw4100 workstation. The machine had a Pentium 4 processor running at 3 GHz. With the synchronization, the time to perform get_cmos_time() varied from 150 milliseconds to 900 milliseconds. Without the synchronization, the time to perform get_cmos_time() was under 1 millisecond.

### case 2

Richard Griffiths measured the effect of eliminating the synchronization on a 1GHZ Pentium III based desktop. With synchronization executing get_cmos_time() took from 200 milliseconds to a full second. Without the synchronization, the time to perform get_cmos_time() was under 1 millisecond.

### case 3

Tim Bird measured the RTC read synchronization cost for a PowerPC board. The platform was a PPC440GP (ebony) board, using a Dallas Semiconductor DS1743 RTC.

The RTC read routine is in arch/ppc/syslib/todc_time.c:todc_get_rtc_time(). The loop to synchronize with the seconds edge is in arch/ppc/kernel/time.h:time_init().

I measured the time for synchronizing the clock edge several times:

*   105 ms, 139 ms, 313 ms, 572 ms, 213 ms, 626 ms, 753 ms, 426 ms, 535 ms, 163 ms

Note that for PPC, the synchronization code is *outside* the RTC read routine, instead of inside the routine (as for i386).

## Status

Fixed in mainline.

Matt Mackall submitted a large patch set to fix this problem, in March

1.  See [`lkml.org/lkml/2006/3/17/340`](http://lkml.org/lkml/2006/3/17/340) . These patches were mainlined in the Linux kernel in version 2.6.16. See [`git.kernel.org/?p=linux/kernel/git/torvalds/linux-2.6.git;a=commit;h=63732c2f37093d63102d53e70866cf87bf0c0479`](http://git.kernel.org/?p=linux/kernel/git/torvalds/linux-2.6.git;a=commit;h=63732c2f37093d63102d53e70866cf87bf0c0479)

### Previous mainline attempts

A patch was eventually submitted to LKML for consideration (in Nov, 2004). The thread is [here](http://groups.google.com/groups?q==rtc+griffiths&hl==en&lr==&selm==2UNgm-6Mu-21%40gated-at.bofh.it&rnum==1)

There was no response.

## Future Work

Here is a list of things that could be worked on for this feature:

*   In an earlier thread on LKML, it was suggested that some background method of synchronizing the system clock and hardware clock could be used to avoid the clock drift problem.
*   one idea is: "you could check the cmos time in the timer interrupt during boot, and correct it there rather than busy-waiting"
*   Another person notes:

> "There is hwclock that will read or write the CMOS clock, and it synchronizes. So if one wants to synchronize with the CMOS clock (rather than, say, with an external clock), and wants the better-than-1-sec accuracy, then that can be done in a boot script."

*   We need to check if hwclock uses get_cmos_time() to read the clock. If so, this method of synchronizing the clock edge after booting won't work (once the get_cmos_time synch is disabled.)

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Boot Time](http://eLinux.org/Category:Boot_Time "Category:Boot Time")
*   [Kernel](http://eLinux.org/Category:Kernel "Category:Kernel")

# Short IDE Delays

> From: [eLinux.org](http://eLinux.org/Short_IDE_Delays "http://eLinux.org/Short_IDE_Delays")

# Short IDE Delays

## Contents

*   1 Introduction
    *   1.1 Rationale
*   2 Downloads
    *   2.1 Patch
    *   2.2 Utility programs
*   3 How To Use
*   4 Sample Results
*   5 Status
*   6 Future Work

## Introduction

This page describes the feature "short IDE delays". This is just a description of a technique for shortening the probing time used during certain IDE operations (I think primarily on startup). It was noted on a test machine that IDE initialization takes a significant percentage of the total bootup time. Almost all of this time is spent busywaiting in the routine `ide_delay_50ms()`.

It is trivial to modify the value of the delay used in this routine.

Reducing the duration of the delay in the `ide_delay_50ms()` routine provides a substantial reduction in the overall bootup time for the kernel on a typical desktop system. It also has potential for use in embedded systems where PCI-based IDE drives are used.

In the patch shown here, the delay was modified from 50 milliseconds to 5 milliseconds. However, for particular hardware, it may be desirable to tune the delay to the lowest possible value.

This change may only be appropriate for embedded hardware. In a desktop environment, a variety of legacy hardware may be encountered which may need these relatively long delays.

### Rationale

In testing on one desktop system, IDE delays accounted for about 70% of the total kernel bootup time. These delays may not be needed for proper operation of the hardware for a particular consumer electronics product.

## Downloads

### Patch

*   Patch for 2.6.6: short-ide-delays.patch
*   Patch for 2.6.8-rc2: ide-delay-2.6.8-rc2.patch

Following is what the patch looked like for 2.6.6\. Recently, the ide_delay_50ms() routine was replaced with multiple independent calls to msleep(50), which makes more recent patches more difficult.

> ```
> diff -ruN linux-2.6.6.orig/drivers/ide/ide.c linux-2.6.6-kfi/drivers/ide/ide.c
> --- linux-2.6.6.orig/drivers/ide/ide.c  2004-05-09 19:32:26.000000000 -0700
> +++ linux-2.6.6-kfi/drivers/ide/ide.c   2004-06-09 21:14:01.000000000 -0700
> @@ -1401,10 +1401,10 @@
>  void ide_delay_50ms (void)
>  {
>  #ifndef CONFIG_BLK_DEV_IDECS
> -   mdelay(50);
> +   mdelay(5);
>  #else
>     __set_current_state(TASK_UNINTERRUPTIBLE);
> -   schedule_timeout(1+HZ/20);
> +   schedule_timeout(1+HZ/200);
>  #endif /* CONFIG_BLK_DEV_IDECS */
>  } 
> ```

### Utility programs

None

## How To Use

Apply the patch, compile the kernel, and measure the kernel boot time.

## Sample Results

As an experiment, this code (located in the file `drivers/ide/ide.c`) was modified to only delay 5 milliseconds instead of 50 milliseconds.

The machine used was an HP XW4100 Linux workstation system, with the following characteristics:

*   Pentium 4 HT processor, running at 3GHz
*   512 MB RAM
*   Western Digital 40G hard drive on hda
*   Generic CDROM drive on hdc

When a kernel with this change was run on the test machine, the total time for the `ide_init()` routine dropped from 3327 milliseconds to 339 milliseconds. The total time spent in all invocations of `ide_delay_50ms()` was reduced from 5471 milliseconds to 552 milliseconds. The overall bootup time was reduced accordingly, by about 5 seconds.

The ide devices were successfully detected, and the devices operated without problem on the test machine. However, this configuration was not tested exhaustively.

## Status

Todd Poynor posted a patch for this to LKML on July 30, 2004.See the discussion thread at: [`lkml.org/lkml/2004/7/30/141`](http://lkml.org/lkml/2004/7/30/141)

This patch was rejected by Alan Cox, Jeff Garzik and Mark Lord. See the thread mentioned above for details. The reasons amounted to:

*   the IDE driver is delicate and temperamental, changing it would break things
    *   This ignored the fact that the submitted patch only changed things when a config option was enabled
    *   the counterargument to this is that in this situation, the patch would not get much testing by mainline users
*   if users tried this out, they might have problems and they would then bug the IDE maintainers
    *   Alan suggested having the option "taint" the kernel, to avoid bug reports
*   newer hardware (SATA) won't have these problems and the probes should work faster (in other words, if you ignore this problem it will go away)
*   the timeouts shouldn't be correlated to each other anyway. That is, these timeouts are used by different parts of the IDE code for different operations. The fact that they currently have the same timeout value is just happenstance, and shouldn't be locked-in with a single value definition.

Alan Cox summarized things by saying: `If you want to speed this up then the two bits that the initial proposal and Jeff have sensibly come up with are`

1.  Are we doing too many probes
2.  Should we switch to proper reset polling

For certain cases (PPC spin up) we actually have switched to doing drive spin up this way, I certainly have no objection to doing the rest of the boot optimisation by following the standards carefully.

## Future Work

Here is a list of things that could be worked on for this feature:

*   make a config option for the value of the delay
*   try to verify that the change is safe to use
    *   check to see if these probes are used during runtime (not just bootup time)
    *   test as much hardware as possible
    *   ask about the safety of this on LKML

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Boot Time](http://eLinux.org/Category:Boot_Time "Category:Boot Time")
*   [Kernel](http://eLinux.org/Category:Kernel "Category:Kernel")

# Suspend To Disk For ARM

> From: [eLinux.org](http://eLinux.org/Suspend_To_Disk_For_ARM "http://eLinux.org/Suspend_To_Disk_For_ARM")

# Suspend To Disk For ARM

Table Of Contents:

## Contents

*   1 Description
*   2 Target Environment
    *   2.1 Hardware Information
    *   2.2 Software Information
*   3 swsusp for ARM
    *   3.1 build kernel
    *   3.2 do swsusp
    *   3.3 Known Problems / FAQs
*   4 suspend2 for ARM
    *   4.1 build kernel
    *   4.2 do suspend2
*   5 snapshot boot for ARM
    *   5.1 what is it
    *   5.2 build boot loader
    *   5.3 install boot loader
    *   5.4 build kernel
    *   5.5 do snapshot boot
    *   5.6 Startup comparison

## Description

This page shows the result of applying suspend to disk feature for ARM architecture. Related pages are:

*   [Sw Suspend](http://eLinux.org/Sw_Suspend "Sw Suspend") - Information about [Sw Suspend](http://eLinux.org/Sw_Suspend "Sw Suspend")
*   [Sw Suspend Porting Notes](http://eLinux.org/Sw_Suspend_Porting_Notes "Sw Suspend Porting Notes") - [Sw Suspend](http://eLinux.org/Sw_Suspend "Sw Suspend") quick-hack porting guide

## Target Environment

### Hardware Information

OSK reference board is used.

Since OSK5912 board does not have disk to save suspend image to, flash is used to store suspend image.

### Software Information

linux kernel 2.6.11 based kernel is used for swsusp, and 2.6.14 based kernel is used for suspend2\. Necessary patches are described in next section.

## swsusp for ARM

### build kernel

Below is the kernel patch stack applied on top of vanilla 2.6.11 kernel.

*   patch-2.6.11-omap1 from [muru.com](http://www.muru.com/linux/omap/)
*   [swsusp-arm-2.6.11.patch](http://eLinux.org/images/d/da/Swsusp-arm-2.6.11.patch "Swsusp-arm-2.6.11.patch")
*   [swsusp-osk-2.6.11.patch](http://eLinux.org/images/c/cd/Swsusp-osk-2.6.11.patch "Swsusp-osk-2.6.11.patch")

To build kernel, do the following:

(assuming you have cross comiler for ARM)

*   enable CONFIG_PM
*   enable CONFIG_SOFTWARE_SUSPEND
*   enable CONFIG_SWSUSP_MTDBLOCK_FLUSH

This can be done for example by:

```
 $ make omap_osk_5912_defconfig
 $ make menuconfig

   General setup --->
      [*] Power Management Support
      [*] Software Suspend (EXPERIMENTAL)
      [*] Flush MTD Block

also, NFS is used as rootfs

   File systems --->
      Network File Systems --->
         [*] Root file systems on NFS

 $ make uImage 
```

also, check that CONFIG_SYSFS is enabled. (which is default)

### do swsusp

Boot OSK board with above kernel. Issue following command as super user to suspend to disk:

```
 (mount sysfs)
  $ mkdir /sys
  $ mount -t sysfs none /sys

  (enable flash as swap)
  $ mkswap /dev/mtdblock3
  $ swapon /dev/mtdblock3

  (run some applications)

  (trigger suspend to disk)
  $ echo disk > /sys/power/state 
```

After the suspend to disk is triggered, messages are emitted to console, and machine would halt.

On next bootup of the board, pass below additional argument to kernel:

*   *   resume=/dev/mtdblock3

Below is an example:

```
OMAP5912 OSK # setenv bootargs console=ttyS0,115200n8 ip=dhcp root=/dev/nfs resume=/dev/mtdblock3
OMAP5912 OSK # saveenv 
```

and then boot as usual.

At near end of booting kernel, system reads suspended image, and resumes.

### Known Problems / FAQs

```
- I would like to suspend image to different storage
  I have only tested with mtdblock3, and in swsusp-osk-2.6.11.patch, it is hard coded (sorry...)
  For other device (such as USB storage), I have not tested.

- When the suspended image gets big, system does not resume
  This turned out to be misconfiguration of EMIFS_CS3 register at boot loader, if you are using
  u-boot. There are 2 solutions to this: 
```

*   *   *   fix EMIFS_CS3 value in u-boot and rebuild it
        *   set the correct value in kernel and rebuild it

```
 u-boot fix for file u-boot-1.1.[123]/board/omap5912osk/platform.S or u-boot-1.1.4/omap5912osk/lowlevel_init.S:

 VAL_TC_EMIFS_CS3_CONFIG:
-       .word 0x88011131
+       .word 0x88013141

  kernel re-set the value for file arch/arm/mach-omap/board-osk.c

+ #define EMIFS_CS3_VAL   (0x88013141)
static void __init osk_init(void)
{
+        /* Workaround for wrong CS3 (NOR flash) timing
+         * There are some U-Boot versions out there which configure
+         * wrong CS3 memory timings. This mainly leads to CRC
+         * or similiar errors if you use NOR flash (e.g. with JFFS2)
+         */
+        if (EMIFS_CCS(3) != EMIFS_CS3_VAL)
+                EMIFS_CCS(3) = EMIFS_CS3_VAL; 
```

## suspend2 for ARM

### build kernel

Below is the kernel patch stack applied on top of vanilla 2.6.14 kernel.

*   patch-2.6.14-omap1 from [muru.com](http://www.muru.com/linux/omap/)
*   100-suspend2-2.2-rc14-for-2.6.14.patch from [suspend2.net](http://www.suspend2.net)
*   [suspend2-2.2-rc14-arm-fixups.patch](http://eLinux.org/images/3/35/Suspend2-2.2-rc14-arm-fixups.patch "Suspend2-2.2-rc14-arm-fixups.patch")
*   [suspend2-osk.patch](http://eLinux.org/images/0/00/Suspend2-osk.patch "Suspend2-osk.patch")

To build kernel, do the following: (assuming you have cross comiler for ARM)

*   enable CONFIG_PM
*   enable CONFIG_SUSPEND2
*   enable CONFIG_SUSPEND2_CRYPTO
*   enable CONFIG_CRYPTO
*   enable CONFIG_CRYPTO_LZF

This can be done for example by:

```
 $ make omap_osk_5912_defconfig
 $ make menuconfig

   Power management options --->
      [*] Suspend2 --->
         [*] File Writer
         [*] Swap Writer

   Cryptographic options --->
      [*] Cryptographic API
      <*> LZF compression algorithm

also, change the OSK system timer to MPU Timer

   System Type --->
      TI OMAP Implementations --->
         System timer ---> use mpu timer

 $ make uImage 
```

### do suspend2

Boot OSK board with above kernel. On bootup of the board, pass below additional argument to kernel:

*   *   resume2=swap:/dev/mtdblock3

Below is an example:

```
OMAP5912 OSK # setenv bootargs console=ttyS0,115200n8 ip=dhcp root=/dev/nfs resume2=swap:/dev/mtdblock3
OMAP5912 OSK # saveenv 
```

Install hibernate script into target system, which could be obtained from suspend2 web page.

Issue following command as super user to suspend to disk:

```
 (enable flash as swap)
  $ mkswap /dev/mtdblock3
  $ swapon /dev/mtdblock3

  (trigger suspend2 to disk)
  $ hibernate 
```

After the suspend to disk is triggered, messages are emitted to console, and machine would halt.

Power the board again, make sure the kernel parameter contains resume2=swap:/dev/mtdblock3.

At near the end of kernel boot, suspend2 resume operation begins, and resumes from previously suspended state.

## snapshot boot for ARM

/\ * * * WARNING * * * /\ This feature is very experimental, Your boot loader might get corrupted. /\ To restore boot loader, refer osk page], "Flash Recovery Utility" section.

### what is it

Snapshot boot is similar to swsusp, but with much faster start up, by kernel and boot loader working together. In swsusp, time taken to resume is not very fast, since (a) it starts at `late_initcall', (b) snapshot image is copied twice (swap -> allocated mem -> orig mem), and (c) device state transfer from active -> suspend -> resume. In snapshot boot, image is copied directly to orig mem addr, and jumps into kernel resume point, not kernel entry point, and kernel handles device resume, and thaw processes.

### build boot loader

Below is the patch stack applied on top of u-boot-1.1.4 from [u-boot](http://sourceforge.net/projects/u-boot) web page. First three patches are to build osk5912 target, rest are for snapshot boot.

*   [omap5912osk-fix-undef.patch](http://eLinux.org/images/f/f0/Omap5912osk-fix-undef.patch "Omap5912osk-fix-undef.patch")
*   [omap5912osk-fix-cfi-flash.patch](http://eLinux.org/images/1/1f/Omap5912osk-fix-cfi-flash.patch "Omap5912osk-fix-cfi-flash.patch")
*   [omap5912osk-fix-setup-val.patch](http://eLinux.org/images/4/40/Omap5912osk-fix-setup-val.patch "Omap5912osk-fix-setup-val.patch")
*   [snapshot-boot-core.patch](http://eLinux.org/images/d/d5/Snapshot-boot-core.patch "Snapshot-boot-core.patch")
*   [snapshot-boot-arm.patch](http://eLinux.org/images/6/69/Snapshot-boot-arm.patch "Snapshot-boot-arm.patch")
*   [snapshot-boot-osk.patch](http://eLinux.org/images/6/67/Snapshot-boot-osk.patch "Snapshot-boot-osk.patch")

To build u-boot, do the following:

```
 $ make CROSS_COMPILE=arm-linux- omap5912osk_config
 $ make CROSS_COMPILE=arm-linux- all 
```

### install boot loader

If autoboot is set, hit any key to enter u-boot command prompt.

Below is example installation

```
OMAP5912 OSK # tftp 0x10000000 u-boot.bin

Take note of bytes that were transfered; take note of below message
Bytes transferred = 96952 (17ab8 hex)

OMAP5912 OSK # protect off 00000000 0001ffff
OMAP5912 OSK # erase 00000000 0001ffff
OMAP5912 OSK # cp.b 0x10000000 0x00000000 0x00017ab8
OMAP5912 OSK # protect on 00000000 0001ffff
OMAP5912 OSK # reset 
```

Again, if you are messed up, take a look at osk page], "Flash Recovery Utility" section.

### build kernel

Below is the kernel patch stack applied on top of vanilla 2.6.11 kernel. First three patches are the same patches that were used in swsusp.

*   patch-2.6.11-omap1 from [muru.com](http://www.muru.com/linux/omap/)
*   [swsusp-arm-2.6.11.patch](http://eLinux.org/images/d/da/Swsusp-arm-2.6.11.patch "Swsusp-arm-2.6.11.patch")
*   [swsusp-osk-2.6.11.patch](http://eLinux.org/images/c/cd/Swsusp-osk-2.6.11.patch "Swsusp-osk-2.6.11.patch")
*   [swsusp-preserve-image.patch](http://eLinux.org/images/5/59/Swsusp-preserve-image.patch "Swsusp-preserve-image.patch")
*   [snapshot-core-2.6.11.patch](http://eLinux.org/images/5/57/Snapshot-core-2.6.11.patch "Snapshot-core-2.6.11.patch")
*   [snapshot-arm-2.6.11.patch](http://eLinux.org/images/f/f4/Snapshot-arm-2.6.11.patch "Snapshot-arm-2.6.11.patch")

To build kernel, do the following:

(assuming you have cross comiler for ARM)

```
 $ make omap_osk_5912_defconfig
 $ make menuconfig

   General setup --->

      PCCARD (PCMCIA/CardBus) support --->
         <*> PCCard (PCMCIA/CardBus) support
         <*> 16-bit PCMCIA support (NEW)
         <*> OMAP CompactFlash Controller

      [*] Power Management Support
      [*]   Software Suspend (EXPERIMENTAL)
      [*]     Flush MTD Block
      [*]     Preserve swsuspend image

also, NFS is used as rootfs

   File systems --->
      Network File Systems --->
         [*] Root file systems on NFS

 $ make uImage 
```

### do snapshot boot

On bootup of the board, pass below additional argument to kernel:

*   *   resume=/dev/mtdblock3
    *   prsv-img

Below is an example:

```
OMAP5912 OSK # setenv bootargs console=ttyS0,115200n8 ip=dhcp root=/dev/nfs resume=/dev/mtdblock3 prsv-img
OMAP5912 OSK # saveenv 
```

Boot OSK board with above kernel.

Issue following command as super user to suspend to disk: (These steps are identical to swsusp)

```
 (mount sysfs)
  $ mkdir /sys
  $ mount -t sysfs none /sys

  (enable flash as swap)
  $ mkswap /dev/mtdblock3
  $ swapon /dev/mtdblock3

  (run some applications)

  (trigger suspend to disk)
  $ echo disk > /sys/power/state 
```

After the suspend to disk is triggered, messages are emitted to console, and machine would halt. Power off the board.

Power on the board, and hit any key to enter u-boot command prompt. From u-boot, issue snapshot boot command.

```
OMAP5912 OSK # bootss 0x00240000 
```

The snapshot boot will start, and system resumes from previously suspended system state. Note that same image could be reused, (by specifying prsv-img in kernel command line) and contribute to fast startup of whole system.

### Startup comparison

Below is a comparison of swusps vs. snapshot boot startup time. Time is measured using printk times, so there is some overhead due to measurement. Rootfs is nfs, and application is mplayer, running mpeg file. Application and userland is not optimized, prelink, XIP or other startup improvement techniques are not applied, so refer the data with relative time, not absolute time. Normal startup time without swsusp nor snapshot boot is about 11 seconds.

Media:mplayer-swsusp.log Media:mplayer-ssboot.log

NOTE: The latter two log files were not found on the old CELF Pulic Wiki, therefore links are broken here.

[`elinux.org/Tiny6410`](http://elinux.org/Tiny6410)

[`elinux.org/Micro2440`](http://elinux.org/Micro2440)

[`elinux.org/Mini210`](http://elinux.org/Mini210)

[`elinux.org/Tiny210`](http://elinux.org/Tiny210)

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Kernel](http://eLinux.org/Category:Kernel "Category:Kernel")

# Threaded Device Probing

> From: [eLinux.org](http://eLinux.org/Threaded_Device_Probing "http://eLinux.org/Threaded_Device_Probing")

# Threaded Device Probing

This page describes Threaded device probing, which is a feature which allows drivers in the Linux kernel to have their probes execute in parallel threads. One of the most time-consuming parts of the boot up sequence is the probing by device drivers for their hardware devices.

This patch was created by Greg Kroah-Hartman and with it he was able to reduce the bootup time of the kernel on one machine by about 400 milliseconds.

## Original post and discussion

See [this article](http://lwn.net/Articles/192851/) for the original description of this and a patch.

There was discussion about this [here](http://groups.google.com/group/linux.kernel/browse_frm/thread/921bc0aebcf14d49/2dbc6c11ff212d4f?lnk=st&q=Multi-threaded+device+probing&rnum=1&hl=en#2dbc6c11ff212d4f).

## Kernel Option

Greg Kroah-Hartman posted a patch to LKML on Sep 25 2006 with a config option to turn this on for the PCI bus. His post is at: [lkml thread](http://lkml.org/lkml/2006/9/26/30)

The kernel option to turn on this feature for the PCI bus in Linux version 2.6.18-rc4-mm1 (Andrew Morton's tree) is CONFIG_PCI_MULTITHREAD_PROBE.

## Status

This code was apparently never integrated into mainline. It appears to be superceded by the [Asynchronous function calls](http://eLinux.org/Asynchronous_function_calls "Asynchronous function calls") work.

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Boot Time](http://eLinux.org/Category:Boot_Time "Category:Boot Time")
*   [Kernel](http://eLinux.org/Category:Kernel "Category:Kernel")

# Tims Fastboot Tools

> From: [eLinux.org](http://eLinux.org/Tims_Fastboot_Tools "http://eLinux.org/Tims_Fastboot_Tools")

# Tims Fastboot Tools

This page has materials to support Tim Bird's presentation "[Tools and Techniques for Reducing Bootup Time](http://eLinux.org/images/d/d2/Tools-and-technique-for-reducing-bootup-time.pdf "Tools-and-technique-for-reducing-bootup-time.pdf")". This presentation was first delivered at the Embedded Linux Conference, Europe, in November of 2008.

## Contents

*   1 safe-to-call-sched-clock.patch
*   2 grabserial
*   3 Tim's quick and dirty process trace
    *   3.1 Patch Download
    *   3.2 Usage
*   4 Deferred initcall

## safe-to-call-sched-clock.patch

This patch was used by Tim for several kernel versions, to address problems with the printk-times feature on ARM platforms. It is very simple, and consists of just adding a flag to avoid calling sched_clock() too early.

This patch appears (as of kernel version 2.6.27) to be obsolete. The 2.6.27 kernel now calls cpu_clock() for printk_times. This uses a similar mechanism to flag when it is safe to call.

Here's the patch:

```
On most platforms, printk_clock() calls sched_clock(), which provides good
timestamp resolution.  However, most ARM boards use a timer source for
sched_clock() which must be initialized at boot.  If sched_clock() is called
too early, the machine hangs. This code utilizes the default jiffies-based
value for printk_clock, until told that sched_clock() is safe.  This is
almost always 0 before the clock is initialized, so this patch causes
no loss of timing data, or confusing time switchover mid-boot.

OMAP support is included.

To utilize this on other ARM platforms, just add "safe_to_call_sched_clock=1"
in the timer initialization code for your platform, when it is safe to call
sched_clock().

Signed-off-by: Tim Bird <tim.bird@am.sony.com>

ChangeLog:
    2008/02/05
    Location: alp@oak--linux-3/alp-linux--dev-3--3.1
    First changelog version.
---
 arch/arm/kernel/time.c      |    8     7 + 1 - 0 !
 arch/arm/mach-omap1/time.c  |    3     3 + 0 - 0 !
 include/asm-arm/mach/time.h |    2     2 + 0 - 0 !
 3 files changed, 12 insertions(+), 1 deletion(-)

Index: alp-linux/arch/arm/kernel/time.c
===================================================================
--- alp-linux.orig/arch/arm/kernel/time.c
+++ alp-linux/arch/arm/kernel/time.c
@@ -84,10 +84,16 @@ static unsigned long dummy_gettimeoffset
  * sched_clock().  This avoids non-bootable kernels when
  * printk_clock is enabled.
  */
+int safe_to_call_sched_clock = 0;
+
 unsigned long long printk_clock(void)
 {
-   return (unsigned long long)(jiffies - INITIAL_JIFFIES) *
+   if (likely(safe_to_call_sched_clock)) {
+       return sched_clock();
+   } else {
+       return (unsigned long long)(jiffies - INITIAL_JIFFIES) *
            (1000000000 / HZ);
+   }
 }

 static unsigned long next_rtc_update;
Index: alp-linux/arch/arm/mach-omap1/time.c
===================================================================
--- alp-linux.orig/arch/arm/mach-omap1/time.c
+++ alp-linux/arch/arm/mach-omap1/time.c
@@ -255,6 +255,9 @@ static void __init omap_init_clocksource
    setup_irq(INT_TIMER2, &omap_mpu_timer2_irq);
    omap_mpu_timer_start(1, ~0, 1);

+   /* allow calls to sched_clock now */
+   safe_to_call_sched_clock = 1;
+
    if (clocksource_register(&clocksource_mpu))
        printk(err, clocksource_mpu.name);
 }
Index: alp-linux/include/asm-arm/mach/time.h
===================================================================
--- alp-linux.orig/include/asm-arm/mach/time.h
+++ alp-linux/include/asm-arm/mach/time.h
@@ -76,4 +76,6 @@ extern int (*set_rtc)(void);
 extern void save_time_delta(struct timespec *delta, struct timespec *rtc);
 extern void restore_time_delta(struct timespec *delta, struct timespec *rtc);

+extern int safe_to_call_sched_clock;
+
 #endif 
```

## grabserial

"grabserial" is a simple program to grab and display data from a specified serial port. It can place a timestamp on each line received, which makes it useful for reporting timing of events seen on a booting system's serial console output.

See [Grabserial](http://eLinux.org/Grabserial "Grabserial") for detailed information, sample output and download instructions.

## Tim's quick and dirty process trace

Process trace is Tim's quick and dirty method of tracing early boot processes. As I write this (Oct, 2008), an boot tracer is being written and is available in the fastboot git tree on kernel.org. This will likely be mainlined, and should supersede this work. However, this tool has worked for me.

This is really quite simple. The "system" consists of a patch which adds printks to fork, exec and exit, and a script which parses those printks and prints information about the reported processes.

### Patch Download

Here is the patch: [Media: tims_process_trace.patch](http://eLinux.org/images/a/a2/Tims_process_trace.patch "Tims process trace.patch")

This patch was written against Linux kernel version 2.6.27.

### Usage

To use this patch, apply it to your kernel, with something like:

```
cd linux_src ; patch -p1 </path/to/patch/tims_process_trace.patch 
```

You should also increase the size of your kernel log buffer (this is the buffer where printk messages are stored in the kernel.) I recommend a value of 18, which is 256K. This is CONFIG_LOG_BUF_SHIFT, and is found in the "General Setup" menu of the kernel configuration system.

Compile, build and install your kernel. Boot the kernel.

After booting, use dmesg to collect the messages. Note that you need to specify the (increased) size of the message buffer with the '-s' option:

```
dmesg -s 256000 >/tmp/bootlog.txt 
```

Now, process the bootlog with the scripts/procgraph program.

```
linux_src/scripts/proc_graph /tmp/bootlog.txt 
```

This script is somewhat badly named. It does not generate a graph, but just allows you to sort the processes by various attributes (start time, duration, idle time, etc.) Actual graphing should be added "real soon now".

## Deferred initcall

Using a short patch (available for kernel version 2.6.27) it is possible to avoid running certain initcalls at bootup time. This can save time during the critical, early portion of bootup. Later, deferred initcalls can be run by triggering them from user space.

See Deferred Initcalls.

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Boot Time](http://eLinux.org/Category:Boot_Time "Category:Boot Time")
*   [Measuring](http://eLinux.org/Category:Measuring "Category:Measuring")

# Uncompressed kernel

> From: [eLinux.org](http://eLinux.org/Uncompressed_kernel "http://eLinux.org/Uncompressed_kernel")

# Uncompressed kernel

Booting from an uncompressed kernel might improve the boot time.

It will take longer to read an uncompressed kernel image from background storage, but there is time saved since no decompression is needed.

So whether or not an uncompressed kernel is a win with respect to boot time depends on the speed with which you can read from the background memory and the speed of your processor (as a faster CPU will require less time to decompress). So with a fast processor and slow background memory, compression might be a win, whereas with a slow processor and fast background memory, compression might be a lose.

Best strategy here is to empirically determine whether or not it is better for your system to have an uncompressed kernel or a compressed one.

Note: the ideal situation of course is if you can use DMA to load the compressed kernel in chunks and decompress the previous chunk while the next chunk is loaded.

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Kernel](http://eLinux.org/Category:Kernel "Category:Kernel")

# 网络

> 原文：[eLinux.org](http://eLinux.org/Networking "http://eLinux.org/Networking")
> 翻译：[@lzufalcon](https://github.com/lzufalcon)

# 网络

## 目录

*   1 简介
*   2 嵌入式 Linux 网络

## 简介

TODO

## 嵌入式 Linux 网络

这里描述通用网络，因为它也适用于嵌入式 Linux，[这里](http://eLinux.org/Category:Networking "Category:Networking")可以找到一份完整的网络相关文章清单。

[分类](http://eLinux.org/Special:Categories "Special:Categories"):

*   [网络](http://eLinux.org/Category:Networking "Category:Networking")

# 多媒体

> 原文：[eLinux.org](http://eLinux.org/Multimedia "http://eLinux.org/Multimedia")
> 翻译：[@lzufalcon](https://github.com/lzufalcon)

# 多媒体

## 目录

*   1 简介
*   2 CELF 2.0 AVG（Audio, Video, Graphic） 规范
*   3 音、视频工作组
*   4 DirectFB 研究
    *   4.1 什么是 DirectFB，DirectFB 如何工作
    *   4.2 嵌入式 Linux 平台上的 DirectFB 示例实现
    *   4.3 嵌入式 Linux 平台上的一些 DirectFB 基准测试结果
*   5 相关项目
    *   5.1 图形/视频输出
        *   5.1.1 Framebuffer
        *   5.1.2 DirectFB
        *   5.1.3 V4L2
        *   5.1.4 X11
        *   5.1.5 NanoX
        *   5.1.6 OpenGL (OpenML)
        *   5.1.7 SDL
        *   5.1.8 Cairo
        *   5.1.9 Clutter
        *   5.1.10 Enlightenment Foundation Libraries (EFL)
        *   5.1.11 Qt
        *   5.1.12 演示图板套件(演示图板设计师/引擎，来自 Crank Software)
        *   5.1.13 GStreamer
        *   5.1.14 Xine
        *   5.1.15 MPlayer
        *   5.1.16 文档
    *   5.2 视频输入
        *   [5.2.1 V4L[2]](#v4l-2)
        *   5.2.2 OpenML
        *   5.2.3 LinuxTV (DVB API)
    *   5.3 音频输入/输出
        *   5.3.1 OSS
        *   5.3.2 ALSA
        *   5.3.3 OpenAL
        *   5.3.4 PulseAudio
    *   5.4 AVG 标准的使用者
        *   5.4.1 Video Lan
        *   5.4.2 Freevo
        *   5.4.3 LinuxTV
        *   5.4.4 MythTV
        *   5.4.5 DVR
        *   5.4.6 OpenPVR
        *   5.4.7 Morphine.TV
    *   5.5 其他
        *   5.5.1 ARIB 架构
        *   5.5.2 启动动画
        *   5.5.3 数字家庭工作组
        *   5.5.4 Disko 框架
        *   5.5.5 Free Type
        *   5.5.6 UPnP
        *   5.5.7 TV Anytime
        *   5.5.8 TV Linux 联盟

## 简介

本文有 Linux 下的音频、视频、图形系统相关的各类资源。

关于图形系统部分，也可以通过阅读用户接口一节了解更多信息。

## CELF 2.0 AVG 规范

（更像是一套建议，而不是一个规范）

*   [AVG 规范 V2](http://eLinux.org/images/4/43/CelfAudioVideoGraphicsSpec2_accepted_20060606.pdf "CelfAudioVideoGraphicsSpec2 accepted 20060606.pdf")

## 音、视频工作组

请从 CELF 维基：[AVG 工作组](http://www.celinuxforum.org/CelfPubWiki/AudioVideoGraphicsWorkingGroup) 获取更多信息。

也有一些 AVWG 相关的但是过期了的文章。

## DirectFB 研究

### 什么是 DirectFB，DirectFB 如何工作

*   DirectFB

### 嵌入式 Linux 平台上 DirectFB 示例实现

*   移植 DirectFB

### 嵌入式 Linux 平台上一些 DirectFB 基准测试结果

*   DirectFB 基准测试

## 相关项目

### 图形/视频输出

#### Framebuffer/帧缓冲

*   [Documentation/fb](http://www.kernel.org/doc/Documentation/fb)
*   [`linuxconsole.sourceforge.net/fbdev/HOWTO/`](http://linuxconsole.sourceforge.net/fbdev/HOWTO/)
*   [`www.tldp.org/HOWTO/Framebuffer-HOWTO.html`](http://www.tldp.org/HOWTO/Framebuffer-HOWTO.html)

    帧缓冲用于把帧信息存到视频中……

#### DirectFB

*   [`www.directfb.org/`](http://www.directfb.org/)
*   [`www.directfb.org/documentation/DirectFB_overview_V0.2.pdf`](http://www.directfb.org/documentation/DirectFB_overview_V0.2.pdf)
*   DirectFB

#### V4L2

*   [`www.linuxtv.org/`](http://www.linuxtv.org/)
*   [`www.linuxtv.org/downloads/video4linux/API/V4L2_API/spec-single/v4l2.html`](http://www.linuxtv.org/downloads/video4linux/API/V4L2_API/spec-single/v4l2.html)

#### X11

*   [`www.x.org/`](http://www.x.org/)
*   X11

#### NanoX

*   [`www.microwindows.org/`](http://www.microwindows.org/)

#### OpenGL (OpenML)

*   [`www.opengl.org/`](http://www.opengl.org/)
*   [`www.khronos.org/opengles/`](http://www.khronos.org/opengles/)

#### SDL

*   [`www.libsdl.org/`](http://www.libsdl.org/) - 是一个即时图形渲染库，采用了诸如矩形填充和转换这样的非常精简的原语。因为它只暴露了帧缓冲区和少量原语，所以非常容易移植到其他平台，实际上，它产生之初，即是作为一种方式，用于移植 Windows 游戏到 Linux 平台。

#### Cairo

*   [`www.cairographics.org/`](http://www.cairographics.org/) 是另外一个即时图形渲染库，可用于处理复杂的向量图形，包括矩形转换。它运行于 DirectFB、X11、内存缓冲区以及其他设施之上。它是诸多 GTK 工具套件和 Firefox 这样的应用程序的基础。

#### Clutter

*   [`clutter-project.org/`](http://clutter-project.org/) 是构建在 OpenGL（或者 OpenGL-ES）与场景管理之上的一个面向对象的 3D 画板，它基于 GLib/GObject 并很好地匹配 GNOME 平台。很多强大的 Linux 手机在不久的将来，将转向采用基于 Clutter 的接口，像英特尔的 Moblin 平台，Ubuntu Touch 移动平台和 Maemo（译着注：实际上这三个平台两个已经死了，只有 Touch 半死不活，一个系统要真能在实际产品中占有一席之地，还真得是综合实力的考量！）。

#### Enlightenment Foundation Libraries (EFL)

[The Enlightenment Foundation Libraries](http://www.enlightenment.org/) 包含 Evas，一个构建在 OpenGL/X11, XRender/X11, X11, FB, DirectFB, DirectDraw 等之上的面向对象的 2D 画板。它包括场景管理并且集成了 Ecore，能很好地与 EFL 组件，比如 Edje 匹配。它已经被用于一些媒体中心和 OpenMoko 手机上。

可查看在 2008 年欧洲嵌入式 Linux 会议上的 Gustavo Barbieri 会议：

*   [演讲稿](http://tree.celinuxforum.org/CelfPubWiki/ELCEurope2008Presentations?action=AttachFile&do=get&target=Rich_GUI_without_pain.pdf)
*   [演讲视频](http://free-electrons.com/pub/video/2008/elce/elce2008-barbieri-rich-gui-without-pain.ogv)，Gustavo 的公司：[ProFUSION](http://profusion.mobi/)，提供围绕 EFL 的服务。

#### Qt

*   Qt 是一个跨平台的图形工具套件，支持帧缓冲和 X，拥有先进的动画功能，采用[图形视图](http://doc.trolltech.com/4.5/graphicsview.html)框架。

#### 演示图板套件 (演示图板设计师/引擎，来自 Crank Software)

*   [`www.cranksoftware.com/storyboard`](http://www.cranksoftware.com/storyboard)

    来自 Crank Software 的演示图板（Storyboard）套件，提供一套完整的环境，可用于设计、开发和部署嵌入式用户接口，支持多种渲染技术（DirectFB，FBDev，SDL，OpenGL，OpenVG，……），支持多种操作系统（Linux，QNX，VxWorks，WinCE/Win32……），跨越多种处理器架构（x86，ARM，PPC，SH……）。该演示图板方法非常独特，它开发时就考虑到如何从图形设计师那里直接加入内容并部署数据集，它也为各类 OS/CPU/渲染技术进行了专门的优化。

#### GStreamer

*   [`www.gstreamer.net/`](http://www.gstreamer.net/)

    是一个多媒体框架，允许通过在一个图形（管道）上汇编处理节点（元素）来创建多媒体应用，大量插件可用于轻松地创建播放应用、 录音机、 音频/视频编辑、 流媒体服务器、视讯会议系统。插件类型包括解码器、编码器、混音器、多路分配器、各种协议的网络资源、硬件加速功能 (解码、 显示、 捕获，...)、视频筛选器。底层的灵活性也带来了使用上的麻烦，但是在多种便利的插件（playbin, decodebin, camerabin）的帮助下，使得使用简单的使用案例很易用。它构建在 Glib/GObject 之上，因此很容易被移植到任意新平台上，得益于有很多可用的高质量并且支持多种格式的插件，不仅支持 lip-sync，支持网络流媒体，支持标准 Linux API 并且容易封装诸如 DSP 加速的编码器这样的硬件设备，所以，在嵌入式中，它可能会被广泛使用。

#### Xine

*   [`xinehq.de/`](http://xinehq.de/) 是一个媒体播放引擎，能够为我们处理大部分的复杂问题。它基于多线程，所以时钟和同步被自动处理，需要注意的是，该库采用 GPL 许可，所以你的应用程序必须兼容 GPL 才能使用它。

#### MPlayer

*   [`mplayerhq.hu/`](http://mplayerhq.hu/) - 它不是一个库而是一个应用程序，但是可以被其他应用程序控制并且在一些系统上当作媒体框架使用。同 Xine 一样，它采用 GPL 许可，但是因为可以从外部控制，所以我们的应用程序不采用 GPL 许可也可使用它。

#### 文档

*   [如何选择嵌入式图形库](http://tree.celinuxforum.org/CelfPubWiki/ELCEurope2008Presentations?action=AttachFile&do=get&target=choosing-embedded-graphical-libraries.pdf) - 由 Thomas Petazzoni 在 ELCE 2008 做的报告

### Video in

#### V4L[2]

*   [Documentation/video4linux](http://www.kernel.org/doc/Documentation/video4linux)
*   [`www.linuxtv.org`](http://www.linuxtv.org)
*   [`www.linuxtv.org/downloads/video4linux/API/V4L2_API/spec-single/v4l2.html`](http://www.linuxtv.org/downloads/video4linux/API/V4L2_API/spec-single/v4l2.html)

#### OpenML

*   [`www.khronos.org/openml/`](http://www.khronos.org/openml/)

#### LinuxTV (DVB API)

*   [`www.linuxtv.org`](http://www.linuxtv.org)

### 音频输入/输出

#### OSS

*   [Documentation/sound/oss](http://www.kernel.org/doc/Documentation/sound/oss)
*   [`www.4front-tech.com/oss.html`](http://www.4front-tech.com/oss.html)

#### ALSA

*   [Documentation/sound/alsa](http://www.kernel.org/doc/Documentation/sound/alsa)
*   [`www.alsa-project.org`](http://www.alsa-project.org)

#### OpenAL

*   [`www.openal.org/`](http://www.openal.org/)

#### PulseAudio

*   [`pulseaudio.org`](http://pulseaudio.org) PulseAudio 是一个跨平台的声音服务，为 Linux 声音子系统带来了很多很酷的特性。在嵌入式系统中使用它的理由描述在[这里](http://0pointer.de/blog/projects/pulse-glitch-free.html)。

### AVG 标准的使用者

#### Video Lan

*   [`www.videolan.org`](http://www.videolan.org)

#### Freevo

*   [`freevo.sourceforge.net`](http://freevo.sourceforge.net)

#### LinuxTV

*   [`www.linuxtv.org/`](http://www.linuxtv.org/)

#### MythTV

*   [`www.mythtv.org/`](http://www.mythtv.org/)

#### DVR

*   [`dvr.sourceforge.net/html/main.html`](http://dvr.sourceforge.net/html/main.html)

#### OpenPVR

*   [`www.funktronics.ca/openpvr/`](http://www.funktronics.ca/openpvr/)
*   [`sourceforge.net/projects/openpvr/`](http://sourceforge.net/projects/openpvr/)

#### Morphine.TV

*   [`wiki.morphine.tv`](http://wiki.morphine.tv)
*   [`sourceforge.net/projects/mms4l/`](http://sourceforge.net/projects/mms4l/)

### 其他

#### ARIB 架构（一个数字广播系统标准）

*   [`www.arib.or.jp/english/html/overview/ov/std_b24.html`](http://www.arib.or.jp/english/html/overview/ov/std_b24.html)

#### 启动画面

*   [www.bootsplash.org](http://www.BootSplash.org/)

#### 数字家庭工作组

*   [`www.dhwg.org/`](http://www.dhwg.org/)

#### Disko 框架

*   [`www.diskohq.org`](http://www.diskohq.org)
*   [`www.directfb.org`](http://www.directfb.org)

#### Free Type（软件字体引擎）

*   [`freetype.sourceforge.net/freetype2/`](http://freetype.sourceforge.net/freetype2/)

#### UPnP

*   UPnP

#### TV Anytime 论坛

*   [`www.tv-anytime.org/`](http://www.tv-anytime.org/)

#### TV Linux 联盟

*   [`www.tvlinuxalliance.com/`](http://www.tvlinuxalliance.com/)

[分类](http://eLinux.org/Special:Categories "Special:Categories"):

*   [多媒体](http://eLinux.org/Category:Multimedia "Category:Multimedia")
*   [CE Linux 工作组](http://eLinux.org/Category:CE_Linux_Working_Groups "Category:CE Linux Working Groups")

# Benchmark DirectFB

> From: [eLinux.org](http://eLinux.org/Benchmark_DirectFB "http://eLinux.org/Benchmark_DirectFB")

# Benchmark DirectFB

## Benchmarks

The DirectFB example suites include benchmark 'df_dok'. We have ran this benchmark on the following platform:

| **Platform** | **CPU** | **Clock** | **I/F** | **System RAM** | **Graphics Card** | **Kernel Version** |
| A | Renesas SH-4 | 240MHz | CPU | 64MB | SMI SM501 software drawing | 2.4.20 CELF |
| A* | SMI SM501 enable 2D acceleration | 2.4.20 CELF |
| B | Renesas SH-4 | 240MHz | PCI | 64MB | Matrox Millenium | 2.4.19 |
| C | Intel Celeron | 450MHz | PCI | 128MB | Matrox Mystique | 2.4.20 |
| D | Intel Celeron | 450MHz | PCI | 128MB | Matrox Millenium | 2.4.20 |
| F | Intel Celeron | 450MHz | AGP | 128MB | Matrox G450 | 2.4.20 |
| E | Intel Pentium4 | 2.4GHz | AGP | 1GB | Matrox G450 | 2.4.20 |
| G | Intel CE2110 | 1Ghz | CPU | 100Mb | software drawing | 2.6.16 |
| G* | Intel GDL accelerated | 2.6.16 |

| **Benchmarks** | **Platform** |
| **A** | **A*** | **B** | **C** | **D** | **E** | **F** | **G** | **G*** |
| Anti-aliased Text [KChars/sec] | 29.22 | 29.41 | 20.40 | 24.83 | 23.96 | 607.39 | 750.00 | 84 | 45 |
| Anti-aliased Text (blend) [KChars/sec] | 7.52 | 7.47 | 6.12 | 16.52 | 16.66 | 613.00 | 752.85 | 25 | 19 |
| Fill Rectangles [MPixel/sec] | 14.07 | 221.49 | 63.63 | 116.37 | 53.25 | 892.88 | 849.22 | 34 | 105 |
| Fill Rectangles (blend) [MPixel/sec] | 1.64 | 1.67 | 1.20 | 3.18 | 3.26 | 236.38 | 225.84 | 3 | 6 |
| Fill Triangles [MPixel/sec] | 12.25 | 93.87 | 93.87 | 108.79 | 50.51 | 748.55 | 730.24 | 32 | 1 |
| Fill Triangles (blend) [MPixel/sec] | 1.63 | 1.61 | 1.17 | 3.13 | 3.17 | 223.32 | 218.24 | 4 | 0.026 |
| Draw Rectangles [KRects/sec] | 1.81 | 16.01 | 10.67 | 12.95 | 8.57 | 59.53 | 36.27 | 11 | 3.6 |
| Draw Rectangles (blend) [KRects/sec] | 0.52 | 0.57 | 0.43 | 0.83 | 0.84 | 25.40 | 17.09 | 2.142 | 0.194 |
| Draw Lines [KLines/sec] | 7.10 | 66.98 | 61.33 | 62.60 | 48.84 | 281.86 | 162.40 | 41 | 16 |
| Draw Lines (blend) [KLines/sec] | 2.33 | 2.43 | 1.94 | 3.69 | 3.70 | 127.29 | 80.04 | 10 | 7 |
| Blit [MPixel/sec] | 8.12 | 100.49 | 38.68 | 53.75 | 32.56 | 435.02 | 398.84 | 25 | 64 |
| Blit colorkeyed [MPixel/sec] | 1.63 | 102.16 | 39.19 | 58.69 | 32.54 | 445.20 | 421.97 | 28 | 36 |
| Blit with format conversion [MPixel/sec] | 4.04 | 4.13 | 3.59 | 18.11 | 17.79 | 203.38 | 193.26 | 13 | 38 |
| Blit from 32bit (alphachannel blend) [MPixel/sec] | 1.05 | 1.05 | 0.82 | 2.71 | 2.71 | 171.32 | 158.10 | 3 | 36 |
| Blit from 8bit palette [MPixel/sec] | 3.54 | 2.35 | 3.20 | 17.40 | 17.38 | 17.28 | 95.17 | - | - |
| Blit from 8bit palette (alphachannel blend) [MPixel/sec] | 1.02 | 0.90 | 0.81 | 2.67 | 2.71 | 3.55 | 5.53 | - | - |
| Stretch Blit [MPixel/sec] | 12.17 | 83.50 | 7.06 | 83.50 | 47.61 | 210.32 | 220.77 | 25 | 21 |
| Stretch Blit colorkeyed [MPixel/sec] | 7.46 | 7.43 | 4.20 | 46.17 | 46.30 | 211.97 | 221.64 | 26 | 20 |

After enabling 2D acceleration in A* environment, the graphics benchmark score improves. It looks like even embedded processor like SH-4 can be used when DirectFB can use hardware acceleration. So a graphics library would be essential in a graphical system.

For G* (Intel CE2110) environment, just basic operations like opaque rectangle and blits are really optimized, some operations are much slower and we can notice rendering artifacts/bugs. So take care, possible you'll have to fallback to software rendering on such platform. Cyan-colored cells are supposed to be accelerated.

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [DirectFB](http://eLinux.org/Category:DirectFB "Category:DirectFB")
*   [Multimedia](http://eLinux.org/Category:Multimedia "Category:Multimedia")
*   [SuperH](http://eLinux.org/Category:SuperH "Category:SuperH")

# DirectFB

> From: [eLinux.org](http://eLinux.org/DirectFB "http://eLinux.org/DirectFB")

# DirectFB

This page was obtained from *DirectFB Analysis by IGEL Co.,Ltd.*

## Contents

*   1 What is DirectFB?
*   2 Goals of DirectFB
*   3 Features of DirectFB
*   4 Devices supported by DirectFB
*   5 Supported Media Format
*   6 DirectFB Architecture
*   7 DirectFB API
*   8 Upper Layer APIs supporting DirectFB
*   9 Fusion Sound
*   10 Consideration
*   11 Development Resources
    *   11.1 Porting Guides
    *   11.2 Performance benchmarking
*   12 Proposed System Architecture for AVWG Platform

## What is DirectFB?

DirectFB (Direct Frame Buffer) is a set of graphics APIs implemented on top of the Linux Frame Buffer (fbdev) abstraction layer.

*   Input Device and Window System are also available
*   Linux version of `DirectDraw`, in a manner of speaking
*   [www.directfb.org](http://www.directfb.org/)
*   [DirectFB wikipedia entry](http://en.wikipedia.org/wiki/DirectFB)

DirectFB is primarily developed by the German Company, Convergence GmbH

*   Specialty in Linux based DTV benchmark and middleware development Hosts LinuxTV, `FusionSound` and DirectFB projects
*   Member of Multimedia Home Platform ([`www.mhp.org/`](http://www.mhp.org/))
*   [www.convergence.de](http://www.convergence.de/)

## Goals of DirectFB

*   Small memory Footprint
*   Maximize utilities of hardware acceleration
*   Support of advanced graphics operations such as multiple alpha blending modes
*   No kernel modifications
*   No library dependencies, except for libc
*   Meet the requirements of [MHP](http://www.mhp.org) specifications

## Features of DirectFB

Graphics

*   Rectangle Filling/Drawing
*   Triangle Filling/Drawing
*   Line Drawing
*   Blit
*   Alpha Blending (texture alpha, alpha modulation)
*   Porter/Duff
*   Colorizing
*   Source Color Keying
*   Destination Color Keying
*   Integrated Window System
*   A subset of OpenGL API (Mesa)

## Devices supported by DirectFB

As of DirectFB 0.9.21

Graphics Drivers

*   Matrox Mystique/Millennium, G100, G200, G400/450, G550
*   Via CLE266
*   ATI Mach64/Rage Pro series
*   ATI Rage 128
*   ATI Radeon
*   3dfx Voodoo3/4/5/Banshee
*   igs `CyberPro` 5xxx
*   S3 Savage 3/4 series
*   `NeoMagic` 220/2230/2360/2380
*   nVidia `TNT/GeForce` seiries
*   SiS 315
*   Intel i810
*   NSC Geode

Input Drivers

*   Standard Keyboards
*   Serial and PS/2 mice
*   joysticks
*   Linux Input Layer Devices
*   Infrared Remote Controller (lirc)
*   iPAQ Touch Screen
*   ucb 1x00 Touch Screen
*   Microtech Touch Screen
*   Sony PI Jogdial

## Supported Media Format

Still Images

*   JPEG (libjpeg)
*   PNG (libpng2)
*   GIF
*   Image format supported by Imlib2

Motion Picture

*   mpeg1/2 (libmpeg3)
*   AVI (avifile)
*   MOV (`OpenQuicktime`)
*   Macromedia Flash (libflash)
*   video4linux

Fonts

*   DirectFB bitmap font
*   `TrueType` (`FreeType2`)

## DirectFB Architecture

![Slide0003
image021.gif](http://eLinux.org/File:Slide0003_image021.gif)

DirectFB runs on top of the Frame Buffer Device ([`eLinux.org/dev/fb`](http://eLinux.org/dev/fb)), and utilize hardware acceleration with their chipset drivers

*   Also runs on VESA frame buffer

DirectFB performs only the following tasks thru /dev/fb?

*   Setting up the video mode (resolution, color depth and timings)
*   Memory mapping of the frame buffer and I/O ports
*   Changing the viewport (e.g. for double-buffer)

DirectFB uses their own chipset driver to utilize hardware acceleration through the memory mapped I/O ports

*   Turns off the frame buffer drivers acceleration features

## DirectFB API

DirectFB APIs are simple APIs whose design concept seems to be referring the DirectX APIs Might be enough for STB, but further analysis is required

*   Does it covers enough features?
*   Performance and quality, such as flickers, when used in conjunction with `Video4Linux`
    *   Based on their presentation at FOSDEM, the DirectFB has capability to synchronously overlay MPEG-2 video on DirectFB window, i.e. no flickers

## Upper Layer APIs supporting DirectFB

*   XDirectFB
    *   X Server for DirectFB
*   DirectFBGL
    *   OpenGL extension for DirectFB
    *   Uses Mesa/DRI
*   GTK+
    *   GTK+ for DirectFB
*   DFB++
    *   C++ Interface for DirectFB
*   DFBTerm
    *   Terminal runs on DirectFB
*   DFBSee
    *   Movie player runs on DirectFB
*   DFBPoint
    *   Presentation application runs on DirectFB
*   MythTV
    *   PVR runs on DirectFB
*   Qt on DirectFB
    *   Qt for DirectFB
*   SDL (Simple Directmedia Layer)
    *   Game Development API that also supports DirectFB
*   Enlightenment Foundation Libraries (Evas and Ecore)
    *   Object-oriented and stateful canvas (Evas) and main loop integration (Ecore) that have DirectFB engines/backends.
*   Crank Storyboard on DirectFB
    *   [`www.cranksoftware.com/products/crank_storyboard_suite.php`](http://www.cranksoftware.com/products/crank_storyboard_suite.php)

## Fusion Sound

Audio subsystem that runs in conjunction with DirectFB Uses Fusion IPC, kernel function for synchronization, to synchronize with DirectFB

*   By using Fusion IPC, DirectFB and Fusion Sound can achieve fine granularity synchronization
*   Not enough documentation is available for Fusion IPC, requires source code level analysis

## Consideration

Need further investigation and tests on the following points:

*   How well and smoothly works with video4linux
*   Internal architecture of Fusion Sound and Fusion IPC
*   Coverage of features

Architecture, at a glance, seems to be well designed, however, to increase supportability of new video and audio devices, we may need to re-design the architectures, e.g. both DirectFB layer and the Linux Frame Buffer Device To accomplish inter-media synchronization, i.e. synchronization of device access and temporal synchronization, concrete synchronization subsystem needs to be designed Based on the synchronization subsystem, API similar to `DirectDraw`, `DirectSound` and `DirectShow` has to be designed (See next slide)

## Development Resources

### Porting Guides

See [Porting DirectFB](http://eLinux.org/Porting_DirectFB "Porting DirectFB") - which describes the process of porting DirectFB to an SH platform.

### Performance benchmarking

See [Benchmark DirectFB](http://eLinux.org/Benchmark_DirectFB "Benchmark DirectFB")

## Proposed System Architecture for AVWG Platform

![Slide0012
image040.gif](http://eLinux.org/File:Slide0012_image040.gif)

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [DirectFB](http://eLinux.org/Category:DirectFB "Category:DirectFB")
*   [Multimedia](http://eLinux.org/Category:Multimedia "Category:Multimedia")

# EFL

> From: [eLinux.org](http://eLinux.org/EFL "http://eLinux.org/EFL")

# EFL

Enlightenment Foundation Libraries, or EFL, are the set of libraries used to create the Enlightenment Window Manager DR17 (E17). This set of libraries is not restricted to X11 as Enlightenment WM itself.

*   [`www.enlightenment.org/`](http://www.enlightenment.org/)
*   [`wiki.enlightenment.org/`](http://wiki.enlightenment.org/)
*   [`trac.enlightenment.org/e`](http://trac.enlightenment.org/e)
*   `svn co http://svn.enlightenment.org/svn/e/trunk/$PROJECT e`

![E17-Illume
The-gang-03.jpg](http://eLinux.org/File:E17-Illume_The-gang-03.jpg)

## Contents

*   1 Libraries
*   2 Old Style Toolkits
*   3 New Style Toolkits
*   4 Demos and Videos

### Libraries

Most used libraries follows, you can see them all at [SVN](http://svn.enlightenment.org/svn/e/trunk/):

*   [Evas](http://eLinux.org/Evas "Evas") object-oriented and stateful 2D canvas, uses retained render mode and is very optimized, both with hardware acceleration with OpenGL and XRender and software. Ships with 32bpp and 16bpp native engines, but can downscale from 32bpp down to 1bpp with dithering on render time.
*   [Ecore](http://eLinux.org/Ecore "Ecore") set of libraries that covers main loop with events, including UNIX signals, timers, file descriptors, animators, pollers (shared timers). It also contains integration code with X11, DirectFB, Win32/DirectDraw, MacOS/Quartz. Extra functionality are simple IPC and HTTP communication.
*   [Edje](http://eLinux.org/Edje "Edje") is a super-theme engine, it builds on top of Evas, Ecore, Embryo, EET and others to provide powerful themes. With it your application themes are not restricted to just replace some images or changing some colors, you can radically change the look and feel. It can be thought as a mix of HTML, CSS and JavaScript. It's based on object states and transition between theirs states, so animations can be easily specified. State descriptions can use relative and absolute positioning, so your interfaces can be scalable yet pixel perfect.
*   Emotion is a media playback system integrated with Ecore and Evas. It ships with Xine, GStreamer and VLC engines.
*   Epsilon is an image and video thumbnailer, builds on top of Evas, Ecore and Emotion.
*   Eina basic data types, very optimized. Includes stringshare, lists, hashes and red-black trees.
*   EET data storage library and command line tool, provides ar/zip-similar storage and is optimized for reading. It can handle entry compression, signing and crypto. It bundles an easy to use C-struct serialization, so one can loads complex data from files directly to dynamically allocated C structs or persist them into files. Ideal to save user preferences in an optimized way, but still editable with regular tools/editors if you use `eet -e` and `eet -e`. It's used [Edje](http://eLinux.org/Edje "Edje") to store theme resources, as fonts, images, descriptions and even embryo scripts.
*   Embryo is a tiny, simple and fast virtual machine that runs a C subset, derived from [PAWN/SMALL](http://www.compuphase.com/pawn/pawn.htm).

### Old Style Toolkits

Some more traditional toolkits were build on top of EFL but don't expose underneath technologies like Evas or Edje. They're targeted at form-like applications, just like GTK and Qt.

*   ETK, similar to GTK in API. *not being actively developed anymore*
*   EWL, more Model-View-Controller approach.

### New Style Toolkits

Some new toolkits were born recently and makes more use of EFL concepts, not just exposing components like Evas and Edje, but truly mixing with them. So far we have two alternatives, but they will merge soon. See [Rich GUI without pain ELC-E 2008 talk](http://palestras.gustavobarbieri.com.br/efl/elce2008/Rich_GUI_without_pain.pdf).

*   Elementary, targeted at phones, pdas and other touch screen devices. It was originally born as a port of E17 widgets.
*   [Guarana](http://profusion.mobi/node/10), targeted at digital tv, media centers and other set-top boxes. Guarana is more than just widgets, it also covers module loader, MVC framework and more.

### Demos and Videos

*   [E17/Illume running on Palm Treo 650](http://www.rasterman.com/files/illume-treo-650.avi)
*   [E17/Illume running on Freescale iMX31](http://www.youtube.com/watch?v=HZ8TDywzL34)
*   [Guarana demo: Enjoy Media Player](http://www.youtube.com/watch?v=Xtf1nvNcNf8)
*   [Video](http://free-electrons.com/pub/video/2008/elce/elce2008-barbieri-rich-gui-without-pain.ogv) of Gustavo Barbieri talk on EFL at Embedded Linux Conference Europe 2008. [Slides](http://tree.celinuxforum.org/CelfPubWiki/ELCEurope2008Presentations?action=AttachFile&do=get&target=Rich_GUI_without_pain.pdf) are also available.

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Libraries](http://eLinux.org/Category:Libraries "Category:Libraries")

# Outdated pages

> From: [eLinux.org](http://eLinux.org/Outdated_pages "http://eLinux.org/Outdated_pages")

# Outdated AVWG pages

(Redirected from [Outdated pages](http://eLinux.org/index.php?title=Outdated_pages&redirect=no "Outdated pages"))

[Audio_Video_Graphics_Spec_5fR2](http://eLinux.org/Audio_Video_Graphics_Spec_5fR2 "Audio Video Graphics Spec 5fR2")

[Audio_Video_Graphics_Task_Forces](http://eLinux.org/Audio_Video_Graphics_Task_Forces "Audio Video Graphics Task Forces")

# Porting DirectFB

> From: [eLinux.org](http://eLinux.org/Porting_DirectFB "http://eLinux.org/Porting_DirectFB")

# Porting DirectFB

## Contents

*   1 DirectFB porting to RTS7751R2D (SH-4/SM501) platform
    *   1.1 Development Environment
        *   1.1.1 SH-4 target platform environment
    *   1.2 x86 host machine environment
*   2 Install DirectFB
    *   2.1 Prepare libraries used in DirectFB
    *   2.2 Prepare Demo software
    *   2.3 Install Demo program
    *   2.4 Benchmark program
    *   2.5 Cross compiling
*   3 Writing DirectFB driver
    *   3.1 Graphics driver detection procedure
    *   3.2 Enabling hardware graphics acceleration capability
*   4 SM501 driver development
    *   4.1 reference driver
    *   4.2 Drawing API prepared for SM501
*   5 DirectFB porting notes
    *   5.1 Reference
*   6 Resources
    *   6.1 logs
    *   6.2 source archives
    *   6.3 patches
    *   6.4 kernel, root-fs

## DirectFB porting to RTS7751R2D (SH-4/SM501) platform

### Development Environment

#### SH-4 target platform environment

| **Item** | **Element** | **Resources** |
| Hardware | Renesas `RTS7751R2D` (Renesas SH-4 processor board) | [RTS7751R2D Handling Manual](http://eLinux.org/RTS7751R2D_Handling_Manual "RTS7751R2D Handling Manual") |
| Silicon Motion Inc SM501 (Renesas platform on board graphics) |
| Software | kernel = CE-LINUX-2.4.20 | [Tool Chains](http://eLinux.org/Tool_Chain "Tool Chain") |
| loader = SH-LILO |
| DirectFB = DirectFB-0.9.20 | [`www.directfb.org/download/DirectFB/DirectFB-0.9.20.tar.gz`](http://www.directfb.org/download/DirectFB/DirectFB-0.9.20.tar.gz) |
| freetype = freetype-2.1.3 | [`heanet.dl.sourceforge.net/sourceforge/freetype/freetype-2.1.3.tar.gz`](http://heanet.dl.sourceforge.net/sourceforge/freetype/freetype-2.1.3.tar.gz) |
| libjpeg = jpeg-6b | ftp://ftp.uu.net/graphics/jpeg/jpegsrc.v6b.tar.gz |
| libpng = png-1.2.2 | [`keihanna.dl.sourceforge.net/sourceforge/libpng/libpng-1.2.2.tar.gz`](http://keihanna.dl.sourceforge.net/sourceforge/libpng/libpng-1.2.2.tar.gz) |
| zlib = zlib-1.1.4 | [`www.zlib.net/zlib-1.1.4.tar.gz`](http://www.zlib.net/zlib-1.1.4.tar.gz) |

### x86 host machine environment

| **Item** | **Element** | **Resources** |
| OS | Linux ( Redhat 7.3 ) | [[1]](http://ftp.redhat.com/pub/redhat/linux/7.3/) |
| host compiler | gcc 2.9.6 | [[2]](http://www.gnu.org/software/gcc/) |
| cross compiler | gcc 3.2.3 ( CELF sh-4 compiler posted by Lineo Solutions ) | [Tool Chains](http://eLinux.org/Tool_Chain "Tool Chain") |

## Install DirectFB

### Prepare libraries used in DirectFB

*   Extract each source code
*   Set environment variables for cross compile

```
CC  = /usr/local/bin/sh4-linux-gcc
CPP = /usr/local/bin/sh4-linux-cpp
CXX = /usr/local/bin/sh4-linux-g++ 
```

*   create libjpeg

```
modify configure file for cross compile
line 548 : change "gcc" to "sh4-linux-gcc"

# ./configure --enable-shared
# make
# cp .libs/libjpeg.so* /usr/local/sh4-linux/lib 
```

*   create zlib

```
# ./configure --shared
modify Makefile for cross compile
line 24 : LDSHARED=/usr/local/bin/sh4-linux-gcc -shared -Wl,-soname,libz.so.1
line 28 : LIBS=libz.so.1.1.4
# make
# cp libz* /usr/local/sh4-linux/lib 
```

*   create libpng

```
# cp scripts/makefile.linux Makefile
modify Makefile for cross compile
line 11 : change "gcc" to "sh4-linux-gcc"
# make
# cp libpng12.so* /usr/local/sh4-linux/lib 
```

*   create freetype

```
# ./configure --host=sh4-linux
# make
# cp objs/.libs/libfreetype.so* /usr/local/sh4-linux/lib
# cp -r include/* /usr/local/sh4-linux/include 
```

*   Cross Compile DirectFB for SH-4

```
adopt patch upon DirectFb source directory
# gzip -d -c DirectFB-0.9.20-ftpath.patch.gz | patch -p0
# ./configure --host=sh4-linux \
#             --disable-sdl \
#             --with-ftpath=/usr/local/sh4-linux
#         --with-gfxdrivers=sm501
# make

If error occurs modify interfaces/IDirectFBFont/Makefile
line 86 : remove "-lfreetype" 
```

*   We use CELF SH-4 root_fs image posted by Lineo Solutions.
*   We expect this root_fs is already bootable.
*   We expect root_fs is mounted on /mnt.
*   We add /usr/local/lib?/usr/lib to /etc/ld.so.conf
*   Prepare directory for DirectFB installation

```
# mkdir /usr/lib
# mkdir /usr/local/share
# mkdir /usr/local/share/directfb-examples
# mkdir /usr/local/lib/
# mkdir /usr/local/lib/directfb-0.9.20
# mkdir /usr/local/lib/directfb-0.9.20/gfxdrivers
# mkdir /usr/local/lib/directfb-0.9.20/inputdrivers
# mkdir /usr/local/lib/directfb-0.9.20/interfaces
# mkdir /usr/local/lib/directfb-0.9.20/interfaces/IDirectFBFont
# mkdir /usr/local/lib/directfb-0.9.20/interfaces/IDirectFBImageProvider
# mkdir /usr/local/lib/directfb-0.9.20/interfaces/IDirectFBVideoProvider
# mkdir /usr/local/lib/directfb-0.9.20/systems 
```

*   copy libjpeg

```
move to libjpeg's directory
# cp .libs/libjpeg.so* /mnt/usr/lib 
```

*   copy zlib

```
move to zlib's directory
# cp libz.so* /mnt/usr/lib 
```

*   copy libpng

```
move to libpng's directory
# cp libpng12.so /mnt/usr/lib/libpng.so
# cp libpng12.so.0 /mnt/usr/lib/libpng.so.0
# cp libpng12.so.0.1.2.2 /mnt/usr/lib/libpng.so.0.1.2.2 
```

*   copy freetype

```
move to freetype's directory
# cp objs/.libs/libfreetype.so* /mnt/usr/lib 
```

*   copy DirectFB

```
move to DirectFB's directory
# cp src/.libs/libdirectfb.so /mnt/usr/lib
# cp src/.libs/libdirectfb-0.9.so* /mnt/usr/lib
# cp gfxdrivers/sm501/.libs/libdirectfb_sm501.so /mnt/usr/local/lib/directfb-0.9.20/gfxdrivers
# cp inputdrivers/joystick/.libs/libdirectfb_joystick.so /mnt/usr/local/lib/directfb-0.9.20/inputdrivers
# cp inputdrivers/keyboard/.libs/libdirectfb_keyboard.so /mnt/usr/local/lib/directfb-0.9.20/inputdrivers
# cp inputdrivers/ps2mouse/.libs/libdirectfb_ps2mouse.so /mnt/usr/local/lib/directfb-0.9.20/inputdrivers
# cp inputdrivers/serialmouse/.libs/libdirectfb_serialmouse.so /mnt/usr/local/lib/directfb-0.9.20/inputdrivers
# cp inputdrivers/sonypi/.libs/libdirectfb_sonypi.so /mnt/usr/local/lib/directfb-0.9.20/inputdrivers
# cp interfaces/IDirectFBFont/.libs/libidirectfbfont_*.so /mnt/usr/local/lib/directfb-0.9.20/interfaces/IDirectFBFont
# cp interfaces/IDirectFBImageProvider/.libs/libidirectfbimageprovider_*.so /mnt/usr/local/lib/directfb-0.9.20/interfaces/IDirectFBImageProvider
# cp interfaces/IDirectFBVideoProvider/.libs/libidirectfbvideoprovider_*.so /mnt/usr/local/lib/directfb-0.9.20/interfaces/IDirectFBVideoProvider 
```

### Prepare Demo software

Through previous steps, you have installed DirectFB to SH-4 Linux environment. To confirm everything created and installed properly use DirectFB demo program. You can download these demo program from DirectFB project website, that name is "DirectFB-examples". We used version 0.9.18\. You can download from following Web site.

[DirectFB-examples](http://www.directfb.org/downloads/Old/DirectFB-examples-0.9.18.tar.gz) used in this tutorial.

As we faced some problem compiling these demo program for SH-4 Linux, we installed to x86 Linux first, then retarget to SH-4 Linux using following step.

```
Modify Makefile in src directry as
    "CC = gcc" to "CC = sh4-linux-gcc"
    "LIBADDS = -L/usr/local/lib -ldirectfb -lpthread -ldl" to
    "LIBADDS = -L/usr/local/sh4-linux/lib -ldirectfb -lpthread -ldl"
Adopt same modification to each Makefile in src/df_knuckles?src/df_neo?src/spacedream 
```

Do make in src directory ( If you do make at the upper directory, it seems not works correctly )

### Install Demo program

Now demo program binary images was generated in src directory, you can copy manually these binary to target root_fs's your preferred location. Then copy all data file located under data directory to /usr/local/share/directfb-examples It seems you do not maintain/modift these file (just copy) except Makefile.

### Benchmark program

Demo program named df_dok is DirectFB benchmark. If you run this without any options, it automatically runs set of benchmark program using graphics acceleration capability, and display result as graph. We use this benchmark score to tune DirectFB library for SM501.

### Cross compiling

Like other Linux application program, DirectFB is designed to compile only on x86 Linux. We struggled this time to compile DirectFB for SH-4 Linux and finally we success this cross porting. However we think this is a kind of handwork way. When you try to run demo program on non-x86 Linux, x86 reference looks mandatory. I suggest you start DirectFB implementation from x86 Linux.

## Writing DirectFB driver

### Graphics driver detection procedure

Graphics chip drivers are located under /usr/local/lib/directfb-0.9.20/gfxdrivers There is no special installation procedure to add your own driver. DirectFB checks all drivers in driver_probe routine. When DirectFB detect correct driver in this process, DirectFB enables this driver. If driver does not works then move to next driver check, if all drivers does not much, DirectFB runs software mode without dedicated graphics driver. We have tentatively modified this process force to use SM501 driver.

### Enabling hardware graphics acceleration capability

Drawing routine set command parameters to use 2D acceleration capability. Graphic driver returns TRUE or FALSE as return-value. If FALSE returned, DirectFB thinks hardware acceleration does not built-in, and use whole software drawing. Not all drawing routine has this acceleration detection mechanism, it is sure to define in `CheckState` routine. You can write your own driver as you like except command parameters and return value.

## SM501 driver development

### reference driver

We use i810 graphics driver as a reference, because it is small and looks easy to implement. Finally we need to refer other drivers because i810 has limited numbers of draw routine. If you want to support full drawing capabilities, Matrox driver may be better reference.

### Drawing API prepared for SM501

| **API** | **Operations** |
| --- | --- |
| `sm501_set_src` | Set source address for BLIT operation. You need to assign VRAM physical address to source address. |
| `sm501_set_dest` | Set destination physical address and color depth for BLIT and drawing operation. |
| `sm501_set_colorkey` | colorkey setting, it defines transparent color for colorkeyed BLIT operation. Color compare regiser is used in SM501 to enable this operation. You can define transparent color to the SM501 color compare register, then SM501 does not transfer this color when doing BLIT operation. So it looks transparent. |
| `sm501_set_color` | Define drawing color setting |
| `sm501_set_clip` | Save clipping coordinates value to the structure, and set SM501 clipping register as well |
| `sm501CheckState` | This bit returns hardware acceleration capability. You need to refer each graphics spec, and you also care for color format that graphics supports |
| `sm501SetState` | Do pre-process for acceleration |
| `sm501FillRectangle` | Do fill rectangle, using SM501 2D drawing engine |
| `sm501DrawRectangle` | Draw rectangles. SM501 does not have rectangle drawing capability, so draw four lines to draw rectangle in this driver |
| `sm501Blit` | Do BLIT operation, using SM501 2D drawing engine |
| `sm501StretchBlit` | Do Stretch BLIT To avoid SM501 2D engine stretch function limitation, we use CSC (color space conversion) function instead. Colorkeyed stretch BLIT can not be support in this driver. |
| `sm501DrawLine` | Draw line, using SM501 2D drawing engine. Use shortstroke command for simple vertical / holizontal line,and use line command for other kind of line. |
| `sm501fill_tri` | Draw triangle with filling inside. As SM501 does not have hardware triangle drawing capability,we draw triangle by software. However we can use horizontal line draw capability in SM501, so seems to achieved a little better performance than all software drawing. |
| `sm501FillTriangle` | Fill triangle, actual operation execute in subroutine sm501fill_tri |
| `driver_get_abi_version` | Returns version information |
| `driver_probe` | This should return check result of expected graphics chip is exist or not. At this moment, this driver retunes always TRUE (=SM501 exist) |
| `driver_get_info` | Returns driver's information |
| `sm501_release_resource` | Do close operation |
| `driver_init_driver` | Initialize SM501 2D engine and create function table |
| `driver_init_device` | Initialize device structure |
| `driver_close_device` | Do nothing at this moment |
| `driver_close_driver` | Do nothing at this moment |

## DirectFB porting notes

DirectFB requires display resolution capability built in frame buffer driver. So initially we modify SM501 generic frame buffer driver to support resolution and color depth setting. We did not care for pixel_clock, left/right margin and vertical/horizontal sync, because DirectFB does not works when frame buffer drivers return FALSE to these parameter. It looks no problem using without these parameters.

Initially we modify reference gfxdriver (=i810) source code so that SH-4 gcc compiler can compile properly. Actually we maintain filename, display character and source code comment to fit SM501\. And commented out driver code that operate 2D graphics engine. After you compile SM501 driver, copy it to the proper location so that DirectFB can load this new driver. If DirectFB boot message does not comes driver location missing nor driver_probe process returns error.

Then merge 2D engine sample program that works. In SM501 initialization call 2D engine initialization and modify simple graphics API like line. You need to activate bit in `CheckState`, that has hardware acceleration in SM501\. Remove unused program in driver_init_driver, to eliminate unexpected initialization.

Once SM501 hardware acceleration works, replace other drawing API. If SM501 command support DirectFB drawing API, just use SM501 command. If SM501 does not support it, you need to find out alternative way to implement this API. If your reference driver does not support required API, you need to refer other graphics driver and you need to add this function by yourself.

If you added new hardware drawing API, you need to enable bit in `CheckState` and need to maintain function table list. Due to the limitations of graphics controller if some hardware acceleration can not be used, you need to disable corresponded bit in `CheckState`. For example SM501 can not handle ARGB format. If BLIT source format does not much target format, SM501 can not use hardware BLIT capability. In such case you need to disable bit in `CheckState`.

To achieve better performance, we modify to use /dev/mem access instead of usual ioctl call, that was originally used in reference driver. After we maintained to read/write 2D engine register directly use /dev/mem, drawing performance increased dramatically especially `FillRect` type simple parameter command.

Finally we removed un-used function built in reference driver. For example i810 driver include UMA setting. PCI initialization does not need when SM501 connect to SH-4 using SH-BUS. So we remove these portion.

### Reference

Unfortunately we can not find any useful information to DirectFB port to SH-4 Linux. So we do it using step-by-step way using printk(). For 2D acceleration portion, sample program and device document were helpful. But sometime it is difficult to understand actual drawing limitations. So x86 DirectFB is mandatory as a reference when you port DirectFB to the Linux runs on embedded CPU like SH-4.

## Resources

You can download original source, patches and pre-compiled DirectFB program for `RTS7751R2D` platform

### logs

*   DirectFB configure logs [conf_log](http://eLinux.org/images/7/75/Conf_log.txt "Conf log.txt")
*   DirectFB make logs [make_log](http://eLinux.org/images/2/26/Make_log.txt "Make log.txt")

### source archives

NOTE: The versions listed below are very old. Newer versions are recommended.

*   DirectFB [DirectFB-0.9.20.tar.gz](http://eLinux.org/images/5/52/DirectFB-0.9.20.tar.gz "DirectFB-0.9.20.tar.gz") (1277kB)
*   Freetype [freetype-2.1.3.tar.gz](http://eLinux.org/images/7/72/Freetype-2.1.3.tar.gz "Freetype-2.1.3.tar.gz") (1021kB)
*   libjpeg [jpegsrc.v6b.tar.gz](http://eLinux.org/images/f/f6/Jpegsrc.v6b.tar.gz "Jpegsrc.v6b.tar.gz") (599kB)
*   libpng [libpng-1.2.2.tar.gz](http://eLinux.org/images/4/43/Libpng-1.2.2.tar.gz "Libpng-1.2.2.tar.gz") (488kB)
*   zlib [zlib-1.1.4.tar.gz](http://eLinux.org/images/b/ba/Zlib-1.1.4.tar.gz "Zlib-1.1.4.tar.gz") (177kB)

### patches

*   DirectFB SM501 patches [DirectFB-0.9.20-sh4-sm501.patch.tar.gz](http://eLinux.org/images/b/bb/DirectFB-0.9.20-sh4-sm501.patch.tar.gz "DirectFB-0.9.20-sh4-sm501.patch.tar.gz") (21kB)

### kernel, root_fs

*   CELF kernel Media:celinux.tgz | celinux.tgz (42MB) - NOTE that this file is too large to upload. See the old [CELF Wiki](http://tree.celinuxforum.org/CelfPubWiki/FrontPage) and search for celinux.tgz or email the admin.
*   root_fs for `RTS7751R2D` platform Media:rootfs.tgz | rootfs.tgz (36MB) NOTE that this file is too large to upload. See the old [CELF Wiki](http://tree.celinuxforum.org/CelfPubWiki/FrontPage) and search for rootfs.tgz

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [DirectFB](http://eLinux.org/Category:DirectFB "Category:DirectFB")
*   [Multimedia](http://eLinux.org/Category:Multimedia "Category:Multimedia")
*   [SuperH](http://eLinux.org/Category:SuperH "Category:SuperH")

# UPnP

> From: [eLinux.org](http://eLinux.org/UPnP "http://eLinux.org/UPnP")

# UPnP

**Universal Plug and Play** (**UPnP**) is a set of computer network Protocol (computing)|protocols promulgated by the UPnP Forum. The goals of UPnP are to allow Peripheral device|devices to connect seamlessly and to simplify the implementation of computer network|networks in the home (data sharing, communications, and entertainment) and corporate environments. UPnP achieves this by defining and publishing UPnP device control protocols built upon open, Internet-based communication standardization|standards.

The term UPnP is derived from plug-and-play, a technology for dynamically attaching devices directly to a computer.

## Contents

*   1 Overview
*   2 Protocol
    *   2.1 Addressing
    *   2.2 Discovery
    *   2.3 Description
    *   2.4 Control
    *   2.5 Event notification
    *   2.6 Presentation
    *   2.7 UPnP AV (Audio and Video) standards
        *   2.7.1 UPnP AV components
    *   2.8 NAT traversal
*   3 Problems with UPnP
    *   3.1 Lack of Authentication
    *   3.2 Other Issues
*   4 Future developments
*   5 Books
*   6 External links
    *   6.1 Documentation
    *   6.2 News
    *   6.3 Software

## Overview

The [UPnP architecture](http://www.upnp.org/resources/upnpresources.zip) allows peer-to-peer networking of Personal Computer|PCs, networked appliances, and wireless devices. It is a distributed, open architecture based on established standards such as internet protocol suite|TCP/IP, User Datagram Protocol|UDP, HTTP and XML.

The UPnP architecture supports zero-configuration Computer network|networking. A UPnP compatible device from any vendor can dynamically join a network, obtain an IP address, announce its name, convey its capabilities upon request, and learn about the presence and capabilities of other devices. Dynamic Host Configuration Protocol|DHCP and Domain Name System|DNS servers are optional and are only used if they are available on the network. Devices can leave the network automatically without leaving any unwanted state (computer science)|state information behind.

Other UPnP features include:

Media and device independence UPnP technology can run on many media that support IP including Ethernet, FireWire, IR (IrDA), power lines (Power line communication|PLC) and RF (Bluetooth, Wi-Fi). No special device driver support is necessary; common protocols are used instead.

User interface (UI) Control UPnP architecture enables vendor control over device user interface and interaction using the web browser.

Operating system and programming language independence Any operating system and any programming language can be used to build UPnP products. UPnP does not specify or constrain the design of an API for applications running on control points; OS vendors may create APIs that suit their customer's needs. UPnP enables vendor control over device UI and interaction using the browser as well as conventional application programmatic control.

Programmatic control UPnP architecture also enables conventional application programmatic control.

Extensibility Each UPnP product can have device-specific services layered on top of the basic architecture.

The foundation for UPnP networking is IP addressing. Each device must have a Dynamic Host Configuration Protocol (DHCP) client and search for a DHCP server when the device is first connected to the network. If no DHCP server is available, that is, the network is unmanaged, the device must assign itself an address. If during the DHCP transaction, the device obtains a domain name, for example, through a DNS server or via DNS forwarding, the device should use that name in subsequent network operations; otherwise, the device should use its IP address.

## Protocol

### Addressing

### Discovery

Given an IP address, the step 1 in UPnP networking is Discovery. When a device is added to the network, the UPnP discovery protocol allows that device to advertise its services to control points on the network. Similarly, when a control point is added to the network, the UPnP discovery protocol allows that control point to search for devices of interest on the network. The fundamental exchange in both cases is a discovery message containing a few, essential specifics about the device or one of its services, for example, its type, identifier, and a pointer to more detailed information. The UPnP discovery protocol is based on the Simple Service Discovery Protocol (SSDP).

### Description

The next step in UPnP networking is description. After a control point has discovered a device, the control point still knows very little about the device. For the control point to learn more about the device and its capabilities, or to interact with the device, the control point must retrieve the device's description from the URL provided by the device in the discovery message. The UPnP description for a device is expressed in XML and includes vendor-specific, manufacturer information like the model name and number, serial number, manufacturer name, URLs to vendor-specific web sites, etc. The description also includes a list of any embedded devices or services, as well as URLs for control, eventing, and presentation. For each service, the description includes a list of the commands, or actions, to which the service responds, and parameters, or arguments, for each action; the description for a service also includes a list of variables; these variables model the state of the service at run time, and are described in terms of their data type, range, and event characteristics.

### Control

The next step in UPnP networking is control. After a control point has retrieved a description of the device, the control point can send actions to a device's service. To do this, a control point sends a suitable control message to the control URL for the service (provided in the device description). Control messages are also expressed in XML using the SOAP|Simple Object Access Protocol (SOAP). Like function calls, in response to the control message, the service returns any action-specific values. The effects of the action, if any, are modeled by changes in the variables that describe the run-time state of the service.

### Event notification

The next step in UPnP networking is event notification, or "eventing". A UPnP description for a service includes a list of actions the service responds to and a list of variables that model the state of the service at run time. The service publishes updates when these variables change, and a control point may subscribe to receive this information. The service publishes updates by sending event messages. Event messages contain the names of one or more state variables and the current value of those variables. These messages are also expressed in XML and formatted using the General Event Notification Architecture (GENA). A special initial event message is sent when a control point first subscribes; this event message contains the names and values for all evented variables and allows the subscriber to initialize its model of the state of the service. To support scenarios with multiple control points, eventing is designed to keep all control points equally informed about the effects of any action. Therefore, all subscribers are sent all event messages, subscribers receive event messages for all "evented" variables that have changed, and event messages are sent no matter why the state variable changed (either in response to a requested action or because the state the service is modeling changed).

### Presentation

The final step in UPnP networking is presentation. If a device has a Uniform Resource Locator|URL for presentation, then the control point can retrieve a page from this URL, load the page into a web browser, and depending on the capabilities of the page, allow a user to control the device and/or view device status. The degree to which each of these can be accomplished depends on the specific capabilities of the presentation page and device.

### UPnP AV (Audio and Video) standards

UPnP **AV** stands for UPnP **Audio** and **Video**, and is a grouping within the UPnP standards supervised by the Digital Living Network Alliance|DLNA (Digital Living Network Alliance), (formerly: Digital Home Working Group), which is a forum of vendors and manufacturers who work in the home entertainment industry, and offer a "DLNA CERTIFIED™" branding for those products which follow their Networked Device Interoperability Guidelines. The Digital Living Network Alliance|DLNA forum members "*share a vision of a wired and wireless interoperable network of Personal Computers (PC), Consumer Electronics (CE) and mobile devices in the home enabling a seamless environment for sharing and growing new digital media and content services,*" and "*DLNA is focused on delivering an interoperability framework of design guidelines based on open industry standards to complete the cross-industry digital convergence*". On 12 July 2006 the UPnP Forum announced the release of 'Enhanced AV Specifications', this release was version 2 of the UPnP Audio and Video specifications ([UPnP AV v2](http://www.upnp.org/news/documents/AV2_PR20060712.pdf)), with new MediaServer version 2.0 and MediaRenderer version 2.0 classes. These enhancements are created by adding capabilities to the UPnP AV MediaServers|UPnP AV MediaServer and MediaRenderer device classes that allow a higher level of interoperability between MediaServers and MediaRenderers from different manufacturers. Some of the early devices complying with these standards were marketed by Philips under the Streamium brand name. .

#### UPnP AV components

*   **UPnP MediaServer DCP** - which is the UPnP-server (a 'master' device) that shares/streams media-data (like audio/video/picture/files) to UPnP-clients on the network.
*   **UPnP MediaServer ControlPoint** - which is the UPnP-client (a 'slave' device) that can auto-detect UPnP-servers on the network to browse and stream media/data-files from them.
*   **UPnP MediaRenderer DCP** - which is a 'slave' device that can render content.
*   **UPnP RenderingControl DCP** - control MediaRenderer settings; volume, brightness, RGB, sharpness, and more).
*   **UPnP Remote User Interface (RUI) client/server** - which sends/receives control-commands between the UPnP-client and UPnP-server over network, (like record, schedule, play, pause, stop, etc.).
    *   **Web4CE (CEA 2014) for UPnP Remote UI^([[1]](#cite_note-1))** - CEA-2014 standard designed by **Consumer Electronics Association's R7 Home Network Committee**. Web page|Web-based Protocol (computing)|Protocol and Software framework|Framework for Remote User Interface on UPnP Computer networking|Networks and the Internet (Web4CE). This standard allows a UPnP-capable home network device to provide its User interface|interface (display and control options) as a web page to display on any other device connected to the home network. That means that you can control a Computer networking|home networking device through any Web browser|web-browser-based communications method for Consumer Electronics Association|CE devices on a UPnP home network using ethernet and a special version of HTML called CE-HTML.
*   **QoS (Quality of Service)** - is an important (but not mandatory) service function for use with UPnP AV (Audio and Video). Quality of Service|QoS (Quality of Service) refers to control mechanisms that can provide different priority to different users or data flows, or guarantee a certain level of performance to a data flow in accordance with requests from the application program. Since UPnP AV is mostly to deliver streaming media that is often near real-time or real-time audio/video data which it is critical to be delivered within a specific time or the stream is interrupted. Quality of Service|QoS (Quality of Service) guarantees are especially important if the network capacity is limited, for example public networks, like the internet.
    *   Quality of Service|QoS (Quality of Service) for UPnP consist of **Sink Device** (client-side/front-end) and **Source Device** (server-side/back-end) service functions. With Class (computer science)|classes such as; **Traffic Class** that indicates the kind of traffic in the traffic stream, (for example, audio or video). **Traffic Identifier (TID)** which identifies data packets as belonging to a unique traffic stream. **Traffic Specification (TSPEC)** which contains a set of parameters that define the characteristics of the traffic stream, (for example operating requirement and scheduling).**Traffic Stream (TS)** which is a unidirectional flow of data that originates at a source device and terminates at one or more sink device(s).

### NAT traversal

One solution for NAT traversal|NAT (Network Address Translation) traversal, called the Internet Gateway Device Protocol|Internet Gateway Device (IGD) Protocol, is implemented via UPnP. Many router|routers and firewall|firewalls expose themselves as Internet Gateway Devices, allowing any local UPnP controller to perform a variety of actions, including retrieving the external IP address of the device, enumerate existing port mappings, and adding and removing port mappings. By adding a port mapping, a UPnP controller behind the IGD can enable traversal of the IGD from an external address to an internal client.

## Problems with UPnP

### Lack of Authentication

The UPnP protocol does not implement any authentication, so UPnP device implementations must implement their own authentication mechanisms, or implement the Device Security Service.^([[2]](#cite_note-2)) Unfortunately, many UPnP device implementations lack authentication mechanisms, and by default assume local systems and their users are completely trustworthy.^([[3]](#cite_note-3))^([[4]](#cite_note-4)) Most notably, Routers and firewalls running the UPnP IGD protocol are vulnerable to attack since the framers of the IGD implementation omitted to add any standard authentication method.

For example, Adobe Flash programs are capable of generating HTTPU (HTTP over UDP) requests. This allows a router implementing the UPnP IGD protocol to be controlled by a malicious web site when someone with a UPnP-enabled router simply visits that web site.^([[5]](#cite_note-5)) The following changes can be made silently by code embedded in an Adobe Flash object hosted on a malicious website:^([[6]](#cite_note-6))

*   Port forwarding|Port forward internal services (ports) to the router external facing side (i.e. expose computers behind a firewall to the Internet).
*   Port forwarding|Port forward the router's web administration interface to the external facing side.
*   Port forwarding to any external server located on the Internet, effectively allowing an attacker to attack an Internet host via the router, while hiding their IP address.
*   Change Domain name system|DNS server settings so that when victims believe they are visiting a particular site (such as an on-line bank), they are redirected to a malicious website instead.
*   Change the Domain name system|DNS server settings so that when a victim receives any software updates (from a source that isn't properly verified via some other mechanism, such as a checking a Public key certificate|digital certificate has been signed by a trusted source), they download malware|malicious code instead.
*   Change administrative credentials to the router/firewall.
*   Change Point-to-Point Protocol|PPP settings.
*   Change IP address|IP settings for all interfaces.
*   Change WiFi settings.
*   Terminate connections.

This only applies to the #NAT traversal|"firewall-hole-punching"-feature of UPnP; it does not apply when the IGD does not support UPnP or UPnP has been disabled on the IGD.[Template:Fact](http://eLinux.org/index.php?title=Template:Fact&action=edit&redlink=1 "Template:Fact (page does not exist)") Also, not all routers can have such things as DNS server settings altered by UPnP because much of the specification (including LAN Host Configuration) is optional for UPnP enabled routers^([[7]](#cite_note-7)).

### Other Issues

*   UPnP uses HTTP over User Datagram Protocol|UDP (known as HTTPU and HTTPMU for unicast and multicast), even though this is not standardized and is specified only in an Internet-Draft that expired in 2001. [[1]](http://www.upnp.org/download/draft-goland-http-udp-04.txt)
*   UPnP does not have a lightweight authentication protocol, while the available security protocols are complex. As a result, some UPnP devices ship with UPnP turned off by default as a security measure.

## Future developments

The standard Devices Profile for Web Services|DPWS is a candidate successor for UPnP. It solves many of the problems of UPnP. A DPWS client is included in Microsoft Windows Vista as part of the Windows Rally technologies.

Another alternative, NAT Port Mapping Protocol|NAT-PMP, is an IETF draft introduced by Apple Inc in 2005.

## Books

*   Golden G. Richard: Service and Device Discovery : Protocols and Programming, McGraw-Hill Professional, [ISBN 0-07-137959-2](http://eLinux.org/Special:BookSources/0071379592)
*   Michael Jeronimo, Jack Weast: UPnP Design by Example: A Software Developer's Guide to Universal Plug and Play, Intel Press, [ISBN 0-9717861-1-9](http://eLinux.org/Special:BookSources/0971786119)

## External links

*   [UPnP™ Forum Universal Plug and Play Device Standards](http://upnp.org/standardizeddcps/default.asp)

### Documentation

*   [UPnP™ Forum](http://www.upnp.org)
*   [DLNA (Digital Living Network Alliance)](http://www.dlna.org)
*   [The Jini, Vision](http://developer.java.sun.com/developer/technicalArticles/jini/JiniVision/jiniology.html)
*   [technique comparison](http://www.cswl.com/whitepapers/upnp-devices.html)
*   [Microsoft WHDC UPnP webpage & links](http://www.microsoft.com/whdc/device/netattach/upnp/default.mspx)
*   [Universal Plug and Play in Windows XP](http://www.microsoft.com/technet/prodtechnol/winxppro/evaluate/upnpxp.mspx)
*   [Programmatically Controlling a UPnP-Capable Firewall](http://www.knoxscape.com/Upnp/NAT.htm) is a document providing some basic information about coding UPnP software controllers (VBScript example source code included).
*   [Hacking with UPnP](http://www.upnp-hacks.org)
*   [DLNA certified: how your computer, cellphone, games console, media streamer and other devices can play nicely together](http://www.last100.com/2008/05/27/dlna-certified/)

### News

*   [Vulnerability Note VU#347812 - UPnP enabled by default in multiple devices](http://www.kb.cert.org/vuls/id/347812) at United States Department of Homeland Security - Computer Emergency Readiness Team (Wednesday, 9 April 2008).

*   [Security firm predicts Microsoft Windows UPnP exploit by the end of the week](http://www.theinquirer.net/default.aspx?article=38860) at The Inquirer (Wednesday, 11 April 2007).

*   [Microsoft security updates for April 2007](http://www.microsoft.com/athome/security/update/bulletins/200704.mspx) to fix the above Microsoft Windows UPnP security issue.

*   [How to use Flash and UPnP to punch holes in most home firewalls](http://www.gnucitizen.org/blog/hacking-the-interwebs) at GNUCITIZEN (Saturday, 12 January 2008).

### Software

[UPnP Port Works (alias UPnPW)](http://www.upnpworks.alcidelic.com/) is a software implementation to configure UPnP devices via commandline.

[GUPnP](http://www.gupnp.org/) is an object-oriented open source framework for creating UPnP devices and control points, written in C using GObject and [libsoup](http://live.gnome.org/LibSoup).

[Portable SDK for UPnP Devices](http://pupnp.sourceforge.net/) provides an API and open source code for building control points, devices, and bridges compliant with UPnP Device Architecture Specification v1.0 and support operating systems like Linux, *BSD, Solaris and others.

[Barracuda UPnP](http://barracudaserver.com/UPnP.html) Device and Control Point SDK for embedded devices.

[Unplug n' Pray](http://www.grc.com/unpnp/unpnp.htm) Utility to disable unnecessary UPnP servers running on home Windows machines.

[Coherence](https://coherence.beebits.net/) Some free DLNA/UPnP tools (MediaServer/MediaRender) with a python framework. Running on Linux/BSD/Windows

[AdoubleU IntelligentShare](http://www.adoubleu.de/) UPnP SDK for J2SE / J2ME / MIDP 2.0 Running on Linux/BSD/Windows/Mobile Devices

[BRisa](http://brisa.garage.maemo.org/) BRisa is written in Python for Internet Tablet OS or other Unix platforms. It enables to create MediaServer/MediaRenderer devices allowing users to share and search content from UPnP A/V devices. It will offer a plugin architecture enabling new services such as Flickr to be added as UPnP services.

[J. River Media Center](http://www.jrmediacenter.com) includes a UPnP server (aka UPnP Device) for its library.

1.  ↑ [Template:Cite web](http://eLinux.org/index.php?title=Template:Cite_web&action=edit&redlink=1 "Template:Cite web (page does not exist)")
2.  ↑ [Template:Cite web](http://eLinux.org/index.php?title=Template:Cite_web&action=edit&redlink=1 "Template:Cite web (page does not exist)")
3.  ↑ [Template:Cite web](http://eLinux.org/index.php?title=Template:Cite_web&action=edit&redlink=1 "Template:Cite web (page does not exist)")
4.  ↑ [Template:Cite web](http://eLinux.org/index.php?title=Template:Cite_web&action=edit&redlink=1 "Template:Cite web (page does not exist)")
5.  ↑ [Template:Cite web](http://eLinux.org/index.php?title=Template:Cite_web&action=edit&redlink=1 "Template:Cite web (page does not exist)")
6.  ↑ [Template:Cite web](http://eLinux.org/index.php?title=Template:Cite_web&action=edit&redlink=1 "Template:Cite web (page does not exist)")
7.  ↑ [Template:Cite web](http://eLinux.org/index.php?title=Template:Cite_web&action=edit&redlink=1 "Template:Cite web (page does not exist)")

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Standardized APIs](http://eLinux.org/Category:Standardized_APIs "Category:Standardized APIs")

# User Interfaces

> From: [eLinux.org](http://eLinux.org/User_Interfaces "http://eLinux.org/User_Interfaces")

# User Interfaces

The GUI framework is the software library which allows applications to put pixels onto the LCD. It handles contention between applications, deals with windows and usually provides an abstraction away from pixel-by-pixel drawing through widget libraries.

On a desktop system, this is separated into several components: An X-server which allows client applications to connect and draw things in the client's window. Then there are the widget toolkits, where you generally have a choice between Motif, GTK+, QT or Enlightenment (there are many others, but these are the more common ones). On an embedded system, this separation is not always as clear cut.

## Contents

*   1 Global overviews
*   2 Back Ends
    *   2.1 Frame buffer (FBDev)
    *   2.2 DirectFB
    *   2.3 Nano-X (Formally Microwindows)
    *   2.4 KDrive (formally Micro-x)
    *   2.5 OpenKODE
*   3 Widget Toolkits
    *   3.1 GTK+
    *   3.2 QT/Qtopia
    *   3.3 Enlightenment
    *   3.4 Quantum Step
    *   3.5 WxEmbedded
*   4 Application Frameworks
    *   4.1 GTK+ Based Frameworks
        *   4.1.1 OpenMoko
        *   4.1.2 GPE Palmtop Environment
        *   4.1.3 Hiker (Access Linux Platform)
        *   4.1.4 Sato
        *   4.1.5 Hildon (Maemo)
        *   4.1.6 Sugar (OLPC)
    *   4.2 QT/Qtopia Based Frameworks
        *   4.2.1 Qtopia
        *   4.2.2 Open Palmtop Integrated Environment (OPIE)
    *   4.3 Enlightenment Based Frameworks
        *   4.3.1 Fancypants
        *   4.3.2 OpenInkpot
        *   4.3.3 Illume
        *   4.3.4 Guarana
    *   4.4 Others
        *   4.4.1 Disko
        *   4.4.2 Crank Software's Storyboard UI Suite

## Global overviews

*   LinuxDevices has a more detailed guide to embedded graphics [here](http://linuxdevices.com/articles/AT9202043619.html), although this is quite old now.
*   Thomas Petazzoni gave a conference giving general information about the various graphical libraries available for embedded Linux devices, at Embedded Linux Conference Europe 2008. [Slides](http://tree.celinuxforum.org/CelfPubWiki/ELCEurope2008Presentations?action=AttachFile&do=get&target=choosing-embedded-graphical-libraries.pdf) and [video](http://free-electrons.com/pub/video/2008/elce/elce2008-petazzoni-graphical-libraries.ogv) are available.

## Back Ends

### Frame buffer (FBDev)

Most Linux systems on embedded devices only provide a frame buffer device. This allows an application to memory-map the pixels on the screen and write to them as if it was a regular array. This frame buffer interface is universal across all architectures and all devices, allowing applications utilizing the frame buffer to be ported easily. The disadvantage is that quite often the Application Processor has more advanced graphics hardware for rendering which is not utilized by the frame buffer interface. Another disadvantage is when contention for the frame buffer exists. What happens when two applications want to write to the framebuffer at once? How do they know not to overwrite each other's contents?

### DirectFB

[DirectFB](http://www.directfb.org) addresses the issue of not utilising hardware acceleration by providing applications with a more advanced programming interface. Common graphics operations such as line drawing, blit'ing and basic windowing are provided. When the underlying hardware is able to accelerate these operations, this acceleration is used. When hardware acceleration is not available, the operation is performed in software, providing maximum compatibility for applications. While this is an excellent project, the number of hardware-accelerated devices supported are small and does not include any CPUs you'd find on a phone. This may, of course, change in the future. DirectFB also addresses the contention issue by providing windowing. Applications request a window from DirectFB, which ensures no applications overwrite each other's contents (Similar to X).

See [DirectFB](http://eLinux.org/DirectFB "DirectFB") article.

### Nano-X (Formally Microwindows)

An alternative to using a frame buffer device is to use an x server as you would on a desktop PC. There are many (MANY) applications out there which use X. The problem with x servers are their footprint. Both memory and storage requirements of a normal x server are too large for small embedded systems. To address this, an x-like server has been produced called [Nano-X](http://www.microwindows.org/). While not conforming to the X windows API, the API is similar, allowing X windows applications to be ported. The last item of news on the nano-x site is dated 2005, so this project may be dead.

### KDrive (formally Micro-x)

Unlike nano-x, [KDrive](http://www.pps.jussieu.fr/~jch/software/kdrive.html) is a complete X server and even supports the RENDER X windows extensions. Although KDrive is a full X Server, it goes to great lengths to not become bloated and is designed with embedded systems in mind. As KDrive supports the RENDER extensions, accelerating drawing operations in hardware is possible, but requires modification for the target Application Processor's graphics core. As with DirectFB, the list of supported hardware accelerated devices does not include graphics cores found in phones. There is an x server for the HP IPaq, however this simply uses the standard frame buffer and adds support for the VGA-Out device. Maemo uses Xomap, an accelerated KDrive for OMAP platforms, namely TI OMAP 1710 and 2420.

See [X11](http://eLinux.org/X11 "X11") article for more information.

### OpenKODE

[OpenKODE](http://www.khronos.org/openkode/) is a new specification for mobile devices and includes [OpenGL ES](http://www.khronos.org/opengles/), [OpenVG](http://www.khronos.org/openvg), [OpenMAX](http://www.khronos.org/openmax) and similar into a single, integrated API. The emphases here is hardware acceleration. OpenKODE is cross platform and is gathering a lot of industry support. One reason why this might be of interest is rather nicely demonstrated by nVidia in this user interface demo which uses an OpenKODE 1.0 implementation: [Next-Gen Phone Interface](http://www.youtube.com/watch?v=8kLFPfaxQ6U&eurl=). There are currently no open source implementations of the OpenKODE specification, however there are OpenGL ES & OpenVG (binary) Linux drivers available for PowerVR [MBX](http://www.imgtec.com/PowerVR/products/Graphics/MBX/index.asp) & [SGX](http://www.imgtec.com/PowerVR/products/Graphics/SGX/index.asp) cores, found in higher-end [Application Processors]. These drivers are not available from Imagination Technologies (who designed the PowerVR series) directly but are instead supplied with the BSP for your chosen CPU.

## Widget Toolkits

A widget toolkit provides useful widgets such as buttons, menus, text boxes etc. The application programmer doesn't care what a button looks like, just what happens when it's pressed. On embedded systems, you generally have two choices: GTK+ or QT. Recently however, people working on the E17 (Enlightenment) window manager project have started looking at running enlightenment on embedded devices. Also emerging are more advanced, Flash based user interfaces. Sadly though, there are currently no open source equivalents at present.

### GTK+

GTK+ has excellent support on embedded systems. Ports of GTK+ have been made for rendering directly to the frame buffer, to a DirectFB device and of course KDrive. For more information about GTK+, visit [[1]](http://www.gtk.org).

### QT/Qtopia

QT is a commercial product written by a company called [Trolltech](http://www.trolltech.com) that has been bought by [Nokia](http://www.nokia.com) in January 2008\. Written in C++ and providing a C++ API, Qt is not only a graphical library, but a full development framework : database access, XML, threads, data structures, networking, etc.

Until version Qt 4.5, Qt was distributed using a dual-licensing scheme :

*   A version of the library distributed under the GPL. As applications using a library are considered derived works of the library, applications using the GPL version of Qt must be released under the GPL. While this is fine for the free software and open source community and some companies, it may not suit others companies needs.
*   A version of the library under a commercial license, allowing the creation of proprietary products.

Since Qt 4.5, Qt is also distributed under the LGPL license, which also proprietary applications without buying a commercial license.

QT as it stands is unsuitable for embedded devices due to it's large size and large dependency tree. However, a few years ago, Trolltech launched an embedded version of QT, cleverly named Qt/Embedded. While this is still used for the OPIE application framework, Troltech have updated Qt/Embedded and produced their own framework called Qtopia. Out of the box, both Qt/Embedded and Qtopia render directly to the frame buffer. In Qtopia, it is possible to accelerate this rendering by re-implementing several of the classes the library uses to perform all drawing operations. The Both QT/Embedded & the Qtopia framework also handles windowing internally when multiple applications are running. More recently, Trolltech has incorporated OpenGL ES into Qtopia, which is used for hardware accelerated drawing operations and for compositing multiple windows. The Trolltech [documentation](http://doc.trolltech.com/4.3/qtopiacore-ahigl.html) also hints at visual effects similar to those on Beryl/Compiz, although there are no screen-shots avaliable.

### Enlightenment

Enlightenment started life as a window manager for X11\. Over the years, it has transformed into a very rich, full desktop environment similar to KDE and Gnome. Enlightenment has always had a very slick user interface with lots of eye-candy. The latest development version of Enlightenment, E17 is highly modularised. E17 has its own widget toolkit called the Enlightenment Widget Library (Ewl). The Ewl draws its widgets using the Enlightenment Foundation Library (ELF) which renders onto a canvas component called EVAS. EVAS supports compositing with true alpha-blending allowing some very attractive user interfaces. EVAS also supports multiple back-ends including X11, OpenGL, and the Linux framebuffer.

See [Enlightenment Foundation Libraries](http://eLinux.org/EFL "EFL") article.

### Quantum Step

[QuantumStep](http://www.quantum-step.com/) is essentially OpenStep for mobile devices. It's layered on top of X11 so is (in theory) fairly portable. Developers may be familiar with another product derived from NeXTStep... MacOS X. QS uses the MacOS X development chain, including Xcode and Objective-C. So... if you're a Mac-o-phile, then there is an open alternative to the iPhone.

### WxEmbedded

[WxEmbedded](http://www.wxwidgets.org/docs/embedded.htm) is the embedded variant of [WxWidgets](http://www.wxwidgets.org). It is a widget library on top of X11, GTK+, DirectFB, Nano-X, MicroWindows, MGL and WinCE. Applications are portable between those platforms and get the native look and feel on them.

WxWidgets has a nice cross platform GUI programming assistants called [[[2]](http://www.anthemion.co.uk/dialogblocks/%7CDialogBlocks)]. It is unclear how usable this tool is in combination with WxEmbedded, but if you are interested in WxEmbedded, DialogBlocks is definitely worthwhile investigating.

## Application Frameworks

The widget toolkits provide facilities for applications to draw buttons on the screen, but what if they want to find a telephone number? On a typical phone, lots of different applications are going to need a contact list. Having a different contact list for each application is going to get silly. Instead, there are several application framesworks available. These can be split into 3 groups, those based on QT, those based on GTK+ and those based on Enlightenment. This is similar to the KDE vs Gnome vs Enlightenment dilemma, just on embedded devices. In general, GTK+ frameworks use Kdrive as an X server and the matchbox window manager. Frameworks based on QT (there are only 2 of them) use the windowing system built into QT/Embedded (now Qtopia Core). As such, an application using a GTK+ framework can't run simultaneously with an application using a QT based framework.

The last 12-months has seen interest in Embedded Linux explode. As a result, the market has become fragmented, with lots of different competing application frameworks. All of these newer frameworks (OpenMoko, GPE, GPE Phone Edition, Hiker, Sato, Sugar & Hildon) are based on the GTK+/KDrive/Matchbox combination. All of these projects have forked GTK+ and develop on separate branches, which is a lot of duplicated and wasted effort. To address the problem of fragmentation, the Gnome Mobile Initiative was founded to bring these different frameworks together and introduce some consistency & compatibility. The Gnome Mobile website is at [`www.gnome.org/mobile`](http://www.gnome.org/mobile/).

### GTK+ Based Frameworks

#### OpenMoko

[OpenMoko](http://www.openmoko.org) is an open source project sponsored by FIC. It aims to create a complete open source software stack for mobile phones. As the work is being sponsored by FIC, the first phone OpenMoko is designed to run on is the FIC Neo1973\. OpenMoko uses KDrive to provide the back end for graphics. All the widgets used on the phone are designed specifically for OpenMoko and written using the GTK+ toolkit.

#### GPE Palmtop Environment

From GPE's homepage: "*The GPE Palmtop Environment aims to provide a Free Software GUI environment for palmtop/handheld computers running the GNU/Linux™ operating system. GPE uses the X Window System, and the GTK+-2.6 widget toolkit.*

GPE is not a single piece of software, but an entire environment of components which make it possible to use your GNU/Linux handheld for standard tasks such as Personal Information Management (PIM). GPE makes it easy for developers to create powerful programs, by giving them the infrastructure they need.

Besides providing core software such as shared libraries, and perhaps more importantly, the GPE environment fixes standards for program interaction, such as SQL, XML, and other data schemas.*"*

A recent development has been the launch of [GPE Phone edition](http://gpephone.linuxtogo.org). This aims to implement a complete [LIPS](http://www.lipsforum.org/) compliant software stack. For more information on GPE in general, visit [[3]](http://gpe.handhelds.org)

#### Hiker (Access Linux Platform)

The Access Linux Platform contains an application framework called Hiker. Hiker is built on top of GTK+ and provides facilities to allow applications to exchange data etc. More information at the Access Linux Platform's website: [www.access-company.com/products/linux/alp.html](http://www.access-company.com/products/linux/alp.html)

#### Sato

Sato is another framework based on GTK+ and is produced by OpenedHand for their "Poky" Linux distribution. Sato includes lots of applications such as games, a web browser, contact list etc. See [pokylinux.org](http://pokylinux.org/) for details.

#### Hildon (Maemo)

Hildon is user interface part of the Maemo distribution used on Nokia web tablets. It has started to be ported to other platforms such as Ultra-Mobile computers (E.g. Samsung Q1) as part of the Ubuntu Mobile & Embedded project. It, again, is based on GTK+ and contains widgets for menus, status bars etc. The best place to look into Hildon is through the [`maemo.org`](http://maemo.org/) website.

#### Sugar (OLPC)

Sugar is the user interface used in the One Laptop Per Child project. It takes a different approach to the "desktop" metaphor and uses its own unique user interface. The Sugar wiki can be found at [`wiki.laptop.org/go/Sugar`](http://wiki.laptop.org/go/Sugar).

### QT/Qtopia Based Frameworks

#### Qtopia

from Qtopia's homepage: "*Qtopia is unrivaled as the application platform and user interface for Linux, allowing efficient creation of mobile and embedded devices.*"

Qtopia is split up into different versions, including a Qtopia Phone Edition. Qtopia core is name given to the actual application framework. Apart from several demos and examples, Qtopia cores does not come with any applications. Applications are included in the "Open Source Edition" and "Phone Edition". For more information, visit [[4]](http://www.trolltech.com/products/qtopia).

#### Open Palmtop Integrated Environment (OPIE)

Originally started as an alternative GUI for the Sharp Zaurus, OPIE has now spread across several devices and has a large collection of applications. Opie uses an older version of QT/Embedded which lacks many of the feature of the more modern Qtopia. However, due to it's stability & large application base it remains a very interesting prospect. More information at [[5]](http://opie.sourceforge.net)

### Enlightenment Based Frameworks

Currently, there are many distinct projects using Enlightenment on embedded devices. the developers have been working with embedded devices in mind and there are numerous blog posts about things which have been prototyped.

#### Fancypants

Fancypants is an "advanced graphics and high-performance multi-media platform for developing embedded applications in consumer, commercial and industrial devices." It is developed commercially by Fluffy Spider Technologies. It uses EVAS and Ecore from the Enlightenment project and includes a very attractive user interface. See [`www.fancypants-graphics.com/`](http://www.fancypants-graphics.com/) for details, including videos showing off some of the features.

#### OpenInkpot

OpenInkpot is a "project for creating a free and open-source Linux distribution for eink-based devices". It is a non-commercial project developing firmware for different e-ink readers, using Evas and Ewl for the software. Currently in early stages. See the [project page](http://openinkpot.org/) for further details.

#### Illume

Illume is an Enlightenment DR17 module to make the window manager friendly for phones and PDAs. It's in use in [OpenMoko](http://www.openmoko.org) and [FreeSmartPhone - FSO](http://www.freesmartphone.org). This module is integrated in SVN as part of E17 modules.

#### Guarana

[Guarana](http://profusion.mobi/node/10) is a framework on top of [Enlightenment Foundation Libraries](http://eLinux.org/EFL "EFL") to help with Rich GUI, it ships with widgets targeted at set-top boxes and media centers (will merge with Elementary, see [EFL](http://eLinux.org/EFL "EFL")), as well as Model-View-Controller framework and a plugin system. It's being used in Digital TV set-top boxes and Enjoy media player.

### Others

#### Disko

Disko is a LGPL-licensed application framework, that can be used to develop GUI applications for embedded devices. It is closely connected to the DirectFB hardware abstraction library and specialised in touchscreen and remote control navigation. It provides a plugin based management component, which enables easy writing and extending embedded applications. Media playback (DVD, DVB, IPTV and audio streams) is provided by the well known xine media library. Disko has been ported to the TI DaVinci chipset together with Direct FB and runs on x86 as well. [Disko homepage](http://www.diskohq.org)

#### Crank Software's Storyboard UI Suite

The [Crank™ Storyboard™ UI Suite](http://cranksoftware.com/products/crank_storyboard_suite.php) is a graphical development tool and runtime engine designed for the requirements of the embedded consumer market. [Crank Storyboard Designer](http://cranksoftware.com/products/crank_storyboard_designer.php) enables user interface (UI) designers to easily prototype the look and feel of a product, and then move the prototype directly to the embedded target for deployment. The [Crank Storyboard Embedded Engine](http://cranksoftware.com/products/crank_storyboard_embedded_engine.php) is the runtime component that drives the content developed in Crank Storyboard Designer on embedded devices. It is architected exclusively to address the unique challenges of bringing a rich user interface (UI) user experience (UX) to resource-constrained embedded devices.

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Categories](http://eLinux.org/Category:Categories "Category:Categories")

# X11

> From: [eLinux.org](http://eLinux.org/X11 "http://eLinux.org/X11")

# X11

X11 also known as [X.org](http://www.x.org), [XFree](http://xfree.org/) or XServer is the most used graphics on Linux, at least on desktop.

## Contents

*   1 Architecture
*   2 Extensions and Hardware Acceleration
*   3 Strong Points
*   4 Weak Points

### Architecture

X11 works in a client-server architecture with communication going via fast UNIX Sockets if local or TCP/IP if remote, it's totally transparent to users.

Protocol is simple and optimized, often used via libraries like Xlib or Xcb (asynchronous). Most common commands like mouse movement and expose events are small so they don't impact too much. Since communication happens using file descriptors (either local unix sockets or tcp) one can easily integrate it in event loops (or main loops) with easy polling with poll(2) or select(2).

### Extensions and Hardware Acceleration

It is extensible and can make use of hardware acceleration. With extensions like XRender one can optimize 2d rendering paths. With Xvideo it's possible to use extra planes and also pass through raw YUV data. Others like Composite can allow a composite manager to do actual drawings, possible adding nice effects like semi-transparent windows or shadows. One can use OpenGL (and OpenGL-ES) with X11.

One extension that worth special note is XShm, or the shared memory extension, that is can be used to avoid sending images or other heavy data over the wire. When using XShm images, one just need to send the image identifier and other image parameters, not the image pixels. This, however, have the impact that image creation is more expensive since Linux Kernel needs to zero memory to avoid data disclosure, but it's negligible.

### Strong Points

Recent efforts are being made to optimize X11 more and its Linux integration even better, like Kernel Mode Setting, which will avoid flickers during system boot and also reduce X11 server complexity.

Although one can write directly to wire or use low level libraries like Xlib or Xcb, usually one write X11 applications using various helpers and toolkits like [GTK](http://www.gtk.org/), [Qt](http://trolltech.com/products/), [Evas/EFL](http://www.enlightenment.org), [FLTK](http://www.fltk.org) and more. These libraries are the base of most graphical user interfaces available for Linux, including big projects as [Firefox and Thunderbird](http://mozilla.org), [Pidgin Instant Messenger](http://www.pidgin.im/), [GNOME Desktop](http://www.gnome.org), [KDE Desktop](http://www.kde.org), [Enlightenment Desktop](http://www.enlightenment.org) and more. These applications and libraries are primarily developed with focus on X11, so they're always up to date and require no porting at all and receive much more testing. This ready/availability of most famous applications is the strongest point of using X11, even on embedded systems as showed by [Maemo](http://maemo.org), [OpenMoko](http://openmoko.org), [OLPC](http://laptop.org) and more.

### Weak Points

X11 was for a long time neglected from embedded systems tagged as slow and big. While not the very truth, it do have some true facts.

*   X11 is usually bigger than alternatives like raw framebuffer and [DirectFB](http://eLinux.org/DirectFB "DirectFB"), but it's not too bad is you consider minimum system, see Thomas Petazzoni's [talk at ELC-E 2008: Choosing embedded graphical libraries](http://tree.celinuxforum.org/CelfPubWiki/ELCEurope2008Presentations?action=AttachFile&do=get&target=choosing-embedded-graphical-libraries.pdf).
*   Due chicken-egg problem and apparently bit more complicated api for X drivers, embedded hardware manufactures provide more drivers for DirectFB than X11.

There are benchmarks that show that software-on-software comparison X11 does not add much overhead compared to DirectFB and raw framebuffer: [`profusion.mobi/node/11`](http://profusion.mobi/node/11)

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Multimedia](http://eLinux.org/Category:Multimedia "Category:Multimedia")

# 系统裁剪

> 书籍：[嵌入式 Linux 知识库](http://tinylab.gitbooks.io/elinux) 原文：[eLinux.org](http://eLinux.org/System_Size "http://eLinux.org/System_Size") 翻译：[@wengpingbo](https://github.com/wengpingbo) 校订：[@lzufalcon](https://github.com/lzufalcon)

# 系统裁剪

## 介绍

本文介绍一些与 Linux 系统尺寸优化相关的信息和项目。

## 减少系统尺寸的技术

### 内核尺寸缩减

另一个 WIKI，[`tiny.wiki.kernel.org/`](https://tiny.wiki.kernel.org/)，在内核尺寸优化方面，有一些新的信息和工作（截止到 2014.08）。

#### 配置选项

*   [内核尺寸优化指北](http://tinylab.gitbooks.io/elinux/content/zh/dev_portals/System_Size/Kernel_Size_Tuning_Guide/Kernel_Size_Tuning_Guide.html "Kernel Size Tuning Guide") - 关于计算内核尺寸，配置内核来达到最小尺寸的文档

#### Linux-tiny 补丁集

*   [Linux Tiny](http://tinylab.gitbooks.io/elinux/content/zh/dev_portals/System_Size/Linux_Tiny/Linux_Tiny.html "Linux Tiny") 是能够使 Linux 内核占用更小空间的补丁集。Linux-tiny 的长期目标是把这些补丁合入主线内核中。在过去的几年里，有几个补丁已经合入到主线内核，而且相关工作还在持续。

#### "dietnet"

Andi Kleen 在 2014.05，提交了一系列补丁，用来减少 Linux 内核网络协议栈的大小。相关的提交记录在这里： [`lkml.org/lkml/2014/5/5/686`](https://lkml.org/lkml/2014/5/5/686)

Andi 指出这些补丁支持 3 个使用场景：

*   全功能网络协议栈（默认是 Linux 网络协议栈）
*   只有客户端堆栈 - 功能有缩减，但仍然兼容正常的用户空间程序，对一些使用场景是合适的
*   只包含最小的子集，这可能需要一些特殊的用户态软件来配合

为了获得全面的尺寸缩减，在使用这些补丁的时候，最好同时使用 LTO。这样，网络协议栈只需 170K 就能跑起来（默认的协议栈需要 400K）

#### 减少内核尺寸相关的编译选项

这里有一篇 LWN 文章讨论了用于裁剪内核的 3 个 GCC 选项。

[使用 GCC 缩减内核](http://lwn.net/Articles/67175/)

第一个选项是 `-Os`，这早就在 tiny kernel 补丁里。

在 3.4 版本之后，GCC 提供一个 `-funit-at-a-time` 选项。这让 GCC 能够更好的移除内联和无用的代码，减少 text 和 data 段的大小。这个选项依赖另一个补丁。根据 GCC 手册，这个选项不再起作用。

`-fwhole-program` 和 `--combine` 选项的组合，其效果上等于把所有的源文件分组，且把所有的变量静态化。GCC 依旧支持这些选项，但在 BusyBox 的配置选项里已经不提供了。这发生了什么？

另外一个选项，`-mregparm=3`，看上去是 X86 特有的，它告诉编译器对于函数的前 3 个参数，用寄存器存储。（by John Rigby）

访问 [[1]](http://gcc.gnu.org/onlinedocs/gcc/Optimize-Options.html) 查阅所有可用的优化选项，访问 [编译器优化](http://tinylab.gitbooks.io/elinux/content/zh/dev_portals/System_Size/Compiler_Optimization/Compiler_Optimization.html "Compiler Optimization") 查阅更多关于优化选项效果的细节。

#### 垃圾回收补丁集

这些 [补丁](http://busybox.net/~vda/k-sections/) ，通过在链接阶段提高无用代码 / 数据的剔除效果，可以缩减大约 10% 的内核大小。它们正在往内核主线提交。由于一个链接器的 [BUG](https://bugzilla.redhat.com/show_bug.cgi?id=621742)，这些补丁的接受依赖于一个新版本链接器（在 binutils-2.21 将会提供）。好消息是这个 BUG 只是影响一些特定的架构（parisc），所以这些补丁在旧的链接器上还是可以使用的。

#### 运行时内核大小

通常，内核内存大小的缩减主要关注内核静态编译的镜像大小。但是，内核在运行时也要动态分配内存。在加载时，内核会创建多个表，给网络，文件系统等模块使用。

以下表格展示了，在 2.6 版本内核里，不同的哈希表所占用的内存大小。（表格来自 [data_structures](http://logfs.org/~joern/data_structures.pdf) 第 25 页）

| Hash Table | memory < 512MiB RAM | memory >=512MiB RAM |
|  | 32b/64b | 32b/64b |
| TCP established | 96k/192k | 384k/768k |
| TCP bind | 64k/128k | 256k/512k |
| IP route cache | 128k/256k | 512k/1M |
| Inode-cache | 64k/128k | 64k/128k |
| Dentry cache | 32k/64k | 32k/64k |
| Total | 384k/768k | 1248k/2496k |

##### 内核栈大小

内核有一个配置选项，用来减少每一个进程的内核栈大小到 4K。内核栈大小默认是 8K（截止到 2011）。如果你有很多进程，使用 4K 的栈能够减少内核栈的使用。

更多关于内核栈大小的信息： [小型内核栈](http://tinylab.gitbooks.io/elinux/content/zh/dev_portals/System_Size/Kernel_Small_Stacks/Kernel_Small_Stacks.html "Kernel Small Stacks")

#### 自动裁剪

在 2012 年，Tim Bird 研究了几种关于自动尺寸缩减和整体系统优化的技术。特别是他研究的如下几项：

*   内核链接时优化
*   系统调用消除
*   全局限制
*   内核栈大小缩减

Tim 同时也在链接时重写和静态代码压缩技术方面发现了一些非常有趣的学术研究。（**注**：部分研究见 [Tiny Linux Kernel](http://elinux.org/Work_on_Tiny_Linux_Kernel)）Tim 在 2013 年 5 月在日本举行的 LinuxCon 会议上展示了他的工作。

这次展示的一些提纲和完整的幻灯片可以这里找到 [系统尺寸自动缩减](http://tinylab.gitbooks.io/elinux/content/zh/dev_portals/System_Size/System_Size_Auto-Reduction/System_Size_Auto-Reduction.html "System Size Auto-Reduction")

#### PRINTK 消息压缩

在 2014 年，一个开放项目提议，[压缩的 printk 消息](http://tinylab.gitbooks.io/elinux/content/zh/dev_portals/System_Size/Compressed_printk_messages/Compressed_printk_messages.md "Compressed printk messages")，评估过这个技术。这个项目的结果可以在 压缩的 printk 消息 - 结果 找到。

#### 裁剪的一些想法和近期的工作

一群开发者正持续致力于 Linux 内核大小裁剪的工作上（截止到 2014）。为方便后续内核裁剪工作，已经建立了一篇文章来分类近期工作和想法。该文章在：[内核大小裁剪工作](http://tinylab.gitbooks.io/elinux/content/zh/dev_portals/System_Size/Kernel_Size_Reduction_Work/Kernel_Size_Reduction_Work.html "Kernel Size Reduction Work")。

### 文件系统压缩

对于只读数据来说，一个压缩的文件系统是很有的。以下文件系统在嵌入式系统里用得非常多：

*   Cramfs，SquashFS，用于块存储
*   JFFS2 和 它的姊妹 UBIFS，用于 Flash（MTD）存储

要注意的是由于 Cramfs 和 Squashfs 只写一次（write-only-once）的天然特性，也能够用于 MTD 存储。

访问 [文件系统](http://tinylab.gitbooks.io/elinux/content/zh/dev_portals/File_Systems/File_Systems.html "File Systems") 获取更多信息。

### 应用裁剪

#### 程序大小相关编译选项

你可以使用 `gcc -Os` 来优化大小。

#### 缩减你的程序

你可以使用 'strip' 命令来剔除你应用中无用的符号。`strip` 命令包含在你的工具链里，且和当前的架构有关。（例如，你需要加上一个工具链前缀，像 `arm-linux-strip`）。

要注意的是这会让你的应用更加难调试，因为调试符号不再存在。

默认情况下，`strip` 只移除调试符号。但是在动态链接时，我们可以移除除了基本符号之外的所有其他符号。若想获取最高程度的移除效果，可以使用 `strip --strip-unneeded <app>`。

这可以节省很多空间，特别是在调试符号被包含在构建里时。

```
$ gcc -g hello.c -o hello
$ ls -l hello
-rwxrwxr-x 1 tbird tbird 6143 2009-02-10 09:43 hello
$ strip hello
$ ls -l hello
-rwxrwxr-x 1 tbird tbird 3228 2009-02-10 09:43 hello
$ strip --strip-unneeded hello
$ ls -l hello
-rwxrwxr-x 1 tbird tbird 3228 2009-02-10 09:43 hello 
```

现在，编译时不带调试符号：

```
$ gcc hello.c -o hello
$ ls -l hello
-rwxrwxr-x 1 tbird tbird 4903 2009-02-10 09:45 hello
$ strip hello
$ ls -l hello
-rwxrwxr-x 1 tbird tbird 3228 2009-02-10 09:45 hello 
```

我们可以 strip 可执行文件和共享库。

有一个 "super-strip" 工具，会移除 ELF 可执行程序里额外信息（通常 'strip' 忽略的）。可以在这里找到：[`muppetlabs.com/~breadbox/software/elfkickers.html`](http://muppetlabs.com/~breadbox/software/elfkickers.html)。*这个程序现在好像被废弃了，我不能在 Fedora 8 上编译它。*

[这里](http://reverse.lostrealm.com/protect/strip.html) 有一些关于如何手动剔除单独节区（Sections）的信息，它介绍了如何使用 `-R` 命令。

#### 手动优化程序大小

如果你非常想要创建小尺寸二进制文件，你可以使用一些技术来手动创建最小的 Linux 可执行文件。

看 [一个快速创建紧凑的 Linux ELF 可执行文件的教程](http://muppetlabs.com/~breadbox/software/tiny/teensy.html)

### 库尺寸裁剪技术

#### 使用更小的 libc

Glibc 是 Linux 系统下默认的 C 库。Glibc 大概有 2MB 大小。Linux 上同样可以找到其他 C 库，他们提供不同程度上的兼容和尺寸节约。通常，对于那些比较关注系统尺寸来说，uClibc 是一个非常好的 Glibc 替代品。

*   [uClibc](http://uclibc.org/) - 占用空间少，支持 C 库的全部功能
*   [dietlibc](http://www.fefe.de/dietlibc/) - 另外一个可以生成非常小的可执行文件的库
*   [klibc](http://www.kernel.org/pub/linux/libs/klibc/) - 非常小的库，用在 init 内存文件系统
*   [eglibc](http://www.eglibc.org/home) - glibc 嵌入式系统版。缩减尺寸是其设计目标之一
*   [musl libc](http://www.musl-libc.org/) - 一个轻型，快速，简单，和标准兼容的 C 库
*   [olibc](http://olibc.github.com/) - 另一个优化过大小和性能的 C 库，起源于 Android bionic libc
*   Libc 规格子集 - CELF 考虑过创建一个 Libc 规格子集的可能性。一些公司也同样考虑过把 Glibc 模块化，这样部分 Glibc 就变得可配置。预研显示这项工作是非常困难的，因为 Glibc 有着非常复杂的内部函数依赖

#### 静态链接

如果你的应用非常小，那么使用静态链接比使用共享库更合理一些。共享库默认包含所有特性的符号（函数和数据结构）。但是，当你把一个库静态链接到一个程序时，只有那些实际被引用的部分才会被包含到程序里来。

#### 库裁剪

通过剔除无用的符号，减少共享库的大小是可能的。

MontaVista 释放过一个工具，用来优化库。这个工具扫描整个文件系统，然后会重新构建系统上的共享库，只包含真正被当前文件系统上的应用引用过的符号。

使用这个方法需要当心，因为这会让那些程序的插件，或者部分升级过程变得非常困难（因为新软件引用的符号可能没有包含在当前已经被优化过的库里）。但是对于那些功能固定的设备来说，这会显著的减少库的大小。

看 [`libraryopt.sourceforge.net/`](http://libraryopt.sourceforge.net/)

#### 延时加载库

对于一个产品，通过延迟加载共享库，和分割库的依赖，来减少运行时 RAM 的占用空间是可能的。Panasonic 做了一些研究，在一个进程里延迟库的加载，在 ELC 2007 展示过这个研究。

看 [动态延时加载（pdf）](http://eLinux.org/images/1/19/DeferredDynamicLoading_20070417.pdf "DeferredDynamicLoading 20070417.pdf") 演示。

### 就地执行（XIP）

我们可以通过直接使用来自 Flash 的一些 `text` 和 `data` 来节省内存开销。

#### 内核 XIP

通过在 FLASH 里执行内核，这有可能节省内存。

*   看 [内核 XIP](http://tinylab.gitbooks.io/elinux/content/zh/dev_portals/Boot_Time/Kernel_XIP/Kernel_XIP.html "Kernel XIP")

#### 应用 XIP

通过在 FLASH 里执行应用程序，这有可能节省内存。

*   看 [应用 XIP](http://tinylab.gitbooks.io/elinux/content/zh/dev_portals/Boot_Time/Application_XIP/Application_XIP.html "Application XIP")

#### 原地数据读取 (DRIP)

这有一个技术，用来在 FLASH 里保持数据，直到该数据需要更新，才复制到内存里来。

*   看 [Data Read In Place](http://tinylab.gitbooks.io/elinux/content/zh/dev_portals/System_Size/Data_Read_In_Place/Data_Read_In_Place.html "Data Read In Place")

## 尺寸测量的技术和相关工具

### 内核尺寸测量数据

*   [Bloatwatch](http://www.selenic.com/bloatwatch/) - 一个内核回归分析工具
    *   Bloatwatch 提供很多细节，并且能在不同的时间里比较内核版本的大小

### 怎样计算内核镜像的大小

*   查看内核主要部分的大小（代码和数据）：

`size vmlinux */built-in.o`

```
[tbird@crest ebony]$ size vmlinux */built-in.o
   text    data     bss     dec     hex filename
2921377  369712  132996 3424085  343f55 vmlinux
 764472   35692   22768  822932   c8e94 drivers/built-in.o
 918344   22364   36824  977532   eea7c fs/built-in.o
  18260    1868    1604   21732    54e4 init/built-in.o
  39960     864     224   41048    a058 ipc/built-in.o
 257292   14656   34516  306464   4ad20 kernel/built-in.o
  34728     156    2280   37164    912c lib/built-in.o
 182312    2704     736  185752   2d598 mm/built-in.o
 620864   20820   26676  668360   a32c8 net/built-in.o
   1912       0       0    1912     778 security/built-in.o
    133       0       0     133      85 usr/built-in.o 
```

*   查看最大的内核符号：
    *   `nm --size -r vmlinux`

```
[tbird@crest ebony]$ nm --size -r vmlinux | head -10
00008000 b read_buffers
00004000 b __log_buf
00003100 B ide_hwifs
000024f8 T jffs2_garbage_collect_pass
00002418 T journal_commit_transaction
00002400 b futex_queues
000021a8 t jedec_probe_chip
00002000 b write_buf
00002000 D init_thread_union
00001e6c t tcp_ack 
```

### 怎样动态计算内存使用情况

测量 Linux 下运行时内存使用情况，访问 [动态内存测量](http://tinylab.gitbooks.io/elinux/content/zh/dev_portals/Memory_Management/Runtime_Memory_Measurement/Runtime_Memory_Measurement.html "Runtime Memory Measurement")

同时，要得到更精准的内存使用情况和相关补丁，请访问 [精准内存测量](http://tinylab.gitbooks.io/elinux/content/zh/dev_portals/Memory_Management/Accurate_Memory_Measurement/Accurate_Memory_Measurement.html "Accurate Memory Measurement")

### Linux 内核 从 2.4 到 2.6 的尺寸增加

Linux 内核从 2.4 到 2.6 版本之间，大小增加了 10% ~ 30%。论坛成员非常关注这种尺寸增长。

访问 [Szwg Linux 26Data](http://tinylab.gitbooks.io/elinux/content/zh/dev_portals/System_Size/Szwg_Linux_26Data/Szwg_Linux_26Data.html "Szwg Linux 26Data") 相关数据支持。

*   [尺寸调整](http://tinylab.gitbooks.io/elinux/content/zh/dev_portals/System_Size/Size_Tunables/Size_Tunables.html "Size Tunables")

### GCC 代码大小基准测试

CSiBE 是 GCC 编译器的代码大小基准测试工具。CSiBE 的主要目标是监控 GCC 生成的代码大小。另外，编译时间和代码优化测量也包括在内。

[CSiBE](http://www.inf.u-szeged.hu/csibe/)

## 案例研究

"Motorola 在 2.4 的 Linux 内核上做的系统大小缩减（大概给移动设备使用）"

*   MotSizeReduction.ppt - 幻灯片占用符，太大了，无法上传到 WIKI （为什么不在这？）

### uClinux

*   一篇在 cortex-m3s 上跑 uClinux 库的文章。里面使用的内核有很多好资料。
    *   [`electronicdesign.com/embedded/practical-advice-running-uclinux-cortex-m3m4`](http://electronicdesign.com/embedded/practical-advice-running-uclinux-cortex-m3m4)

### 微型处理器上的 Linux (这里是在 M3 上)

*   在 2014 年的 ELC 上，Vitaly Wool 展示了在 STM32F4XX 上运行 2.6.33 的 Linux 内核
    *   Vitaly 的幻灯片： [Spreading the disease: Linux on microcontrollers](http://elinux.org/images/c/ca/Spreading.pdf)
    *   设备有 256K 内存和 2M 的存储
    *   内核和应用使用了 XIP 技术

## 发行版本的尺寸缩减相关尝试

这有一些专注于小尺寸系统的项目：

*   micro-Yocto (2014)
    *   Tom Zanussi has lead an effort in the Yocto Project to produce a minimal kernel for very small embedded systems
    *   Tom Zanussi 在 Yocto 项目上做了很多关于为微型嵌入式系统生成小型内核的工作
    *   Tom 在 ELC 2014 展示的幻灯片：[microYocto and the Internet of Tiny](http://elinux.org/images/5/54/Tom.zanussi-elc2014.pdf)
    *   获取更多相关信息，查看 [`github.com/tzanussi/meta-galileo/raw/daisy/meta-galileo/README`](https://github.com/tzanussi/meta-galileo/raw/daisy/meta-galileo/README)
*   [`cgit.openembedded.org/meta-micro/`](http://cgit.openembedded.org/meta-micro/)
    *   由 Phil Blundell 维护。这个项目在保持系统功能全面的前提下减少大小方面，做得很成功。它使用了 uClibc 库
    *   [Meta-tiny git repository](http://git.infradead.org/users/dvhart/meta-tiny.git)
*   这有一个叫 Poky-tiny 的项目，基于 Yocto 做一个极度缩减的嵌入式发型版本。
    *   查看 [`wiki.yoctoproject.org/wiki/Poky-Tiny`](https://wiki.yoctoproject.org/wiki/Poky-Tiny)
    *   Poky-tiny 是尝试基于 Yocto 做一个很小的系统，Darren Hart 说

```
meta-tiny 是我的一个实验项目，用来验证我们可以用现有的代码和架构构建什么东西。
我发现我们可以在不裁剪任何功能的前提下，节约大概 10% 的核心镜像空间。
我们可以在保持 IPV4 可用的前提下，节省 20% 空间。 
```

*   *   幻灯片 [Tuning Linux For Embedded Systems: When Less Is More](http://elinux.org/images/2/2b/Elce11_hart.pdf)

## 杂项

### 内核内存溢出检测

ARM 公司的 Catalin Marinas 最近贡献了一个内存溢出检测工具给 Linux 内核（在 2.6.17 版本？）。将来可能会合入主线仓库。相关 LKML 讨论记录：[`lkml.org/lkml/2006/6/11/39`](http://lkml.org/lkml/2006/6/11/39)

### 系统的大小是怎样影响性能的

已经有理论证明减少系统大小可以提高性能，因为这减少了缓存匹配失败的几率。在 Linux 下好像没有实际数据来支持这个理论，但是在内核邮件列表里已经讨论过。

查看 [this post by Linus Torvalds](http://groups.google.com/group/linux.kernel/msg/e1f9f579a946333e?hl=en&)

### 缩减桌面发行版本的文件系统

这有一个很好的文档，是关于怎样从一个桌面发行版本里裁剪不需要的文件。实例的版本是 LFS，但是在其他发行版本上也是可以工作的。

[`www.linuxfromscratch.org/hints/downloads/files/OLD/stripped-down.txt`](http://www.linuxfromscratch.org/hints/downloads/files/OLD/stripped-down.txt)

### 极小系统

该节罗列了各种各样的，关于生成绝对小型系统的尝试。

*   Vitaly Wool 描述了在一个 2MB 存储和 256K 内存的 ST MCU 上，运行 2.6.33 内核
    *   [Linux for Microcontrollers: Spreading the Disease (PDF)](http://eLinux.org/images/c/ca/Spreading.pdf "Spreading.pdf") (在 2014.4 ELC 上展示过)
*   有人在一个只有 128K 内存的处理器上，跑着老版本的 BSD。（你没看错，是 128K）
    *   [`olimex.wordpress.com/2012/04/04/unix-on-pic32-meet-retrobsd-for-duinomite/`](http://olimex.wordpress.com/2012/04/04/unix-on-pic32-meet-retrobsd-for-duinomite/)

[分类](http://eLinux.org/Special:Categories "Special:Categories"):

*   [系统裁剪](http://eLinux.org/Category:System_Size "Category:System Size")

# Compiler Optimization

> From: [eLinux.org](http://eLinux.org/Compiler_Optimization "http://eLinux.org/Compiler_Optimization")

# Compiler Optimization

Here's a good overview on compiler optimizations: [`en.wikipedia.org/wiki/Compiler_optimization`](http://en.wikipedia.org/wiki/Compiler_optimization)

Here's some info about GCC optimization techniques: [`www.redhat.com/software/gnupro/technical/gnupro_gcc.html`](http://www.redhat.com/software/gnupro/technical/gnupro_gcc.html)

Effects of optimization options are explained in [this LJ article](http://www.linuxjournal.com/article/7269).

A note of warning from [Gentoo wiki](http://www.gentoo.org/doc/en/gcc-optimization.xml) on optimization flags:

-O3: This is the highest level of optimization possible, and also the riskiest. It will take a longer time to compile your code with this option, and in fact it should not be used system-wide with gcc 4.x. The behavior of gcc has changed significantly since version 3.x. In 3.x, -O3 has been shown to lead to marginally faster execution times over -O2, but this is no longer the case with gcc 4.x. Compiling all your packages with -O3 will result in larger binaries that require more memory, and will significantly increase the odds of compilation failure or unexpected program behavior (including errors). The downsides outweigh the benefits; remember the principle of diminishing returns. Using -O3 is not recommended for gcc 4.x.

In the following [e-mail](http://gcc.gnu.org/ml/gcc/2004-04/msg01409.html), Jim Wilson, who apparently supports gcc, writes:

```
From: Jim Wilson <wilson at specifixinc dot com>
Date: Thu, 29 Apr 2004 15:58:28 -0700
Subject: Re: optimization issue about -O2 and -Os
------------------------------------------------------------
...
The -Os option is buggy. You might want to report a bug into our bugzilla
bug datase. See http://gcc.gnu.org/bugs.html for more info on reporting bugs.

Though the -Os option is based on the -O2 option, it is a different option, that
generates different code, and has different bugs. 
```

[Tim Riker](http://eLinux.org/User:TimRiker "User:TimRiker"): this is a bit overly dramtic. -Os is widely used and widely supported. The link is to a thread about general information and does not refer to any specific bug from what I can see. Try -Os out. If you have issues, try -O2 instead. In general -Os will work. Be very careful in tweaking kernel optimizations. There is kernel code that only works with the existing optimizations.

Gentoo has also a very good overview over [Safe Cflags](http://en.gentoo-wiki.com/wiki/Safe_Cflags) for different architectures and cpus.

## Link-time optimization (LTO)

*   gcc front-ends (parsers) produce GIMPLE, which is in "static single assignment" (SSA) form
*   Then, gcc optimizes the code, and converts to RTL (Register Transfer Language)
*   RTL is converted to assembler by an architecture-specific back-end. Then the assembler is called to convert to machine code
*   Finally, the linker is called to combine object files

### gcc LTO support

*   if -flto is used, then LTO information (GIMPLE) is stored in a special ELF section of a .o file, and used at link time to perform more optimization
*   You may need to use -fwhole-program in conjunction with -flto at link time in order to get the full set of optimizations
*   Using this option requires a lot of memory and takes more time to build the kernel
*   Some resources:
    *   [`kemiisto.ru/2011/09/gcc-lto-3-basic-usage/`](http://kemiisto.ru/2011/09/gcc-lto-3-basic-usage/)
    *   See the -flto section of: [`gcc.gnu.org/onlinedocs/gcc/Optimize-Options.html`](http://gcc.gnu.org/onlinedocs/gcc/Optimize-Options.html)

### Linux kernel LTO support

Andi Kleen produced a set of patches to support LTO in the Linux kernel (originally for version 3.6 of the kernel and gcc 4.7)

*   [Link-time optimization for the kernel (LWN.net)](http://lwn.net/Articles/512548/)
*   Code is available at: [`github.com/andikleen/linux-misc`](https://github.com/andikleen/linux-misc)
    *   see the lto-3.x branches
    *   note that the code requires the const-sections patches, gcc 4.7 and a special binutils as well, in order to work
        *   as of August 2012, this code was considered highly experimental

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [System Size](http://eLinux.org/Category:System_Size "Category:System Size")
*   [Compiler](http://eLinux.org/Category:Compiler "Category:Compiler")

# Compressed printk messages

> From: [eLinux.org](http://eLinux.org/Compressed_printk_messages "http://eLinux.org/Compressed_printk_messages")

# Compressed printk messages

Summary Compressed printk messages

Proposer Tim Bird - Sony Mobile Communications

Status Selected to be sponsored by the CE Workgroup

## Contents

*   1 Description
    *   1.1 Miscelaneous issues
*   2 Related work
*   3 Scope
*   4 Contractor Candidates
*   5 Comments

## Description

Attempts have been made in the past to compress printk messages to save kernel runtime footprint. There is an option to disable all printks, but many embedded developers do not use it, even when they find the space savings attractive, because they still would like to see kernel debug messages.

This project would consist of researching mechanisms that could be used to automatically (at compile-time) compress the kernel's printk messages, and transparently expand them at runtime.

The goal would be to no have user-visible change in behaviour for the kernel, as well as no required developer-visible changes in the source code. Probably, a new kernel option would be used to control this feature.

The work would involve parsing the kernel source code, extracting the messages (and possibly replacing them in source, during the compilation), compressing them, and replacing the original strings with references to the compressed messages (in a way that the messages can be uncompressed transparently at runtime.)

### Miscelaneous issues

There may be an issue with finding all kernel messages, due to the number of macros (probably in the hundreds) that are used to wrap printks. This feature might still be useful, even if not all kernel messages could be converted, as long as significant size savings were made available by using the feature. Significant size savings would be on the order of 50K to 100K.

There might also be some benefit from message consolidation. (I don't know if the compiler already coalesces identical strings, but this system should be able to.)

## Related work

*   Timothy Miller did some work on this in 2003
    *   See [`lwn.net/Articles/28935/`](http://lwn.net/Articles/28935/)
    *   See [`lkml.org/lkml/2003/6/6/207`](https://lkml.org/lkml/2003/6/6/207)
*   See also some ideas here:
    *   [`selenic.com/pipermail/linux-tiny/2005-June/000208.html`](http://selenic.com/pipermail/linux-tiny/2005-June/000208.html)

## Scope

Unknown - 4 to 8 weeks?

## Contractor Candidates

None yet.

## Comments

This project was proposed in 2012, but not sponsored that year.

Jean-Christophe PLAGNIOL-VILLARD says feature could be useful for barebox as well.

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Project proposals 2012](http://eLinux.org/Category:Project_proposals_2012 "Category:Project proposals 2012")
*   [Project proposals 2013](http://eLinux.org/Category:Project_proposals_2013 "Category:Project proposals 2013")

# Compressed printk messages - Results

> From: [eLinux.org](http://eLinux.org/Compressed_printk_messages_-_Results "http://eLinux.org/Compressed_printk_messages_-_Results")

# Compressed printk messages - Results

## Contents

*   1 The origin
    *   [1.1 Timothy's approach^([2])](#timothy-s-approach-2)
    *   1.2 Very intrusive and large overhead, yet three problems identified
*   2 Extracting
    *   2.1 Option 1: Scan the source files
    *   2.2 Option 2: Put printk strings to own section
        *   2.2.1 Extracting: own section
    *   2.3 Upstreaming likeliness
*   3 Compressing
    *   3.1 Algorithms
        *   3.1.1 Requirements
        *   3.1.2 Conclusion
    *   3.2 Codebooks to the rescue?
    *   3.3 Codebooks & UTF8
*   4 Replacing
    *   4.1 Source code level
    *   4.2 Own section
*   5 Conclusion
    *   5.1 Summary
    *   5.2 Further issues (from a higher level)
*   6 Other approaches
    *   6.1 Turn the viewpoint
    *   6.2 Print from central locations
    *   6.3 Prefixes
        *   6.3.1 Prefixes: Dead simple tinyfication
        *   6.3.2 Prefixes: More easy stuff
    *   6.4 Copy'n'paste
    *   6.5 Layer 8
*   7 Summary
    *   7.1 Compressed printk-strings, only for corner-cases
    *   7.2 General improvements first, benefits for all

# The origin

Inspiration for this project originated in experiments conducted by Timothy Miller in 2003^([[1]](#cite_note-1)). His experiments lead to the assumption that printk strings in the Linux Kernel can be compressed by 50% (~4% of the total size). No code or patches have been posted, yet the description of his ideas and the published codebook allow a discussion of his approaches, and of general challenges with this topic.

## Timothy's approach^([[2]](#cite_note-2))

1.  Compile kernel and keep `.i`-files
2.  Filter them for printk strings
3.  Compress those strings using tokenization
4.  Create copies of the source files
5.  There, replace strings with tokens
6.  Compile again

Further notes:

*   not even sure depacking at printk was ever made
*   `allyesconfig` was used for the tests
*   based on 2.4.20 and 2.5.68

## Very intrusive and large overhead, yet three problems identified

1.  Extract printk format strings
2.  Compress printk format strings
3.  Replace printk format strings

# Extracting

Problem: Find all printk-strings

*   There are *lots* of functions/defines embedding printk/vprintk_emit
*   They are nested in all ways you can think of
*   Moving target, there will be more like `<new_subsys>_dev_err, ...`

## Option 1: Scan the source files

*   needs to know *all* printk-emerging functions
*   misses merging of literals at compiler level
*   needs to handle all ways of string concatenation in the source files
*   this is what was originally done by Timothy Miller

## Option 2: Put printk strings to own section

*   scales better (only base functions need to be converted)
*   compiler does the merging and concatenation
*   loses knowledge where strings came from
*   needs non-trivial changes to core functions
*   experimentally tried out for this research

### Extracting: own section

Here is an example how printk was modified to put the string into a seperate section.

Define a wrapper:

```
+#define __printk(fmt, args...) \
+do { \
+   if (__builtin_constant_p(fmt)) { \
+       static const __attribute__((section("__printk"))) \
+           char __f[] = fmt; \
+       printk(__f, ##args); \
+   } else \
+       printk(fmt, ##args); \
+} while (0) 
```

And apply it (one example here):

```
 #define pr_emerg(fmt, ...) \
-   printk(KERN_EMERG pr_fmt(fmt), ##__VA_ARGS__)
+   __printk(KERN_EMERG pr_fmt(fmt), ##__VA_ARGS__)
 #define pr_alert(fmt, ...) \
-   printk(KERN_ALERT pr_fmt(fmt), ##__VA_ARGS__)
+   __printk(KERN_ALERT pr_fmt(fmt), ##__VA_ARGS__) 
```

Similar approaches have been implemented for `dev_*` and `BUG/WARN`. However, due to various side effects, a full kernel build could not be achieved in the timeframe for this project.

## Upstreaming likeliness

However, since the own section approach touches many files close to the core in nasty ways and will most probably cause side-effects, it is extremely unlikely to be accepted upstream. Same goes for the original approach scanning the intermediate files.

# Compressing

## Algorithms

### Requirements

*   needs to handle lots of small strings
*   should be instantly available (not somewhere in the middle of packed data)
*   no significant overhead, both memory and cpu-time

### Conclusion

*   no sliding window algos (LZ and friends): can't extract slices & lots of bitwise shiftings
*   no variable length encoding (Huffman and friends): can't extract slices & lots of bitwise shifting
*   no frequency based compression (stats3^([[3]](#cite_note-3))): needs 2MB RAM & also bitshifting

## Codebooks to the rescue?

*   tokenization is actually a good option
*   BytePairEncoding works, too
*   both achieve around 50% of compression
*   even today around 4% of the kernel size gained
*   estimation based on manually compressed printk sections

However:

*   `allyesconfig` is unrealistic for tiny systems
*   smaller kernels means smaller pool for codes
*   what about modules and their strings?
    *   share codebook from the monolithic kernel -> modules are tied to that build
    *   modules have their own codebook -> overhead eats gain

Brainstorming:

*   hardcode one pre-generated codebook especially suited to kernel printk strings?
*   would save second kernel compile, too, if codebook is previously known
*   loses some compression ratio since it is not the optimal codebook

## Codebooks & UTF8

Tokenization and BPE need unused characters for their symbols which might collide with UTF8 encoding. While UTF8 also has 'illegal encodings' which could be hijacked as compression symbols^([[4]](#cite_note-4)), this is approach is hackish and will also decrease the compression factor by 50% (compression symbols are then 16 bit instead of 8).

Reusing unused ASCII characters as compression symbols is technically sensible here. However, giving up UTF8 cleanliness will probably be not well received upstream.

# Replacing

## Source code level

In the original implementation, the source code was piped through a filter on the second build of the kernel. Not being able to see what was actually compiled is expected to raise eyebrows when upstreaming.

## Own section

Compressing the special printk sections turned out to be rather easy with recent binutils. However, updating all references to the strings is expected to be complex. In this timeframe, it was not possible to research the topic. However, heavily modifying object files as a post-processing step, maybe with modified binutils, is expected to have serious problems upstream.

# Conclusion

## Summary

All solutions to the problems investigated here turned to be very hackish already at the drafting phase. The likeliness of going upstream is close to zero. They are also no good candidates for keeping them out-of-tree since they tend to be very fragile when it comes to kernel updates.

## Further issues (from a higher level)

It is worth noting that printk strings are only a subset of all strings in the kernel. For example, devicetree uses a lot of strings and keeps adding more. They might be easier to tackle since they are largely accessed via `of_*` functions, but this will also add more complexity. To be worth this effort and receive more gain, the problem should be reevaluated at a higher level, considering all strings, maybe even all .rodata.

# Other approaches

## Turn the viewpoint

From: Managing Gigabytes, Witten/Moffat/Bell, 1st edition, p. 385:

> We find ourselves in the midst of a practically important and intelectually fascinating convergence between the desire for more and better compression and the need to learn about what 'structure' there is in data.

So, trying to understand the structure and improve from there:

*   observations from 3.16-rc5:
    *   x86-64 allyesconfig
    *   arm-cortexa8 customer kernel
*   maybe a bit biased for device drivers

## Print from central locations

Proposal:

*   strings should be emitted from as centralized locations as possible
*   bonus: consistent messages

Already applied examples:

*   OOM error message removal (mm core will complain anyhow)
*   `devm_ioremap_resource()` (unifies error handling for `devm_ioremap` et al.)

Further possibilities:

*   have basic functions not printing error messages
*   have a convenience function suitable for most cases printing consistent error messages
*   `devm_get_optional` are also good candidates

Simple tests:

*   Removing error strings for `devm_clk_get` saved 20K instantly
*   lots of other candidates

## Prefixes

*   usually done by a literal prefixing the format string
*   creates unique strings which have redundancy in them
*   use `dev_*` and friends if possible

### Prefixes: Dead simple tinyfication

How `pr_fmt` gets applied:

```
#define pr_alert(fmt, ...) \
    printk(KERN_ALERT pr_fmt(fmt), ##__VA_ARGS__) 
```

How to simplify it:

```
-#define pr_fmt(fmt) KBUILD_MODNAME ": " fmt
+#define pr_fmt(fmt) "%s" fmt, KBUILD_MODNAME ": " 
```

That saved around 15% (or 250 byte) for sn9c20x. Applied to all 900 instances in the kernel, it saved about 30K (or 0.4%). It works better in some places than in others.

### Prefixes: More easy stuff

Redefine subsystem printouts:

```
 /* UBI error messages */
-#define ubi_err(fmt, ...) pr_err("UBI error: %s: " fmt "\n",      \
-                __func__, ##__VA_ARGS__)
+#define ubi_err(fmt, ...) printk("%s%s: " fmt "\n",      \
+               KERN_ERR "UBI error: ",  __func__, ##__VA_ARGS__) 
```

That saved around 15% (or 2.5K). UBIFS, JFFS2, SCSI layer seem also to be promising candidates.

## Copy'n'paste

Some code duplicates strings too easy^([[5]](#cite_note-5)):

```
switch (sd->sensor) {
case SENSOR_OV9650:
    ov9650_init_sensor(gspca_dev);
    if (gspca_dev->usb_err < 0)
        break;
    pr_info("OV9650 sensor detected\n");
    break;
case SENSOR_OV9655:
    ov9655_init_sensor(gspca_dev);
    if (gspca_dev->usb_err < 0)
        break;
    pr_info("OV9655 sensor detected\n");
    break;
case SENSOR_SOI968:
    soi968_init_sensor(gspca_dev);
    if (gspca_dev->usb_err < 0)
        break;
    pr_info("SOI968 sensor detected\n");
    break;

/* ... 7 more ... */ 
```

And in the init functions:

```
if (gspca_dev->usb_err < 0)
    pr_err("OV9650 sensor initialization failed\n");
...
if (gspca_dev->usb_err < 0)
    pr_err("OV9655 sensor initialization failed\n");
...
if (gspca_dev->usb_err < 0)
    pr_err("SOI968 sensor initialization failed\n");
... 
```

A little love helps a lot here \<3

*   proper cleanups are most sustainable
*   will not only remove strings but code as well

For example, here:

*   refactor init routines to return error values
*   print detected/failed messages depending on error value
*   use a table for sensor names and keep the rest of the string static

## Layer 8

Be aware when adding strings:

*   be precise with printk level (error, warning, debug). This makes compiling out based on level more useful.
*   be conservative with non debug strings. We need rules of thumb here...
*   try to be consistent with the strings you create.
*   generate strings instead of copy-pasting similar strings
*   try to avoid prefixes; especially for drivers, there are plenty of alternatives
*   strings cost (a little), so they should be worth it

# Summary

## Compressed printk-strings, only for corner-cases

*   the price (overhead, complexity) for compressed printk-strings is still high
*   no existing implementation, depends heavily on use case (e.g. how are modules handled?)
*   the gain can be expected to be still around 4%
    *   note that you will lose compression rate on the compressed kernel image because the already compressed printk data will compress worse
*   lots of side effects and huge increase of build time
*   looking at printk-strings is not enough (e.g. DT bindings)

## General improvements first, benefits for all

*   there is quite some potential to simply reduce number of strings, especially through centralization
*   ...which mostly make strings more consistent, too
*   cleaning up sloppy code is good, too
*   should be the first goal before stepping further, lots of KB can be saved
*   then have another look for patterns

*   ↑ [`elinux.org/Compressed_printk_messages`](http://elinux.org/Compressed_printk_messages)

*   ↑ [`lwn.net/Articles/28935/`](http://lwn.net/Articles/28935/)
*   ↑ [`www.scirp.org/journal/PaperInformation.aspx?PaperID=40783`](http://www.scirp.org/journal/PaperInformation.aspx?PaperID=40783)
*   ↑ [`en.wikipedia.org/wiki/UTF-8#Codepage_layout`](http://en.wikipedia.org/wiki/UTF-8#Codepage_layout)
*   ↑ [`git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/tree/drivers/media/usb/gspca/sn9c20x.c?id=v3.16-rc5#n1813`](https://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/tree/drivers/media/usb/gspca/sn9c20x.c?id=v3.16-rc5#n1813)

# Data Read In Place

> From: [eLinux.org](http://eLinux.org/Data_Read_In_Place "http://eLinux.org/Data_Read_In_Place")

# Data Read In Place

This page has information about "Data Read-In-Place", which is of interest to CE Linux Forum members, because it allows data pages to reside on ROM or flash, until they are written to. This is essentially a form of XIP, or copy-on-write, for data pages. XIP is used to keep text segment pages in flash permanently. This technique ("DRIP") is used to keep data pages in flash until they are written to. Since many application data pages are never written to, the net effect is a substantial reduction in RAM usage for application data segments. This feature was also called "Data Allocate On Write" previously, but the name "Data Read In Place" is closer to the already-existing term for text (Execute In Place), and is now preferred.

The total effect for one system measured by Panasonic was a reduction of 26% of the page cache allocated to processes, when the product was in the stand-by state.

The technique was described by Masashige Mizuyama, Chief Architect in the System Architecture Develompent Group, Base System Development Center, Panasonic Mobile Communications Co., Ltd.

## Description

There is no need to change kernel code for this feature. We changed the dynamic linker (in glibc of MVL CEE3.1) only. This was used with a 2.4.x Linux kernel.

Usually, the dynamic linker maps each ELF segment to the virtual address space of the process, using mmap.

We change it as follows:

```
 if(segment includes a .data section){
        Do mmap(), forcing PROT_WRITE bit off. ------(1)
        Set PROT_WRITE bit on, with mprotect(). ------(2)
     } else {
       Do mmap() as usual.
     } 
```

This is very simple.

Below is the description of how it works.

When the XIP ELF shared library is dynamically linked at runtime, because the PROT_WRITE bit is off ((1) above) when the section is mmap'ed, the kernel assumes the linker is mapping an XIP text segment. So the kernel builds a page directory table to map every physical ROM page of the segment to the process virtual address space. Each page table entry (PTE) is write-proctected.

Then, becaused of the mprotect call setting PROT_WRITE on the mapped area, the virtual memory area for the segment has write permission (in the kernel vm_area_struct). The write permission combination of PTE and vm_area_struct is identical with a page which is enabled "copy on write".

So, the the pages in the segment are mapped to ROM pages directly until they are written.

This is a kind of "fake" approach to support the feature with minimal changes. So there are some pitfalls to this approach. One problem we already notice is that get_user_pages() does not work a segment mapped like this.

The get_user_pages() function is used for mlock, ptrace and core dump by kernel. So they don't work for the segment correctly with the current implementation.

However, the advantage was much enough for us, we decided to use it. I think the implementation needs to be cleaned up by adding direct kernel support for this type of page mapping. }}}

## Documents

*   Information about this technology is included in the Panasoinc presentation made at the CELF [International Technical Jamboree](http://eLinux.org/International_Technical_Jamboree "International Technical Jamboree").
    *   [Making Mobile Phone with CE Linux](http://eLinux.org/images/a/a5/CELF_Technical_Jamboree_June13.pdf "CELF Technical Jamboree June13.pdf") by Masashige Mizuyama (Panasonic Mobile Communications), June 2005
        *   see pages 6 - 12 of the presentation

## draft patch

This patch can be applied to the runtime linker [what program is this? ld-linux.so??]

```
*** dl-load7.c    Mon Jul 11 21:26:47 2005
--- dl-load.c    Sat Jan  8 11:37:38 2005
***************
*** 801,819 ****
--- 801,849 ----
    if (! (locked_load_mode & (RTLD_LOCK_DEPENDENT_LIB_PAGES
                   | RTLD_LOCK_LIB_PAGES)))
      {
+      if((prot & PROT_WRITE) != 0 ){
+     prot = (prot & ~PROT_WRITE);
+       mapat = __mmap ((caddr_t) mapstart, len, prot,
+               fixed|MAP_COPY|MAP_FILE,
+               fd, offset);
+         if (mapat != MAP_FAILED){
+       prot = (prot | PROT_WRITE);
+       if( __mprotect(mapat,len,prot)==-1){
+         return N_("failed to map segment from shared object");
+       }
+     } else {
+       return N_("failed to map segment from shared object");
+     }
+      } else {
        mapat = __mmap ((caddr_t) mapstart, len, prot,
                fixed|MAP_COPY|MAP_FILE,
                fd, offset);
        if (mapat == MAP_FAILED)
      return N_("failed to map segment from shared object");
+      }
      }
    else if (locked_load_mode & RTLD_LOCK_MLOCK)
      {
+      if((prot & PROT_WRITE) != 0 ){
+     prot = (prot & ~PROT_WRITE);
+       mapat = __mmap ((caddr_t) mapstart, len, prot,
+               fixed|MAP_COPY|MAP_FILE,
+               fd, offset);
+         if (mapat != MAP_FAILED){
+       prot = (prot | PROT_WRITE);
+       if( __mprotect(mapat,len,prot)==-1){
+         return N_("failed to map segment from shared object");
+       }
+     } else {
+       return N_("failed to map segment from shared object");
+     }
+       } else {
        mapat = __mmap ((caddr_t) mapstart, len, prot,
                fixed|MAP_COPY|MAP_FILE,
                fd, offset);
        if (mapat == MAP_FAILED)
      return N_("failed to map segment from shared object");
+       }
        if (mlock((caddr_t) mapat, len) != 0)
      {
        return N_("failed to memory lock segment from shared object"); 
```

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [System Size](http://eLinux.org/Category:System_Size "Category:System Size")

# Kernel Size Reduction Work

> From: [eLinux.org](http://eLinux.org/Kernel_Size_Reduction_Work "http://eLinux.org/Kernel_Size_Reduction_Work")

# Kernel Size Reduction Work

This page has a list of of recent (as of 2014) ideas and projects for Linux kernel size reduction.

As of June, 2014, [Linux Tiny](http://eLinux.org/Linux_Tiny "Linux Tiny") was no longer maintained. However, new efforts to support Linux as a viable option on micro-controllers and deeply embedded systems have led to renewed interest in extreme size reduction of the kernel. Some good projects were described at ELC 2014.

## Contents

*   1 Recent work
*   2 List of recently used techniques
    *   2.1 Vitaly Wool's project
    *   2.2 micro-yocto project
        *   2.2.1 instrumentation
    *   2.3 auto-reduce
*   3 Ideas for new reductions
*   4 People or groups interested in size reductions
    *   4.1 individuals
    *   4.2 companies
*   5 Meetings and Discussions
    *   5.1 Kernel Summit 2014
    *   5.2 Size/IOT summit at ELC Europe 2014

## Recent work

*   Tom Zanussi and the Micro-yocto project (2014)
    *   Micro-Yocto is an effort in the Yocto Project to produce a minimal kernel for very small embedded systems
    *   [microYocto and the Internet of Tiny (PDF)](http://eLinux.org/images/5/54/Tom.zanussi-elc2014.pdf "Tom.zanussi-elc2014.pdf")
        *   Presentation by Tom Zanussi at ELC 2014
    *   See [`github.com/tzanussi/meta-galileo/raw/daisy/meta-galileo/README`](https://github.com/tzanussi/meta-galileo/raw/daisy/meta-galileo/README) for more information
*   Vitaly Wool described running 2.6.33 on an ST microcontroler with 2MB flash and 256K ram (2014)
    *   [Linux for Microcontrollers: Spreading the Disease (PDF)](http://eLinux.org/images/c/ca/Spreading.pdf "Spreading.pdf") - presented at ELC in April 2014

## List of recently used techniques

### Vitaly Wool's project

*   kernel XIP
*   dietnet
*   ARM thumb mode
*   application XIP on squashfs

### micro-yocto project

*   net-diet
*   LTO
*   SYSFS_SYSCALL
*   USELIB
*   BUG_ON
*   X86_IOPORT
*   CONFIG_PTRACE
*   CONFIG_SIGNALS
*   no sys_sendfile

*   network reductions:

    *   replace kernel stack with user-space stack (LWIP)
    *   TCP/UDP echo (requires app changes)

#### instrumentation

microYocto tracing hash triggers

### auto-reduce

*   LTO
*   syscall filtering
*   command line filtering
*   global constraints
*   kernel stack size

## Ideas for new reductions

*   trace-guided optimization
*   cold code compression
    *   use U of Gent code to re-try cold code compression

## People or groups interested in size reductions

### individuals

*   Josh Triplett - e-mail:josh at joshtriplett dot org
    *   new linux tiny patches
*   Tom Zanussi - e-mail: tom dot zanussi at linux dot intel dot com
    *   microYocto
*   Andi Kleen - e-mail: ak at linux dot intel dot com
    *   netdiet patches
*   Alan Cox - email: alan dot cox at linux dot intel dot com
*   Shinsuke Kato - e-mail: kato dot shinsuke at jp dot panasonic dot com
*   Tim Bird - e-mail: tim dot bird at sonymobile dot com
    *   auto-reduce stuff
*   Vitaly Wool - e-mail: vitaly dot wool at softprise dot net
    *   extreme microcontroller Linux (\<256K RAM)
*   Phil Blundell - e-mail:
    *   meta-micro (OE-based small distro - last work in 2012)

### companies

*   [Emcraft Systems](http://www.emcraft.com/) sells a variety of microcontroller-based boards and products

## Meetings and Discussions

### Kernel Summit 2014

Josh Triplett has proposed a session discussing size issues at the 2014 Kernel Summit. His draft list of proposed topics was the following: Topics:

*   An overview of why the kernel's size still matters today ("but don't we all have tons of memory and storage?")
*   Tiny in RAM versus tiny on storage.
*   How much the kernel has grown over time.
*   How size regressions happen and how to avoid them
*   Size measurement, bloat-o-meter, allnoconfig, and other tools
*   Compression and the decompression stub
*   Kconfig, and avoiding excessive configurability in the pursuit of tiny
*   Optimizing a kernel for its exact target userspace.
*   Examples of shrinking the kernel
*   Discussion on proposed ways to make the kernel tiny, how much they might save, how much work they'd require, and how to implement them with minimal impact to the un-shrunken common case.

(see [`lists.linuxfoundation.org/pipermail/ksummit-discuss/2014-May/000001.html`](http://lists.linuxfoundation.org/pipermail/ksummit-discuss/2014-May/000001.html) for the discussion thread)

### Size/IOT summit at ELC Europe 2014

We are considering holding a Size/IOT meeting at ELC Europe. Details will be placed here should this meeting end up being organized.

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [System Size](http://eLinux.org/Category:System_Size "Category:System Size")

# Kernel Size Tuning Guide

> From: [eLinux.org](http://eLinux.org/Kernel_Size_Tuning_Guide "http://eLinux.org/Kernel_Size_Tuning_Guide")

# Kernel Size Tuning Guide

This document describes how to configure the Linux kernel to use a small amount of memory and flash.

![Alert.gif](http://eLinux.org/File:Alert.gif) *Note: This document is a work in progress. Please feel free to add material anywhere you have additional information or data. Sections of this document which need additional work are denoted with [FIXTHIS] markers.*

## Contents

*   1 Introduction
*   2 Measuring the kernel
    *   2.1 Measuring the kernel image size
    *   2.2 Measuring the kernel text, data and bss segments
    *   2.3 Measuring and comparing sub-parts of the kernel
        *   2.3.1 Measuring major kernel subsystems
        *   2.3.2 Measuring individual kernel symbols
        *   2.3.3 Comparing kernel symbols between two kernel images
*   3 Kernel Size Tuning features
    *   3.1 Linux-tiny patches
    *   3.2 How to configure the kernel
    *   3.3 Kernel Configuration Options
    *   3.4 Special Instructions for some kernel options
        *   3.4.1 How to use CONFIG-PRINTK
    *   3.5 Booting without SysFS
    *   3.6 Booting without /proc fs
    *   3.7 Using kernel memory measurement features
        *   3.7.1 Kmalloc Accounting
        *   3.7.2 Bootmem Auditing
        *   3.7.3 Counting Inlines
*   4 Outline
*   5 References
*   6 Appendices
    *   6.1 Appendix A - Sample minimum configuration for ARM
    *   6.2 Appendix B - Configuration Option Details
    *   6.3 Appendix C - Things to research

## Introduction

One big problem area when using Linux in an embedded project is the size of the Linux kernel.

## Measuring the kernel

There are 3 aspects of kernel size which are important:

the size of the kernel image stored in flash (or other persistent storage)

the static size of kernel image in RAM (usually, this will be the size of the uncompressed image)

*   This includes the text, data, and BSS segments of the kernel at the time it is loaded. The text and BSS segments will stay the same size for the kernel throughout it execution. However, the data and stack segments may grow according to the needs of the system.

the amount of dynamic RAM used by the kernel.

*   This will fluctuate during system execution. However, there is a baseline amount of memory which is allocated at system startup. Application-specific RAM can be calculated to be above this minimal amount of required RAM.

For now, this document ignores Execute-In-Place (XIP) and Data-Read-In-Place (DRIP) techniques, the use of which have an impact on the amount of flash and RAM used by the kernel. See the following online resources for more information about these techniques: Kernel XIP and Data Read In Place

#### Measuring the kernel image size

The compressed kernel image is what is stored in the flash or ROM of the target device. The size of this image can be obtained by examining the size of the image file in the host filesystem with the '`ls -l`' command:

*   for example: '`ls -l vmlinuz`' or '`ls -l bzImage`' (or whatever the compressed image name is for your platform.)

#### Measuring the kernel text, data and bss segments

Use the `size` command to determine the size of the text, data, and BSS segments of a kernel image.

**Note** that the BSS segment is not stored in the kernel image because it can be synthesized at boot time by filling a block of memory with zeros. Note also that portions of the kernel text and data are set aside in special initialization segments, which are discarded when the kernel finishes booting. Because of these factors, the size command does not give you an exactly correct value for the static kernel RAM size. However, it can be used as a reasonable estimate.

To use the size command, run it with the filename of the uncompressed kernel image (which is usually `vmlinux`).

*   for example: '`size vmlinux`'

Example output:

```
 text    data     bss     dec     hex filename
2921377  369712  132996 3424085  343f55 vmlinux 
```

#### Measuring and comparing sub-parts of the kernel

In order to find areas where the kernel size can be reduced, it is often useful to break down the static size of the kernel by sub-system or by kernel symbol. The following sections describe how to see the size of each kernel sub-system, how to see the size of individual kernel symbols, and how to compare the size of symbols between two kernel versions. This is useful because as you make changes to the kernel configuration you can determine what part of the kernel is affected by the change. From this information you may be able to predict what the affect of the change will be, and decide whether the change is acceptable.

##### Measuring major kernel subsystems

The major sub-systems of the kernel are put into library object files named `built-in.o` in the corresponding sub-directory for that sub-system within the kernel build directory. The major sub-directories, at the time of this writing (for kernel 2.6.17) are: `init, user, kernel, mm, fs, ipc, security, crypto, block, ltt, drivers, sound, net, lib`

To see the size of the major kernel sections (code, data, and BSS), use the `size` command, with a wildcard for the first level of sub-directory:

*   `size */built-in.o`

You can pipe this output through `sort` to sort by the largest libraries:

*   `size */built-in.o | sort -n -r -k 4`

Example output:

```
 731596   53144   33588  818328   c7c98 drivers/built-in.o
 687960   24972    2648  715580   aeb3c fs/built-in.o
 547844   19508   28052  595404   915cc net/built-in.o
 184072    6256   32440  222768   36630 kernel/built-in.o
 141956    3300    2852  148108   2428c mm/built-in.o
  68048    1804    1096   70948   11524 block/built-in.o
  26216     768       0   26984    6968 crypto/built-in.o
  17744    2412    2124   22280    5708 init/built-in.o
  20780     292     124   21196    52cc ipc/built-in.o
  18768      68       0   18836    4994 lib/built-in.o
   2116       0       0    2116     844 security/built-in.o
    134       0       0     134      86 usr/built-in.o
   text    data     bss     dec     hex filename 
```

To see even greater detail, you can examine the size of `built-in.o` files even deeper in the kernel build hierarchy, using the `find` command:

*   `find . -name "built-in.o" | xargs size | sort -n -r -k 4`

Example output:

```
 731596   53144   33588  818328   c7c98 ./drivers/built-in.o
 687960   24972    2648  715580   aeb3c ./fs/built-in.o
 547844   19508   28052  595404   915cc ./net/built-in.o
 260019    9824    4944  274787   43163 ./net/ipv4/built-in.o
 184072    6256   32440  222768   36630 ./kernel/built-in.o
... 
```

| ![Alert.gif](http://elinux.org/File:Alert.gif) **Note: Please be careful interpreting the results from the size of the `built-in.o` files in sub-directories. In general, the object files are aggregated into the libraries of parent directories, meaning that many object files will have their size counted twice. You cannot simply add the columns for an indication of the total kernel size** |

##### Measuring individual kernel symbols

You can measure the size of individual kernel symbols using the 'nm' command. Using the `nm --size -r vmlinux`

```
[tbird@crest ebony]$ nm --size -r vmlinux | head -10
00008000 b read_buffers
00004000 b __log_buf
00003100 B ide_hwifs
000024f8 T jffs2_garbage_collect_pass
00002418 T journal_commit_transaction
00002400 b futex_queues
000021a8 t jedec_probe_chip
00002000 b write_buf
00002000 D init_thread_union
00001e6c t tcp_ack 
```

Legend: The columns of this output are:

1.  size in bytes (in hexadecimal)
2.  symbol type
3.  symbol name.

The symbol type is usually one of:

*   'b' or 'B' for a symbol in the BSS segment (uninitialized data),
*   't' or 'T' for a symbol in the text segment (code), or
*   'd' or 'D' for a symbol in the data segment.

Use '`man nm`' for additional information on the '`nm`' command.

##### Comparing kernel symbols between two kernel images

Use the bloat-o-meter command, found in the kernel source `scripts` directory, to compare the symbol sizes between two kernel images.

*   *\*`/scripts/bloat-o-meter vmlinux.default vmlinux.altconfig`

If you get an error: 'chmod a+x \<kernel-srcu0005c class="calibre16">/scripts/bloat-o-meter'</kernel-srcu0005c>

Example output, comparing a baseline kernel to one configured with CONFIG_PRINTK=n:

```
[] $ ../../linux/scripts/bloat-o-meter vmlinux.baseline vmlinux.no-printk
add/remove: 5/23 grow/shrink: 8/1541 up/down: 1141/-199824 (-198683)
function                                     old     new   delta
proc_ioctl_default                             -     610    +610
proc_reapurb                                   -     296    +296
proc_disconnectsignal                          -      88     +88
proc_releaseinterface                          -      72     +72
proc_claiminterface                            -      36     +36
xprt_adjust_cwnd                             169     182     +13
do_timer                                    1052    1063     +11
i8042_controller_reset                        78      84      +6
serio_init                                   167     172      +5
usb_exit                                      80      81      +1
early_uart_console_init                       45      46      +1
console_unblank                              103     104      +1
console_conditional_schedule                  21      22      +1
parse_early_param                            102     101      -1
machine_emergency_restart                    249     248      -1
console_callback                             239     238      -1
arch_align_stack                              45      44      -1
quirk_p64h2_1k_io                            183     181      -2
printk_time                                    4       -      -4
printk_cpu                                     4       -      -4
oops_timestamp.7                               4       -      -4
neigh_resolve_output                         733     729      -4
msg_level.4                                    4       -      -4
...
de_dump_status                             1586     313    -1273
decode_getfattr                             3156    1748   -1408
ext3_fill_super                             5980    4545   -1435
usbdev_ioctl                                6476    4846   -1630
usb_get_configuration                       4001    1878   -2123
proc_submiturb                              2294       -   -2294
__log_buf                                 131072       - -131072 
```

## Kernel Size Tuning features

The Linux kernel includes a number of options for to control the features and options it supports. The kernel, over time, has accumulated a large set of features and capabilities. But many features are not needed in Consumer Electronics products. By carefully tuning the kernel options, you can omit many parts of the kernel and save memory in your product.

#### Linux-tiny patches

The Linux-tiny patch set is a set of patches maintained by Matt Mackall developed with the intent to help a developer reduce the size of the Linux kernel.

These patches are described at: Linux Tiny

The Linux-tiny patch set includes a number of different patches to allow the kernel to be reduced in size. Sometimes, the size reductions are accomplished by reducing the number of objects for a particular features (like the number of possible swap areas, or the number of tty discipline structures). Sometimes, the size reductions are achieved by removing features or functions from the kernel.

Here is a list of the individual Linux-tiny patches that are available for the 2.6.22 kernel at Linux Tiny Patch Details

Please note that the last patch in this list ("do-printk") is available separately from the main Linux-tiny patch set. Please find this patch at: [Do Printk](http://eLinux.org/Do_Printk "Do Printk")

The patches listed in this table represent patches that can be applied to a 2.6.16 Linux kernel. However, as of version 2.6.16, many options for reducing the kernel were already available in Linux. A list of options, both from these patches and from existing code, which are interesting for tuning the kernel size is provided in the section: "Kernel configuration Options"

#### How to configure the kernel

[FIXTHIS - need detailed kernel configuration instructions]

*   use 'make menuconfig'
*   perform thorough testing of your library and applications with the smaller config
*   development vs. deployment configurations
*   describe all_no config - most times it won't boot.

#### Kernel Configuration Options

Here is a table of kernel configuration options, including a description, the default value for a kernel, and the recommended value for a smaller configuration of the kernel:

| **CONFIG option** | **Description** | **Default** | **Small** |
| --- | --- | --- | --- |
| CONFIG_CORE_SMALL | tune some kernel data sizes | N | Y |
| CONFIG_NET_SMALL | tune some net-related data sizes | N | Y |
| CONFIG_KMALLOC_ACCOUNTING | turn on kmalloc accounting | N | Y * |
| CONFIG_AUDIT_BOOTMEM | print out all bootmem allocations | N | Y * |
| CONFIG_DEPRECATE_INLINES | cause compiler to emit info about inlines | N | Y * |
| CONFIG_PRINTK | allow disable of printk code and message data | Y | N |
| CONFIG_BUG | allow elimination of BUG (and BUG_ON??) code | Y | N |
| CONFIG_ELF_CORE | allow disabling of ELF core dumps | Y | N |
| CONFIG_PROC_KCORE | allow disabling of /proc/kcore | Y | N |
| CONFIG_AIO | allow disabling of async IO syscalls | Y | N |
| CONFIG_XATTR | allow disabling of xattr syscalls | Y | N |
| CONFIG_FILE_LOCKING | allow disabling of file locking syscalls | Y | N |
| CONFIG_DIRECTIO | allow disabling of direct IO support | Y | N |
| CONFIG_MAX_SWAPFILES_SHIFT | number of swapfiles | 5 | 0 |
| CONFIG_NR_LDISCS | number of tty line disciplines | 16 | 2 |
| CONFIG_MAX_USER_RT_PRIO | number of RT priority levels (schedule slots) | 100 | 5 |
| Other config options | These are not in Linux-tiny, but help with size | default | small |
| CONFIG_KALLSYMS | load all symbols for debugging/kksymoops | Y | N |
| CONFIG_SHMEM | allow disabling of shmem filesystem | Y | N + |
| CONFIG_SWAP | allow disabling of support for a swap segment (virtual memory) | Y | N |
| CONFIG_SYSV_IPC | allow disabling of support for System V IPC | Y | N + |
| CONFIG_POSIX_MQUEUE | allow disabling of POSIX message queue support | Y | N + |
| CONFIG_SYSCTL | allow disabling of sysctl support | Y | N + |
| CONFIG_LOG_BUF_SHIFT | control size of kernel printk buffer | 14 | 11 |
| CONFIG_UID16 | allow support for 16-bit uids | Y | ?? |
| CONFIG_CC_OPTIMIZE_FOR_SIZE | Use gcc -os to optimize for size | Y | Y |
| CONFIG_MODULES | allow support for kernel loadable modules | Y | N + |
| CONFIG_KMOD | allow support for automatic kernel module loading | Y | N |
| CONFIG_PCI | allow support for PCI bus and devices | Y | Y - |
| CONFIG_XIP_KERNEL | allow support for kernel Execute-in-Place | N | N |
| CONFIG_MAX_RESERVE_AREA | ?? | ?? | ?? |
| CONFIG_BLK_DEV_LOOP | support for loopback block device | Y | Y - |
| CONFIG_BLK_DEV_RAM | support for block devices for RAM filesystems | Y | Y - |
| CONFIG_BLK_DEV_RAM_COUNT | Number of block devices for RAM filesystems | 16 | 2? |
| CONFIG_BLK_DEV_RAM_SIZE | Size of block device struct for RAM filesystems | 4096 | ?? |
| CONFIG_IOSCHED_AS | Include Anticipatory IO scheduler | Y | Y |
| CONFIG_IOSCHED_DEADLINE | Include Deadline IO scheduler | Y | N + |
| CONFIG_IOSCHED_CFQ | Include CFQ IO scheduler | Y | N + |
| CONFIG_IP_PNP | support for IP autoconfiguration | Y | N + |
| CONFIG_IP_PNP_DHCP | support for IP autoconfiguration via DHCP | Y | N + |
| CONFIG_IDE | support for IDE devices | Y | N + |
| CONFIG_SCSI | support for SCSI devices | Y | N + |

Legend:

*   "Y *" - Set to 'Y' for measurement during development, and set to 'N' for deployment.
*   "N +" - Whether you can set this to 'N' depends on whether this feaure is needed by your applications.
*   "Y -" - You probably need this, but it might we worth checking to see if you don't.

#### Special Instructions for some kernel options

##### How to use CONFIG_PRINTK

If the "do-printk" patch is applied, there are two options which control the compilation of printk elements in the kernel: CONFIG_PRINTK_FUNC and CONFIG_PRINTK. You can use these options to control how much printk support the kernel provides, and to control on a global basis whether any printk messages at all are compiled into the kernel. Another special preprocessor variable is also available, called DO_PRINTK, which provides the ability to enable printk messages inside a single C compilation unit, even if printk messages are disabled globally.

This section explains how to use these features to reduce the kernel size, while still enabling sufficient printk messages to be useful during development and deployment.

The CONFIG_PRINTK option disables all of the kernel printk calls. By setting this option to 'N' in your kernel configuration, all uses of "printk" throughout the kernel source are turned into empty statements, and omitted when the program is compiled. This provides a substantial size savings, since the kernel messages often account for more than 100 kilobytes of space in the kernel image. Setting this option to 'N' will not, however, remove the actual

```
printk 
```

code itself (just the calls to

```
printk 
```

). The CONFIG_PRINTK_FUNC option controls whether the

```
printk 
```

function and various helper functions are compiled into the Linux kernel. When this is set to 'N', CONFIG_PRINTK is automatically set to 'N', and no printk messages are compiled into the kernel. This usually saves about another 4K of size in the kernel image.

By using both CONFIG_PRINTK and CONFIG_PRINTK_FUNC, you can reduce the size of the kernel image (and that flash and RAM it requires). However, there is a drawback to eliminating all the messages. Obviously, it is then not possible to get any status, diagnostic or debug messages from the kernel! Another mechanism is available, which allows you to control on a per-file basis which printk calls are compiled into the kernel. This is the pre-processor variable DO_PRINTK.

To use DO_PRINTK, set CONFIG_PRINTK to 'N' and CONFIG_PRINTK_FUNC to 'Y' in your kernel configuration. This will globally disable all printk calls in the kernel. Now, determine the C files where you wish to enable printk messages, and add the line:

```
#define DO_PRINTK 1 
```

at the top of each file. Now, the printk calls in those files will be compiled normally. Printk calls in other modules will be omitted.

![Alert.gif](http://eLinux.org/File:Alert.gif) - **Important Note:** The DO_PRINTK variable controls how the preprocessor will treat printk statements in the code. For this reason, this statement **MUST** appear at the top of the file, before any

```
#include 
```

lines. In order to change the set of printk messages preserved in the code, you will need to modify the

```
DO_PRINTK 
```

lines, and recompile the kernel. (There is no runtime control of the printk calls.) This is a simple mechanism, but it does provide a way to omit **most** of the printk messages from the kernel while still preserving some messages that may be useful during

development or on a deployed product.

In review, there are basically 3 different settings combinations for CONFIG_PRINTK_FUNC and CONFIG_PRINTK that make sense:

| **Settings** | **Explanation** |
| **CONFIG_PRINTK_FUNC** | **CONFIG_PRINTK** |
| Y | Y | This is the default setting for the kernel configuration. In this setting the `printk` code is compiled into the kernel, and all printk calls throughout the entire source code are also compiled as part of the kernel. |
| Y | N | This leaves the actual printk() routine in the kernel, but disables all calls to printk throughout the entire source code. However, you can use DO_PRINTK in individual modules to enable the printk calls from those modules. |
| N | N | This removes the printk() routine from the kernel, and disables all kernel printk messages, and gives the smallest kernel code and data size. DO_PRINTK will NOT enable any module-specific printk calls. |

#### Booting without SysFS

(copied from linux-tiny wiki)

Turning off sysfs support can save a substantial amount of memory in some setups. One big downside is that it breaks the normal boot process because the kernel can no longer mapa symbolic device name to the internal device numbers.

Thus, you will need to pass a numeric device number in hex. For example, to boot off /dev/hda1, which has major number 3 and minor 1, you'll need to append a root== option like this:

```
/boot/vmlinuz root==0x0301 ro 
```

#### Booting without /proc fs

It is also possible to boot with

```
/proc 
```

fs, but many programs expect this psuedo-filesystem to be present and mounted. For example,

```
free 
```

and

```
ps 
```

are two commands which retrieve information from

```
/proc 
```

in order to run.

**list some workarounds here**

#### Using kernel memory measurement features

![Alert.gif](http://eLinux.org/File:Alert.gif) FIXTHIS - need instruction on bootmem auditing and counting inlines - need more detail for kmalloc accounting

##### Kmalloc Accounting

This is a features of Linux-tiny, which tracks callers of kmalloc and kfree, and produces summary statistics for kernel memory allocations, as well as detailed information about specific kmalloc callers.

This was first published by Matt Mackall in February of 2005, but was not mainlined at that time.

To see results for kernel allocations, follow these steps:

*   turn on the CONFIG_KMALLOC option. This will show up on the kernel configuration menus as "Enabled accounting of kmalloc/kfree allocations?"
*   recompile your kernel
*   boot the kernel
*   periodically, examine the accounting stats
    *   cat /proc/kmalloc

See [`lwn.net/Articles/124374/`](http://lwn.net/Articles/124374/)

##### Bootmem Auditing

##### Counting Inlines

## Outline

![Alert.gif](http://eLinux.org/File:Alert.gif) FIXTHIS - need to review outline and fill in missing material

*   Tuning the kernel

*   how to measure kernel size

*   in-kernel size reporting - kmalloc accounting

*   bloat-o-meter

*   kernel configuration options

*   mainline options

*   optional features
*   minimal config
*   sufficient API?

*   POSIX compliance

*   LSB compliance
*   LTP compliance

*   file systems

*   comparison of file system sizes

*   compiler options for reducing size

*   gcc -os

*   gcc -whole-program

*   online resources:

*   bloatwatch

*   kconfigsize

## References

*   Linux-tiny project web site: [[linux-tiny](http://www.selenic.com/linux-tiny/)]
*   eLinux wiki Linux-tiny page: Linux Tiny
*   Matt Mackall's [`elinux.org/images//8/83/Pdf.gif`](http://elinux.org/images//8/83/Pdf.gif) [Linux-tiny presentation](http://eLinux.org/images/7/72/Linux_tiny.pdf "Linux tiny.pdf") [`elinux.org/images/d/da/Info_circle.png`](http://elinux.org/File:Linux_tiny.pdf)
*   CE Linux Forum resources for reducing system size: System Size

## Appendices

#### Appendix A - Sample minimum configuration for ARM

[FIXTHIS - need ARM minimum config.]

#### Appendix B - Configuration Option Details

![Alert.gif](http://eLinux.org/File:Alert.gif)Want to fill in this section with details about configuration options.

For each option, would like to document:

*   what is size affect for different option values

*   This page & [Kernel Size Tuning Guide Config Option Impact](http://eLinux.org/Kernel_Size_Tuning_Guide_Config_Option_Impact "Kernel Size Tuning Guide Config Option Impact") describe kernel size and RAM usage impact affected by each configuration option listed in "Kernel Configuration Options" above, on i386.

*   what is affect of performance, functionality, etc.

*   what programs (if any) will stop working if option is turned off (or reduced)

#### Appendix C - Things to research

*   miniconfigs
*   how to use an initramfs (to avoid using NFS-mounted rootfs)
*   how to use a local fs (to avoid using NFS-mounted rootfs)
*   Eric Biederman's turning off CONFIG_BLOCK - will any FS work after this??

*   he got a 2.6.1 kernel (presumably all_no) to: "191K bzImage and a 323K text segment". See [here](http://groups.google.com/group/linux.kernel/browse_frm/thread/d688fe97611dcc7e/7e685339b152b7f3?hl==en&lr==&ie==UTF-8&rnum==1&prev==/groups%3Fhl%3Den%26lr%3D%26ie%3DUTF-8%26selm%3D19Kuz-872-3%2540gated-at.bofh.it#7e685339b152b7f3).

*   why is networking so big??

*   why are file systems so big??
*   capture serial output from kernel for size measurement (see grabserial program)

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Kernel Size Tuning Guide](http://eLinux.org/Category:Kernel_Size_Tuning_Guide "Category:Kernel Size Tuning Guide")
*   [System Size](http://eLinux.org/Category:System_Size "Category:System Size")

# Kernel Small Stacks

> From: [eLinux.org](http://eLinux.org/Kernel_Small_Stacks "http://eLinux.org/Kernel_Small_Stacks")

# Kernel Small Stacks

Here is some random information about small kernel stack sizes.

The default stack size for a process running in kernel space is 8K (as of 2011).

There used to be an option on x86 to reduce the stack size to 4K. And indeed there were efforts in 2006 to make this the default stack size. However, using a small stack opens up the dangerous possibility that the stack will overflow, causing a kernel hang.

Besides wasting memory, if the stack space is not really needed, 8K stacks also have an effect on, and are affected by, general kernel memory allocation. To create an 8K stack requires an order-1 allocation, meaning that 2 contiguous physical pages must be allocated together in order to create a new process stack. If memory has become fragmented, it may be impossible to fulfill an order-1 allocation, even though individual pages of physical memory may be free. Thus 4K stack allocations (order-0 allocations) are more likely to succeed. This is important for systems operating under extreme memory pressure.

There were years of debate on the kernel mailing list about whether 4K stacks should be the default, and lots of bug reports that ended up being caused stack overflows with 4K stacks enabled. The option to support 4k stacks on x86 was removed in 2010, from kernel version 2.6.37 with this commit: dcfa726280116dd31adad37da940f542663567d0

## Contents

*   1 Historical information on 4K Stacks
*   2 Stack layout
*   3 Stack measuring/monitoring mechanisms
    *   3.1 CONFIG-FRAME-WARN
    *   3.2 checkstack.pl
    *   3.3 stack-size
        *   3.3.1 ARM results
        *   3.3.2 x86-64 results
    *   3.4 CONFIG-DEBUG-STACK-USAGE
    *   3.5 Stack tracer in ftrace
    *   3.6 Stack limit patches
*   4 ARM 4K Stacks
*   5 Possible mixed stack size feature
*   6 Problems
    *   6.1 Problem routines
        *   6.1.1 do-select, do-sys-poll
        *   6.1.2 nlm-clnt-reclaim
        *   6.1.3 security-load-policy

### Historical information on 4K Stacks

Here are some articles and links to information about 4K stacks:

*   [4K Stacks in 2.6](http://lwn.net/Articles/84583/) - LWN.net, May 2004
*   [4K stacks for everyone?](http://lwn.net/Articles/150580/) - LWN.net, Sep 2005
*   [4K stacks - again](http://lwn.net/Articles/160138/) - LWN.net, Nov 2005
*   [4K stacks by default?](http://lwn.net/Articles/279229/) - LWN.net, Apr 2008

*   [`www.redhat.com/archives/rhl-list/2007-March/msg00854.html`](http://www.redhat.com/archives/rhl-list/2007-March/msg00854.html)

    *   James Wilkinson message about memory fragmentation.

## Stack layout

The kernel stack is laid out with the stack pointer at the top of each stack (at the highest stack address), growing downward for each function call and stack allocation. The thread_info structure for a process is at the bottom of the stack. There is no physical mechanism to detect, at allocation time, if the stack pointer wanders into the thread_info area of the stack. Hence, if the stack overflows (the stack pointer goes into the thread_info area), the behavior of the system is undefined.

Stack structure:

```
top     +----------------+
        | return vals    |
        |   & local vars |
        | ...            |
        |                |
        |                |
        | 0's            |
        | thread_info    |
bottom  +----------------+ 
```

## Stack measuring/monitoring mechanisms

Because of previous efforts to conserve stack space, there are actually a few different mechanisms for monitoring the kernel stack usage. Some tools report on the static size of stack usage by kernel functions (a check which is done by either the compiler or a separate tool operating on the kernel binary), and some mechanisms can report on actual stack utilization at runtime.

### CONFIG_FRAME_WARN

This kernel configuration option passes an option to the compiler to cause it to emit a warning when a static stack size for a routine is detected that is larger than the specified threshold. It requires gcc version 4.4 or later in order to work.

The gcc option used is "-Wframe-larger-than=xxx".

By default, CONFIG_FRAME_WARN has the value of 1024, but you can set it to any value from 0 to 8192.

Here is a sample of build output with this option configured to 256:

```
 ...
  CC      ipc/msg.o
  CC      ipc/sem.o
 .../linux-3.0.y/ipc/sem.c: In function 'semctl_main.clone.7':
 .../linux-3.0.y/ipc/sem.c:1021:1: warning: the frame size of 520 bytes is larger than 256 bytes
 .../linux-3.0.y/ipc/sem.c: In function 'sys_semtimedop':
 .../linux-3.0.y/ipc/sem.c:1514:1: warning: the frame size of 472 bytes is larger than 256 bytes
  CC      ipc/shm.o
  CC      ipc/ipcns_notifier.o 
```

### checkstack.pl

The kernel source includes a script to perform static stack analysis called scripts/checkstack.pl.

Usage is as follows:

```
$(CROSS_COMPILE)objdump -d vmlinux | scripts/checkstack.pl [arch] 
```

Replace [arch] with the architecture of the kernel being analyzed. Several architectures are supported, including arm, mips and x86\. You should use a cross-objdump that matches the architecture you compiled the kernel for. For example, if you used: arm-gnueabi-linux-gcc as your compiler, you would use arm-gnueabi-linux-objdump as your object dump program. This should have been included in your cross-compiler toolchain package.

Below is some sample output from using checkstack.pl. Note that the file is first dumped to an assembly file (.S), and then piped to checkstack.pl. You can examine the assembly file to see in detail the instructions used to reserve space on the stack, for routines of interest found by checkstack.pl.

An item in brackets is a module name, in case of a loadable module. The number at end is stack depth detected for function. The Leading value is the address of the stack reservation code.

```
$ arm-eabi-objdummp -d vmlinux -o vmlinux-arm.S
$ cat vmlinux-arm.S | scripts/checkstack.pl arm
0x0012c858 nlmclnt_reclaim [vmlinux-arm.o]:             720
0x0025748c do_tcp_getsockopt.clone.11 [vmlinux-arm.o]:  552
0x00258d04 do_tcp_setsockopt.clone.14 [vmlinux-arm.o]:  544
0x000b2db4 do_sys_poll [vmlinux-arm.o]:                 532
0x00138744 semctl_main.clone.7 [vmlinux-arm.o]:         532
0x00138ec4 sys_semtimedop [vmlinux-arm.o]:              484
0x000c5618 default_file_splice_read [vmlinux-arm.o]:    436
0x00251de4 do_ip_setsockopt.clone.22 [vmlinux-arm.o]:   416
0x00191fd4 extract_buf [vmlinux-arm.o]:                 408
0x0019bc24 loop_get_status_old [vmlinux-arm.o]:         396
0x000e6f88 do_task_stat [vmlinux-arm.o]:                380
0x0019b8f0 loop_set_status_old [vmlinux-arm.o]:         380
0x002078f0 snd_ctl_elem_add_user [vmlinux-arm.o]:       376
0x0026267c tcp_make_synack [vmlinux-arm.o]:             372
0x00127be4 nfs_dns_parse [vmlinux-arm.o]:               368
0x000b2240 do_select [vmlinux-arm.o]:                   340
0x001f6f10 mmc_blk_issue_rw_rq [vmlinux-arm.o]:         340
0x001726a0 fb_set_var [vmlinux-arm.o]:                  336
0x000c58d0 __generic_file_splice_read [vmlinux-arm.o]:  316
0x0022a074 dev_seq_printf_stats [vmlinux-arm.o]:        316
0x0006383c tracing_splice_read_pipe [vmlinux-arm.o]:    308
0x000c53c8 vmsplice_to_pipe [vmlinux-arm.o]:            308
0x002512b4 do_ip_getsockopt [vmlinux-arm.o]:            304
0x00225f68 skb_splice_bits [vmlinux-arm.o]:             300 
```

### stack_size

Below are some results for static analysis of function stack depth in the Linux kernel, using 'stack_size'. (stack_size is a custom tool written by Tim Bird, before he found out about checkstack.pl.)

See this kernel message for a patch containing 'stack_size': [`lkml.org/lkml/2011/10/18/479`](https://lkml.org/lkml/2011/10/18/479)

#### ARM results

The following results include the reduction in size for 'struct poll_wqueue':

```
$ ./stack_size vmlinux-arm
============ RESULTS ===============
number of functions     = 14371
max function stack depth= 736
function with max depth = nlmclnt_reclaim

Function Name                    Stack Depth
=====================            ===========
__generic_file_splice_read        352
do_select                         376
loop_set_status_old               392
snd_ctl_elem_add_user             408
extract_buf                       432
default_file_splice_read          472
sys_semtimedop                    520
semctl_main.clone.7               560
do_sys_poll                       568
nlmclnt_reclaim                   736 
```

#### x86_64 results

```
$ ./show_stacks_x86_64.py vmlinux-x86_64.o
============ RESULTS ===============
number of functions     = 29587
max function stack depth= 1208
function with max depth = security_load_policy

Function Name                    Stack Depth
=====================            ===========
x86_schedule_events               632
drm_crtc_helper_set_mode          632
sys_semtimedop                    664
do_task_stat                      712
node_read_meminfo                 760
default_file_splice_read          792
do_select                         920
nlmclnt_reclaim                   936
do_sys_poll                      1048
security_load_policy             1208 
```

### CONFIG_DEBUG_STACK_USAGE

There is kernel feature to output the stack usage of each process, as well as the process that uses the most stack in the system. This is controlled by the kernel configuration option CONFIG_DEBUG_STACK_USAGE.

This option modifies the process creation path so that the stack is initialized with all zeros. At any time, a request can be made to measure the stack depth of all running processes. This is calculated by measuring the amount of zeros from the end of thread_info to the first non-zero item on each stack.

In more detail, it does the following:

*   at process creation time, fills the stack with zeros (kernel/fork.c)
*   on sysrq 't', show free space, from call to stack_not_used() (kernel/sched.c)
    *   it shows as 0 otherwise ??
*   define check_stack_usage(), which emits printks on each low-water hit
    *   low-water appears to be global over all stacks
    *   check_stack_usage() is only called on process exit, so you might not know about a problem process until very late
*   stack_not_used() is defined in include/linux/sched.h. It counts the number of zero bytes following the end of thread_info going up.

As the systems runs, any time the stack low-water mark is exceeded, then the kernel prints a report (logs it to the kernel message log). This can be viewed with the dmesg command:

Here is example output, greping the kernel message log for "greatest":

```
# dmesg | grep greatest
kworker/u:0 used greatest stack depth: 10564 bytes left
busybox used greatest stack depth: 9512 bytes left
busybox used greatest stack depth: 9504 bytes left
grep used greatest stack depth: 9372 bytes left
init used greatest stack depth: 9028 bytes left 
```

To get a report on the stack usage of currently running processes, you use 't' with sysrq. For example:

```
$ echo t >/proc/sysrq-trigger 
```

A stack dump for each process is shown, along with stack usage information.

Here is some sample output:

```
$ echo t >/proc/sysrq-trigger
$ dmesg | grep -v [[]
  task                PC stack   pid father
init            S 802af8b0   932     1      0 0x00000000
kthreadd        S 802af8b0  2496     2      0 0x00000000
ksoftirqd/0     S 802af8b0  2840     3      2 0x00000000
kworker/0:0     S 802af8b0  2776     4      2 0x00000000
kworker/u:0     S 802af8b0  2548     5      2 0x00000000
migration/0     S 802af8b0  2704     6      2 0x00000000
migration/1     S 802af8b0  2704     7      2 0x00000000
kworker/1:0     S 802af8b0  2560     8      2 0x00000000
ksoftirqd/1     S 802af8b0  3024     9      2 0x00000000
khelper         S 802af8b0  2824    10      2 0x00000000
sync_supers     S 802af8b0  2872    11      2 0x00000000
bdi-default     S 802af8b0  2584    12      2 0x00000000
kblockd         S 802af8b0  2824    13      2 0x00000000
khubd           S 802af8b0  2744    14      2 0x00000000
rpciod          S 802af8b0  3024    15      2 0x00000000
kworker/0:1     S 802af8b0  1240    16      2 0x00000000
kswapd0         S 802af8b0  2848    17      2 0x00000000
fsnotify_mark   S 802af8b0  2632    18      2 0x00000000
nfsiod          S 802af8b0  3024    19      2 0x00000000
kworker/u:1     S 802af8b0  2840    20      2 0x00000000
hoge            S 802af8b0  3024    23      2 0x00000000
kworker/1:1     S 802af8b0  1716    24      2 0x00000000
flush-0:13      S 802af8b0  2528    28      2 0x00000000
telnetd         S 802af8b0  1848    48      1 0x00000000
ash             R running   1264    56      1 0x00000000 
```

### Stack tracer in ftrace

For detailed instructions, see: [Ftrace#Find_deepest_kernel_stack](http://eLinux.org/Ftrace#Find_deepest_kernel_stack "Ftrace")

Rough notes:

*   Turn on CONFIG_STACK_TRACER in kernel config
*   pass 'stacktrace' on kernel command line, or at runtime do:
*   echo 1 >/proc/sys/kernel/stack_tracer_enabled
*   mount -t debugfs none /sys/kernel/debug
*   \
*   cat /sys/kernel/debug/tracing/stack_trace

See [`lwn.net/Articles/295955/`](http://lwn.net/Articles/295955/)

### Stack limit patches

Sony has a series of patches which implement a stack guard page, and use that to show a backtrace if the process uses more than a specified amount in its kernel stack. In essence, this creates a hard failure for a controlled stack overflow event.

These patches do the following: Add the config options:

*   CONFIG_SNSC_DEBUG_STACK_LIMIT - perform stack layout changes
*   CONFIG_SNSC_SUPPORT_4KB_MAPPING - re-map kernel memory for 4K TLB mappings
*   CONFIG_SNSC_DEBUG_STACK_LIMIT_MANUAL - allow a user-specified starting stack size

the patches do several things:

*   change the stack layout to place thread_info at the top of the stack rather than at the bottom
*   change the stack size to 16KB (order 2)
*   allow configuring the default starting position of the stack, to simulate an arbitrary stack size (default is right below thread_info)
*   remap the kernel memory so that 4KB mappings are used
    *   this allows unmapping the bottom page of the stack, so that a fault occurs when the page is accessed (on a stack overflow for a manually configured small stack)
    *   this is only turned on if you specify 'use_4kb_mapping' on the
*   unmap the bottom page of the stack (the guard page)
    *   this is only turned on if you specify 'unmap_stack'

[ FIXTHIS - need to add more to this section]

## ARM 4K Stacks

In October of 2011, Tim Bird submitted patches to add 4K stack support for the ARM architecture to the Linux kernel. The patches he submitted are here:

*   [`lkml.org/lkml/2011/10/18/476`](https://lkml.org/lkml/2011/10/18/476)
    *   ARM 4Kstacks: introduction
*   [`lkml.org/lkml/2011/10/18/477`](https://lkml.org/lkml/2011/10/18/477)
    *   ARM 4Kstacks: Add support for 4K kernel stacks to ARM
*   [`lkml.org/lkml/2011/10/18/479`](https://lkml.org/lkml/2011/10/18/479)
    *   ARM: Add static kernel function stack size analyzer, for ARM
*   [`lkml.org/lkml/2011/10/18/481`](https://lkml.org/lkml/2011/10/18/481)
    *   ARM 4Kstacks: Decrease poll and select stack usage, when using 4K stacks

After some discussion, these patches were not accepted into mainline.

The following points were problems that needed to be addressed for this patch set:

```
* Should make this depend on CONFIG_EXPERT (to warn developers who attempt to use this)
* Should add interrupt stacks to ARM to take pressure off of 4K stacks
* Should determine if 4K stacks use case will cause ripple effect and lots of ifdefs and hard maintenance issues throughout the kernel.  In particular, need to look at:
  * %pV recursion in printk.  This is used by several file systems
    * question: for operation or just reporting?? 
```

Dave Chinner ([here](https://lkml.org/lkml/2011/10/19/56)) wrote:

```
There's a good reason 4k stacks went away: it's
simply not enough space for the deep 60+ function call stacks we see
with even trivial storage stack configurations.

The stack usage on 32 bit ARM and x86 is going to be similar, so
you're going to be fighting a losing battle - there is no stack
space that can be trimmed from most paths. To make matter worse,
there's been stuff done to the storage stack that significantly
increases stack usage since 4k stacks went away (e.g. the on-stack
block plugging changes).

And FWIW, XFS is widely used on ARM based NAS devices, so this isn't
a theoretical problem I'm making up here... 
```

This is a pretty good example of people denying a use case with a red herring.

## Possible mixed stack size feature

One option for realizing most of the benefits of 4K stacks, while preserving more robustness, would be to utilize mixed stack sizes in the kernel.

Processes known to exercise only certain, stack-conservative, code paths in the kernel could utilize 4K stacks, and other processes could utilize 8K (or larger) stacks for safety purposes.

There would have to be a mechanism to support selecting the stack size at process creation time. One simple mechanism would be to introduce a child_stack_size parameter in thread_info, settable via /proc, and use this on the clone system call.

A system to support different-sized stacks by changing the stack size of already running processes would likely be too complicated to be practical.

Currently, the method of accessing the thread_info structure for a task in the kernel relies on the stack size of all processes being consistent among all processes (and being a power of two). A pointer to thread_info is obtained by masking the current stack pointer with a value dependent on the (global) size of the stack. With mixed stack sizes, a different mechanism would be needed to convert from stack pointer to thread_info. One method which might work would be to pre-allocate a stack pool for non-standard-sized stacks, and use pointer comparison to see if SP fell within the pool. If the pool was exhausted, the default stack size would be used.

This would work best in the case of a system with an identifiable number of processes which would use special-sized stacks.

## Problems

This area has random notes for stack depth management issues:

### Problem routines

#### do_select, do_sys_poll

The structure 'struct poll_wqueue' is a large data structure used for the select() and poll() system calls to manage a sub-set of the file descriptors being polled. This structure includes an array of wait queues which can be used immediately (without requiring or waiting for a memory allocation) for polling file I/O.

The number of entries in the array of wait queues can be controlled via macros in include/linux/poll.h

#### nlm_clnt_reclaim

network lock manager for network filesystems. Not applicable to most embedded products (except possibly during development).

#### security_load_policy

An selinux routine, not applicable to embedded.

# Linux Tiny

> From: [eLinux.org](http://eLinux.org/Linux_Tiny "http://eLinux.org/Linux_Tiny")

# Linux Tiny

## Contents

*   1 Introduction
*   2 Resources
    *   2.1 Patches
    *   2.2 Mailing Lists
    *   2.3 Presentations
*   3 News
*   4 Old patch releases
    *   4.1 Old release downloads
    *   4.2 Installation Instructions
    *   4.3 Auxiliary tools (for Linux-tiny developers)
*   5 How to use
*   6 Test Project and Results
*   7 Old usage notes
*   8 Ideas and patch candidates
*   9 Original Announcements and e-mail

## Introduction

The goal of the linux-tiny project is to reduce the memory and disk footprint of the mainstream Linux kernel, as well as to add features to aid working on small systems. Target users are developers of embedded system and users of small or legacy machines such as 386s and handheld devices.

Patch releases against the mainstream Linux kernel have been discontinued. Instead of spending a valuable amount of time carrying patches forward from one kernel version to the next, we chose to focus on a few patches and spend our time trying to get them merged into the mainline kernel.

Visit the [FAQ](http://eLinux.org/Tiny-FAQ "Tiny-FAQ") for more information.

## Resources

### Patches

*   Available on Gitorious ([HTTP](https://gitorious.org/tinylab/tinylinux), GIT). This repository is currently not maintained.

### Mailing Lists

*   [Archive of linux-tiny](http://selenic.com/pipermail/linux-tiny/)

### Presentations

*   Kernel Size Report presentation by Matt Mackall at Embedded Linux Conference in April 2008. [Video](http://free-electrons.com/pub/video/2008/elc/elc2008-matt-mackall-kernel-size.ogg) is available.
*   [Linux-tiny presentation](http://free-electrons.com/pub/conferences/2008/elc/linux-tiny.pdf) by Thomas Petazzoni ([Free Electrons](http://free-electrons.com)) at Embedded Linux Conference in April 2008. [Video](http://free-electrons.com/pub/video/2008/elc/elc2008-thomas-petazzoni-linux-tiny.ogg) is available.
*   [Linux-tiny presentation](http://free-electrons.com/articles/linux-tiny/) by Michael Opdenacker ([Free Electrons](http://free-electrons.com)) at Embedded Linux Conference Europe in November 2007.
*   [`elinux.org/images//8/83/Pdf.gif`](http://elinux.org/images//8/83/Pdf.gif) [Linux-tiny revival](http://eLinux.org/images/5/5c/Linux-tiny-revival-jamboree16.pdf "Linux-tiny-revival-jamboree16.pdf") [`elinux.org/images/d/da/Info_circle.png`](http://elinux.org/File:Linux-tiny-revival-jamboree16.pdf) presentation given by Tim Bird at the Japan Technical Jamboree #16 in August 2007
*   [Linux-tiny Presentation](http://tree.celinuxforum.org/CelfPubWiki/TechConference2005Docs?action=AttachFile&do=get&target=linux-tiny.pdf) by Matt Mackall, delivered at CELF's Technical Conference in April 2005.

## News

*   A LWN.net article is at: [LWN Article (Sep 2007), By Jake Edge](http://lwn.net/Articles/251573/)
*   Michael Opdenacker was announced as the new maintainer.
    *   See the [project revival message to the kernel mailing list](http://lkml.org/lkml/2007/9/19/342)
*   A Linux Weekly News article (2003) about the project is at: [LWN Article](http://lwn.net/Articles/63516/)

## Old patch releases

### Old release downloads

*   Linux 2.6.23.0:
    *   [Media:Tiny-quilt-2.6.23-0.tar.bz2](http://eLinux.org/images/3/3c/Tiny-quilt-2.6.23-0.tar.bz2 "Tiny-quilt-2.6.23-0.tar.bz2")
*   Linux 2.6.22.5:
    *   [Media:Tiny-quilt-2.6.22.5-1.tar.gz](http://eLinux.org/images/7/79/Tiny-quilt-2.6.22.5-1.tar.gz "Tiny-quilt-2.6.22.5-1.tar.gz")
*   Linux 2.6.22.1:
    *   [Media:Tiny-quilt-2.6.22.1-1.tar.gz](http://eLinux.org/images/0/0e/Tiny-quilt-2.6.22.1-1.tar.gz "Tiny-quilt-2.6.22.1-1.tar.gz")
*   Linux 2.6.16.19
    *   broken-out patchset: [2.6.16.19-tiny1-broken-out](http://eLinux.org/images/8/82/2.6.16.19-tiny1-broken-out.tar.bz2 "2.6.16.19-tiny1-broken-out.tar.bz2")
    *   Porting notes: [notes](http://eLinux.org/images/b/b9/LinuxtinyNOTES.txt "LinuxtinyNOTES.txt")
*   Linux 2.6.0 to 2.6.14:
    *   Older Linux-tiny patchsets can be downloaded from: [Linux Tiny Patchset](http://selenic.com/tiny/)

### Installation Instructions

These instructions were for the Linux-tiny release for 2.6.23\. Adjust accordingly for a different kernel version.

To apply the above patches, you need the referenced kernel (2.6.23) and [quilt](http://savannah.nongnu.org/projects/quilt) ([overview](http://www.suse.de/~agruen/quilt.pdf)). Follow these steps:

```
 $ wget http://www.kernel.org/pub/linux/kernel/v2.6/linux-2.6.23.tar.bz2
 $ tar -xjf linux-2.6.23.tar.bz2
 $ wget http://elinux.org/images/3/3c/Tiny-quilt-2.6.23-0.tar.bz2
 $ cd linux-2.6.23
 $ tar -xjf ../Tiny-quilt-2.6.23-0.tar.bz2
 $ quilt push -a
 $ cd ..
 $ mv linux-2.6.23 linux-2.6.23-tiny1 
```

### Auxiliary tools (for Linux-tiny developers)

Here is a short shell script for making a tiny-quilt release: [Media:release-tiny](http://eLinux.org/images/1/12/Release-tiny "Release-tiny")

## How to use

In the Kernel Size Tuning Guide, there is a lot of information about how to measure kernel size, and how to use the kernel patches and configuration items provided by Linux-tiny.

## Test Project and Results

There is a test for Linux-tiny (and kernel configuration option results, in general). Some test results from this test were previously available from the CE Linux Forum test lab, at: [`testlab.celinuxforum.org/otlwiki/ConfigSizeTestResults`](http://testlab.celinuxforum.org/otlwiki/ConfigSizeTestResults) (link is now broken).

The CELF System Size working group has worked extensively with the Linux-tiny patch set. There is a script to produce a report of size reductions for the individual patches in the patchset, and results from various vendors about their use of Linux-tiny. See [Linux Tiny Test Project](http://eLinux.org/Linux_Tiny_Test_Project "Linux Tiny Test Project")

## Old usage notes

There are some miscellaneous usage notes at: [Linux Tiny Notes](http://eLinux.org/Linux_Tiny_Notes "Linux Tiny Notes")

## Ideas and patch candidates

See [Linux Tiny Patch Ideas](http://eLinux.org/Linux_Tiny_Patch_Ideas "Linux Tiny Patch Ideas")

## Original Announcements and e-mail

The original (Dec 11, 2003) announcement about the patchset, to the kernel mailing list, is available here:

*   [Announcement](http://lwn.net/Articles/62858/)

Here are some other announcements from Matt Mackall to LKML:

*   [2.6.0-tiny1 Dec 27, 2003](http://www.ussg.iu.edu/hypermail/linux/kernel/0312.3/0454.html)
*   [2.6.1-rc1-tin1 Jan 2, 2004](http://www.ussg.iu.edu/hypermail/linux/kernel/0401.0/0403.html)
*   [2.6.1-rc1-tiny2 Jan 6, 2004](http://www.ussg.iu.edu/hypermail/linux/kernel/0401.0/1256.html)

Recent discussion thread on lkml is summarized at: [LKML Thread Summary](http://kt.zork.net/kernel-traffic/latest.html#6). The thread is available at [here](http://www.google.com/groups?hl=en&lr=&ie=UTF-8&threadm=19Kuz-872-3%40gated-at.bofh.it&rnum=1&prev=/groups%3Fhl%3Den%26lr%3D%26ie%3DUTF-8%26selm%3D19Kuz-872-3%2540gated-at.bofh.it).

Note that currently, the smallest kernel that is reported in this thread is 197K compressed.

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Linux Tiny](http://eLinux.org/Category:Linux_Tiny "Category:Linux Tiny")

# Size Tunables

> From: [eLinux.org](http://eLinux.org/Size_Tunables "http://eLinux.org/Size_Tunables")

# Size Tunables

This page has a list of items that can be configured for the Linux kernel, which may affect the size (RAM/ROM/static/dynamic) of the kernel.

### Options from Linux-tiny

| CONFIG option | description | default value | value for small size | Size change (ARM) | Notes |
| CONFIG_CORE_SMALL | tune some kernel data sizes | N | Y | ?? | . |
| CONFIG_NET_SMALL | tune some net-related data sizes | N | Y | ?? | . |
| CONFIG_PRINTK | allow disable of printk code and message data | Y | N | ?? | . |
| CONFIG_BUG | allow elimination of BUG (and BUG_ON??) code | Y | N | ?? | . |
| CONFIG_ELF_CORE | allow disabling of ELF core dumps | Y | N | ?? | . |
| CONFIG_PROC_KCORE | allow disabling of /proc/kcore | Y | N | ?? | . |
| CONFIG_AIO | allow disabling of async IO syscalls | Y | N | ?? | . |
| CONFIG_XATTR | allow disabling of xattr syscalls | Y | N | ?? | . |
| CONFIG_FILE_LOCKING | allow disabling of file locking syscalls | Y | N | ?? | . |
| CONFIG_DIRECTIO | allow disabling of direct IO support | Y | N | ?? | . |
| CONFIG_MAX_SWAPFILES_SHIFT | number of swapfiles | 5 | 0 | ?? | . |
| CONFIG_NR_LDISCS | number of tty line disciplines | 16 | 2? | ?? | . |
| CONFIG_MAX_USER_RT_PRIO | number of RT priority levels (schedule slots) | 100 | 5? | ?? | . |
| Other config options | These are not in Linux-tiny, but help with size | default | small | Size change (ARM) | Notes |
| CONFIG_KALLSYMS | load all symbols for debugging/kksymoops | Y | N | ?? | . |
| CONFIG_SHMEM | allow use of shmem filesystem | Y | N | ?? | . |

### Options for size instrumentation

| Options for measuring size | description | default value | value for instrumentation |
| CONFIG_KMALLOC_ACCOUNTING | turn on kmalloc accounting | N | Y |
| CONFIG_AUDIT_BOOTMEM | print out all bootmem allocations | N | Y |
| CONFIG_DEPRECATE_INLINES | cause compiler to emit info about inlines | N | Y |

## options that should be investigated

| Option | default value | value for small size | Size change | Notes |
| CONFIG_SERIAL_8250_NR_UARTS | 4 | 0 | ?? | only useful for non-legacy ports, depends on hardware, but most embedded hardware has only legacy serial ports |

```
- by default (at least on my OSK config), several different schedulers are configured 
```

*   only one should be used and others not compiled in.

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [System Size](http://eLinux.org/Category:System_Size "Category:System Size")

# System Size Auto-Reduction

> From: [eLinux.org](http://eLinux.org/System_Size_Auto-Reduction "http://eLinux.org/System_Size_Auto-Reduction")

# System Size Auto-Reduction

This page has notes and an outline for Tim Bird's Linux Auto-Reduction research.

## Contents

*   1 Talk info
    *   1.1 Title
    *   1.2 Abstract
    *   1.3 Final slides from talk
*   2 Research Areas
    *   2.1 LTO
    *   2.2 global constraints
    *   2.3 syscall elimination
    *   2.4 ARM stack reduction
    *   2.5 link-time rewriting
    *   2.6 cold code compression
    *   2.7 cold code compression
*   3 Talk outline
    *   3.1 Title
    *   3.2 Self-Introduction
    *   3.3 The problem of Bloat
    *   3.4 Bloat (cont)
    *   3.5 Bloat (cont- 2)
    *   3.6 Automatic reduction (intro)
    *   3.7 auto-reduce - story of 8 bytes of bloat
    *   3.8 generalizing the problem of bloat
    *   3.9 An example of fixed input (uid in kernel)
    *   3.10 types of constraints
    *   3.11 also goes back up to user-space
    *   3.12 kernel command line args
    *   3.13 /proc values
    *   3.14 Tiny Distribution
*   4 References
*   5 Related Projects
*   6 Materials

## Talk info

Tim gave a talk on this research at LinuxCon Japan 2013 (May 29 in Tokyo, Japan)

### Title

Advanced size optimization of the Linux kernel

### Abstract

This presentation will cover recent research by Tim on aggressive size reduction of the Linux kernel. This will include results from using gcc link-time optimization (LTO) with the ARM architecture (using Andi Kleen's out-of-tree patches), as well as results and discussion of other optimization techniques (including whole-system optimization for embedded devices).

This talk is directed at kernel developers interested in reducing the size of their Linux systems (and possible improving their performance in the process). The talk will be highly technical.

### Final slides from talk

[Media:Bird-Kernel-Size-Optimization-LCJ-2013.pdf](http://eLinux.org/images/9/9e/Bird-Kernel-Size-Optimization-LCJ-2013.pdf "Bird-Kernel-Size-Optimization-LCJ-2013.pdf")

## Research Areas

### LTO

*   What is it?
*   what was required to get it to work?
*   Andi Kleen's patch set
    *   what do they do?
    *   how big are they?
    *   mainline status?
*   what is the size gain (see ELC poster)
*   what can be done with it?
*   long-term possibilities for LTO

### global constraints

*   overall idea: create constraints external to code, and use for optimization
*   rationale: can't maintain in-tree - too many config items
*   make the application of constraints automatic
*   use existing constraints to generate new constraints
*   constraints can flow between user-space and kernel

*   example: uid=0

*   constraint language
*   application by commenting out references (replace with 0 constant)
    *   use compiler to find code references (via error messages)
        *   eliminates problem with duplicate names (uid in different structure)
*   constant propagation (by, e.g. LTO) reduces code

### syscall elimination

*   scan file system
*   create report of used and unused system calls
*   mark syscalls unused in kernel
    *   arch/arm/kernel/calls.S (and arch/arm/kernel/entry-common.S
*   make sure unused syscalls are not __attribute__(externally_visible)
    *   technique of asmlinkage_\<syscallu0005c class="calibre16"></syscallu0005c>
*   use LTO to eliminate calls
*   results: 50K-90K

### ARM stack reduction

*   4k stacks
*   stack extensions

### link-time rewriting

### cold code compression

*   D. Chanet did cold code compression
*   consists of:
    *   profiling the kernel
    *   marking code regions as cold or frozen
    *   replacing them with stubs
    *   compressing them
*   At execution time:
    *   if a stub is called, it decompresses the code and calls it
    *   stub is fixed up to directly call decompressed code in future
    *   code is left decompressed forever

### cold code compression

Results:

*   *   MUST see paper for details (it's quite complicated)
*   on 2.4.25 kernel
    *   cold code compression resulted in 7% reduction for i386 kernel and
    *   11.7% reduction for ARM kernel

## Talk outline

This talk will be presented at LinuxCon Japan 2013:

### Title

*   Advanced size optimization of the Linux kernel
    *   by Tim Bird, Sony Mobile Communication

### Self-Introduction

*   I am Tim Bird
*   Now working at Sony Mobile
*   Researching system size for many years
*   Long background in extremely small systems
    *   pre-professional: first program on TRS-80, in basic, 8K ram
    *   NetWare Lite - file and print server in 50K (in 1991)

### The problem of Bloat

*   Software bloat occurs because systems are built with more software than is really needed for a given task
*   Open Source software meets the needs of thousands of different systems
    *   Linux scales from tiny sensors to supercomputers (extreme SMP and high-end clusters)
    *   Linux supports many, many features, only some of which are configurable
*   Software must be generalized for many use cases
*   bloat problem is:
    *   How to re-specialize the software, eliminating unused features and dead code?

### Bloat (cont.)

*   Software gets more generalized over time
*   Can't use strategy of manual tuning (config options)
    *   It gets harder and harder to remove things over time
    *   About 13,000 config items now (2.6.12 had 4700)
    *   You have to be an expert in too many things to reduce the kernel
*   Must rely on automated methods of reduction
*   Should use an additive, rather than subtractive method of building a system
    *   ultimate vision: indicate what you want/need, and build up system to support it

### Bloat (cont. 2)

*   In desktop or server, virtual memory makes bloat issue less important for user-space programs
    *   Only working set of program is loaded - pages are loaded on demand
    *   For kernel, all pages are always loaded

### Automatic reduction (intro)

The problem with automatic reduction is that "the system" doesn't know what software is needed and what is not. there needs to be a way to tell it about things that are not going to be used.

### auto-reduce - story of 8 bytes of bloat

Story of the conditional check in kdb:

*   I found a bug in kdb, when a particular option was using in the configuration file
*   not everyone uses the configuration file
*   not everyone uses the particular option
*   bug only triggered in those circumstances
*   I wrote a small patch, to guard against use of a variable prematurely
*   problem: all users of KDB now have this check, and suffer this overhead
    *   it wasn't much, just a single compare
    *   but this is how bloat builds up over time
    *   It bothered me because I knew most people didn't need the check
*   "correct" solution would be to parse the config file, and make the code compile-time configurable
    *   this adds more complexity than it is worth.

### generalizing the problem of bloat

System doesn't know inputs:

*   It's very easy to configure the kernel to omit the driver for missing hardware.
*   It's very difficult to configure the kernel to omit error handling for bugs that

will never occur due to fixed use cases.

### An example of fixed input (uid in kernel)

*   throughout the kernel, there are references to uid
    *   comparisons, storing, referencing
*   it turns out this is set by setuid(), by the 'login' program.
    *   login does a lookup and validates user account name in /etc/passwd
*   what if /etc/passwd only has 'root' and no others?
*   setuid() could only be called with a value of 0
*   can I encode this constraint on the system.

### types of constraints

There are numerous other examples of constraints:

*   kernel command line arguments never used
*   syscalls never called by any program
*   parameters that are never used, or parameter values that are never passed in
    *   e.g. ioctl value that is not possible
    *   this only works in a fixed
*   /proc values never referenced
*   /sys values never referenced

### also goes back up to user-space

*   return values that are not possible

### kernel command line args

*   Documented in Documentation/kernel-parameters.txt
*   defined with __setup() and early_param from include/linux/init.h
    *   approximately 480 __setup routines in kernel
    *   about 200 __setup_* in System.map on ARM kernel build (98 __setup_str_*)
    *   about 230 early_param routines in kernel
*   points to function
*   almost always sets a variable, which would default to 0

*   on ARM, with only console_setup and early_mem marked as 'used', there was a 19K difference in size:

(non-LTO kernel)

```
vmlinux.baseline-setup-used  =>  vmlinux-param-used
       baseline   other   change  percent
 text:  7680084  7663472   -16612   0%
 data:   362868   360516    -2352   0%
  bss:   745312   745184     -128   0%
total:  8788264  8769172   -19092   0% 
```

*   on ARM, with only console_setup and early_mem marked as 'used', there was a 19K difference in size:

(LTO kernel)

```
vmlinux.lto-param  =>  vmlinux.param-used
       baseline   other   change  percent
 text:  1653672  1648920    -4752   0%
 data:   131636   130244    -1392  -1%
  bss:    50688    50528     -160   0%
total:  1835996  1829692    -6304   0% 
```

System.map from kernel with console_setup and early_mem as only routines marked 'used':

```
$ grep __setup System.map
c00ea4bc T __setup_irq.153323
c00f1adc t __setup_per_zone_wmarks.172539.15755
c019d570 t __setup_str_early_mem.21664.160821
c019d884 t __setup_str_console_setup.61958.160201
c019ef00 t __setup_early_mem.21659.160819
c019ef00 T __setup_start
c019ef0c t __setup_console_setup.61953.160195
c019ef18 T __setup_end 
```

### /proc values

*   Includes sysctl values
*   there are approximately 1200, NOT related specifically to a process
*   about 120 per process
    *   about 80 related to networking (on my desktop box)
*   40 others

### Tiny Distribution

*   poky-tiny distribution (yocto project)
*   see [`wiki.yoctoproject.org/wiki/Poky-Tiny`](https://wiki.yoctoproject.org/wiki/Poky-Tiny)
*   Good for testing and further research

## References

*   Chanet D. ... "Automated reduction of the memory footprint of the linux kernel"
*   Haifen He. ..."Code Compaction of an Operating System Kernel"

## Related Projects

*   AnyKernel and Rumpkernel - see thesis by Antti Kantee - pooka (at) iki (dot) fi
    *   [`github.com/rumpkernel/wiki/wiki`](https://github.com/rumpkernel/wiki/wiki)
    *   provides a system based on NetBSD to isolate sub-systems and drivers and allow their use in micro-kernels and user-space
    *   haven't read enough of it to determine if it could be applied to Linux, but sounds like just API wrapping
    *   I'm not sure how robust it would be in the context of rapid mainline churn

## Materials

*   [File:0001-ARM-LTO-avoid-errors-on-unified-assembly-macros.patch](http://eLinux.org/File:0001-ARM-LTO-avoid-errors-on-unified-assembly-macros.patch "File:0001-ARM-LTO-avoid-errors-on-unified-assembly-macros.patch")
*   [File:0001-Support-elimination-of-unused-kernel-parameters.patch](http://eLinux.org/File:0001-Support-elimination-of-unused-kernel-parameters.patch "File:0001-Support-elimination-of-unused-kernel-parameters.patch")
*   [File:0001-Add-option-to-omit-unused-syscalls.patch](http://eLinux.org/File:0001-Add-option-to-omit-unused-syscalls.patch "File:0001-Add-option-to-omit-unused-syscalls.patch")
*   Tools and notes from the project are at: [`github.com/tbird20d/auto-reduce`](https://github.com/tbird20d/auto-reduce)

# Szwg Linux 26Data

> From: [eLinux.org](http://eLinux.org/Szwg_Linux_26Data "http://eLinux.org/Szwg_Linux_26Data")

# Szwg Linux 26Data

## Measurement Result

![Linux26.jpg](http://eLinux.org/File:Linux26.jpg)

[Item_Table1109.xls](http://eLinux.org/images/6/64/Item_Table1109.xls "Item Table1109.xls")

## Platform

Editors Note: Left out original System Size Working Group content as it seems more appropriate on the CELF site. Will confirm this in near future.

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Editor Follow Ups](http://eLinux.org/Category:Editor_Follow_Ups "Category:Editor Follow Ups")
*   [Consumer Electronics Linux](http://eLinux.org/Category:Consumer_Electronics_Linux "Category:Consumer Electronics Linux")
*   [System Size](http://eLinux.org/Category:System_Size "Category:System Size")

# 文件系统

> 原文：[eLinux.org](http://eLinux.org/File_Systems "http://eLinux.org/File_Systems")
> 翻译：[@lzufalcon](https://github.com/lzufalcon)

# 文件系统

## 目录

*   1 简介
    *   1.1 MTD
    *   1.2 UBI
    *   1.3 分区
    *   1.4 eMMC and UFS
*   2 嵌入式文件系统
    *   2.1 AXFS
    *   2.2 Btrfs
    *   2.3 CramFS
    *   2.4 F2FS
    *   2.5 InitRAMFS
    *   2.6 JFFS2
    *   2.7 LogFS
    *   2.8 NFS
    *   2.9 PRAMFS
    *   2.10 Romfs
    *   2.11 SquashFS
    *   2.12 UBIFS
    *   2.13 YAFFS2
*   3 挂载根文件系统
    *   3.1 在 PC 上用 mtdram 挂载 JFFS2 镜像
    *   3.2 在 PC 上用 nandsim 挂载 UBI 镜像
*   4 在嵌入式中使用通用文件系统的问题
    *   4.1 MMC/sdcard 卡特性
*   5 专用文件系统
    *   5.1 ABISS
    *   5.2 分层的文件系统
        *   5.2.1 UnionFS
        *   5.2.2 aufs
        *   5.2.3 mini-fo
*   6 性能和基准测试
    *   6.1 用于评测性能的工具
    *   6.2 闪存文件系统比较
        *   6.2.1 Cogent Embedded 公司的测试 (2013)
        *   6.2.2 Free Electrons 公司的测试 (2011)
*   7 其他项目
    *   7.1 多媒体文件系统
    *   7.2 维基百科文件系统
    *   7.3 维基文件系统

## 简介

大多数嵌入式设备使用 [闪存](http://en.wikipedia.org/wiki/Flash_memory) 作为存储介质。

同时，系统尺寸和启动时间在许多消费电子产品中也非常重要，因此，专用文件系统经常具有不同的功能，例如，更高压缩比或者直接从闪存执行文件的能力。

### MTD

需要注意的是，闪存可能用 Linux 的 MTD 系统管理。从 [MTD/Flash FAQ](http://www.linux-mtd.infradead.org/faq/general.html) 可以查看相关信息。这里提到的大多数文件系统都构建在 MTD 系统之上。

### UBI

Linux 内核的 [Unsorted Block Images（未排序的块映像）](http://www.linux-mtd.infradead.org/doc/ubi.html) (UBI) 系统管理单个闪存上的多个逻辑卷。它通过 MTD 层提供了从逻辑块到物理可擦除块的映射。UBI 也提供了灵活的分区概念，允许跨越整个闪存设备均衡损耗。

可通过 [UBI](http://www.linux-mtd.infradead.org/doc/ubi.html) 或者 [UBI FAX and Howto](http://www.linux-mtd.infradead.org/faq/ubi.html) 查看更多信息。

### 分区

内核至少要有一个根（root）文件系统，确保其他系统有地方可以挂载。在非嵌入式系统中，经常只会用到一个文件系统。但是，为了优化有限的资源（闪存、RAM、处理器速度、启动时间），许多嵌入式系统把文件系统拆分成几个独立的部分，然后把每部分放在各自的分区（通常在不同类型的存储设备中）。

举例来说，开发人员可能希望拿到系统中所有只读文件，并放到闪存中一个压缩过的只读文件系统中。这样或许会牺牲掉一些读取时间的性能（解压所需），但是可以减少闪存空间的消耗。

其他的配置可能会把可执行文件放到未压缩的闪存上，这样它们就可以就地执行，从而节省 RAM 和 启动时间（会潜在有少许性能损失）。

对于可写数据，如果数据不需要永久存在，有时就可以用 Ramdisk。而文件数据是否压缩，则取决于性能需要和内存限制。

并没有单一的标准来确定文件系统的只读和读/写部分，这在很大程度上取决于项目中所有用到的嵌入式应用情况。

### eMMC and UFS

随着闪存越来越大，各种因素造成嵌入式设备从使用裸 NAND 转移到封装过的、可基于块寻址的 NAND 闪存。这些是包含固件的芯片，这些固件接收块 I/O 请求，类似于老的硬盘那样旋转存储介质并填充他们。这涉及到映射读写请求到芯片上的 NAND 闪存相应的区域，并管理 NAND 闪存并且尝试优化 Flash 闪存的可靠性和使用寿命。NAND 闪存必须以大块（可擦除的块）来重写，这种块是单个文件系统块的很多倍。因此，系统中的映射、重排和块分配后的垃圾回收机制相当重要。

这些芯片采用基于块的而不是基于闪存的文件系统（例如：Ext4）。截止 2012 年，针对这些芯片去优化 Ext4 文件系统是文件系统研究的一个热点领域，见：[`lwn.net/Articles/502472`](http://lwn.net/Articles/502472)

## 嵌入式文件系统

这里有一些为嵌入式设备设计或者常用在嵌入式设备中的文件系统，以字母顺序排列：

### AXFS

*   AXFS - 高级就地执行（XIP）文件系统
    *   网站：[`axfs.sourceforge.net/`](http://axfs.sourceforge.net/)
    *   此文件系统是为 XIP 操作特别设计的，它使用双阶段的办法。第一阶段是把文件系统放在闪存上并运行它获取分析数据，并注明哪些页面有被用到。二阶段使用这些分析数据来构建一个文件系统。该文件系统把所有分析文件中记录的页面作为 XIP 数据，这些数据之后被加载到内存并被挂载（然后作为 XIP 执行）。也可能把 XIP 页面放到 NOR 闪存中并直接在上面执行。

### Btrfs

*   [btrfs](https://btrfs.wiki.kernel.org/index.php/Main_Page) 是一种新的写时复制文件系统，首次出现在 2.6.29-rc1 内核并且 [被合入到了 2.6.30](http://lwn.net/Articles/342892/)。
*   截止 2011 年 4 月，Btrfs [还没有被许多流行的 Linux 文件系统工具（如 gparted）支持](http://gparted.sourceforge.net/features.php)
*   Btrfs 已经被用作 [MeeGo 平台的文件系统](http://lwn.net/Articles/387196/)。
*   [一个很赞的 btrfs 视频，来自 Chris Mason](http://training.linuxfoundation.org/linux-tutorials/introduction-to-btrfs)

### CramFS

*   [CRAMFS](http://en.wikipedia.org/wiki/Cramfs) - Linux 的一个压缩的只读文件系统，CRAMFS 的最大尺寸是 256M。
    *   "线性 Cramfs" 是指这样一种功能，即采用 Cramfs 文件系统，但是在线性块布局中使用非压缩文件。这个对于存储用于可就地执行的文件很有用。如果想了解更多线性 Cramfs 的信息，可以查看应用程序就地执行（XIP）一文。

### F2FS

*   F2FS[（维基百科入口）](http://en.wikipedia.org/wiki/F2FS) 是 Linux 的一款闪存友好的文件系统，由三星开发。

### InitRAMFS

来自 2006 年 3 月的 [Introducing initramfs, a new model for initial RAM disks](http://archive.linuxgizmos.com/introducing-initramfs-a-new-model-for-initial-ram-disks-a/) 一文显示：

> 引入 INITRAMFS 之初，是作为初始化内存盘的一个新模型，这点是很清楚的。技术性文章介绍 initramfs 时，把它描述为 Linux 2.6 内核的一个功能，该功能允许初始化根文件系统和初始化程序驻留在内核内存缓冲区中，而不是驻留在内存盘中（对于 initrd 文件系统是这样）。initramfs 作者提到，相比 initrd，initramfs 能够增加启动时间的灵活性、内存的有效性和简便性。对于嵌入式开发者而言，一个特别有趣的功能是，一个相对简单的嵌入式系统能够只用 initramfs 作为它们唯一的文件系统。

这里有一篇不错的文章介绍了如何构建 initramfs：

*   [`www.landley.net/writing/rootfs-howto.html`](http://www.landley.net/writing/rootfs-howto.html)

更多信息可以查看这里：[Documentation/early-userspace/README](https://www.kernel.org/doc/Documentation/early-userspace/README)

### JFFS2

*   [JFFS2](http://sourceware.org/jffs2/) - v2.0 的日志闪存文件系统。这个是最常用的闪存文件系统。
    *   JFFS2 的最大尺寸是 128MB。
    *   [`sourceforge.net/projects/mtd-mods`](http://sourceforge.net/projects/mtd-mods) 有一些来自 Alexey Korolev 的补丁，用于改善 JFFS2。

### LogFS

LogFS 是一个可伸缩性的闪存文件系统，致力于在大多数使用场景中替换掉 JFFS2。

不幸地是，它貌似现在已经被遗弃了。

可通过 LogFS 查看更多细节。

### NFS

鉴于嵌入式设备的空间有限，通常在开发过程中会用一个网络文件系统来作为目标开发板的根文件系统。这样就允许目标开发板在开发时能够有一个非常大的空间来存放全尺寸（译者注：例如，包括各种调试符号）的二进制文件和各种开发工具。不过有一个缺点是在产品最终发布时（或者开发周期中的某些时候），系统还需要被重新配置以便支持本地文件系统（通常还需要被重新测试）。

NFS 客户端可以被编译到内核中，然后内核就可以通过配置来用 NFS 作为根文件系统。这个需要支持网络以及为目标开发板设置 IP 地址的机制，还需要指定 NFS 主机上的文件系统路径。通常，主机还需要通过运行 DHCP 服务器为目标板提供需要的 IP 地址和路径信息。

可以通过内核源码下的 [Documentation/filesystems/nfs/nfsroot.txt](https://www.kernel.org/doc/Documentation/filesystems/nfs/nfsroot.txt) 查看更多关于如何通过内核挂载 NFS 根文件系统的信息。

### PRAMFS

*   PRAMFS - 持久并且受保护的文件系统

```
PRAMFS 是一个全功能的可读/写文件系统，被设计于，可以与更快的 I/O 内存协同工作，并且如果使用非易失内存，那么文件系统就具有持久性。另外，它还支持就地执行（XIP）。

关于 PRAMFS 规范相关的信息，可以查看：PRAMFS 规范。 
```

### Romfs

*   [RomFs](http://romfs.sourceforge.net) - 一个小型的空间有效的只读文件系统。相关描述可以查看：[Documentation/filesystems/romfs.txt](https://www.kernel.org/doc/Documentation/filesystems/romfs.txt)。

### SquashFS

Squash Fs 是 Linux 的一个具有更高压缩比的可压缩只读文件系统。该文件系统相比 JFFS2 或者 CRAMFS 有更高压缩比。 在主线内核之外游离了很长一段时间后，Squashfs 最终被合并并发布在 [2.6.29 内核](http://kernelnewbies.org/LinuxChanges#head-5ca2504b2b4f4e6583f50dcdf23b2e75b383252f) 中。

在运行 `mksquashfs` 时，可以调节压缩比。`-b` 选项允许我们指定块大小。更小的块大小通常产生更小的压缩比，相应地，`-b` 设置越大，压缩比更高。但是，这里也有一个缺点，那就是数据以块的方式从磁盘读出来，所以如果使用 128k 大小的块，使用 4k 大小的内存页，然后压缩过的相当于 128k 的数据会从闪存读出来。因为 128k 需要 32 个内存页，这会导致一次性读取 32 页的内容到缓冲区中，即使当时只需要读 1 页内容。通常，另外 31 页也可能会被用到，但是如果用不到(but if not)，就会浪费掉读取和解压未用数据的时间，而且会让未用数据平白无故占用缓冲区（甚至系统还会为了给这 31 个页面预留空间而把其他用到的页面从缓冲区中踢出去），从而会降低资源利用率并影响性能。

如果想获得一个最小的文件系统，那么可以考虑用最大的块。但是，如果更关心性能的话，那么可以考虑尝试更多选项来看下哪个最适合你（甚至可以完全不用压缩，`mksquashfs`提供了这些相应的控制选项：`-noInodeCompression, -noDataCompression`, `–noFragmentCompression`）。如果还想采用函数重排（[启动时间#用户空间和应用程序加速](http://eLinux.org/Boot_Time "Boot Time")），大的块可能更适合你。

下表给出了不同块大小可以达到的压缩比信息，这些尺寸信息都是针对一个嵌入式设备的根文件系统测试出来的。

|  | 大小 | 压缩比 |
| --- | --- | --- |
| 初始值 | 53128K | 100 % |
| 4K | 17643K | 33.2 % |
| 8K | 16572K | 31.2 % |
| 16K | 15780K | 29.7 % |
| 32K | 15204K | 28.6 % |
| 64K | 14812K | 27.9 % |

在 2008 年欧洲嵌入式 Linux 会议上，Phillip Lougher 做了一个关于 SquashFS 的报告：

*   [演讲稿](http://tree.celinuxforum.org/CelfPubWiki/ELCEurope2008Presentations?action=AttachFile&do=get&target=squashfs-elce.pdf)

和

*   [演讲视频](http://free-electrons.com/pub/video/2008/elce/elce2008-lougher-squashfs.ogv).

### UBIFS

UBIFS 是构建在 [UBI](http://eLinux.org/File_Systems#UBI "File Systems") 之上的一个闪存文件系统。

UBIFS 相比于 JFFS2 和 YAFFS，拥有更好的性能。

可以通过 UBIFS 获取更多详细信息。

### YAFFS2

*   [YAFFS](http://www.yaffs.net/yaffs-overview) - Yet Another Flash File System（另一个闪存文件系统，名副其实！） - 一个专门为 NAND 闪存设计的文件系统

    YAFFS2 是一个简单、可移植、可靠而且完备的文件系统。除了 Linux，它还广泛应用于各类嵌入式操作系统，并且能够脱离操作系统独立使用，例如可直接用于引导程序中。当和 Linux 一起使用时，它能够用 MTD 或者是它自己的闪存驱动。类似地，它能用 VFS 或者它自己的 POSIX 层。它采用日志结构和单线程。它自身并不支持压缩 - （如果要支持压缩的话）要么压缩数据本身，要么在 YAFFS2 之上用 Squashfs。

    YAFFS 设计时就考虑了快速启动（作为一个日志结构文件系统，必须扫描闪存）。它使用检查点技术（Checkpointing），所以如果分区被干净地卸载，那么上电时就不需要重新扫描闪存。该 FS 的所有功能都可以配置，所以可以充分权衡像最大文件/分区大小，闪存块大小，文件粒度之类的各类参数。除了确保有效使用块的缓存外，数据被直接写透到闪存中。YAFFS2 通过使用闪存的 OOB 作为其元数据，因为只需要读取 OOB 来做闪存扫描，所以允许更快引导。另外，在牺牲一些性能的情况下，它也能把元数据保留在主页区上。

    尽管从 2004 年开始，YAFFS 就已经结合 Linux 用在真实产品上，但是至今它还没有进入内核主线。

    *   在 2007 年欧洲嵌入式 Linux 会议上，由 Wookey 做的关于 YAFFS2 的报告：[yaffs.pdf](http://tree.celinuxforum.org/CelfPubWiki/ELCEurope2007Presentations?action=AttachFile&do=get&target=yaffs.pdf)
    *   在第 17 届 CELF 盛会上做的关于 2.6.10 内核上的 YAFFS 和 JFFS2 比较的报告：[celf_flash.pdf](http://tree.celinuxforum.org/CelfPubWiki/JapanTechnicalJamboree17?action=AttachFile&do=view&target=celf_flashfs.pdf)

    YAFFS2 遵守 GPL 许可，但是也可以在双重授权条款（来自 Aleph One Ltd）下，用于商业领域。

## 挂载文件系统

根文件系统由内核挂载，它通过使用一个内核命令行选项来做到。其他的文件系统从用户空间挂载，通常是 init 脚本或者是 init 程序用 `mount` 命令来实现。

下面是 Linux 通过命令行挂载根文件系统的一些例子：

*   使用首个 IDE 驱动的第一个分区作为根文件系统（老内核）：
    *   `root=/dev/hda1`
*   在最新的内核中则这么用：

    *   `root=/dev/sda1`
*   使用 NFS 根文件系统（必须有相应内核配置支持）

    *   `root=/dev/nfs`

    通常还需要添加一些其他参数来确保配置好内核 IP 地址或者指定好主机的 NFS 文件系统路径。

*   使用闪存文件系统的第 2 个分区：

    *   `root=/dev/mtdblock2`
*   使用 initramfs

    *   `root=/dev/ram0`

    通常，还需要指定 ramdisk_size 之类并且要使能相应的内核配置选项。

### 在 PC 上用 mtdram 挂载 JFFS2 镜像

因为不可能用 loopback 设备挂载 JFFS2 镜像，所以需要用到 `mtdram`。通常要工作起来得用到三部分：

*   mtdram: 在内存中创建一个 MTD 分区。以 kb 为单位，用 `total_size` 设置文件大小参数。

*   mtdblock: 用于创建访问上述分区的块设备。

*   jffs2: 因为 JFFS2 通常并不作为 PC 上的文件系统使用，所以需要手动加载该模块。

```
modprobe mtdram total_size=16384
modprobe mtdblock
modprobe jffs2 
```

取决于目标板的字节序（endianess），如果不同，镜像文件可能需要转换为 PC 上的字节序。MTD 工具套件中的 `jffs2dump` 可以用来做这个事情。

```
jffs2dump -b -c -e <output-filename> <input-filename> 
```

最后的镜像文件可以用 `dd` 命令拷贝到块设备上：

```
dd if=<image-file> of=/dev/mtdblock0 
```

挂载则跟往常一样：

```
mount /dev/mtdblock0 /tmp/jffs2 -t jffs2 
```

### 在 PC 上用 nandsim 挂载 UBI 镜像

首先创建一个模拟的 NAND 设备（大小为 256MB，2048 页）。`<number>_id_byte=` 设置为发回给 NAND 的 ID 字节数。

```
$ sudo modprobe nandsim first_id_byte=0x20 second_id_byte=0xaa third_id_byte=0x00 fourth_id_byte=0x15 
```

检查确保创建好设备：

```
$ cat /proc/mtd
dev:    size   erasesize  name
mtd0: 10000000 00020000 "NAND simulator partition 0" 
```

接下来，挂到一个 MTD 设备上：

```
$ sudo modprobe ubi mtd=0 
```

然后，为了格式化，需要先卸载：

```
$ sudo ubidetach /dev/ubi_ctrl -m 0 
```

如果上面的 `ubidetech` 这步失败了，直接跳到下面格式化该 MTD 设备：

```
$ sudo ubiformat /dev/mtd0 -f <image>.ubi
ubiformat: mtd0 (nand), size 268435456 bytes (256.0 MiB), 2048 eraseblocks of 131072 bytes (128.0 KiB), min. I/O size 2048 bytes
libscan: scanning eraseblock 2047 -- 100 % complete
ubiformat: 2048 eraseblocks have valid erase counter, mean value is 1
ubiformat: flashing eraseblock 455 -- 100 % complete
ubiformat: formatting eraseblock 2047 -- 100 % complete 
```

再次挂上：

```
$ sudo ubiattach /dev/ubi_ctrl -m 0
UBI device number 0, total 2048 LEBs (264241152 bytes, 252.0 MiB), available 0 LEBs (0 bytes), LEB size 129024 bytes (126.0 KiB) 
```

创建目录，并挂载该设备：

```
$ mkdir temp
$ sudo mount -t ubifs ubi0 temp 
```

## 在嵌入式中使用通用文件系统的问题

### MMC/sdcard 卡特性

MMCs 和 SDcards 都是闪存设备，对于它们的主机而言，都呈现为面向块的接口。

通常，它们用在嵌入式设备中并且针对使用 FAT 文件系统的块访问进行了特定优化。但是，它们呈现出来像个“黑盒子”，里头有内置逻辑和算法，这些并没有暴露给主机。

有些工作正在进行中，例如调查刻画这些属性，进而可以使 Linux 能够更有效地使用这些设备：

*   [`wiki.linaro.org/WorkingGroups/KernelConsolidation/Projects/FlashCardSurvey`](https://wiki.linaro.org/WorkingGroups/KernelConsolidation/Projects/FlashCardSurvey)
*   [`wiki.linaro.org/WorkingGroups/KernelConsolidation/Projects/FlashDeviceMapper`](https://wiki.linaro.org/WorkingGroups/KernelConsolidation/Projects/FlashDeviceMapper)

## 专用文件系统

### ABISS

主动块 IO 调度系统（The Active Block I/O Scheduling System）是一个文件系统，其设计初衷是为文件系统 I/O 活动提供实时功能。

*   [ABISS](http://abiss.sourceforge.net/)

### 分层的文件系统

分层的文件系统允许我们挂载只读介质，但是也提供写入的能力。当然，写操作会在某些地方终止，这部分由分层文件系统透明地处理。这类文件系统存在了有相当一段时间，下面是已经在嵌入式 Linux 系统中使用的一些例子。

#### UnionFS

要是文件系统能覆盖彼此的话，有时候还是挺方便的。举个例子来说，在嵌入式产品中，如果在一个可读写的文件系统下面，挂载一个压缩的只读文件系统，那会很有用。因为它看上去不仅提供了一个完整的可读写文件系统，而且，因为这些文件在产品生命周期内并不会被改变，所以依然能够享受压缩的文件系统带来的空间节省的好处。

UnionFS 是提供这样一个文件系统（提供了多种文件系统的“联合”）的项目。可以看下[这里](http://www.filesystems.org/project-unionfs.html)。

也可以看下联合挂载，描述在[这里](http://lkml.org/lkml/2007/6/20/18)（如果该功能合并后，也可以看下内核源码下的 Documentation/union-mounts.txt）。

#### aufs

另外一个 UnionFS，可从 [`aufs.sourceforge.net`](http://aufs.sourceforge.net) 获取更多信息。

#### mini_fo

minifo = 迷你展开覆盖文件系统（fanout overlay file system）.

从 [`www.denx.de/wiki/Know.MiniFOHome`](http://www.denx.de/wiki/Know.MiniFOHome) 可以获得更多信息。

显然该项目已经没人维护了，最后的信息还是 2005 年的。

## 性能和基准测试

### 性能评测工具

对于一个非常简单的磁盘性能测试，可以用 `dd` 命令做到。下面往文件系统写入一个内容为全零的 2G 文件，然后清掉缓存，再读回来：

*   dd if=/dev/zero of=test bs=1048576 count=2048
*   sync
*   sudo echo 3 >/proc/sys/vm/drop_caches
*   dd if=test of=/dev/null bs=1048576

我们也可以用 IOZone 来测试一个 Linux 文件系统的性能，看[这里](http://www.iozone.org/)。

Linux 桌面上常用的一些基准测试工具有：

*   [bonnie](http://www.coker.com.au/bonnie++/)
*   [dbench](http://samba.org/ftp/tridge/dbench/)
*   [tiobench：可移植的，完全线程化的 I/O 基准测试程序](http://sourceforge.net/projects/tiobench/)
*   [ffsb：灵活的文件系统基准测试程序](http://sourceforge.net/projects/ffsb/)

### 闪存文件系统比较

#### Cogent Embedded 公司的测试 (2013)

本节有一些链接，有关于基准测试程序、测试和调优的信息。

*   [eMMC/SSD 文件系统调优方法 v1.0](http://eLinux.org/images/b/b6/EMMC-SSD_File_System_Tuning_Methodology_v1.0.pdf "EMMC-SSD File System Tuning Methodology v1.0.pdf")
    *   包含测试方法和结果（性能和鲁棒性），在不同的闪存设备上调优不同的文件系统（包括 btrfs, ext3 和 f2fs）

#### Free Electrons 公司的测试 (2011)

2011 年时, CE Linux 论坛联合 Free Electrons，针对多个内核版本上的多种闪存文件系统做了系统性的测试。

测试结果在 Flash_Filesystem_Benchmarks。

## 其他项目

### 多媒体文件系统

*   XPRESS 文件系统
    *   从 ELC 2007 上发现该文件系统项目最近在三星内部已经暂停

### 维基百科文件系统

一个可以挂载的虚拟文件系统，允许把基于 mediawiki 搭建的网站用普通编辑器当作普通文件访问。目前该文件系统没人维护了，通过[这里](http://wikipediafs.sourceforge.net/)查看更多信息。

### 维基文件系统

类似 维基百科文件系统，但是志在 Plan9 和 inferno，查看[这里](http://www.cs.bell-labs.com/magic/man2html/4/wikifs) 可获取更多信息。

[分类](http://eLinux.org/Special:Categories "Special:Categories"):

*   [文件系统](http://eLinux.org/Category:File_Systems "Category:File Systems")

# AXFS

> From: [eLinux.org](http://eLinux.org/AXFS "http://eLinux.org/AXFS")

# AXFS

## Contents

*   1 Description
*   2 Rationale
*   3 Resources
    *   3.1 Project site and contacts
    *   3.2 Documents
*   4 Specifications
*   5 Downloads
    *   5.1 Patch
*   6 Utility programs
*   7 How To Use
*   8 How to validate
*   9 Sample Results
*   10 Case Study 1
*   11 Case Study 2
*   12 Status
*   13 Future Work/Action Items

## Description

The Advanced XIP File System is a Linux kernel filesystem driver that enables files to be executed directly from flash or ROM memory rather than being copied into RAM.

This project was started by engineers working at Intel. Since that the key developers have moved over to [Numonyx](http://www.numonyx.com). AXFS is intended to be a replacement for Linear XIP CRAMFS, and combines features from CRAMFS and SquashFS. The advantage over existing solutions is that it can provide reduced RAM with less flash because it is possible to compress only those pages that contribute to RAM savings. It includes tools to identify pages that should be uncompressed. It is Beta quality as of July 2006.

## Rationale

This feature is important because XIP is a very common method of conserving RAM on an embedded system.

Furthermore some boot time reduction can be achieved.

## Resources

### Project site and contacts

The main project site is at: [axfs](http://axfs.sourceforge.net)

Those interested can send an email using the interface at [axfs contact](http://axfs.sourceforge.net/wordpress/?page_id=3) and they will be informed when the final version is released.

### Documents

*   [Poster (in powerpoint) describing AXFS](http://tree.celinuxforum.org/CelfPubWiki/ELC2007TechnicalShowcase?action=AttachFile&do=get&target=AXFS_Poster2.ppt)

*   [ELC 2006 Presentation on XIP](http://tree.celinuxforum.org/CelfPubWiki/ELC2006Presentations?action=AttachFile&do=get&target=CELF-XIP_Linux.pdf) by Jared Hulbert

*   [Demystifying Embedded Code Storage: Optimizing for Lower Cost and Higher Performance through Balanced XIP](http://www.intel.com/design/flcomp/papers/315482.pdf) - White paper by Intel comparing different XIP approaches

*   [Numonyx™ AXFS Technical Documents](http://www.numonyx.com/en-US/MemoryProducts/Software/Pages/AXFSTechnicalDocuments.aspx)

    *   contains the users guide and the image builder guide
*   Talk *Advanced XIP filesystem* by Jared Hulbert at the Ottawa Linux Symposium 2008. [Paper](http://ols.fedoraproject.org/OLS/Reprints-2008/hulbert-reprint.pdf) and [video](http://free-electrons.com/pub/video/2008/ols/ols2008-jared-hulbert-xip-filesystem.ogg)

## Specifications

See [Kernel XIP Specification R2](http://eLinux.org/Kernel_XIP_Specification_R2 "Kernel XIP Specification R2")

## Downloads

### Patch

See [`axfs.sourceforge.net/`](http://axfs.sourceforge.net/).

## Utility programs

There are two utility programs:

*   mkfs.axfs described [here](http://www.numonyx.com/Documents/User%20Guides/319097_AXFS_Main-UG.pdf) is a simple filesystem builder. It compresses using 4K blocks and accepts profile data in .csv format (and perhaps also in xml format). This differs from what is described in the document. The program generates a single image file with both the compressed and uncompressed data. Upon mounting the image the uncompressed XIP data are copied to RAM. This program is GPL.
*   A Numonyx proprietary image builder described [here](http://www.numonyx.com/Documents/User%20Guides/319096_SW_AXFS-ImageBuilder.pdf). Judging from the documentation (-c option) this builder provides larger pages (and hence better compression) similar to the larger pages that are used by SquashFS. Apparently it can also generate two output files (-b and -o options). I assume that way you get two images. One with the compressed data, one with the XIP data. That would allow e.g. putting the compressed data in NAND flash and the XIP data in NOR flash or RAM.

## How To Use

*   Download the patches from the svn archive as described on [this project page](http://axfs.sourceforge.net/wordpress/?page_id=5).
*   Apply the patches as described [here](http://axfs.sourceforge.net/wordpress/?page_id=19).
*   In the config file two new configuration options will show up. One is called CONFIG_AXFS and includes the AXFS filesytem. The second one is called CONFIG_AXFS_PROFILING and enables the profiling. You need to enable both at first.
*   Make an axfs filesystem (using mkfs.axfs) and write that image to flash. (e.g. using nandwrite).
*   Boot your new kernel.
*   Run whatever applications (from the AFXS partition) you want to have in XIP. If you are interested in boot improvement these are typically the things run from init.
*   Internally AXFS records the page accesses. Once you ran all programs you want to have in XIP, you can copy /proc/axfs/volumeX to a file (where X is typically 0).
*   If desired you can remove things from the file. Note that the file consists of lines with a filename, an offset and a counter. This describes the page that is put in XIP. You'll notice that not all of the file is put in XIP. Only those pages that are actually called are put in the XIP section.
*   Use the file from the previous version as input for mkfs.axfs. This will generate a file with both XIP and non-XIP data (the former uncompressed, the latter compressed).
*   Write this file to flash, and use it. You'll see an increase in mount time, as the XIP data is copied to RAM at mount time. However the executables should start faster as no data need to be read from flash or copied in RAM. B.t.w. it is possible to have your root filesystem as axfs filesytem by using the kernel boot parameter "rootfstype=axfs".
*   To reduce size and increase performance rebuild the kernel with profiling (CONFIG_AXFS_PROFILING) turned off.

## How to validate

[put references to test plans, scripts, methods, etc. here]

## Sample Results

No sample results are available yet.

However from studying the documentation and knowing how XIP works, a boot peformance gain can be expected when running from NOR flash. The amount of gain cannot really be qualified because it depends on how often the code is executed. E.g. consider an often executed loop in NOR. The advantage with NOR flash and XIP is that you do not need to load the page (so you save some time). However as NOR is slower there will be a small penalty during every instruction executed from NOR. So if you have a loop that is executed very often the cumulative penalty will exceed the gain from not having to load the page. Of course if you know that this is the case you can exclude this page from XIP.

mkfs.axfs does not support generating two separate images. Therefore in the open source scenario the only way to test this is by putting both the XIP and non-XIP data in NOR.

Alternatively it is possible to put the generated image in NAND. In that case the XIP data is loaded during mounting. Effectively this does not gain much. You only shift the reading from program execution to mounting. Of course there can be a small saving since no in-memory copying is needed. Benchmarks need to be performed to actually quantify the gain.

With the proprietary image builder it seems possible to create two images, one with XIP and one without XIP. This allows for situations where the XIP data is in NOR and the non-XIP data is in NAND. Alternately the XIP data could be in RAM and loaded by the boot loader. It might be possible that this gives some gain (as the boot loader might have less overhead reading a file than linux has). Again this need to be benchmarked.

## Case Study 1

## Case Study 2

## Status

Jared Hulbert of Intel writes (in July 2006):

The filesystem is working well. We optimized an Opie Linux build using cramfs and axfs. The resulting images where 49MB XIP cramfs, XIP axfs used only 39MB, and 34MB for a fully compressed cramfs. We're polishing it up for release hopefully in the next couple weeks. We are also debugging a 2.4 port which we will make available as well.

In august 2008, the project submitted to LKML for the second time. On mid nov 2008, the project svn archive contained patches for 2.4.21 and 2.6.10 to 2.6.27.

*   Status: [not started??]
    *   (one of: not started, researched, implemented, measured, documented, accepted)
*   Architecture Support:
    *   (for each arch, one of: unknown, patches apply, compiles, runs, works, accepted)
        *   i386: unknown
        *   ARM: unknown
        *   PPC: unknown
        *   MIPS: mostly works (some open issues and more testing needed)
        *   SH: unknown

## Future Work/Action Items

Here is a list of things that could be worked on for this feature:

*   More testing/maturing
*   An improved open source mkfs.axfs that provides separate images and compression using larger blocks than 4K.
*   Benchmarking

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [File Systems](http://eLinux.org/Category:File_Systems "Category:File Systems")

# F2FS

> From: [eLinux.org](http://eLinux.org/F2FS "http://eLinux.org/F2FS")

# F2FS

F2FS is a flash-friendly filesystem, developed by Samsung, and introduced into version 3.8 of the Linux kernel.

Here is some information on it:

*   [wikipedia entry for F2FS](http://en.wikipedia.org/wiki/F2FS)
*   Presentation given at ELC, in February, 2013
    *   [Flash-Friendly File System (PDF)](http://eLinux.org/images/1/12/Elc2013_Hwang.pdf "Elc2013 Hwang.pdf")
*   Presentation given at ELC Europe, in November 2012
    *   [A New File System Designed for Flash Storage in Mobile (PDF)](http://eLinux.org/images/8/81/A_New_File_System_Designed_for_Flash_Storage_in_Mobile.pdf "A New File System Designed for Flash Storage in Mobile.pdf")
*   [Samsung's F2FS Filesystem](http://lwn.net/Articles/518717/) - LWN.net article from October of 2012
*   [An f2fs teardown](http://lwn.net/Articles/518988/) - technical analysis by Neil Brown on LWN.net
    *   This article has very good technical details explaining the pros and cons of the filesystem.
    *   Also, some of the comments to the article have good information.

# Flash Filesystem Benchmarks

> From: [eLinux.org](http://eLinux.org/Flash_Filesystem_Benchmarks "http://eLinux.org/Flash_Filesystem_Benchmarks")

# Flash Filesystem Benchmarks

[Free Electrons](http://free-electrons.com) has performed flash filesystem benchmarks, with funding from the [CE Linux Forum](http://www.celinuxforum.org/). This page is the starting page to present the methodology and the results of these benchmarks.

## Contents

*   1 Test methodology
*   2 Results
    *   2.1 Comparison of different versions of the Kernel
    *   2.2 Linux 3.1 results
    *   2.3 Linux 3.0 results
    *   2.4 Linux 2.6.39 results
    *   2.5 Linux 2.6.38 results
    *   2.6 Linux 2.6.36 results
*   3 Presentations of the results
*   4 Details on the hardware platforms used

## Test methodology

Free Electrons created Python scripts that automate the execution of commands through a serial line (including bootloader and kernel booting), and measure the time taken to execute these commands. The scripts were designed to be generic, and support for new boards can easily be added by creating board specific Python definitions. The complete details of what tests are performed and how measurements are made are available in the [Flash Filesystem Benchmarks Protocol](http://eLinux.org/Flash_Filesystem_Benchmarks_Protocol "Flash Filesystem Benchmarks Protocol") page.

The current version of these scripts can be found in a Git repository on [gitorious](https://gitorious.org/ffs-benchmarks/ffs-benchmarks), and are released under the terms of the GPLv2 license. Working board automation files are provided for the [CALAO USB-A9263-C02](http://www.calao-systems.com/articles.php?lng=en&pg=5932) and [IGEPv2 boards](http://www.igep.es/index.php?option=com_content&view=article&id=46&Itemid=55). You will need to build a root filesystem to run the tests on and create filesystems of different sizes (8, 32, 252 and 508 MB) to be tested ; both of which that have been used by Free Electrons will be available soon.

## Results

### Comparison of different versions of the Kernel

See [Flash Filesystem Benchmarks Kernel Evolution](http://eLinux.org/Flash_Filesystem_Benchmarks_Kernel_Evolution "Flash Filesystem Benchmarks Kernel Evolution") to find possible regressions

### Linux 3.1 results

See [Flash Filesystem Benchmarks 3.1](http://eLinux.org/Flash_Filesystem_Benchmarks_3.1 "Flash Filesystem Benchmarks 3.1") for the results

### Linux 3.0 results

See [Flash Filesystem Benchmarks 3.0](http://eLinux.org/Flash_Filesystem_Benchmarks_3.0 "Flash Filesystem Benchmarks 3.0") for the results

### Linux 2.6.39 results

See [Flash Filesystem Benchmarks 2.6.39](http://eLinux.org/Flash_Filesystem_Benchmarks_2.6.39 "Flash Filesystem Benchmarks 2.6.39") for the results

### Linux 2.6.38 results

See [Flash Filesystem Benchmarks 2.6.38](http://eLinux.org/Flash_Filesystem_Benchmarks_2.6.38 "Flash Filesystem Benchmarks 2.6.38") for the results

### Linux 2.6.36 results

See [Flash Filesystem Benchmarks 2.6.36](http://eLinux.org/Flash_Filesystem_Benchmarks_2.6.36 "Flash Filesystem Benchmarks 2.6.36") for the results

## Presentations of the results

Previous results of those benchmarks were presented:

*   At [ELC Europe 2010](http://www.embeddedlinuxconference.com/elc_europe10/index.html), the [slides (PDF)](http://eLinux.org/images/d/d7/Elce2010-flash-filesystems.pdf "Elce2010-flash-filesystems.pdf") are available
*   At [ELC Europe 2008](http://www.embeddedlinuxconference.com/elc_europe08/index.html), the [slides (PDF)](http://eLinux.org/images/a/ab/Flash-filesystems.pdf "Flash-filesystems.pdf") are available

## Details on the hardware platforms used

*   [CALAO USB-A9263-C02](http://www.calao-systems.com/articles.php?lng=en&pg=5932)
    *   AT91SAM9263 processor at 200 Mhz
    *   64 MB of RAM
    *   256 MB of NAND Flash from Samsung K9F2G08U0A
*   [IGEPv2 boards](http://www.igep.es/index.php?option=com_content&view=article&id=46&Itemid=55)
    *   DM3730 processor at 1 Ghz
    *   512 MB of RAM
    *   512 MB of dual-plane SLC OneNAND Flash from Numonyx NAND04GR4E1A

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Flash Filesystem Benchmarks](http://eLinux.org/index.php?title=Category:Flash_Filesystem_Benchmarks&action=edit&redlink=1 "Category:Flash Filesystem Benchmarks (page does not exist)")

# LogFS

> From: [eLinux.org](http://eLinux.org/LogFS "http://eLinux.org/LogFS")

# LogFS

LogFS is a raw flash filesystem, intended to replace JFFS2, with a focus on scalability.

In July of 2007, Matt Mackall wrote:

```
LogFS is a filesystem designed to support large volumes on FLASH. It
uses a simple copy-on-write update process to ensure consistency (the
"log" in the name is a historical artifact). It's easily the most
modern and scalable open-source FLASH filesystem available for Linux
and it's well on its way to being accepted in the mainline tree. 
```

It was originally written by Joern Engel, but has recently (up to October, 2012) been maintained by Prasad Joshi.

LogFS was mainlined in kernel version 2.6.34 (in November 2009).

It appears to be less-used than other flash filesystems, and in some testing was not robust enough to complete testing.

## Resources

*   Home page: [`logfs.org/logfs/`](http://logfs.org/logfs/)
    *   Mailing list: [`logfs.org/cgi-bin/mailman/listinfo/logfs`](http://logfs.org/cgi-bin/mailman/listinfo/logfs)
    *   NOTE: this site appears down as of October 2012
*   Articles:
    *   [LogFS article](http://lwn.net/Articles/234441), LWN.net, May 2007
    *   [LogFS: A new way of thinking about flash filesystems](http://www.linux.com/articles/114295) Linux.com, May 2007

Scott Preece wrote:

```
The big win for LogFS (in my limited knowledge of it) is that it stores
its tree structure in the media, rather than building it in memory at
mount time. This significantly reduces both startup time and memory
consumption. This becomes more important as the size of the flash device
increases. 
```

Some newer flash memory, like MLC (multi-level cell), are not well supported.

# Pram Fs

> From: [eLinux.org](http://eLinux.org/Pram_Fs "http://eLinux.org/Pram_Fs")

# Pram Fs

## Contents

*   1 Introduction
    *   1.1 Rationale
*   2 References
*   3 Downloads
    *   3.1 Patch
    *   3.2 Utility programs
*   4 How To Use
*   5 Status
*   6 Sample Results
*   7 Future Work

## Introduction

This page describes the Protected RAM File System (PRAM FS) feature.

PRAM FS is a file system that enhances the security of system data in the presence of kernel bugs or rogue programs.

The protected RAM file system will ordinarily remain consistent even if kernel data pointers are corrupted, or if the kernel starts executing unexpectedly in the wrong location. This is accomplished by making the RAM pages used by PRAM FS non-writable except during the actual file operations themselves.

### Rationale

A single bug in the Linux kernel may cause catastrophic damage to a system. If a product holds irreproducible security keys, financial data, or account information, then loss of such data could render the product unusable, or worse. The customer could suffer financial or legal harm (from account theft or identity theft).

It is not possible to guarantee with certainty that there are no bugs in the Linux kernel. However, it is possible to decrease the probability that a bug in the kernel will cause damage to a particular area of memory or storage. This protected area can then be used, with greater confidence, to hold sensitive user or product data.

## References

The home page for the PRAMFS project is at: [`pramfs.sourceforge.net/`](http://pramfs.sourceforge.net/)

That site contains a LOT of detailed technical information and more explanation of the rationale for this feature.

## Downloads

### Patch

*   See [celinux-dev archive message 197](http://tree.celinuxforum.org/pipermail/celinux-dev/2004-September/000197.html) for a submission to CELF in 2004)
*   Patches for 2.6.30 were posted to lkml in June 2009 - see [`lkml.org/lkml/2009/6/13/86`](http://lkml.org/lkml/2009/6/13/86)

### Utility programs

Pram fs can be created and populated using normal Linux filesystem utilities.

## How To Use

See the file `Documentation/filesystems/pramfs.txt` for instructions on its use (once the patch is applied).

## Status

Pramfs was submitted for consideration for inclusion in the 2.6.4 kernel, in March 2004\. There was a thread of discussion [here](http://groups.google.com/groups?hl=en&lr=&threadm=1vJLx-4GI-57%40gated-at.bofh.it&rnum=1&prev=/groups%3Fhl%3Den%26lr%3D%26selm%3D1vJLx-4GI-57%2540gated-at.bofh.it)

There were a few, easily answered, concerns raised. But the patch was not accepted into mainstream.

I talked to Andrew Morton about this in April, 2004, and he said the threshold is high for getting a new filesystem into the mainline kernel, because each filesystem adds incremental, ongoing, source maintenance overhead.

## Sample Results

Here there are some benchmark results made with bonnie++. The board used was an Atmel ngw100 (avr32 architecture) with ap7000 processor and 32MB of SDRAM.

*   (2.1 KB) [Without XIP](http://eLinux.org/images/e/ea/Benchmark_bonnie--_pramfs_noxip.txt "Benchmark bonnie-- pramfs noxip.txt")
*   (2.1 KB) [With XIP](http://eLinux.org/images/6/66/Benchmark_bonnie--_pramfs_xip.txt "Benchmark bonnie-- pramfs xip.txt")

## Future Work

Here is a list of things that could be worked on for this feature:

```
- 
```

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [File Systems](http://eLinux.org/Category:File_Systems "Category:File Systems")

# Pram Fs Specification

> From: [eLinux.org](http://eLinux.org/Pram_Fs_Specification "http://eLinux.org/Pram_Fs_Specification")

# Pram Fs Specification

```
#noprint
VERSION 0.1 - for other versions, click the "info" button.

'''Table Of Contents:'''
[[TableOfContents]]
#noprint 
```

## Contents

*   1 Introduction
*   2 Rationale
*   3 Specifications
*   4 Notes (informational and non-normative)
*   5 References
*   6 Remaining Issues

## Introduction

This page specifies a file system that will enhance security of system data in the presence of kernel bugs or rogue programs.

## Rationale

A single bug in the Linux kernel may cause catastrophic damage to a system. If a product holds irreproducible security keys, financial data, or account information, then loss of such data could render the product unusable, or worse. The customer could suffer financial or legal harm (from account theft or identity theft).

It is not possible to guarantee with certainty that there are no bugs in the Linux kernel. However, it is possible to decrease the probability that a bug in the kernel will cause damage to a particular area of memory or storage. This protected area could then be used with greater confidence to hold sensitive user or product data.

Portions of the product memory and storage should be made resistant to kernel bugs. A protected RAM file system would remain consistent if any of the kernel data pointers are corrupted, or if the kernel starts executing unexpectedly in the wrong location.

## Specifications

1.  A configuration option for the Linux kernel SHALL be provided which controls whether or not the kernel supports the PRAM file system. This option MUST be called CONFIG_PRAM_FS. 2\. A full-featured read/write file system for Linux that is RAM-based.
2.  If the memory is non-volatile, the file system SHALL be persistent.
3.  File I/O in PRAMFS is always direct, synchronous, and never blocks.
4.  PRAMFS should be write-protected.
5.  In case there are systems where the write protection is not possible, this feature can be disabled with the CONFIG_PRAMFS_NOWP configuration option.

## Notes (informational and non-normative)

There is only minimal effort required to back-port the 2.4.22 version of the PRAMFS patch set to the CELF source tree.

## References

Patches are available for PRAMFS against the kernel.org trees for kernel versions 2.4.22 and 2.6.4 at [`pramfs.sourceforge.net`](http://pramfs.sourceforge.net).

## Remaining Issues

```
#noprint
[this is a placeholder section for listing issues while the spec is under development.
It should be empty when the spec is completed (or the issues should be deferrable to
a subsequent version of the spec).]
#noprint 
```

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [File Systems](http://eLinux.org/Category:File_Systems "Category:File Systems")
*   [Specification](http://eLinux.org/Category:Specification "Category:Specification")

# Squash Fs

> From: [eLinux.org](http://eLinux.org/Squash_Fs "http://eLinux.org/Squash_Fs")

# Squash Fs

## Contents

*   1 Description
*   2 Rationale
*   3 Resources
    *   3.1 Projects
*   4 Status/News
*   5 Downloads
    *   5.1 Patch
    *   5.2 Utility programs
*   6 How To Use
*   7 Sample Results
    *   7.1 Ubuntu liveCD compression results
    *   7.2 Damn Small Linux liveCD compression results
    *   7.3 File System Performance
*   8 LZMA
    *   8.1 Availability
    *   8.2 mksquashfs instructions
    *   8.3 lzma data comparison
    *   8.4 Notes on compression

## Description

"Squash FS" is the name of a compressed read-only filesystem for Linux. There are a number of such file systems available for Linux, including ROMFS, [CramFS](http://eLinux.org/File_Systems#CramFS "File Systems") and SquashFS.

## Rationale

A compressed file system is interesting in embedded systems for reducing the overall size (in flash) of the Linux system. Squash FS is reported to have better compression capabilities than CramFS, which is a very popular.

## Resources

### Projects

The SquashFS home page is at: [Squash FS](http://squashfs.sourceforge.net/)

## Status/News

SquashFS version 4.0 was accepted into the mainline kernel in January

1.  See [`lwn.net/Articles/314326/`](http://lwn.net/Articles/314326/) and the kernel change log at: [`kernel.org/pub/linux/kernel/v2.6/testing/ChangeLog-2.6.29-rc1`](http://kernel.org/pub/linux/kernel/v2.6/testing/ChangeLog-2.6.29-rc1)

As of November 2009, Phillip Lougher was working on adding LZMA support to the file system. See [`old.nabble.com/Re%3A-squashfs-4.0-lzma-support-td25132198.html#a26028786`](http://old.nabble.com/Re%3A-squashfs-4.0-lzma-support-td25132198.html#a26028786)

## Downloads

### Patch

*   See the Squash fs [download page](http://sourceforge.net/project/showfiles.php?group_id=63835) for patches

*   if you want LZMA support, read below

### Utility programs

The squashfs file release contains a README, the squashfs patch files, and the squashfs-tools directory (mksquashfs). Please see the INSTALL file for install instructions.

## How To Use

See the Squash FS Howto:

*   [online version](http://artemio.net/projects/linuxdoc/squashfs)
*   [Squash FS Howto](http://eLinux.org/Squash_FS_Howto "Squash FS Howto") page (copy of document in this wiki - may be out of date)

## Sample Results

Here are brief summaries for 2 large file systems, saved using a variety of file system types.

This information was provided by Phillip Lougher.

### Ubuntu liveCD compression results

```
 ext3 uncompressed size      1.4 GB
   ISO9660 uncompressed size   1.3 GB
   Zisofs compressed size      589.81 MB
   Cloop compressed size       471.89 MB
   Squashfs2.0 compressed size 448.58 MB
   Squashfs2.1 compressed size 448.58 MB 
```

### Damn Small Linux liveCD compression results

```
 ext3 uncompressed size      126 MB
   CRAMFS compressed size      52.19 MB
   Squashfs2.0 compressed size 46.52 MB
   Squashfs2.1 compressed size 46.52 MB 
```

### File System Performance

There is performance data for these file systems on the page [Squash Fs Comparisons](http://eLinux.org/Squash_Fs_Comparisons "Squash Fs Comparisons")

## LZMA

LZMA is the name of a compression algorithm that can be used to achieve better compression with SquashFS.

Benefits of LZMA:

*   Better compression - easily saving 5% on a file system

Disadvantages:

*   Decompression is slower than zlib

### Availability

Up until Fall of 2009, support for the LZMA compression algorithm in SquashFS was available via a set of external patches. See [`www.squashfs-lzma.org/`](http://www.squashfs-lzma.org/)

In December of 2009, Phillip Lougher submitted some patches to LKML for LZMA support in SquashFS. See [`lkml.org/lkml/2009/12/7/84`](http://lkml.org/lkml/2009/12/7/84)

### mksquashfs instructions

(As of December, 2009...)

To obtain a mksquashfs that supports LZMA, see the Squashfs CVS ([`sourceforge.net/projects/squashfs/develop`](http://sourceforge.net/projects/squashfs/develop)).

You'll need to edit the squashfs-tools Makefile to enable LZMA support. The comments in the Makefile should, hopefully, explain how to build LZMA support into Mksquashfs/Unsquashfs.

Once built-in, LZMA support can be specified using the -comp lzma option, i.e.

```
mksquashfs dir dir.img -comp lzma 
```

Unsquashfs doesn't need any extra options, it automatically detects which compression has been used.

You can tell which compression algorithms Mksquashfs/Unsquashfs support by just typing the command on its own (i.e. mksquashfs, or unsquashfs). The (de-)compressors available are displayed at the end of the output.

### lzma data comparison

Here is some information that was posted recently (?) on the squashfs mailing list by Oleg Vdovikin:

```
> # du -s target
> 7836    target
> # ls -l target.*
> -rw-r--r--  1 root     root 2842788 Aug 27 17:54 target.cramfs
> -rwx------  1 root     root 2449408 Jan 26 13:19 target.sqshfs
> -rwx------  1 root     root 2060288 Jan 26 13:21 target.lzmafs
>
>     So, lzma for this filesystem gives 84% of original size. For bigger
> filesystem I've got 82%. 
```

### Notes on compression

```
From: John Richard Moser <nigele...@comcast.net>
Date: Wed, 29 Sep 2004 18:20:11 +0200
Subject: Re: Compressed filesystems: Better compression?

Matti Aarnio wrote:
| Compression algorithms are a bit tough to be used in a random access
| smallish blocks environments. In long streams where you can use megabytes
| worth of buffer spaces there is no problem is achieving good performance.
| But do try to do that in an environment where your maximum block size
| is, say: 4 kB, and you have to start afresh at every block boundary.

Yes of course. I've seen the compressed page cache patch do this and
get fair peformance (10-20%), though on double size blocks (8KiB) it
manages almost twice as good (20-50%, averaged around 30% IIRC). Not
great, but not bad.

On compressed filesystems you can work with 64k or 128k blocks.
Somewhere around 32-64k is usually optimal; you're not going to see
great improvements using 1M blocks instead of 512k blocks.

| Whatever algorithms you use, there will always be data sequences that
| are of maximum entropy, and won't compress. Rather they will be
| presented in streams as is with a few bytes long wrappers around
| them.

Yes, an intelligent algorithm decides that if the underlying compression
algorithm used produces no results, it just marks the block as
uncompressed and stores it as such. ZLIB does this if the block gets
bigger. LZMA might not; but higher level intrinsics (block headers)
could handle that easy (as you said). 
```

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [File Systems](http://eLinux.org/Category:File_Systems "Category:File Systems")

# UBIFS

> From: [eLinux.org](http://eLinux.org/UBIFS "http://eLinux.org/UBIFS")

# UBIFS

## Contents

*   1 Introduction
    *   1.1 History
    *   1.2 Features
    *   1.3 Fastmap support
*   2 UBIFS vs. YAFFS2 comparisons for 2.6.31.1
*   3 Creating UBI Image
*   4 Mounting UBI Image on PC using nandsim

## Introduction

UBIFS is a filesystem that works on top of [UBI](http://elinux.org/File_Systems#UBI) volumes

*   the UBIFS home page is at: [`www.linux-mtd.infradead.org/doc/ubifs.html`](http://www.linux-mtd.infradead.org/doc/ubifs.html)
*   UBIFS presentation slides: [ubifs.odp](http://www.linux-mtd.infradead.org/doc/ubifs.odp)

It represents a next-generation flash filesystem, compared to JFFS2, and (via UBI) operates on raw flash rather than on block-based media (such as eMMC or traditional hard drives).

### History

UBIFS was written by developers at Nokia with help from the University of Szeged. Included in these developers was the current (as of 2012) maintainer of UBIFS, Artem Bityuski. The filesystem was mainlined in the Linux kernel in July, 2008, in kernel version 2.6.27.

### Features

The [UBIFS home page](http://www.linux-mtd.infradead.org/doc/ubifs.html) has more detailed information, but in summary, UBI has the following features relative to other flash filesystems:

*   UBI/UBIFS scales to large flash sizes better than JFFS2
*   Good fault tolerance, via a number of features
*   Built-in on-the-fly compression
*   Good runtime performance

### Fastmap support

As of kernel version 3.7, UBI fastmap support was added to the kernel, to overcome a scalability issue with the time required to mount UBIFS on large flash media.

I specifically deals with the scalability issue described here: [`www.linux-mtd.infradead.org/doc/ubifs.html#L_scalability`](http://www.linux-mtd.infradead.org/doc/ubifs.html#L_scalability)

A description of the feature is at: [`lwn.net/Articles/517422/`](http://lwn.net/Articles/517422/)

```
"UBI Fastmap is an optional feature which stores the physical to
logical eraseblock relations in a checkpoint (called fastmap) to reduce
the initialization time of UBI. The current init time of UBI is
proportional to the number of physical erase blocks on the FLASH
device. With fastmap enabled the scan time is limited to a fixed
number of blocks." 
```

## UBIFS vs. YAFFS2 comparisons for 2.6.31.1

Note: see our [Flash_Filesystem_Benchmarks](http://eLinux.org/Flash_Filesystem_Benchmarks "Flash Filesystem Benchmarks") for more recent benchmarks.

Hardware: MIPS, 403MHz CPU, 1GB Nand Flash

IOZone results: 4M, 8M & 16M file sizes in 980MB partition.

*   mount time
    *   "1st mount" : time for mounting just after "flash_eraseall".
    *   "Empty" : time for mounting after "1st mount".(there's no files in partition)
    *   "Full" : time for mounting after creating files util the partition is full.(file size is random.)
    *   "Ubiattach" time for attaching 980MB partition into the ubi layer using ubiattach util.

|  | Ubiattach | Ubifs | Yaffs2 |
| --- | --- | --- | --- |
| 1st mount | 2.59 sec | 0.17 sec | 2.25 sec |
| Empty | 2.57 sec | 0.11 sec | 0.03 sec |
| Full | 2.63 sec | 0.16 sec | 0.80 sec |

*   IOZone results

UBIFS compared to YAFFS2 (file size = 4MB)

| 4M | write | rewrite | read | reread | r.read | r.write | b.read | r.rewrite | s.read | fwrite | frewrite | fread | freread |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| yaffs2 | 1538 | 1527 | 296962 | 297696 | 297825 | 1521 | 296876 | 1526 | 295164 | 1536 | 1524 | 297436 | 299021 |
| ubifs | 19913 | 20989 | 298346 | 297631 | 299809 | 20968 | 298368 | 20181 | 299458 | 20471 | 20962 | 297371 | 297760 |
| ubifs/yaffs2 | 12.95 | 13.75 | 1.00 | 1.00 | 1.01 | 13.79 | 1.01 | 13.22 | 1.01 | 13.33 | 13.75 | 1.00 | 1.00 |

UBIFS compared to YAFFS2 (file size = 16MB)

| 16M | write | rewrite | read | reread | r.read | r.write | b.read | r.rewrite | s.read | fwrite | frewrite | fread | freread |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| yaffs2 | 1538 | 1523 | 297199 | 298525 | 298896 | 1528 | 298433 | 1525 | 298847 | 1538 | 1525 | 299661 | 300656 |
| ubifs | 20501 | 20656 | 298272 | 299109 | 299032 | 20521 | 298417 | 20710 | 298923 | 20448 | 20521 | 298259 | 299267 |
| ubifs/yaffs2 | 13.33 | 13.56 | 1.00 | 1.00 | 1.00 | 13.43 | 1.00 | 13.58 | 1.00 | 13.30 | 13.46 | 1.00 | 1.00 |

UBIFS compared to YAFFS2 (file size = 32MB)

| 32M | write | rewrite | read | reread | r.read | r.write | b.read | r.rewrite | s.read | fwrite | frewrite | fread | freread |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| yaffs2 | 1539 | 1525 | 296537 | 297204 | 297253 | 1527 | 297177 | 1527 | 296583 | 1531 | 1523 | 296537 | 297463 |
| ubifs | 20474 | 20611 | 296765 | 297490 | 297334 | 20659 | 296972 | 38416 | 297371 | 19068 | 20059 | 296618 | 296658 |
| ubifs/yaffs2 | 13.30 | 13.52 | 1.00 | 1.00 | 1.00 | 13.53 | 1.00 | 25.16 | 1.00 | 12.45 | 13.17 | 1.00 | 1.00 |

## Creating UBI Image

This is easiest to do, if you have access to the device and can run ubinfo and dmesg, otherwise you'll need to determine the volume size, Logical Erase Block size, etc by other means. UBI has some block overhead, which I found documentation inconsistent with my particular application, so your results may very. If your device is one UBI image for the entire NAND, this should be easier, and could probably be determined by just mounting a copy of the UBI image from the device if available.

To create the image from a rootfs you've built first you need to create the ubi.ini file, that describes your ubi image. Create a regular text file, ubi.ini, example contents, for more info run ubinize -h:

```
[ubi_rfs]
mode=ubi
image=ubifs.img
vol_id=0
vol_size=87349248
vol_type=dynamic
vol_name=ubi_rfs
vol_alignment=1
vol_flags=autoresize 
```

Next you'll run the commands that actually build it. Here ubi.ini is the file you just created, ubifs.img is a temp file you can delete once you are done, and your_erootfs.ubi is the name of the rootfs image that will be created.

```
sudo /usr/sbin/mkfs.ubifs -m 2048 -e 129024 -c 677 -r /path/to/rootfs ubifs.img
sudo /usr/sbin/ubinize -o your_erootfs.ubi -p 131072 -m 2048 -s 512 -O 512 ubi.ini 
```

To determine these and the ubi.ini file settings, use ubinfo -a and dmesg on the device if possible, which both give plenty of information about the values needed. The size and vol_name are listed under "Present volumes" when you run ubinfo -a on the device. The second half of that particular ubi device's description. While the NAND description's PEB, LEB etc are in dmesg.

mkfs.ubifs

*   -m - Minimum I/O unit size.
*   -e - Logical Erase Block (LEB) size.
*   -c - Max LEB count. (vol_size/LEB)
*   -x - Compression type: lzo (default), favor_lzo, zlib, none
*   -r - Path to root filesystem.
*   ubifs.img - Temporary image file.

ubinize

*   -o - Output file.
*   -p - Physical Erase Block (PEB) size.
*   -m - Minimum I/O unit size.
*   -s - Minimum I/O size for UBI headers, eg. sub-page size.
*   -O - VID header offset from start of PEB.
*   ubi.ini - UBI image configuration file.

## Mounting UBI Image on PC using nandsim

First create a simulated NAND device (this one is 256MB, 2048 page size). \<numberu0005c class="calibre16">_id_byte= corresponds to the ID bytes sent back from the NAND.</numberu0005c>

```
$ sudo modprobe nandsim first_id_byte=0x20 second_id_byte=0xaa third_id_byte=0x00 fourth_id_byte=0x15 
```

Check it was created.

```
$ cat /proc/mtd
dev:    size   erasesize  name
mtd0: 10000000 00020000 "NAND simulator partition 0" 
```

Next, attach it to a mtd device.

```
$ sudo modprobe ubi mtd=0 
```

I had to detach it prior to formatting it.

```
$ sudo ubidetach /dev/ubi_ctrl -m 0 
```

If that ubidetach step fails when you enter it, just proceed to the next step to format the mtd device.

```
$ sudo ubiformat /dev/mtd0 -f <image>.ubi
ubiformat: mtd0 (nand), size 268435456 bytes (256.0 MiB), 2048 eraseblocks of 131072 bytes (128.0 KiB), min. I/O size 2048 bytes
libscan: scanning eraseblock 2047 -- 100 % complete
ubiformat: 2048 eraseblocks have valid erase counter, mean value is 1
ubiformat: flashing eraseblock 455 -- 100 % complete
ubiformat: formatting eraseblock 2047 -- 100 % complete 
```

Then, attach it.

```
$ sudo ubiattach /dev/ubi_ctrl -m 0
UBI device number 0, total 2048 LEBs (264241152 bytes, 252.0 MiB), available 0 LEBs (0 bytes), LEB size 129024 bytes (126.0 KiB) 
```

Make a target directory, and mount the device.

```
$ mkdir temp
$ sudo mount -t ubifs ubi0 temp 
```

# 电源管理

> 原文：[eLinux.org](http://elinux.org/Power_Management)
> 翻译：[@zhongbin](https://github.com/qkhhyga)
> 校订：[@lzufalcon](https://github.com/lzufalcon)

# 电源管理

## 目录

*   2 简介
*   3 电源管理技术与项目网页
*   4 Linux 电源管理迷你峰会
    *   4.1 迷你峰会记录
*   5 CE Linux 论坛的需求标准
*   6 资料文档
*   7 开源项目/邮件列表

## 简介

本文介绍 Linux 电源管理相关信息。电源管理因手持或者移动产品大量出现而存在，并且消费者越来越关心他们的产品续航体验。

## 电源管理技术与项目网页

*   [`www.lesswatts.org/index.php`](http://www.01.org) - LessWatts.org （注：该域名已失效，大部分项目都已经转到 01.org）

    *   LessWatts.org 是一个关于如何节省 Linux 系统功耗的网站。
    *   LessWatts 正在创立一个以节省 Linux 功耗为主题的社区，带领开发者、用户、还有系统管理员一起分享节能软件，节能优化以及一些节能的方法和策略。
    *   LessWatts 也提供了 [powertop](https://01.org/powertop) 工具，用于帮助指出一些系统中耗电的地方。
*   [OMAP 电源管理](http://eLinux.org/OMAP_Power_Management "OMAP Power Management")

    *   [TI](http://eLinux.org/Texas_Instruments "Texas Instruments") OMAP 系列处理器上的电源管理。

## Linux 电源管理迷你峰会

### 峰会记录

*   [2010 波士顿 Linux 电源管理迷你峰会记录](http://lwn.net/Articles/400465/)
*   [2009 蒙特利尔 Linux 电源管理迷你峰会记录](http://lwn.net/Articles/345007/)
*   [2008 渥太华 Linux 电源管理迷你峰会记录](http://lwn.net/Articles/292447/)

## CE Linux 论坛的需求标准

见链接: [2006 年 CE Linux 论坛的电源管理需求](http://www.elinux.org/CELF_PM_Requirements_2006)

## 资料文档

*   [设备电源管理规范](http://eLinux.org/Device_Power_Management_Specification "Device Power Management Specification")

*   [动态电源管理规范](http://eLinux.org/Dynamic_Power_Management_Specification "Dynamic Power Management Specification")

*   ACPI 的电源状态和 OMAP 的电源状态之间的映射关系： [ACPI 和 OMAP2 的映射关系](http://eLinux.org/images/0/02/Acpi-to-omap2-mapping.pdf "Acpi-to-omap2-mapping.pdf")

以下是与嵌入式相关的各种电源管理特性的概述：

*   每一微安都是神圣的 - Linux 内核中的动态电压和电流控制接口 - Liam Girdwood [幻灯片](http://www.celinux.org/elc08_presentations/regulator-api-celf.pdf)和[视频](http://free-electrons.com/pub/video/2008/elc/elc2008-liam-girdwood-every-microamp-is-sacred.ogg)

*   PM QoS 以及在嵌入式应用中如何使用 - Mark Gross [幻灯片](http://www.celinux.org/elc08_presentations/elc2008_pm_qos_slides.pdf)和[视频](http://free-electrons.com/pub/video/2008/elc/elc2008-mark-gross-power-management.ogg)

*   嵌入式电源管理模块 - Kevin Hilman [幻灯片](http://www.celinux.org/elc08_presentations/PM_Building_Blocks1.pdf)和[视频](http://free-electrons.com/pub/video/2008/fosdem/fosdem2008-kevin-hilman-power-management.ogg)

*   在消费类电子设备上实现 Linux 系统挂起到磁盘的目标 - Vitaly Wool [幻灯片](http://tree.celinuxforum.org/CelfPubWiki/ELCEurope2007Presentations?action=AttachFile&do=view&target=std.pdf)

*   Linux 时钟管理框架 - Siarhei Yermalayeu [幻灯片](http://tree.celinuxforum.org/CelfPubWiki/ELCEurope2007Presentations?action=AttachFile&do=view&target=ELC_2007_Linux_clock_fmw.pdf)

*   OMAP3 先进的电源管理，Peter de Schrijver，FOSDEM 2009 [视频](http://free-electrons.com/pub/video/2009/fosdem/fosdem2009-schrijver-advanced-pm-omap3.ogv)

*   把 Linux 电源管理和产品质量联系起来，Eugeny Mints，ELCE 2008 [视频](http://free-electrons.com/pub/video/2008/elce/elce2008-mints-linux-pm-production-quality.ogv)

*   ARM11 的电源管理，Mischa Jonker，ELCE 2008 [幻灯片](http://tree.celinuxforum.org/CelfPubWiki/ELCEurope2008Presentations?action=AttachFile&do=get&target=MischaJonker_ARM11_power_management_CELF_ELC_2008.pdf)和[视频](http://free-electrons.com/pub/video/2008/elce/elce2008-jonker-power-management-arm11.ogv)。

*   [电源管理规范](http://eLinux.org/Power_Management_Specification "Power Management Specification")

*   [静态电源管理规范](http://eLinux.org/Static_Power_Management_Specification "Static Power Management Specification")

## 开源项目/邮件列表

*   [Linux-pm](https://lists.osdl.org/mailman/listinfo/linux-pm) 邮件列表 (和[存档](http://lists.osdl.org/pipermail/linux-pm/)列表 )。
*   在 sourceforge 上的开源项目： [动态电源管理](http://dynamicpower.sourceforge.net)。

[分类](http://eLinux.org/Special:Categories "Special:Categories")：

*   [电源管理](http://eLinux.org/Category:Power_Management "Category:Power Management")

# Device Power Management Specification

> From: [eLinux.org](http://eLinux.org/Device_Power_Management_Specification "http://eLinux.org/Device_Power_Management_Specification")

# Device Power Management Specification

## Contents

*   1 Background
    *   1.1 Terminology
    *   1.2 Device Suspend/Resume Discussion
*   2 Specification
*   3 Non-normative notes

## Background

Various devices on embedded platforms upport low-power states that can be employed by CE products at times when full operation of the device is not required. The ability to manage device power usage may be crucial to many CE products, especially those powered by batteries.

Generic Linux contains some support for these topics. However, device suspend/resume support is not a priority at present, and neither is support for embedded platforms. This specification addresses the potential lack of device power management features on a platform used for CE products by requiring that a CELF-conforming Linux for that platform support its basic device power management capabilities. This specification also requires a minimal set of functionality closely associated with device power management. The basic capabilities outlined here may be extended by future CELF specifications that cover additional features useful for CE products.

### Terminology

CE platform device : A device that is closely associated with the platform, that is supported by a Linux driver under an open-source license, and that may reasonably be expected to appear in an actual consumer electronics product based on the platform. See further discussion below.

Device resume : The process of restoring the state of a device that was previously suspended to normal operation.

Device suspend : The process of placing a device into a device suspend state, and/or of preparing the device for a system suspend. This may occur for such reasons as explicit instructions to power down an unneeded device by an application, or as part of a system suspend. Depending on the platform and device, device suspend may include saving state to allow later restoration of state at device resume time.

Device suspend state : A reduced-power state supported by a device. Many, but not all, devices support at least one device suspend state, which may prevent operation of the device until a device resume is performed. The various device suspend states may be activated by device-specific interfaces and/or automatic criteria, or may follow standards such as ACPI. This specification primarily targets reduced-power states that are activated by the device driver when needed (rather than automatic hardware mechanisms, such as inactivity timers).

### Device Suspend/Resume Discussion

Device suspend may occur for reasons that include:

*   *   an application explicitly manipulates device state, such as to power down a device no longer required by the application
    *   a system suspend occurs, which suspends all devices prior to suspending the system
    *   a power policy management subsystem, such as DPM, places the system in a state that is incompatible with operation of the device
    *   a hardware or software mechanism triggers a low-power state after a period of inactivity
    *   the driver powers down the device because applications no longer hold an open reference to the device

In many cases, CELF specifies support for evaluation or reference boards, based on which CE products may be derived using a custom hardware design that incorporates the processor and various devices. This specification targets only devices and drivers termed "CE platform devices" here, which meet these criteria:

*   The device is closely associated with the platform. A CE platform device may be physically located on a single-board computer or in some other way be tightly coupled to the platform supported by CELF-conforming kernel source, such that its presence is likely in many products that may be based on the platform. Devices not included in this definition include arbitrary cards that plug into buses provided on the platform, such as PCI or PCMCIA, or that may be attached in custom hardware designs.
*   The device is supported by a Linux driver under an open-source license.
*   The device may reasonably be expected to appear in an actual consumer electronics product based on the platform. A CE platform device may be distinguished from devices that are present on evaluation or reference boards for development or debugging purposes, such as an ethernet interface that is unlikely to appear in an actual CE product.

This specification targets CE platform devices exclusively, in order to give product designers the necessary tools to save power in actual product configurations. This distinction is made in order to avoid mandating power management capabilities for:

*   devices not present in the CELF-supported evaluation/reference boards
*   devices for which no open source driver has been made available
*   devices that serve only a development or diagnostic function

Device state may need to be be saved during the device suspend operation, such that device operation can later be restored to approximately the same condition at device resume. If so, device state is typically saved in SDRAM since SDRAM is usually powered (perhaps in self-refresh state) during the suspend interval -- a platform that does not preserve SDRAM during suspend generally must reboot at resume time, whereupon device state can be restored from stable storage if needed.

System suspend may remove power from some or all devices, depending on the platform and the particular system suspend state entered, leaving the devices unpowered during the suspend interval and restoring power at system resume. This may affect the manner in which device resume occurs during system resume, since recovering from a power cycle may require different procedures than are needed for individual device suspend/resume. This may also affect the actions to be taken to accomplish a device suspend during system suspend; for example, entering a low-power suspend state may not be useful if the platform is about to remove power from the device.

## Specification

1.  If a CE platform device that supports device suspend/resume actions, then both kernel programmatic interfaces and userspace interfaces MUST be provided to individually perform device suspend and device resume for only that device. These interfaces SHOULD suspend other devices that depend upon the selected device for correct operation. Other devices that do not depend upon the selected device for correct operation MUST NOT be suspended or resumed by these interfaces.

2.  If a CE platform device supports a device suspend state, or if any actions are needed in order to correctly resume device operation after a system resume from at least one system suspend state supported by the Linux kernel, then the driver for the device SHOULD implement the support necessary for the device suspend and resume interfaces.

3.  If a CE platform device supports one device suspend state, then the device suspend processing performed by the driver for the device MUST be capable of causing the device to enter the supported device suspend state. Where multiple device suspend states are available, the driver SHOULD be capable of entering each of these states.

4.  The device resume processing performed by the driver for a CE platform device SHOULD restore device operation to approximate pre- suspend conditions.

5.  A mechanism for requesting device suspend for all active CE platform devices at system suspend time MUST be provided. A mechanism for system resume to restore to an active state all CE platform devices that were in an active state prior to system suspend MUST be provided.

6.  It is RECOMMENDED that drivers place devices into low-power states when not in use or after a period of inactivity.

7.  It is RECOMMENDED that drivers and platform support code make use of hardware features to automatically place devices into lower-power states, such as to stop clocks (sometimes referred to as "automatic clock gating"), after a period of inactivity or when the hardware is in some manner able to detect that the device is not in use.

## Non-normative notes

Among the choices for device suspend/resume interfaces are:

*   *   *   The Linux 2.5/2.6 Linux Driver Model (LDM) implements a kernel API for driver suspend and resume functions. LDM also provides a kernel API for calling drivers to suspend all devices at system suspend, and to restore normal operation of the devices at system resume.
        *   The Linux 2.5/2.6 sysfs filesystem exports interfaces that applications may use to suspend and resume devices (individually); these interfaces call the LDM driver suspend and resume kernel [APIs](http://eLinux.org/APIs "APIs").
        *   APM function calls (such as pm_register) for device suspend/resume. Note that these interfaces are generally being replaced with Linux Driver Model interfaces in future Linux versions.

A version of the Linux 2.5/2.6 technology described above has been backported to Linux 2.4 for use in CELF-conforming systems based on the 2.4 Linux kernel.

Comments on the 4.5.2 specification section are the following:

*   4.5.2.4 and 4.5.2.6 does not make specific requirements upon devices that may change state in significant ways between device suspend and device resume, for example, a controller for a hotpluggable bus such as PCMCIA or MMC, where the consumer may insert or eject cards during the suspend interval.

*   4.5.2.5: In 2.6 kernel,Linux Driver Model (LDM) has this mechanism. CE platform devices that are already suspended via a previous individual device suspend should be skipped, if it is not necessary to perform any further device suspend processing prior to a system suspend (such as to save state in RAM in preparation for power-off). Devices that were already individually suspended prior to system suspend should be left in a suspended state after system resume.

*   4.5.2.6: For example, when the last open file descriptor for a device is closed, the driver may suspend the device.

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Specification](http://eLinux.org/Category:Specification "Category:Specification")

# Dynamic Power Management Specification

> From: [eLinux.org](http://eLinux.org/Dynamic_Power_Management_Specification "http://eLinux.org/Dynamic_Power_Management_Specification")

# Dynamic Power Management Specification

## Contents

*   1 Rationale
*   2 Specifications
*   3 Non-normative Notes
*   4 References

## Rationale

Many CE products are powered by batteries, not by a wired power supply. Making efficient use of the energy stored in the batteries is very important, both in terms of achieving an acceptable length of product usage per battery charge and in terms of product form factor; an energy-efficient product can be powered by a smaller sized battery than other would be required. This also has a bearing on the manufacturing cost of the product. Power savings can be achieved through the use of low-power system states, entered when the product is inactive or when selected explicitly by the user - for example, by use of the power switch to put the product into a standby state. This type of power management is referred to as static power management.

Dynamic power management refers to managing power while the product is in use, running user applications. Such power management can involve dynamic control of peripheral clocks and power supplies, varying the timer tick frequency during idle periods and CPU frequency/voltage scaling. This uses a combination of user-space and kernel-space software:

```
- a Policy Manager component running in user-space
- a Power Management Engine ("PM-Engine") component running in kernel-space 
```

The software selects the system operating state based on a combination of the following:

```
- application requirements
- the parameters for battery lifetime or task deadlines
- CPU loading
- the current device constraints
- the current operating state
- user interaction 
```

## Specifications

If a platform has an interface to change its power parameters while platform is running, a CELF conforming kernel for the platform MUST satisfy the following:

1.  A kernel SHOULD provide a userspace interface to add/remove/modify a power policy.

2.  A kernel SHOULD provide interfaces to modify the platform's operating state and power parameters of the platform accordingly.

3.  A kernel SHOULD have the capability to set the platform at the operating state of a task while the CPU is executing that task.

4.  A kernel SHOULD have a userspace interface to initialize/remove/modify the operating state of a task.

5.  A device driver framework MAY provide interface to register device constraints on device open and unregister the constraints on device close.

6.  When a CPU is idle, a kernel SHOULD set the CPU at its low power mode if the CPU supports at least one low power mode.

7.  System clocks MUST be correct regardless of power parameter changes.

## Non-normative Notes

```
- Specific interface for an application to give hints on selecting an appropriate system operating state to the PM-Engine is not required by this specification.
- Recommendations for Hardware Platform
 - The latency of changing power modes of a CPU should be small enough to do it whenever a CPU becomes idle.
 - Memory address/data buses and peripheral buses can be put to low power modes when CPU becomes idle if the latency of putting those buses to low power modes are small enough.
 - CPU voltage/clock changing latency need to be quite small enough to do frequently while a task is running. 
```

## References

Power management framework - lower layer of PM-Engine:

1.  IBM and [Monta Vista](http://eLinux.org/Monta_Vista "Monta Vista") Software, "Dynamic Power Management for Embedded Systems", Nov., 2002, [`www.research.ibm.com/arl/projects/papers/DPM_V1.1.pdf`](http://www.research.ibm.com/arl/projects/papers/DPM_V1.1.pdf)

2.  "Dynamic Power Management", [`sourceforge.net/projects/dynamicpower/`](http://sourceforge.net/projects/dynamicpower/)

Hooks required in tracking task scheduling etc.:

```
1.#3 "Kernel Hooks", http://www-124.ibm.com/developerworks/oss/linux/projects/kernelhooks/ 
```

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Specification](http://eLinux.org/Category:Specification "Category:Specification")

# OMAP Power Management

> From: [eLinux.org](http://eLinux.org/OMAP_Power_Management "http://eLinux.org/OMAP_Power_Management")

# OMAP Power Management

## Contents

*   1 PM branch
    *   1.1 Features
    *   1.2 Current version
        *   1.2.1 Supported platforms (OMAP3 only)
    *   1.3 Using OMAP PM
        *   1.3.1 Features
            *   1.3.1.1 Suspend/Resume
            *   1.3.1.2 Enabling system for hitting retention during idle
            *   1.3.1.3 Enabling system for hitting OFF
    *   1.4 Known Problems
    *   1.5 Advanced features for PM developers and power users
        *   1.5.1 Debug info
        *   1.5.2 UART wakeup and timeout options
        *   1.5.3 UART PM Debugging Techniques
    *   1.6 Public Power management test framework
        *   1.6.1 Cpufreq utils
        *   1.6.2 Maemo pm-test
        *   1.6.3 Quick verification of suspend-idle functionality

## PM branch

The PM branch is a developement branch of the linux-omap kernel for the purposes of developing and stabilizing the PM infrastructure for OMAP and submitting it upstream.

The maintainer of the PM branch is Kevin Hilman.

### Features

*   full-chip retention in idle and suspend
*   full-chip OFF in idle and suspend
*   idle PM via CPUidle
*   support for multiple OMAP3/4 boards

The latest, tested PM branch is available as a branch named ['pm'](http://git.kernel.org/?p=linux/kernel/git/khilman/linux-omap-pm.git;a=shortlog;h=pm) from the [linux-omap-pm repository](http://git.kernel.org/?p=linux/kernel/git/khilman/linux-omap-pm.git). This branch is also sync'd daily as the 'pm' branch of the [main linux-omap repository](http://git.kernel.org/?p=linux/kernel/git/tmlind/linux-omap-2.6.git).

### Current version

#### Supported platforms (OMAP3 only)

Tested on the following platforms using omap3_pm_defconfig with busybox-based initramfs, and tested full-chip RET and OFF in idle and suspend:

*   3430SDP
*   OMAP3EVM
*   Beagle
*   Overo (Water + Tobi)
*   [Nokia N900](http://eLinux.org/N900 "N900") (a.k.a RX51)
*   Zoom2
*   [KwikByte KBOC](http://www.kwikbyte.com/KBOC.html)

### Using OMAP PM

#### Features

By default, the OMAP is configured to hit full-chip retention in suspend.

##### Suspend/Resume

```
# echo mem > /sys/power/state 
```

Serial console activity or other configured wakeup sources (keypad, touchscreen) will trigger resume.

Upon resume, you can use the powerdomain state statistics to check whether all states hit the desired state, cf. 'Debug info'

```
# cat /debug/pm_debug/count 
```

In addition, if any power domains did not hit the desired state, you will see a message on the console.

##### Enabling system for hitting retention during idle

By default, the UARTs will not automatically idle when unused so they will prevent low-power states during idle. To enable UART idle timeouts with a 5 second timeout:

```
# echo 5 > /sys/devices/platform/omap/omap_uart.0/sleep_timeout
# echo 5 > /sys/devices/platform/omap/omap_uart.1/sleep_timeout
# echo 5 > /sys/devices/platform/omap/omap_uart.2/sleep_timeout
# echo 5 > /sys/devices/platform/omap/omap_uart.3/sleep_timeout 
```

NOTE: the 4th UART is only present on 3630 and OMAP4.

Then, wait for any inactivity timers to expire (such as the 5 second UART timer) and check the powerdomain transition statistics to see that transitions are happening

```
 # cat /debug/pm_debug/count 
```

##### Enabling system for hitting OFF

By default, retention is the deepest sleep state attempted. To enable power domain transitions to off mode

```
# echo 1 > /debug/pm_debug/enable_off_mode 
```

Once again, after a suspend or after some idle time, use the power domain transition stats to check that transitions to off-mode are happening

```
 # cat /debug/pm_debug/count 
```

### Known Problems

*   Zoom2/3: serial console wakeups not working
    *   Problem: on suspend, by default the serial driver will disable serial interrupts, thus disabling the GPIO IRQ needed for wakeup.
    *   Fix: enable the wakeup feature for the tty used as console:

```
 # echo enabled > /sys/devices/platform/serial8250.0/tty/ttyS0/power/wakeup 
```

*   GPIO module-level wakeups not always working

    *   Background: GPIO wakeups can happen either via the GPIO module itself (module-level wakeups) or via IO pad wakeups if the CORE powerdomain is inactive, in retention or off.
    *   If the IO pad wakeups are not enabled (either because CORE remains on, or because IO pad is not armed) GPIO wakeups may not happen unless the GPIO module-level wakeups are programmed correctly.
    *   To ensure GPIO module wakeups are programmed correctly:
        *   Enable GPIO IRQ for wakeup GPIO, including ISR. Use `request_irq()`
        *   Ensure GPIO is edge-triggered. Only edge triggered GPIOs are wakeup capable (c.f. omap34xx TRM Sec. 25.5.3.1)
            *   the `flags` argument of `request_irq()` should have either `IRQF_TRIGGER_FALLING`, `IRQF_TRIGGER_RISING` or both.
        *   Enable GPIO IRQ as wakeup source using `enable_irq_wake(gpio_to_irq(<gpio>))`
    *   **NOTE:** It is very important that an interrupt handler be configured for the GPIO IRQ, even if it does nothing but return `IRQ_HANDLED`. This is because without an interrupt handler, the GPIO IRQ event will never be properly cleared and this can prevent the GPIO module from hitting retention or off on the next idle request (c.f. omap34xx TRM Sec. 25.5.3.1).
*   GPIO wakeup works once, but prevents future retention

    *   See **NOTE** just above

### Advanced features for PM developers and power users

#### Debug info

First, mount the debug filesystem (debugfs)

```
# mount -t debugfs debugfs /debug 
```

Show powerdomain state statistics and clockdomain active clocks

```
# cat /debug/pm_debug/count 
```

This will look something like this on OMAP3:

```
 # cat /debug/pm_debug/count
 cefuse_pwrdm (OFF),OFF:1,RET:0,INA:0,ON:0,RET-LOGIC-OFF:0
 always_on_core_pwrdm (OFF),OFF:1,RET:0,INA:0,ON:0,RET-LOGIC-OFF:0
 l4per_pwrdm (ON),OFF:0,RET:0,INA:0,ON:1,RET-LOGIC-OFF:0,RET-MEMBANK1-OFF:0,RET-MEMBANK2-OFF:0
 l3init_pwrdm (RET),OFF:0,RET:1,INA:0,ON:1,RET-LOGIC-OFF:0,RET-MEMBANK1-OFF:0
 cam_pwrdm (OFF),OFF:1,RET:0,INA:0,ON:0,RET-LOGIC-OFF:0,RET-MEMBANK1-OFF:0
 ivahd_pwrdm (RET),OFF:1,RET:1,INA:0,ON:1,RET-LOGIC-OFF:0,RET-MEMBANK1-OFF:0,RET-MEMBANK2-OFF:0,RET-MEMBANK3-OFF:0,RET-MEMBANK4-OFF:0
 mpu_pwrdm (ON),OFF:0,RET:0,INA:0,ON:1,RET-LOGIC-OFF:0,RET-MEMBANK1-OFF:0,RET-MEMBANK2-OFF:0
 cpu1_pwrdm (ON),OFF:0,RET:0,INA:0,ON:1,RET-LOGIC-OFF:0,RET-MEMBANK1-OFF:0
 cpu0_pwrdm (ON),OFF:0,RET:0,INA:0,ON:1,RET-LOGIC-OFF:0,RET-MEMBANK1-OFF:0
 tesla_pwrdm (RET),OFF:1,RET:1,INA:0,ON:0,RET-LOGIC-OFF:0,RET-MEMBANK1-OFF:0,RET-MEMBANK2-OFF:0,RET-MEMBANK3-OFF:0
 dss_pwrdm (RET),OFF:0,RET:1,INA:0,ON:1,RET-LOGIC-OFF:0,RET-MEMBANK1-OFF:0
 abe_pwrdm (ON),OFF:1,RET:0,INA:0,ON:1,RET-LOGIC-OFF:0,RET-MEMBANK1-OFF:0,RET-MEMBANK2-OFF:0
 gfx_pwrdm (OFF),OFF:2,RET:0,INA:0,ON:1,RET-LOGIC-OFF:0,RET-MEMBANK1-OFF:0
 core_pwrdm (ON),OFF:0,RET:0,INA:0,ON:1,RET-LOGIC-OFF:0,RET-MEMBANK1-OFF:0,RET-MEMBANK2-OFF:0,RET-MEMBANK3-OFF:0,RET-MEMBANK4-OFF:0,RET-MEMBANK5-OFF:0 
```

If you see each power domain has counters specified. OFF, RET, INA and so on...The count basically keeps incrementing every time it hits low power state. In the above example, cam_pwrdm (camera power domain) has hit OFF state once. GFX power domain has hit OFF state twice and like wise.

#### UART wakeup and timeout options

By default, each of the on-chip OMAP UARTs are enabled as wakeup sources. In addition, they are configured with a configurable inactivity timer (default 5 seconds) after which the UART clocks are allowed to be gated during idle or suspend.

For example, to disable the wakeup capability of a UART1 (a.k.a ttyO0)

```
 # echo disabled > /sys/devices/platform/omap/omap-hsuart.0/power/wakeup 
```

And to change the inactivity timer to 10 seconds, instead of the default 5:

```
 # echo 10 > /sys/devices/platform/omap/omap-hsuart.0/sleep_timeout 
```

Note that you can `cat` these files under `/sys` as well to see the current values.

#### UART PM Debugging Techniques

Debugging problems with the OMAP UART driver wakeup and data transfer when Power Management is enabled can be quite tedious, if one does not have a proper HW setup. An example of a setup (including both HW and SW changes) can be found in the [OMAP_UART_pm_debugging](http://eLinux.org/OMAP_UART_pm_debugging "OMAP UART pm debugging") page.

### Public Power management test framework

Some commonly used power management utilities are listed here which make sense from an OMAP perspective

#### Cpufreq utils

[cpufreq utils](http://www.kernel.org/pub/linux/utils/kernel/cpufreq/cpufrequtils.html) for testing dynamic voltage and frequency scaling.

#### Maemo pm_test

[pm-test](https://garage.maemo.org/projects/pm-test/) plugin for Maemo [says](https://garage.maemo.org/plugins/wiki/index.php?id=778&type=g)

```
 utility which tests that kernel and kernel modules works power management wise 
```

This utility could be used to sanity test the powermanagement impact to a system for suspend/restore and basic power features.

#### Quick verification of suspend-idle functionality

the following script may be used with userspace supporting something simple as busybox:

```
#!/bin/ash
# Quick script to verify SUSPEND Resume behavior without human intervention
# Refer: http://elinux.org/OMAP_Power_Management for details

# Some params that might change based on the environment
SYS=/sys
DEBUG=$SYS/kernel/debug
PROC=/proc

PMDEBUG=$DEBUG/pm_debug
VOLTAGE_OFF=$PMDEBUG/voltage_off_mode
kver=`uname -r`
if [ $kver > "2.6.36" ]; then
    UART="$SYS/devices/platform/omap/omap-hsuart"
else
    UART="$SYS/devices/platform/serial8250"
fi
UART1=$UART.0/sleep_timeout
UART2=$UART.1/sleep_timeout
UART3=$UART.2/sleep_timeout

# Setup cpu idle
cpu_idle(){
    echo -n "$1" > $PMDEBUG/sleep_while_idle
}

# setup off mode
off_mode(){
    echo -n "$1" > $PMDEBUG/enable_off_mode
}

# Do a suspend
suspend_me(){
    echo -n "mem" > $SYS/power/state
}

# get my core data (This is the last domain to hit lowest power state)
core_count(){
    cat $PMDEBUG/count |grep "^core_pwrdm"
}

# get my retention counter
core_ret_count(){
    core_count|cut -d ',' -f3|cut -d ':' -f2
}

# get my off counter
core_off_count(){
    core_count|cut -d ',' -f2|cut -d ':' -f2
}

# setup wakeup timer - automated testing
wakeup_timer(){
    echo -n "$1" > $PMDEBUG/wakeup_timer_seconds
    echo -n "$2" > $PMDEBUG/wakeup_timer_milliseconds
}

# Setup our uart to be inactivity timer
setup_tty_sleep_timeout() {
    if [ -f $UART1 ]; then
        echo -n "$1" > $UART1
    fi
    if [ -f $UART2 ]; then
        echo -n "$1" > $UART1
    fi
    if [ -f $UART3 ]; then
        echo -n "$1" > $UART3
    fi

}

# Measurement Start
measure_start(){
    OFF_START=`core_off_count`
    RET_START=`core_ret_count`
    TIME_START=`date "+%s"`
}
# Measurement End
measure_end(){
    OFF_END=`core_off_count`
    RET_END=`core_ret_count`
    TIME_END=`date "+%s"`
}
# Common formatted print
measure_print(){
    DUR=`expr $TIME_END - $TIME_START`
    echo "$1 | $2 | OFF: $OFF_START->$OFF_END| RET:$RET_START->$RET_END ($DUR sec)"
}

# verify function
check_core_off(){
    RESULT=FAIL
    if [ $OFF_START -lt $OFF_END ]; then
        RESULT=PASS
    fi
}
check_core_ret(){
    RESULT=FAIL
    if [ $RET_START -lt $RET_END ]; then
        RESULT=PASS
    fi
}

# Disable everything
disable_all(){
    # disable voltage off
    if [ -f $VOLTAGE_OFF ]; then
        echo -n "0" >$VOLTAGE_OFF
    fi
    setup_tty_sleep_timeout 0
    wakeup_timer 0 0
    off_mode 0
    cpu_idle 0
}

# test idle - core ret
test_idle_ret() {
    disable_all
    measure_start
    setup_tty_sleep_timeout 5
    cpu_idle 1
    sleep 20
    disable_all
    sleep 1;sync
    measure_end
    check_core_ret
    measure_print "IDLE:RET test" $RESULT
}

# test idle - core off
test_idle_off() {
    disable_all
    measure_start
    setup_tty_sleep_timeout 5
    off_mode 1
    cpu_idle 1
    sleep 20
    disable_all
    sleep 1;sync
    measure_end
    check_core_off
    measure_print "IDLE:OFF test" $RESULT
}

# test suspend - core ret
test_suspend_ret() {
    disable_all
    measure_start
    wakeup_timer 5 0
    suspend_me
    disable_all
    sleep 1;sync
    measure_end
    check_core_ret
    measure_print "SUSPEND:RET test" $RESULT
}

# test suspend - core off
test_suspend_off() {
    disable_all
    measure_start
    off_mode 1
    wakeup_timer 5 0
    suspend_me
    disable_all
    sleep 1;sync
    measure_end
    check_core_off
    measure_print "SUSPEND:OFF test" $RESULT
}

# mount up the basic fs
already_mntd=`mount|grep $PROC`
if [ x == x"$already_mntd" ]; then
    mount -t proc none $PROC
fi

already_mntd=`mount|grep $SYS`
if [ x == x"$already_mntd" ]; then
    mount -t sysfs none $SYS
fi
already_mntd=`mount|grep $DEBUG`
if [ x == x"$already_mntd" ]; then
    mount -t debugfs none $DEBUG
fi
# Lets run the tests one by one..
NR=""
R=`test_suspend_off`
echo $R
NR="$NR\n$R"
R=`test_suspend_ret`
echo $R
NR="$NR\n$R"
R=`test_idle_off`
echo $R
NR="$NR\n$R"
R=`test_idle_ret`
echo $R
NR="$NR\n$R"
# Print End result summary
cat $PMDEBUG/count

# Print test summary
echo -e "$NR" 
```

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [OMAP](http://eLinux.org/Category:OMAP "Category:OMAP")
*   [Power Management](http://eLinux.org/Category:Power_Management "Category:Power Management")

# Power Management Specification

> From: [eLinux.org](http://eLinux.org/Power_Management_Specification "http://eLinux.org/Power_Management_Specification")

# Power Management Specification

```
#noprint
VERSION 1.0 - for other versions, click the "info" button.

'''Table Of Contents:'''
[[TableOfContents3]]
#noprint 
```

## Contents

*   1 Introduction
*   2 Rationale
    *   2.1 Power Dissipation Elements in CMOS Circuits
    *   2.2 Power Reduction Methods
    *   2.3 Power Management Architecture
*   3 Work in Progress
    *   3.1 Platform suspend/resume
        *   3.1.1 Protocol between Energy-Aware Application and Policy Manager
    *   3.2 Device Power Management
        *   3.2.1 Automatic Device Power Saving
    *   3.3 Dynamic Power Management
        *   3.3.1 Energy-Aware(EA) Application Specification
        *   3.3.2 Performance vs. Battery Lifetime Policy

## Introduction

The goal of power management technology is to allow Consumer Electronic (CE) device manufacturers to optimize the power use of their products, including a variety of mobile devices, home appliances, and other end-user devices.

## Rationale

In CE products, battery-driven mobile devices have particularly stringent requirements for power management, and this affects the product's competitiveness significantly in specific product categories. Mobile phones and other handheld devices are driven by secondary batteries, not wired power supply. Efficient power usage is required to increase the utilization time of such products.

### Power Dissipation Elements in CMOS Circuits

CMOS(Complementary Metal Oxide Semiconductor) circuit has three elements of power dissipation; leakage current, dynamic current, short-circuit current power dissipation. The leakage current power dissipation is caused by the leakage current. The leakage current power dissipation is quadratically dependent on operating voltage but not dependent on clock frequency. The dynamic current power dissipation is caused by the dynamic current which is required for signal transitions. The dynamic power dissipation is quadratically dependent on the voltage and linearly dependent on the frequency of signal transitions. The short-circuit current dissipation is generated by short circuit current when NMOS and PMOS transistors are activated simultaneously. Short-circuit current power dissipation is either linearly or quadratically dependent on the supply voltage, depending on the size of the length of channel between PMOS and NMOS transistors. Of those three elements, the dynamic current power dissipation is a dominant factor because the frequency of signal transitions is very high.

### Power Reduction Methods

There are various methods for reducing power consumption: voltage/clock scaling, clock gating, power supply gating, input signal selection and so on.

```
- The voltage/clock scaling is the method that reduces both the dynamic power dissipation and the static power dissipation by decreasing voltage and clock dependently or independently.
- The clock gating reduces the dynamic power dissipation by disconnecting the clock from an unused circuit block.
- The power supply gating disconnects the supply power from unused circuit blocks, which are components of whole circuit. In clock/power supply gating methods, it is important to decide whether the block is used or not and to restore the blocks when they are used again.
- The input signal selection affects the reduction of the leakage power dissipation. The input signals of CPU pins should be adjusted to minimize the usage of power when the system is suspended. 
```

Voltage scaling is the key to achieve power reduction and energy reduction. As clear from the analysis of the three power dissipation elements, operating voltage plays a major role in power dissipation. Let's take an example to see how voltage/clock scaling can reduce power and energy. If operating voltage is down-scaled from 2.0V to 1.0V, operating frequency is linearly dependent on the operating voltage in practice. So let us assume clock frequency at 1.0V is half of the frequency at 2.0V. In this case, nearly 87.5% of power can be reduced theoretically. In terms of energy, the total energy for finishing a job need to be compared. Please note that energy is the integration of power dissipation over a period of time. The time taken to finish a job at 1.0V is twice as that of 2.0V. So the total energy required to finish a job will be reduced by 75%.

[`tree.celinuxforum.org/docs/PM_formula.jpg`](http://tree.celinuxforum.org/docs/PM_formula.jpg)

[`tree.celinuxforum.org/docs/PM_DVS.jpg`](http://tree.celinuxforum.org/docs/PM_DVS.jpg)

Clock gating and power supply gating can be used to reduce power usage by unused blocks. It is important to predict correctly the idle period of a hardware block because incorrect prediction may lead to performance degradation due to the latency of reconnecting clock or power to the hardware blocks.

### Power Management Architecture

In designing power management architecture for Linux, the followings are kept in mind.

```
- To design a system-level optimization of power usage involving interactions among application, OS, and hardware.
- To provide a generic power management framework for various hardware platforms 
```

System-level power management is important for coordinating the performance and power dissipation of hardware components in a system. Recently, CPU chip vendors deploy dynamic clock/voltage scaling support in their processors to enable OS-level power management capability. The power reduction techniques offered by hardware components should be synthesized, managed, and adjusted to minimize the power dissipation of the whole system while the requirements of system should be satisfied as well. Existing applications need to be adapted to use the power management capability of operating system and such applications are said to be "Energy-Aware".

The power management architecture is designed to provide a generic framework for various hardware architectures. Hardware specific power control interfaces are abstracted by a power control layer. Power management can be implemented for various hardware platforms by adapting the machine-specific power control layer as necessary.

[`tree.celinuxforum.org/docs/PM_Arch.jpg`](http://tree.celinuxforum.org/docs/PM_Arch.jpg)

In this specification, power management technologies are classified into three categories; platform suspend/resume, device power management, and platform dynamic power management. Platform suspend/resume is aimed at major power state changes at infrequent intervals, while platform dynamic power management is aimed at subtle changes across a wider range of power states at frequent intervals. Platform suspend/resume technology is used for reducing most of power dissipation of a product while the product is idle for a long time. In contrast, dynamic power management is used for reducing power dissipation while a product is being used. Dynamic power management covers also reducing power for very short idle periods of time while a product is busy. Device power management is to suspend/resume devices in a platform, which is used by platform suspend/resume and dynamic power management technologies.

The rest of this specification is organized as follows. In Terminology section, general power management related terminologies are defined. Platform suspend/resume, device power management, and platform dynamic power management are described in separate sections. Work in Progress section describes important on-going projects which are not included in CELF 1.0 spec but need to be considered for next CELF specification.

## Work in Progress

### Platform suspend/resume

#### Protocol between Energy-Aware Application and Policy Manager

1.  1.  Energy-aware(EA) application SHOULD register itself to policy manager.
    2.  Policy manager SHOULD send system suspend request to all applications registered as EA application.
    3.  Energy-aware application SHOULD respond to the system suspend request from policy manager appropriately.

        1.  If EA application agree to system suspend, it invokes its suspend handler.

            1.  The suspend handler may store important data including user data to a non-volatile storage.
            2.  The suspend handler SHOULD send acknowledgement to policy manager and SHOULD wait until it receives resume request from policy manager.
        2.  If EA application disagree to system suspend, it SHOULD send negative acknowledgement to policy manager.

2.  1.  If system inactivity which is longer than system timeout threshold is detected, policy manager MUST send system suspend request to EA applications and wait for responses from EA applications.

        1.  The policy manager SHOULD provide user interface for initializing the system timeout threshold.
        2.  The policy manager SHOULD initialize system timeout threshold to a default value.
        3.  The policy manager MAY check device inactivity by periodically reading last access time of device.
    2.  If a user has requested system suspend, policy manager SHOULD enforce every EA application to suspend itself and wait for responses from EA applications. An EA application which is enforced to suspend by policy manager SHOULD invoke its suspend handler unconditionally.

### Device Power Management

#### Automatic Device Power Saving

1.  1.  The policy manager set the length of inactivity period for each device.
    2.  The period of device inactivity can be detected by PM-engine/device drivers and notified to policy manager via signal.

### Dynamic Power Management

#### Energy-Aware(EA) Application Specification

This specification shall define requirements of energy-aware applications so that application can interact tightly with in-kernel PM-engine to control system power states dynamically adaptive to various application specific environments.

EA application may choose one appropriate operating state among system PM policy. The system policy may be given to the EA application by policy manager or hard-coded, which is dependent on design decisions by system administrator. If the system policy information should be given by policy manager, EA application need to set up a IPC mechanism with the policy manager while it starts up.

For real-time EA applications, the information regarding the real-time task scheduling such as the period of execution and their priorities should be given to in-kernel PM engine via some whatever existing API which we have to choose after extensive discussion on pros and cons of existing [APIs](http://eLinux.org/APIs "APIs"). (Linux kernel need to support scheduling periodic real-time tasks.)

There are some cases that an EA application need to change system operating state according to the task's environment. This situation is highly dependent on system constraints which system administrator should know correctly. If a system administrator firmly believe that the operating state of an EA task need to be changed, the decision by system administrator should be respected and the in-kernel PM engine will proceed with the decision. It should be noted that system performance and power consumption efficiency might be greatly hampered if the decision of the system administrator is incorrect. So the system administrator should be very much considerate on changing application operating state.

#### Performance vs. Battery Lifetime Policy

1.  A kernel SHOULD provide userspace interface for specifying requirements on the lower limit of battery lifetime. If the battery lifetime requirement exists, a kernel SHOULD set the operating state of the task to allocate the remaining energy resource amongst all tasks, based on the task priorities, to satisfy this requirement.

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Specification](http://eLinux.org/Category:Specification "Category:Specification")

# Static Power Management Specification

> From: [eLinux.org](http://eLinux.org/Static_Power_Management_Specification "http://eLinux.org/Static_Power_Management_Specification")

# Static Power Management Specification

## Contents

*   1 Background
    *   1.1 Scope
    *   1.2 Terminology
    *   1.3 System Suspend/Resume Discussion
*   2 Specifications
*   3 Non-normative notes

## Background

Embedded platforms typically offer one or more low-power system states in which power consumption is lowered through such means as stopping clocks and/or powering off some or all system components. CE products may take advantage of these states to save power during periods of inactivity by entering these states. This is particularly important crucial to CE products powered by batteries.

Generic Linux contains some support for these topics. However, the community emphasis is currently on certain features, primarily hibernate-to-disk, for laptop/notebook computers based on desktop-compatible processors (and powered by batteries much larger than are used in many CE products, such that aggressive power savings may not be as critical). Basic platform suspend/resume support as defined here is not a priority at present, and neither is support for embedded platforms. One of the largest efforts is for hardware based on the ACPI standard, which is not implemented on most embedded platforms.

This specification addresses the potential lack of static power management features on a platform used for CE products by requiring that a CELF-conforming Linux for that platform support its basic system suspend/resume capabilities. This specification also requires a minimal set of functionality closely associated with static power management. The basic suspend/resume capabilities outlined here may be extended by future CELF specifications that cover additional features useful for CE products.

### Scope

This specification generally covers the basic functionality needed in an embedded linux system to save power by suspending and resuming operation of the system, utilizing suspend states implemented by the platform. The ability to suspend and resume systems is often referred to as "static power management" in the CELF Power Management Working Group.

System suspend is usually a relatively lengthy procedure, undertaken when an extended period of product inactivity is expected. This procedure can thus be distinguished from the power state changes controlled by more dynamic mechanisms, such as the IBM-MontaVista Dynamic Power Management subsystem (DPM), which may be executed more frequently during very brief idle periods, and are covered in separate CELF power management specifications. The system power state modifications made by dynamic power management schemes during brief idle periods typically result in less power savings than do the system suspend states covered in this specification. Furthermore, the dynamic power management state modifications normally have lower entry and exit latencies than do system suspend states, and require few or no interactions with device drivers. A system suspend, on the other hand, may take a noticeable amount of time to suspend and resume, and in many cases requires interactions with device drivers to save state and/or to enter and exit device suspend states.

A related topic not explicitly covered in this specification is "hibernate-to-disk", where system state is saved to a stable storage device (such as a hard disk) during a system suspend and restored from storage at system resume. The state saved usually includes most or all of RAM. This type of system suspend/resume is commonly implemented for laptop/notebook computers. Because the more specialized nature of hibernate-to-disk (which is typically a software feature not tied to the specifics of the base platform or devices), as well as the fact that this functionality is only appropriate for certain hardware and product configurations with large and fast storage devices available for saving state, hibernate-to-disk is not covered in this specification. This topic may be covered in future CELF power management specifications.

Platforms vary considerably in the kinds of support provided for static power management, and any attempt to standardize these technologies for a wide variety of platforms will necessarily be subject to a number of grey areas. The intent of this specification is to ensure a developer that, by choosing a CELF-conforming kernel source base for a particular platform, a number of commonly useful mechanisms and interfaces are available to take advantage of basic static power management features of that platform. In many cases this basic support will need to be augmented to obtain the exact behaviors desired for a particular product.

### Terminology

The following terms are used in this portion of the specification:

Active state A system or device that is not in a suspend state is said to be in an "active state".

```
SDRAM self-refresh mode::: A platform capability that typically saves additional power during times in which no SDRAM access may occur. 
```

System suspend The process of placing the system into a system suspend state. This may be triggered, for example, in response to the consumer pressing a "standby" button on the product. This process generally also performs a device suspend sequence for most or all devices.

System suspend state A reduced-power state supported by the platform. Modern embedded platforms often offer a variety of modifiable parameters and execution modes related to power consumption; this specification primarily targets those system suspend states used to dramatically reduce power consumption for extended periods of time (further clarification appears in the discussion below).

System resume The process of restoring the state of the system to approximate pre-suspend conditions when resuming operation after a previous system suspend. System resume may be triggered, for example, when the consumer presses a "wakeup" button or when the product is automatically awoken by an alarm or external event (such as incoming call on a phone). This process generally also performs a device resume sequence for most or all devices.

Wakeup method A platform mechanism for exiting a system suspend state. Wakeup may be triggered by such means as pressing a button, I/O activity (such as sending characters to a serial console device), or asserting an interrupt.

### System Suspend/Resume Discussion

System suspend may be triggered for such reasons as:

*   the consumer presses a "standby" button on the product
*   the product automatically suspends after the product has not been in use for a certain period of time
*   an application or kernel driver suspends the system due to such conditions as a low battery strength indication or temperature threshold exceeded

The documentation for the particular platform may refer to its system suspend states using names such as "standby", "sleep", or "suspend" states or modes. The precise characteristics of system suspend will vary by platform and by the particular system suspend state. A system suspend state might entail some or all of the following actions:

*   stopping or slowing various clocks
*   removing power from some or all devices, or placing devices into a low-power state
*   placing SDRAM into self-refresh mode
*   lowering core operating voltage and other platform power parameters
*   halting CPU execution

This specification places no requirements upon the exact behavior of system or device suspend states, or upon the wakeup methods that resume normal system operation. The intent is to ensure that a CELF-conforming Linux supports the basic system and device suspend/resume features offered by the platform to a minimal degree.

This specification does require that a system suspend first call drivers for devices in an active state, in order to prepare for the system suspend. Depending on the platform and system suspend state characteristics, such preparation may be useful to further lower system power consumption by placing all appropriate devices into a suspend state, and/or may be necessary to save device state such that device operation can be later resumed during system resume. If the platform will remove power from the device during the system suspend state then first placing the device into a low-power state is, of course, not necessary, but it is commonly the case that device state will need to be saved in order to reconfigure the device when later re-powered.

If multiple system suspend states are implemented by the platform and supported by Linux, then a CE application may choose among the suspend states based on product-specific criteria such as whether a particular suspend state is compatible with proper functioning of required I/O devices during the suspend, the latency involved when entering and exiting the state, and so forth.

## Specifications

1.  If the platform supports at least one system-suspend state and at least one method to wake up from the system-suspend state, a configuration option for the Linux kernel SHALL be provided that controls whether the kernel has the ability to enter and wake up from at least one system suspend state.
2.  If the platform supports more than one system suspend state, the ability to enter and wake up from all platform-supported system-suspend states SHOULD be implemented.
3.  Both a kernel programmatic interface and a userspace interface to initiate system suspend SHOULD be provided.
4.  If the platform supports SDRAM self-refresh mode and supports at least one system-suspend state that leaves SDRAM powered, the Linux kernel system-suspend code SHOULD have the ability to place SDRAM in self-refresh state.
5.  The kernel SHOULD provide interfaces for delivering power management events, including power button, smart battery, and temperature sensor events, to user space.
6.  A configuration option for the kernel SHOULD be provided that controls whether the kernel supports a hibernation technique by which the system preserves state on disk or flash memory during suspend state and restores the state from disk or flash memory upon resume.

Specific interfaces to perform the above are not required by this specification; see Non-Normative Notes for discussion.

## Non-normative notes

Among the choices for system suspend/resume interfaces are:

*   The Linux 2.5/2.6 PM subsystem implements a kernel API for system suspend and resume, with limited support for choosing a specific system suspend state.
*   The Linux 2.5/2.6 sysfs filesystem exports interfaces that applications may use to suspend the system; these interfaces call the PM subsystem kernel API.
*   The /proc/sys/pm interface for system suspend/resume. Note that these interfaces are generally being replaced with the PM subsystem in future Linux versions.
*   The Dynamic Power Management subsystem (DPM) offers an interface for system suspend that may be convenient to use in systems that employ DPM for other power management tasks.
    *   Hardware Platform Dependencies
        *   The ability to support a special register used by boot-loader to detect whether the type of booting is cold boot or system resume.
        *   Usually, platform is designed to support power supply gating which is to disconnect power from a part of PCB. The power supply gating can eliminate both leakage current and dynamic current while clock gating can eliminate dynamic current only. PCB has multiple power plane whose power can be gated independently.
        *   Boot-loader need to detect whether booting is cold boot or system resume.
        *   There are four types of power management events typically; button event, battery event, thermal event, and timer events. Those events are useful for predictable power control and prevent a system from being overheated.

A version of the Linux 2.5/2.6 technology described above has been backported to Linux 2.4 for use in CELF-conforming systems based on the 2.4 Linux kernel.

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Specification](http://eLinux.org/Category:Specification "Category:Specification")

# Texas Instruments

> From: [eLinux.org](http://eLinux.org/Texas_Instruments "http://eLinux.org/Texas_Instruments")

# Texas Instruments

Texas Instruments, Incorporated

headquarters in Dallas, TX USA

[`www.ti.com/`](http://www.ti.com/)

makers of graphing calculators

[`education.ti.com/`](http://education.ti.com/)

and OMAP processors

[`www.omap.com/`](http://www.omap.com/)

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Companies](http://eLinux.org/Category:Companies "Category:Companies")

# 内存管理

> 原文：[eLinux.org](http://eLinux.org/Memory_Management "http://eLinux.org/Memory_Management")
> 翻译：[@zipper1956](https://github.com/zipper)
> 校订：[@wengpingbo](https://github.com/wengpingbo), [@lzufalcon](https://github.com/lzufalcon)

# 内存管理

本文包括许多嵌入式 Linux 开发者感兴趣的各种内存管理相关项目和活动。

## 目录

*   1 感兴趣的领域
    *   1.1 内存检测和分析
    *   1.2 巨页/大页/超级页
    *   1.3 页缓存压缩
    *   1.4 启动时预留和访问高地址内存
    *   1.5 OOM 处理机制的优化/改进
        *   1.5.1 cgroup (控制组)中的 OOM 通知
        *   1.5.2 mem_notify 补丁
        *   1.5.3 谷歌 cgroup (控制组) OOM 处理方法
        *   1.5.4 诺基亚对 OOM 的改进
        *   1.5.5 基于 LSM 的低内存通知
    *   1.6 基于类型的内存分配(老旧的方法)
*   2 附加资源/邮件列表
    *   2.1 关于缓存的文章

## 感兴趣的领域

大部分内存管理技术牵扯的面很广，但对于嵌入式领域，相对容易一些，这主要得益于嵌入式领域天生不需要和内存交换之类的东西打交道（译者：这种说法太片面了）。更简单的内存管理机制和对产品计划偏离主流设计的放纵，让供应商在内存管理和虚拟内存空间上，有着更广大的空间去试验新技术。

### 内存检测和分析

分析系统内存使用量和剩余量比听起来更棘手。

*   检测和分析系统内存的各种不同方法见：运行时内存检测。
*   处理现有内存检测系统不足的一些技术见：精确内存检测。
*   一些针对 ARM 架构的内存管理的信息见：Tims 关于 ARM 架构内存分配的建议。

### 巨页/大页/超级页

*   这适用于使用透明的大页以及大部分静态使用模型，主要涉及到 hugetlb 接口：`/libhugetlbfs` 之外的工作。
*   嵌入式系统普遍受到小 TLB 的拖累，通常只使用一个页的大小(4KB)。在大多数情况下，用户空间的任务造成系统压力巨大和性能下降，并且任何时候大多数应用程序的 5-40％ CPU 时间耗费在处理页面错误上。
*   关于这个问题的初步讨论和其他相关信息可以在如下维基上找到：[巨页](http://linux-mm.org/)　　

### 页缓存压缩

*   页缓存压缩主要工作是使用多种压缩算法进行页缓存（page cache）页的动态压缩和解压缩，具体来说，是既要降低内存压力，也要提升特定负载下的性能。
*   更多的信息可以在 [缓存压缩](http://linux-mm.org/CompressedCaching) 和 [SF 缓存压缩](http://linuxcompressed.sourceforge.net/) 中找到。

### 启动时预留和访问高地址内存

引用 Todd 关于怎么用 `mem=` 命令来保留物理内存的邮件：

* * *

假设内存拥有一个固定的地址并且该地址已经是预留的，那么更简单的方法是在 `/dev/mem` 设备节点上调用 `mmap()` 函数，其中使用 0 作为起始地址，用保留内存的物理地址作为偏移量。标志位可以是 `MAP_WRITE| MAP_READ` 。这样的话函数就会返回一个指向内核在用户空间映射的内存指针。例如：

如果你的 SDRAM 基地址为 `0x80000000` ，内存大小为 64MB ，但是你使用命令 `mem=60M` 保留了内存末端的 4M 内存。这样你保留的内存地址就是 `0x83c00000` ，所以要做的就是：

```
int fd;
char *reserved_memory;

fd = open("/dev/mem",0_RDWR);
reserved_memory = (char *) mmap(0,4*1024*1024,PROT_READ|PROT_WRITE,MAP_SHARED,fd,0x83c00000); 
```

* * *

### OOM 处理机制的优化/改进

多种改进 OOM 处理的技术已经被开发出来并被建议在 Linux 中使用。

关于 Linux 中 OOM Killer 的信息，可以查看：[`linux-mm.org/OOM_Killer`](http://linux-mm.org/OOM_Killer)

部分 OOM 避免机制要靠内核对内存使用情况的精确检测。查看精确内存检测 可了解更多关于该领域的技术信息。

下面是我了解的几种技术（这些需要进行更好的研究和文档化）：

#### Cgroups （控制组）中的 OOM 通知

*   内存使用限制通知（由 Embedded Alley 开发, 由 CE Linux Forum 赞助）
    *   这个补丁更新了内存控制 Cgroup ，使其获得了可配置的内存使用限制通知功能。这个特性在 2009 年的嵌入式 Linux 大会上得到展示。
    *   [内存-最精确的资源](http://tree.celinuxforum.org/CelfPubWiki/ELC2009Presentations?action=AttachFile&do=get&target=celf_mem_notify.pdf)，该文章由 Dan Malek 在 ELC 2009 上展示。
    *   查看[`lwn.net/Articles/328403/`](http://lwn.net/Articles/328403/)了解在 2009 年 4 月第一次交到 LKML 的信息。
    *   [`lkml.org/lkml/2009/7/7/410`](http://lkml.org/lkml/2009/7/7/410) -　为关于在 2009 年第二次交到 LKML 的的信息。
        *   [`lkml.org/lkml/2009/7/16/468`](http://lkml.org/lkml/2009/7/16/468)　- Balbir Singh 需要一些时间评估这个改变 。

#### mem_notify 补丁

*   mem_notify 补丁
    *   这组补丁在系统内存越来越少的时候提供一种通知用户空间的方法，让上层应用可以在这种情况下做一些处理。这些补丁提交于 2008 年 1 月份。
    *   因为内存管理的回收顺序的改变，这些补丁无法应用在 2.6.38 之后版本的内核中。
    *   见：[`lwn.net/Articles/267013/`](http://lwn.net/Articles/267013/)　　

#### 谷歌 cgroup (控制组) OOM 处理方法

*   谷歌 per-cgroup OOM 处理方法
    *   谷歌提交了一个使用 per-cgroup 风格的 OOM 处理方法的 RFC（Request for Comments） ，见：[`article.gmane.org/gmane.linux.kernel.mm/28376`](http://article.gmane.org/gmane.linux.kernel.mm/28376)

#### 诺基亚对 OOM 的改进

*   诺基亚对 OOM 的改进
    *   Maemo 应用增强参考：[`lwn.net/Articles/267013/`](http://lwn.net/Articles/267013/)（在评论中搜索 “killable” ）

> 用户 "oak" 写到 （对 mem_notify 补丁的评论）：
> 
> 发表于 2008.02.03 14:02 UTC (Sun),oak (guest, #2786) [Link]
> 
> ...
> 
> 我认为这个用户空间的补丁的目的是使上层应用可以在代码容易管理的地方做内存管理操作。如前所述，许多用户空间的代码根本不处理内存分配失败的情况。就算做了，这也很难去验证所有失败的可能都被正确处理了。如果用户空间事先得到了内存不足的通知，那么用户空间可以在代码中适当的地方释放内存从而使接下来的内存分配能够成功(可能性更高)。
> 
> 这同样允许做类似于 Maemo 做的事。如果系统收到内核内存不足的通知，那么它可以杀死进入后台状态的进程（保存进程界面状态, 能够恢复进程，并且对用户不可见），我认为它同样通过 D-BUS 通知当前应用系统内存不足的情况。对于用户可见或者非后台可杀死的应用应该释放它们的缓存或者关闭高内存消耗的特性。如果内存来自于堆内存而不是映射的内存，那么可能没有什么帮助，因为堆内存碎片较多而且需要更多操作时间。

#### 基于 LSM 的低内存通知

*   Paul Mundt 为了 2.6.12 内核提交了补丁到 CELF，该补丁提供低内存通知给用户空间的功能。可查看精确内存检测和诺基亚内存不足通知模块了解更多信息。
    *   该模块基于一个 Linux 安全模块系统，但是那个系统被从新近内核中移除了。　

### 基于类型的内存分配（老旧的方法）

这是一套机制（由 Sony and Panasonic 在 2.4 内核中建立原型），允许内核基于用户策略，为一个程序的不同段分配不同类型的内存。

可查看基于类型的内存分配获取更多信息。

## 附加资源/邮件列表

*   [LinuxMM](http://linux-mm.org/) - 有各类子项目的链接并且扮演内存管理相关话题的讨论中心

    *   linux-mm 邮件列表
    *   [存档](http://marc.theaimsgroup.com/?l=linux-mm)
*   [程序员需要知道的所有关于内存的知识](http://lwn.net/Articles/250967/)　　

### 关于缓存的文章

[Paul McKenney 关于 CPU 缓存怎样工作的优秀论文](http://www2.rdrop.com/~paulmck/scalability/paper/whymb.2010.07.23a.pdf)

[分类](http://eLinux.org/Special:Categories "Special:Categories")：

*   [Linux](http://eLinux.org/Category:Linux "Category:Linux")

# Accurate Memory Measurement

> From: [eLinux.org](http://eLinux.org/Accurate_Memory_Measurement "http://eLinux.org/Accurate_Memory_Measurement")

# Accurate Memory Measurement

## Contents

*   1 Introduction
*   2 Panasonic API for accurate memory count
    *   2.1 Description Overview
        *   2.1.1 Panasonic Presentation Excerpts
    *   2.2 Description of algorithm
    *   2.3 Patch
    *   2.4 Kernel 2.6 status
*   3 Sony detailed memory accounting
    *   3.1 Watching user space program memory usage
    *   3.2 Kernel 2.6 status
    *   3.3 Actual Patch
*   4 Nokia out-of-memory notifier module
    *   4.1 Description
    *   4.2 lowmem.c source
    *   4.3 lowmem patch
*   5 kpagemap
*   6 Kernelnewbies question about measuring memory

## Introduction

This page describes techniques and issues with measuring Linux system memory accurately. This is important for embedded systems since usually there is limited memory, and no swap space, available. It is currently (as of 2.4 and 2.6 kernels) very difficult to get an accurate count of used and free memory for the system. Having an accurate count could potentially enable better error handling for out-of-memory conditions, or error avoidance for low-memory conditions, in CE products.

This page currently lists 3 systems which aid in getting an accurate memory measurement for the Linux kernel:

*   Panasonic's memory usage API
*   Sony's detailed memory accounting
*   Nokia's out-of-memory notifier module (LSM)

## Panasonic API for accurate memory count

### Description Overview

This technique and API were presented by Panasonic on pages 15-18 of a presentation available [`elinux.org/images//8/83/Pdf.gif`](http://elinux.org/images//8/83/Pdf.gif) [here](http://eLinux.org/images/a/a5/CELF_Technical_Jamboree_June13.pdf "CELF Technical Jamboree June13.pdf") [`elinux.org/images/d/da/Info_circle.png`](http://elinux.org/File:CELF_Technical_Jamboree_June13.pdf)

##### Panasonic Presentation Excerpts

Page 15 - Memory Usage API 1/4

**Motivation:**

Customer requirements:

*   Consumer expects mobile phones to be more stable than PC.

Dynamic characteristics

*   Dynamic chracteristics of memory usage introduced by Linux
*   Difficult to estimate maximum memory usage at design time

Narrow margin:

*   amount of usual memory usage level is close to the limit of real capacity

| *Mobile phone should not crash or freeze when it accidentally hit the limit of memory.* |

Page 16 - Memory Usage API 2/4

**Strategy:**

*   Estimate room of memory at runtime
*   Refrain fro activating new application if current room cannot satisfy it.

(a "memory alert" window pops up)

*   Existing means for estimating room of memory:

/proc/meminfo: underestimates room by excluding pages which can shrink.

*   Therefore: we implemented a *memory usage API* to estimate current room of memory more exactly.

Page 17 - Memory Usage API 3/4

**Memory Usage API:**

*   Estimates amount of page cache and slabs to be reclaimed by shrink in addition to free pages.
*   Execution time \< 1 msec
*   Remaining issues:

*   Excludes i-node cache and directory entry cache which could be reclaimed

*   omitted for complexity and time consumption

*   Race condition with shrink_caches() may cause inaccurate result

Page 18 - Memory Usage API 4/4

*   Memory Usage API gives a fairly good estimate of memory remaining.

Description:

A process was run to constantly allocate memory, eventually exhausting the memory of the machine. While this was running, the memory usage API was called to determine the amount of free memory remaining in the machine. The machine had no other activity on it. The amount of memory used by the process and the amount of memory remaining should add up to the total memory on the machine. The diagram shows a pink line (B) indicating the amount of memory used by the test program, a blue line (A) indicating the return value from the memory usage API, and a yellow line (A+B) showing the addition of the two values. The yellow line fluctuates slightly due to some inaccuracies (a race condition with shrink_caches), but overall stays fairly constant.

![Memory Usage API
diagram.jpg](http://eLinux.org/File:Memory_Usage_API_diagram.jpg)

### Description of algorithm

When the is API invoked:

1.  Get the number of free pages using nr_free_pages()
2.  Get the number of shrinkable page cache by inspecting active- and inactive- page cache list, and counting pages that can be free'ed. The inspection logic is basically same as shrink_cache(). The Difference is whether pages are actually free'ed or not.
3.  Get the number of pages in slab free list.
4.  Get the number of i-node cache and directory entry cache. We do not inspect the status of those caches in detail for saving time.

I think this implementation is not mature enough. For example, race condition between kswapd and this API can create some amount of error in the free page count.

### Patch

Here's a patch which adds a new function to determine the "shrinkable" size of memory. This is against a 2.4.x kernel.

*   [Information about this patch](http://eLinux.org/images/e/eb/README.getfreemem.txt "README.getfreemem.txt")

```
diff -bdaC 5 CEE3.1/slab.c NEW/slab.c
*** CEE3.1/slab.c   Wed Jul 13 01:53:00 2005
--- NEW/slab.c  Wed Jul 13 20:15:32 2005
***************
*** 2093,2097 ****
--- 2093,2149 ----
  #else
    return -EINVAL;
  #endif
  }
  #endif
+
+ /*
+  * count shrinkable page count function.
+  */
+ int kmem_cache_shrinkable_size (void)
+ {
+ /* #define KMEM_CACHE_REAP_COUNT_DEBUG       not print debug */
+ extern kmem_cache_t *dentry_cache;
+ extern kmem_cache_t *inode_cachep;
+
+   int count == 0;
+   kmem_cache_t *searchp == &cache_cache;
+   struct list_head *q;
+   down(&cache_chain_sem);
+   do {
+     if ((searchp->flags & SLAB_NO_REAP) === 0){
+       spin_lock_irq(&searchp->spinlock);
+       if((searchp === inode_cachep) || (searchp === dentry_cache)){
+         int active_slabs == 0;
+         int num_slabs == 0;
+         list_for_each(q,&searchp->slabs_full) {
+       active_slabs++;
+         }
+         list_for_each(q,&searchp->slabs_partial) {
+       active_slabs++;
+         }
+         list_for_each(q,&searchp->slabs_free) {
+       num_slabs++;
+         }
+         count +== (active_slabs + num_slabs) * (1 << searchp->gfporder);
+ #ifdef KMEM_CACHE_REAP_COUNT_DEBUG
+         printk("kmem_cache_shrinkcable_size: slab==%s active==%d num==%d total==%d\n",
+            searchp->name, active_slabs, num_slabs, count);
+ #endif
+       } else {
+         int num_slabs == 0;
+         list_for_each(q,&searchp->slabs_free) {
+       num_slabs++;
+         }
+         count +== (num_slabs * (1 << searchp->gfporder));
+ #ifdef KMEM_CACHE_REAP_COUNT_DEBUG
+         printk("kmem_cache_shrinkcable_size: slab==%s num==%d total==%d\n",
+            searchp->name, num_slabs, count);
+ #endif
+       }
+       spin_unlock_irq(&searchp->spinlock);
+     }
+     searchp == list_entry(searchp->next.next,kmem_cache_t,next);
+   } while (searchp !== &cache_cache);
+   up(&cache_chain_sem);
+   return count;
+ }

diff -bdaC 5 CEE3.1/traps.c NEW/traps.c
*** CEE3.1/traps.c  Wed Jul 13 01:54:00 2005
--- NEW/traps.c Wed Jul 13 20:23:52 2005
***************
*** 25,35 ****
  #include <linux/interrupt.h>
  #include <linux/init.h>
  #include <linux/trace.h>
- #include <asm/pgalloc.h>
  #include <asm/pgtable.h>
  #include <asm/system.h>
  #include <asm/uaccess.h>
  #include <asm/unistd.h>
  #include <asm/traps.h>
--- 25,34 ----
***************
*** 560,569 ****
--- 559,578 ----
    case NR(usr26):
    case NR(usr32):
        break;
  #endif

+   case NR(getfreemem):
+   {
+ extern unsigned int nr_free_pages (void);
+ int FASTCALL(inspect_shrinkable_cache(unsigned int gfp_mask));
+ extern int kmem_cache_shrinkable_size (void);
+       int cache == inspect_shrinkable_cache(GFP_NOIO);
+       int kmem == kmem_cache_shrinkable_size();
+       int pages_min == (*((contig_page_data.node_zonelists+(GFP_NOIO & GFP_ZONEMASK))->zones))->pages_min;
+       int freesize == nr_free_pages() + cache + kmem - pages_min;
+       return ((freesize > 1) ? (freesize * 4) : 4);

    default:
        /* Calls 9f00xx..9f07ff are defined to return -ENOSYS
           if not implemented, rather than raising SIGILL.  This
           way the calling program can gracefully determine whether

diff -bdaC 5 CEE3.1/vmscan.c NEW/vmscan.c
*** CEE3.1/vmscan.c Wed Jul 13 01:53:00 2005
--- NEW/vmscan.c    Wed Jul 13 20:07:09 2005
***************
*** 851,855 ****
--- 851,919 ----

    kernel_thread(kswapd, NULL, CLONE_FS | CLONE_FILES | CLONE_SIGNAL);
    return 0;
  }

  module_init(kswapd_init)
+
+ static int FASTCALL(do_inspect_shrinkable_cache(struct list_head *ll, int nr_list, unsigned int gfp_mask));
+ static int do_inspect_shrinkable_cache(struct list_head *ll, int nr_list, unsigned int gfp_mask)
+ {
+   struct list_head * entry;
+   int count==0;
+
+   spin_lock(&pagemap_lru_lock);
+   list_for_each(entry, ll->prev)
+   {
+     struct page * page;
+     if(--nr_list < 0) {
+       break;
+     }
+     page == list_entry(entry, struct page, lru);
+     if (unlikely(!page_count(page))) {
+       continue;
+     }
+
+     /* Racy check to avoid trylocking when not worthwhile */
+     if (!page->buffers && (page_count(page) !== 1 || !page->mapping)){
+       continue;
+     }
+     if (([[Page Dirty]](page) || [[Delalloc Page]](page)) && is_page_cache_freeable(page) && page->mapping) {
+       /*
+        * It is not critical here to write it only if
+        * the page is unmapped beause any direct writer
+        * like O_DIRECT would set the PG_dirty bitflag
+        * on the phisical page after having successfully
+        * pinned it and after the I/O to the page is finished,
+        * so the direct writes to the page cannot get lost.
+        */
+       if (gfp_mask & __GFP_FS) {
+         continue;
+       }
+     }
+     if(page->buffers){
+       continue;
+     }
+     if (!page->mapping || !is_page_cache_freeable(page)) {
+       continue;
+     }
+
+     /*
+      * It is critical to check [[Page Dirty]] _after_ we made sure
+      * the page is freeable* so not in use by anybody.
+      */
+     if ([[Page Dirty]](page)) {
+       continue;
+     }
+     count++;
+   }
+         spin_unlock(&pagemap_lru_lock);
+   return count;
+ }
+
+
+ int FASTCALL(inspect_shrinkable_cache(unsigned int gfp_mask));
+ int inspect_shrinkable_cache(unsigned int gfp_mask)
+ {
+   int shrinkable_count == do_inspect_shrinkable_cache(&inactive_list, nr_inactive_pages, gfp_mask);
+   shrinkable_count +== do_inspect_shrinkable_cache(&active_list, nr_active_pages, gfp_mask);
+   return shrinkable_count ;
+ } 
```

### Kernel 2.6 status

Sony has been ported this feature to 2.6.11; See the next section.

## Sony detailed memory accounting

### Watching user space program memory usage

The Linux kernel provides the ability to view certain pieces of information about system and per-process memory usage. However, the information currently provided is not detailed enough. The feature described here adds some extra memory instrumentation to the kernel, and reports more detailed information about process memory usage, via some new entries in the /proc filesystem.

The feature is described in detail in the specification below. In summary, however, the feature adds some global and some per-process entries in the /proc filesystem to provide detailed memory usage information. The following system-wide entries are added:

*   /proc/nodeinfo - shows memory nodes on system (NUMA machines may have multiple, discontiguous nodes)

*   /proc/memmap - shows the number of users for each physical page on the system

The new per-process entries are:

*   /proc/\<pidu0005c class="calibre16">/memmap - shows number of users for each page mapped into the process address space</pidu0005c>

*   /proc/\<pidu0005c class="calibre16">/nodemap - shows node # for each page in process address space</pidu0005c>

*   /proc/\<pidu0005c class="calibre16">/statrm - shows total, resident, shared and dirty counts for pages for each VM area of a process</pidu0005c>

*   /proc/\<pidu0005c class="calibre16">/statm - shows stats for page counts for different categories of pages of a process (lib, text, data, dirty, etc.)</pidu0005c>

*   User Proc Memory Usage monitor

*   Kernel 2.4 - joint dev with MV/Panasonic

The following specification was developed by Monta Vista as part of a joint development project with Sony and Panasonic

*   [`elinux.org/images//8/83/Pdf.gif`](http://elinux.org/images//8/83/Pdf.gif) [Memory Accounting Tools Tech Spec](http://eLinux.org/images/5/5c/Memory_Accounting_Tools_Tech_Spec.pdf "Memory Accounting Tools Tech Spec.pdf") [`elinux.org/images/d/da/Info_circle.png`](http://elinux.org/File:Memory_Accounting_Tools_Tech_Spec.pdf)

*   Code

*   ~/linux-mta-041004/fs/proc/proc_misc.c

*   You can easily isolate this function using CONFIG_MEMORY_ACCOUNTING

*   Doing this on the CELF 2005-05-03 tree yeilds the following patch:

*   [Media:celf-2.4.20-memory-accounting.patch](http://eLinux.org/images/c/cc/Celf-2.4.20-memory-accounting.patch "Celf-2.4.20-memory-accounting.patch")

*   This function utilizes Memory Typed Allocation to handle different type memories with NUMA based thecnology. If you want to port this function to vanilla 2.4/2.6 kernel you should remove this dependancy.

*   for Kernel 2.6

*   Show detail page stat info, like PG_* flags; pages could be categorized as following; (need to check this categorization)

*   PTE none (page table entry is not allocated yet)

*   Otherwise

*   Resident (in-core)

*   shared/non-shared

*   shared COW zero page (page not yet copyed/dirtyed and shared system wide zero page

*   shared COW page (page not yet copyed/dirtyed)
*   other type of shared page (need to show how many processes/threads share this)
*   non-shared page

*   active/inactive

*   dirty/clean
*   reseved/not
*   locked/not

*   pageout (not in-core)

*   cached/not cached

*   How about "/proc/\<process idu0005c="" class="calibre16">/smaps" ? It shows the categorized memory usage of each sections of a process.</process>

### Kernel 2.6 status

Sony has ported the above features and Panasonic's "accurate memory counting API" mentioned to kernel 2.6.11\. We replace new system call introduced by original 2.4 patch from Panasonic, to new /proc interface "/proc/freemem" for better acceptance.

| /proc/<pid>/statrm | memory-accounting.patch | Summary of Resident/Shared page info |
| /proc/<pid>/pgstat | memory-accounting-1.patch | Detailed page info |
| /proc/<pid>/memmap | memory-accounting.patch | Detailed page info of Shared mem |
| /proc/memmap | memory-accounting.patch | Usage of phy mem |
| /proc/freemem | freemem-1.patch | Accurate memory counting API, see above. |

### Actual Patch

All patches are included in

*   [Media:20060410-runtime-mem-usage.tgz](http://eLinux.org/images/5/53/20060410-runtime-mem-usage.tgz "20060410-runtime-mem-usage.tgz")

A brief description of the features are in:

*   [`elinux.org/images//8/83/Pdf.gif`](http://elinux.org/images//8/83/Pdf.gif) [20060410-meminfo.pdf](http://eLinux.org/images/1/11/20060410-meminfo.pdf "20060410-meminfo.pdf") [`elinux.org/images/d/da/Info_circle.png`](http://elinux.org/File:20060410-meminfo.pdf)

## Nokia out-of-memory notifier module

### Description

The issue of low memory notification prior to OOM killing was raised at a previous AG meeting. Nokia pointed out that they had an LSM module for this and would see about getting the source available for it. This module was part of the kernel source for their 770 internet tablet. The code is implemented as an LSM module. Below is security/lowmem.c from the 770 kernel source

tree (2.6.12.3):

(Code was originally obtained from [here](http://repository.maemo.org/pool/maemo1.1rc5/free/k/kernel-source-2.6.12.3/) There is a .deb file, which I de-archived with 'ar -x', then un-tarred data.tar.gz, and then un-tarred kernel-source-2.6.12.3.tar.bz2 and copied the file `security/lowmem.c`).

The heart of the measurement feature of this module is in the low_vm_enough_memory() routine, about midway through the source:

### lowmem.c source

```
#include <linux/config.h>
#include <linux/module.h>
#include <linux/kernel.h>
#include <linux/mman.h>
#include <linux/init.h>
#include <linux/security.h>
#include <linux/sysctl.h>
#include <linux/swap.h>
#include <linux/kobject.h>
#include <linux/pagemap.h>
#include <linux/hugetlb.h>
#define MY_NAME "lowmem"
#define LOWMEM_MAX_UIDS 8

enum {
    VM_LOWMEM_DENY == 1,
    VM_LOWMEM_LEVEL1_NOTIFY,
    VM_LOWMEM_LEVEL2_NOTIFY,
    VM_LOWMEM_NR_DECAY_PAGES,
    VM_LOWMEM_ALLOWED_UIDS,
    VM_LOWMEM_ALLOWED_PAGES,
    VM_LOWMEM_USED_PAGES,
};

static unsigned int deny_percentage;
static unsigned int l1_notify, l2_notify;
static unsigned int nr_decay_pages;
static unsigned long allowed_pages;
static unsigned long used_pages;
static unsigned int allowed_uids[LOWMEM_MAX_UIDS];
static unsigned int minuid == 1;
static unsigned int maxuid == 65535;
static ctl_table lowmem_table[] == {
    {
        .ctl_name == VM_LOWMEM_DENY,
        .procname == "lowmem_deny_watermark",
        .data == &deny_percentage,
        .maxlen == sizeof(unsigned int),
        .mode == 0644,
        .child == NULL,
        .proc_handler == &proc_dointvec,
        .strategy == &sysctl_intvec,
    }, {
        .ctl_name == VM_LOWMEM_LEVEL1_NOTIFY,
        .procname == "lowmem_notify_low",
        .data == &l1_notify,
        .maxlen == sizeof(unsigned int),
        .mode == 0644,
        .child == NULL,
        .proc_handler == &proc_dointvec,
        .strategy == &sysctl_intvec,
    }, {
        .ctl_name == VM_LOWMEM_LEVEL2_NOTIFY,
        .procname == "lowmem_notify_high",
        .data == &l2_notify,
        .maxlen == sizeof(unsigned int),
        .mode == 0644,
        .child == NULL,
        .proc_handler == &proc_dointvec,
        .strategy == &sysctl_intvec,
    }, {
        .ctl_name == VM_LOWMEM_NR_DECAY_PAGES,
        .procname == "lowmem_nr_decay_pages",
        .data == &nr_decay_pages,
        .maxlen == sizeof(unsigned int),
        .mode == 0644,
        .child == NULL,
        .proc_handler == &proc_dointvec_minmax,
        .strategy == &sysctl_intvec,
    }, {
        .ctl_name == VM_LOWMEM_ALLOWED_UIDS,
        .procname == "lowmem_allowed_uids",
        .data == &allowed_uids,
        .maxlen == LOWMEM_MAX_UIDS * sizeof(unsigned int),
        .mode == 0644,
        .child == NULL,
        .proc_handler == &proc_dointvec_minmax,
        .strategy == &sysctl_intvec,
        .extra1 == &minuid,
        .extra2 == &maxuid,
    }, {
        .ctl_name == VM_LOWMEM_ALLOWED_PAGES,
        .procname == "lowmem_allowed_pages",
        .data == &allowed_pages,
        .maxlen == sizeof(unsigned long),
        .mode == 0444,
        .child == NULL,
        .proc_handler == &proc_dointvec_minmax,
        .strategy == &sysctl_intvec,
    }, {
        .ctl_name == VM_LOWMEM_USED_PAGES,
        .procname == "lowmem_used_pages",
        .data == &used_pages,
        .maxlen == sizeof(unsigned long),
        .mode == 0444,
        .child == NULL,
        .proc_handler == &proc_dointvec_minmax,
        .strategy == &sysctl_intvec,
    }, {
        .ctl_name == 0
    }
};

static ctl_table lowmem_root_table[] == {
    {
        .ctl_name == CTL_VM,
        .procname == "vm",
        .mode == 0555,
        .child == lowmem_table,
    }, {
        .ctl_name == 0
    }
};

#define KERNEL_ATTR_RO(_name) \
static struct subsys_attribute _name##_attr == __ATTR_RO(_name)
static int low_watermark_reached, high_watermark_reached;
static ssize_t low_watermark_show(struct subsystem *subsys, char *page)
{
      return sprintf(page, "%u\n", low_watermark_reached);
}
static ssize_t high_watermark_show(struct subsystem *subsys, char *page)
{
    return sprintf(page, "%u\n", high_watermark_reached);
}

KERNEL_ATTR_RO(low_watermark);
KERNEL_ATTR_RO(high_watermark);

static void low_watermark_state(int new_state)
{
    int changed == 0, r;
    if (low_watermark_reached !== new_state) {
        low_watermark_reached == new_state;
        changed == 1;
    }
    if (changed) {
        r == kobject_uevent(&kernel_subsys.kset.kobj, KOBJ_CHANGE,
                   &low_watermark_attr.attr);
        if (r < 0)
            printk(KERN_ERR MY_NAME ": kobject_uevent failed: %d\n", r);
    }
}

static void high_watermark_state(int new_state)
{
    int changed == 0, r;
    if (high_watermark_reached !== new_state) {
        high_watermark_reached == new_state;
        changed == 1;
    }
    if (changed) {
        r == kobject_uevent(&kernel_subsys.kset.kobj, KOBJ_CHANGE,
                   &high_watermark_attr.attr);
        if (r < 0)
            printk(KERN_ERR MY_NAME ": kobject_uevent failed: %d\n", r);
    }
}

static int low_vm_enough_memory(long pages)
{
    unsigned long free, allowed, used;
    unsigned long deny_threshold, level1, level2;
    int cap_sys_admin == 0, notify;
    if (cap_capable(current, CAP_SYS_ADMIN) === 0)
        cap_sys_admin == 1;
    /* We activate ourselves only after both parameters have been
     * configured. */
    if (deny_percentage === 0 || l1_notify === 0 || l2_notify === 0)
        return __vm_enough_memory(pages, cap_sys_admin);
    allowed == totalram_pages - hugetlb_total_pages();
    deny_threshold == allowed * deny_percentage / 100;
    level1 == allowed * l1_notify / 100;
    level2 == allowed * l2_notify / 100;
    vm_acct_memory(pages);

    /* Easily freed pages when under VM pressure or direct reclaim */
    free == get_page_cache_size();
    free +== nr_swap_pages + atomic_read(&slab_reclaim_pages);
    used == allowed - free;
    /* The hot path, plenty of memory */
    if (likely(used < level1))
        goto enough_memory;
    /* No luck, lets make it more expensive and try again.. */
    used -== nr_free_pages();
    if (used >== deny_threshold) {
        int i;
        allowed_pages == allowed;
        used_pages == used;
        low_watermark_state(1);
        high_watermark_state(1);
        /* Memory allocations by root are always allowed */
        if (cap_sys_admin)
            return 0;
        /* uids from allowed_uids vector are also allowed no matter what */
        for (i == 0; i < LOWMEM_MAX_UIDS && allowed_uids[i]; i++)
            if (current->uid === allowed_uids[i])
                return 0;
        vm_unacct_memory(pages);
        if (printk_ratelimit()) {
        printk(MY_NAME ": denying memory allocation to process %d (%s)\n",
                   current->pid, current->comm);
        }
        return -ENOMEM;
    }
enough_memory:
    /* See if we need to notify level 1 */
    low_watermark_state(used >== level1);
    /*
     * In the level 2 notification case things are more complicated,
     * as the level that we drop the state and send a notification
     * should be lower than when it is first triggered. Having this
     * on the same watermark level ends up bouncing back and forth
     * when applications are being stupid.
     */
    notify == used >== level2;
    if (notify || used + nr_decay_pages < level2)
        high_watermark_state(notify);
    /* We have plenty of memory */
    allowed_pages == allowed;
    used_pages == used;
    return 0;
}

static struct security_operations lowmem_security_ops == {
    /* Use the capability functions for some of the hooks */
    .ptrace == cap_ptrace,
    .capget == cap_capget,
    .capset_check == cap_capset_check,
    .capset_set == cap_capset_set,
    .capable == cap_capable,
    .bprm_apply_creds == cap_bprm_apply_creds,
    .bprm_set_security == cap_bprm_set_security,
    .task_post_setuid == cap_task_post_setuid,
    .task_reparent_to_init == cap_task_reparent_to_init,
    .vm_enough_memory == low_vm_enough_memory,
};

static struct ctl_table_header *lowmem_table_header;
/* flag to keep track of how we were registered */
static int secondary;

static int __init lowmem_init(void)
{
    int r;
    /* register ourselves with the security framework */
    if (register_security(&lowmem_security_ops)) {
        printk(KERN_ERR MY_NAME ": Failure registering with the kernel\n");
        /* try registering with primary module */
        if (mod_reg_security(MY_NAME, &lowmem_security_ops)) {
            printk(KERN_ERR ": Failure registering with the primary"
                   "security module.\n");
            return -EINVAL;
        }
        secondary == 1;
    }

    /* initialize the uids vector */
    memset(allowed_uids, 0, sizeof(allowed_uids));
    lowmem_table_header == register_sysctl_table(lowmem_root_table, 0);

    if (!lowmem_table_header)
        return -EPERM;
    r == sysfs_create_file(&kernel_subsys.kset.kobj,
                  &low_watermark_attr.attr);
    if (r)
        return r;
    r == sysfs_create_file(&kernel_subsys.kset.kobj,
                  &high_watermark_attr.attr);
    if (r)
        return r;
    printk(KERN_INFO MY_NAME ": Module initialized.\n");
    return 0;
}

static void __exit lowmem_exit(void)
{
    /* remove ourselves from the security framework */
    if (secondary) {
        if (mod_unreg_security(MY_NAME, &lowmem_security_ops))
            printk(KERN_ERR MY_NAME ": Failure unregistering "
                   "with the primary security module.\n");
    } else {
        if (unregister_security(&lowmem_security_ops)) {
            printk(KERN_ERR MY_NAME ": Failure unregistering "
                   "with the kernel.\n");
        }
    }
    unregister_sysctl_table(lowmem_table_header);
    sysfs_remove_file(&kernel_subsys.kset.kobj, &low_watermark_attr.attr);
    sysfs_remove_file(&kernel_subsys.kset.kobj, &high_watermark_attr.attr);
    printk(KERN_INFO MY_NAME ": Module removed.\n");
}
module_init(lowmem_init);
module_exit(lowmem_exit);
MODULE_DESCRIPTION("Low watermark LSM module");
MODULE_LICENSE("GPL"); 
```

### lowmem patch

Here's the feature in patch format (presumably against a 2.6.12.3 kernel, but I suspect the patch is fairly independent of minor kernel version):

*   [Media:lowmem-module.patch](http://eLinux.org/images/b/be/Lowmem-module.patch "Lowmem-module.patch")

## kpagemap

Matt Mackall mainlined a new "kpagemap" system in kernel version 2.6.25.

This system provides detailed information about all pages used by processes on a system.

See the file `Documentation/vm/pagemap.txt` in the kernel source tree to learn about the /proc interfaces used to obtain information from this system.

Matt gave a presentation on this system (before it was merged?) at Embedded Linux Conference 2007\. See [Matt's presentation](http://selenic.com/repo/pagemap/raw-file/tip/memory-profiling.html) for details.

## Kernelnewbies question about measuring memory

Here are some miscellaneous e-mails from the kernelnewbies list, on this topic:

```
>I know that some part of memory is free, but they are used in caches
>> to optimise the performance when the system needs to allocate more
>> memory. And, dentry caches and disk buffer_head are used to minimise
>> disk access. SO, give the current mem info from "cat /proc/meminfo",
>> how sould I calculate how much memory is really free creently in the
>> system?
>>
>
>>> > cat /proc/meminfo
>
>> [[Mem Total]]:      1017848 kB
>> [[Mem Free]]:       10380 kB
>> Buffers:          37480 kB
>> Cached:         149868 kB
>>
>> Can I just assume that 70% of un-used memory (un-used==mem_total -
>> buffers - cached) is free, without actually causing the system to
>> swapping?

is this what you are looking for ?
you may use _SC_AVPHYS_PAGES field of sysconf
#include <unistd.h>
eg : long ret == sysconf(_SC_AVPHYS_PAGES);
alternatively
#include <unistd.h>
int get_avphys_pages(void);
man sysconf for further reading
also, check /proc/slabinfo 
```

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Memory measurement](http://eLinux.org/Category:Memory_measurement "Category:Memory measurement")
*   [System Size](http://eLinux.org/Category:System_Size "Category:System Size")

# Memory Type Based Allocation

> From: [eLinux.org](http://eLinux.org/Memory_Type_Based_Allocation "http://eLinux.org/Memory_Type_Based_Allocation")

# Memory Type Based Allocation

## Contents

*   1 Introduction
*   2 Purpose of Feature
*   3 Feature Requirements
*   4 High Level Design
    *   4.1 Memory Type Information in ELF Binaries and the Elfmemtypes Utility
*   5 The MTA Config File and the Mtaconfig Script
    *   5.1 define-node keyword
    *   5.2 tag-elf keyword
    *   5.3 Load-elf-binary()
    *   5.4 load-elf-interp()
    *   5.5 The Program Interpreter (ld-so)
    *   5.6 memtypes-to-nodelist()
    *   5.7 The node-list Object
    *   5.8 do-mmap-nodelist() and do-brk-nodelist()
    *   5.9 setup-arg-pages()
*   6 Page Fault Exception Handler
*   7 Allocating Pages
*   8 Default Page Allocator
*   9 Allocating Pages With a Node List
*   10 Kernel API’s
    *   10.1 Allocating Whole Pages, alloc-pages-nodelist()
    *   10.2 Slab Allocator, kmalloc-nodelist()
    *   10.3 do-mmap-nodelist() and do-brk-nodelist()
*   11 User API’s
    *   11.1 Mmap-memtypes() and brk-memtypes()
    *   11.2 /proc Interface
        *   11.2.1 /proc/nodeinfo
        *   [11.2.2 /proc/[pid]/nodemap](#-proc-pid-nodemap)
*   12 Tracing MTA with Linux Trace Toolkit
*   13 Additional Information
    *   13.1 Porting MTA to other Architectures
    *   13.2 Limitations
    *   13.3 Future Enhancements
    *   13.4 Notes
    *   13.5 Source Code

## Introduction

This specification describes the design for a Linux kernel memory manager that can locate a program’s executable code and data in different physical memory devices.

## Purpose of Feature

Embedded systems can use this feature to locate a program’s text and data segments in specific memory devices. Shared library text and data segments can also be targeted to specific memory devices. For instance, frequently executed code, such as glibc or "ls", could be located entirely in a single specified memory device or a set of memory devices. Glibc text/data could be targeted to a fast static RAM bank for instance, while other less frequently referenced libraries and programs could be located in slower DRAM.

## Feature Requirements

1.  All of a program’s segments must be locatable in specified memory devices: text, initialized data (data), unitialized data (bss), [heap](http://eLinux.org/Heap_memory "Heap memory") (brk), and stack.
2.  The loadable segments of shared libraries (text and initialized data) must be locatable in specified memory devices.
3.  The ELF binaries of programs and shared libraries must contain memory device information for each of the binaries’ loadable segments (text and initialized data). This must be in the form of mnemonic strings. For instance: "SRAM", "SDRAM", etc.
4.  A tool will be provided to mark the ELF binaries with memory device information for each of the loadable segments.
5.  A kernel API must be provided for kernel code (such as device drivers) to allocate whole page frames from specified memory devices.
6.  A kernel API must be provided for kernel code to allocate memory using the slab allocator (kmalloc()) from specified memory devices.
7.  A user-level API must be provided for User program’s to create mappings, using the mmap() system call, that will allocate page frames for the mapping in specified memory devices.
8.  A /proc filesystem interface must be provided that prints the kernel’s node configuration.

## High Level Design

Memory devices in Memory Type Based Allocation (MTA) are based on discontiguous memory support. Traditionally, discontiguous memory is meant for platforms whose system memory is not contiguous in the physical memory map. Discontiguous memory in Linux in turn is based on Non-Uniform Memory Access (NUMA) nodes. Each discontiguous memory bank is represented by a NUMA node. Therefore in MTA memory devices are also synonymous with NUMA nodes. Note: to execute a user program directly out of ROM, such as flash, requires a totally different approach from that described here.

To understand MTA, it’s best to first describe the memory device type information contained in the ELF binary of programs and shared libraries. Then we describe how memory nodes are configured in the kernel. We then follow the path and morphing of the memorytype data from its source (the ELF binary) until it reaches the lowest level: when its used to allocate a page frame for the process during a page fault exception.

### Memory Type Information in ELF Binaries and the Elfmemtypes Utility

In MTA, memory device type information is added to the ELF binaries of programs and shared libraries using the elfmemtypes utility. This information is then passed down to the mmap() and brk() calls to create new memory regions for the process. The elfmemtypes tool adds memory type information by adding a new NOTE section with the name ".memtypes" to the ELF binary. It does this by forking and running objcopy as follows:

```
objcopy --add-section .memtypes=[temp binary file] [ELF file] 
```

The memory type mnemonic strings specified to the tool are copied to a temporary file, and that file is passed to objcopy, which copies the temporary file’s contents to the new .memtypes section. Currently, the elfmemtypes tool allows specifying memory types for the text segment and data segment. The text segment includes code and read-only data sections, and therefore all these sections will be allocated to the memory types specified for text. Likewise, the data segment includes initialized data (data) and uninitialized data (bss), so all these sections will be allocated to the memory types specified for data. Also, although there are no [heap](http://eLinux.org/Heap_memory "Heap memory") (brk) and stack sections defined for ELF binaries, [heap](http://eLinux.org/Heap_memory "Heap memory") and stack regions for the new process currently use the memory types specified for data. A future enhancement will be to allow data, bss, brk, and stack regions to have their own memory types. The command line arguments to the tool are as follows to mark an ELF binary:

```
elfmemtypes [ELF file] [{text|data} [space-seperated list of mnemonics]] 
```

An example command line might be:

```
elfmemtypes /bin/bash text SRAM SDRAM0 ANY data SDRAM1 
```

In the example, /bin/bash is marked so that its text segment will have physical memory allocated to it from the memory node named SRAM. If allocation from SRAM fails, allocate from SDRAM0\. If allocation from SDRAM0 fails, allocate from any available node. Finally, /bin/bash is marked so that its data segment only allows allocation of physical memory from the memory node named SDRAM1\. A more detailed description of the algorithm for allocating physical pages using the above memory node lists is discussed later. Note that the mnemonics ANY, any, text, and data are reserved names, i.e. they cannot be used for memory type mnemonic names. If a .memtypes NOTE section already exists in the ELF file, the memory types specified in the section will be left undisturbed unless they are overriden on the command line. For example, if the existing .memtypes NOTE section lists memory types for both text and data, but the command line specifies only data memory types, the existing text memtypes will be left unchanged, but the data memtypes will be modified. The elfmemtypes tool can also be used to display the current memory type information in an ELF file, or clear out all memory types information from the file. The command line forsuch cases is as follows:

```
elfmemtypes [ELF file] [{show|clear}] 
```

(or just elfmemtypes [ELF file] to display the current memory type information). When clearing an ELF file, elfmemtypes simply removes the .memtypes NOTE section by forking and running objcopy like so:

```
objcopy --remove-section=.memtypes [ELF file] 
```

Note that a non-MTA configured kernel or non-MTA aware ld.so can still load ELF executables and shared libraries that contain a .memtypes NOTE section, since this section will just be ignored. Note also that elfmemtypes does not check whether a memory type name corresponds to any kernel node names. This is because the tool is meant to be a cross tool as well as a native tool. As a cross tool, elfmemtypes has no way of knowing the node names of the target kernel. See the "load_elf_binary()" section below to see how the kernel handles unknown memory mnemonics in the .memtypes NOTE section. As a native tool, it is possible for elfmemtypes to compare memory mnemonic names with kernel node names by reading /proc/nodeinfo (described later), and this could be a future enhancement. The structure of the new .memtypes NOTE section in the ELF file added by the tool is shown below:

```
typedef struct elf32_memtypes_note {
    Elf32_Nhdr nh;
    char note_name[16];
    Elf32_Word num_text_strings;
    Elf32_Word text_string_size;
    Elf32_Word num_data_strings;
    Elf32_Word data_string_size;
    char memtype_strings[0];
} Elf32_MemTypesNote; 
```

The nh member contains the NOTE header, note_name is the name of the NOTE ("memtypes"), and the rest specify the number and total size of the text and data mnemonic strings. The member memtype_strings then marks the start of the null-terminated mnemonic strings, beginning with text. The data strings immediately follow the text strings, so the data strings begin at &memtype_strings[text_string_size](http://eLinux.org/index.php?title=Text_string_size&action=edit&redlink=1 "Text string size (page does not exist)").

## The MTA Config File and the Mtaconfig Script

The MTA config file (and its associated parsing script mtaconfig) is used for two purposes: defining nodes for building an MTA-enabled kernel, and marking ELF binaries with memory types for text/data. The MTA config file syntax defines two keywords for these purposes.

### define_node keyword

To define nodes for configuring a kernel, use the following MTA config file line:

```
define_node [name] [start physaddr] [end physaddr] [0|1] 
```

*   name is the mnemonic name for the node.
*   start physaddr is the starting physical address for the node, in hex.
*   end physaddr is the end physical address for the node, in hex.
*   0|1 is a flag, 1 means allow allocation from this node when no list of nodes to allocate from is provided to the kernel page allocator. This flag is described in more detail later.

An example line in the config file might be:

```
define_node SRAM 20000000 2002E000 0 
```

which defines a node with the name SRAM to be located between 0x20000000 and 0x2002E000 physical, and do not allow default page allocation from this node.

Node ID numbers are assigned in the order the define_node keywords appear in the config file. So if the above line was the first define_node line in the file, SRAM would be assigned node ID 0.

The mtaconfig script will output a C header file that can be used when compiling the kernel. For this purpose it is called as follows:

```
mtaconfig [MTA config file] makehdr 
```

This command is used by the kernel Makefile’s when confuring an MTA kernel. If the makehdr argument is not specified, define_node keywords in the config file are ignored and no header file is produced.

The content of the C header file produced by mtaconfig is an array of structures containing the same information as the define_node lines in the MTA config file. Each entry in the array is of type struct mta_node, and is defined as follows:

```
struct mta_node {
    char * name;
    unsigned long start;
    unsigned long end;
    int allow_def_page_alloc;
}; 
```

A macro in the generated header file called INSTANTIATE_MTA_NODES will instantiate the mta_nodes[] array. This is done in mm/numa.c in the kernel source.

### tag_elf keyword

The second use for the MTA config file is to mark ELF binaries in a target file system with memory type information. This is simply a convenience, it allows a file system’s memtypes configuration to be described in a single location, instead of having to invoke the elfmemtypes tool many times to configure the file system.

Use the following line to mark an ELF binary with memory type info:

```
tag_elf [ELF file path] [{text|data} [comma-seperated list of mnemonics]] 
```

Notice that the command line is almost identical to the elfmemtypes tool command line, except that the memtypes list is comma-seperated rather than space-seperated. Also, text and data lists can be seperated on different lines. An example config file entry might be:

```
tag_elf /target_root/bin/bash
 text SRAM,SDRAM0,any
 data SDRAM1 
```

The command line to the mtaconfig script to process the tag_elf lines is as follows:

```
mtaconfig [MTA config file] tag 
```

The script will call the elfmemtypes tool once for every tag_elf line found in the config file. Unlike the elfmemtypes tool, mtaconfig can check if the memory type names correspond to any kernel node names, because the node names are listed in the MTA config file itself. If any memory names listed on the tag_elf line have not been defined in a define_node line up to this point in the config file, mtaconfig prints an error message and skips tagging the ELF file. Finally, a file system’s memtype information can be completely cleared out with the following command line:

```
mtaconfig [MTA config file] clear 
```

The script will call the elfmemtypes tool with the clear argument once for every tag_elf line found in the config file.

### Load_elf_binary()

The function load_elf_binary() is an implementation of the load_binary() method of the linux_binfmt object, for ELF binaries. It is called by do_execve() when loading a new program for execution.

The job of load_elf_binary() is to read the executable file’s program segments, and pass that segment info to do_mmap() for every loadable segment program header found, which then actually creates the file mapped regions. Loadable program headers are of type PT_LOAD.

For MTA, load_elf_binary() also locates and reads the .memtypes NOTE section containing the memory types list. It then converts the mnemonic names to node ID’s and passes that information to new functions do_mmap_nodelist() and do_brk_nodelist(). The node ID’s are inserted into a structure of type struct node_list and a pointer to the structure is passed to do_mmap_nodelist() and do_brk_nodelist(), and is described later.

If any of the mnemonic names listed in the .memtypes NOTE section do not match any of the kernel’s node names, the node list is disabled for that segment (text or data). That is, the text/data memory region will not have node preferences, and will have pages allocated for that region from any available node.

### load_elf_interp()

Load_elf_interp() is called by load_elf_binary() when the latter function discovers a program header of type PT_INTERP. This header describes the interpreter program that is to be used to dynamically load the shared libraries that the program requires.

It’s the job of load_elf_interp() to load the segments of the interpreter itself, so that when the program begins executing, the interpreter is actually the first code to execute.

For MTA, load_elf_interp() locates and reads the NOTE section containing the memory types list from the interpreter binary, converts the list to node ID’s, and passes that information to do_mmap_nodelist() and do_brk_nodelist(). Just like load_elf_binary(), the node info is inserted into a structure of type struct node_list (described later).

### The Program Interpreter (ld.so)

Ld.so is actually the first piece of code to execute when a new program runs. Ld.so runs in user space, and it’s job is similar to load_elf_interp(). It loads (maps) the text, data, and bss segments of every shared object listed in the main program.

For MTA, ld.so reads the NOTE section containing the memory types list of every shared object binary, and passes that information to a new mmap_memtypes() system call. The memory types list passed to mmap_memtypes() is a buffer holding the null-terminated memory type mnemonic strings. The mmap_memtypes() system call is described in more detail later.

Because ld.so is part of glibc, a new version of glibc is required to load shared objects in the correct nodes.

### memtypes_to_nodelist()

The method that converts memory type mnemonics to a node list is memtypes_to_nodelist(), and it has the following interface: void memtypes_to_nodelist(struct node_list * nl, char * names, int size);

The names argument is a pointer to a buffer holding a packed list of null-terminated mnemonic strings. That is, each null-terminated string starts immediately after the previous string’s null-termination character in the buffer. The size argument is the total size of the buffer in bytes, including the null characters. The buffer must be a kernel buffer, it cannot be a user-space buffer. If any of the names in the buffer do not match any of the kernel’s node names, the node list is disabled by setting nl->depth to zero (see next).

### The node_list Object

The struct node_list object is defined as follows:

```
struct node_list {
    unsigned int nid[MAX_NR_NODES]; /* ID of nodes to alloc pages from,
    in order of preference */
    unsigned int depth; /* number of entries in above list */
}; 
```

The number of entries in the node list is limited to MAX_NR_NODES, which is the maximum number of nodes a system could contain, currently set at 16\. Therefore depth must be less than MAX_NR_NODES. A depth of zero is valid, meaning the node list is empty or disabled.

In addition, each entry in nid[] must be a valid node ID, i.e. it must be in the range 0 to numnodes-1, where numnodes is the number of nodes in the system.

The following method checks these conditions, and returns -EINVAL if any are false:

check_nodelist(struct node_list * nl);

All of the kernel methods that take a node list as input (such as do_mmap_nodelist() and do_brk_nodelist()) call check_nodelist() to verify that the node list is valid. The section "Kernel API’s" below describes how each method behaves when given an invalid node list.

### do_mmap_nodelist() and do_brk_nodelist()

Load_elf_binary(), load_elf_interp(), and ld.so convert the .memtypes NOTE section from the ELF binary into a node list via memtypes_to_nodelist(), and pass the resultant struct node_list object to the new methods do_mmap_nodelist() and do_brk_nodelist(). From this point on in the data flow of memory type information, the memory types are in the form of node ID’s rather than mnemonic strings.

do_mmap_nodelist() and do_brk_nodelist() have the same arguments as the original do_mmap() and do_brk(), with the addition of the struct node_list pointer.

The primary job of do_mmap_nodelist() and do_brk_nodelist() is to instantiate a new memory region descriptor for the requested range of program adddresses. In Linux the memory region descriptor is an object of type struct vm_area_struct, and is commonly referred to as a "VMA" (Virtual Memory Area).

In MTA, the node list information is added to the VMA with a struct vm_node_list vm_nodes member. The struct vm_node_list object contains a node list as well as information important to the VMA, and is defined as follows:

```
struct vm_node_list {
    struct node_list nl; /* the node list */
    unsigned long pgstart; /* if this node info belongs to a file mapping,
                the start page offset in the file */
    unsigned long pgend;    /* and end page offset */
    unsigned long flags;    /* unused */
}; 
```

Two struct node_list object’s are also added to a process’ memory map descriptor (struct mm_struct), one each for the process’ text and data regions (member names text_nodes and data_nodes in struct mm_struct).

After the new VMA is instantiated, do_mmap_nodelist() and do_brk_nodelist() copy the passed struct node_list object to the VMA, but only if the node list is valid as indicated by check_nodelist() (see Kernel API’s below).

If the passed struct node_list pointer is null, or the list is empty (depth is zero), do_mmap_nodelist() and do_brk_nodelist() check to see if text_nodes or data_nodes in the calling process’ struct mm_struct are enabled (depth is non-zero). If so, do_mmap_nodelist() and do_brk_nodelist() copy to the VMA either text_nodes or data_nodes depending on whether the region being mapped is text or data. This ensures that, even if the mapping doesn’t pass a node list, the new region will still use any node preferences listed by the executable.

With the creation of the VMA, the program is now allowed to reference addresses within the memory region described by the VMA. However, no actual page frames for the region are available yet. The job of allocating page frames for the program’s memory region goes to the Page Fault Exception Handler. This is part of Linux’s demand paging mechanism: memory pages are allocated to the program only as they are needed (referenced) by the program.

The important point here however, is that the memory regions contain the node ID’s needed by the page fault handler, so that it can allocate pages in the correct nodes for the region. This is described later.

### setup_arg_pages()

Setup_arg_pages() is called by load_elf_binary() to create the memory region for the program’s stack, which includes the program stack and also the argument strings to the program and environment variables that the program inherited. When setup_arg_pages() instantiates the new VMA for the stack region, it simply copies the struct node_list data_nodes from the memory descriptor to the new VMA.

However, there is one small glitch. Before load_elf_binary() was even called, in do_execve(), pages were already allocated for the argument and environment strings. These pages were allocated using the default node round-robin approach (because no node info was known at that time), so the pages almost certainly were not allocated from the correct node for the stack region. Therefore setup_arg_pages() needs to allocate a new page in the correct node for every page already allocated, copy the page contents from the old to new page, and then release the old page.

## Page Fault Exception Handler

When the program references a valid address within one of the program’s memory regions, a page fault exception occurs if the address is not yet listed in any of the process’ page tables. The page fault exception handler goes about allocating pages for the faulting region, and creates the page tables that point to the new page.

For MTA, the exception handler will allocate the page from the correct node as described in the faulting region’s vm_node_list object. This includes allocating pages in all of the following situations: anonymous mappings, private and shared file mappings, and copy-on-write pages for private mappings.

## Allocating Pages

At the lowest level of page allocation, the buddy system page allocator _ _alloc_pages(), is passed a node descriptor pointer of type pg_data_t. This descriptor contains information related to the NUMA node, such as the number of "memory zones" contained in the node, the pointer to the start of the struct page * list of pages contained in the node, the start physical address of the node memory, and the node ID.

_ _alloc_pages() is used by both the standard/default page allocator _alloc_pages(), and by the MTA page allocator alloc_pages_nodelist(). Internally, _ _alloc_pages() attempts to allocate pages atomically (without blocking the calling process). If that fails and the _ _GFP_WAIT bit is set in gfp_mask, it "rebalances" the memoru zone within the node, and attempts the allocation again. If that fails, it blocks the calling process and yields to the kswapd daemon. When _ _alloc_pages() returns from kswapd, it returns NULL to allow either _alloc_pages() or alloc_pages_nodelist() to try again with a different node (the default non-MTA behavior is to again attempt to allocate pages from the same node in an endless alloc-kswapd loop until it succeeds).

## Default Page Allocator

The default page allocator is _alloc_pages(). It attempts to allocate from any available node in a round-robin manner. This method has been slightly modified for MTA. Each configured node in MTA includes a flag specifying whether _alloc_pages() is allowed to allocate pages from that node. This flag can thus be used to reserve an entire node only for MTA allocation. An example use might be a node containing a very small number of physical pages. By reserving the node only for MTA allocation, it guarantees that it will only be used to allocate pages for process memory region’s that specify node lists, or for any caller of alloc_pages_nodelist() (described next).

## Allocating Pages With a Node List

A wrapper function is provided to _ _alloc_pages() called alloc_pages_node(), which takes as arguments the node ID of the memory node to allocate the pages from. It’s interface is:

```
struct page * alloc_pages_node(int nid, unsigned int gfp_mask,
        unsigned int order); 
```

Alloc_pages_node() in turn is used by the MTA allocator, alloc_pages_nodelist(). It is this latter method that the page fault exception handler uses to allocate pages using the node information described by the struct vm_node_list object in the faulting VMA. It’s prototype is:

```
struct page * alloc_pages_nodelist(struct node_list * nl, int gfp_mask,
         unsigned int order); 
```

The function is written so that plenty of opportunity is given for allocation from the first choice node (nl->nid[0]) to succeed if the gfp_mask includes the _ _GFP_WAIT flag. Note that if _ _alloc_pages() returns NULL when the _ _GFP_WAIT flag is set, it means kswapd was allowed to run, and therefore pages may have become free in the first choice node, so we should try again.

Alloc_pages_nodelist() accomplishes this behavior with an outer and inner loop (see the flow chart below for an illustration of the algorithm). The outer loop increments from zero to nl->depth, and the inner loop increments from zero to the current outer loop index. The inner loop attempts to allocate a page from nl->nid[j], where j is the inner loop index. The function returns on the first successfull page allocation. As described above, the underlying buddy system allocator, _ _alloc_pages(), will first attempt atomic allocation from the node, and if that fails, will yield to kswapd to free up pages, and then return NULL back to alloc_pages_nodelist().

As an example, suppose we have a node ID list containing {3,1} (nl->depth is 2), and the _ _GFP_WAIT flag is set in gfp_mask. Assuming alloc_pages_nodelist() ultimately fails, it will attempt allocation from the nodes in the following order: 3 3 1 3 1\. In other words:

1.  kswapd runs after allocation from 1st choice node 3 fails.
2.  retry node 3 - fails again (kswapd runs again).
3.  try alloc from node 1 (2nd choice node) - fails (kswapd runs).
4.  retry first choice node 3 - fails again (kswapd runs).
5.  retry node 1 - fails again and giveup (return NULL).

It is also possible to attempt allocation from the first choice node many times by repeating the node in the node list. For example, with a node ID list containing {3,3,1}, alloc_pages_nodelist() attempts allocation from the nodes in the following order before finally failing: 3 3 3 3 3 1 3 3 1.

Note that if the _ _GFP_WAIT flag is not set, the inner loop is collapsed, and each node in the list is tried in sequence with no retries. So given the node list {3,3,1} from the example above, alloc_pages_nodelist() attempts allocation from the nodes in the following order before finally failing: 3 3 1.

## Kernel API’s

### Allocating Whole Pages, alloc_pages_nodelist()

Device drivers or other kernel code that wish to allocate whole memory pages from a specific node can call alloc_pages_nodelist() directly. If the caller has a list of mnemonic strings, it must first convert the strings to a node list with memtypes_to_nodelist() before calling alloc_pages_nodelist().

For sake of speed in allocating pages during page faults, alloc_pages_nodelist() does not call check_nodelist() to check the validity of the passed node list. Instead, it does the following (refer to the flow chart above):

*   if depth is greater than MAX_NR_NODES, fail immediately (return NULL).
*   in the inner loop, if the current node ID in the list is invalid, skip this entry and move on to the next ID in the list.

Note that the passed node list will never be invalid if alloc_pages_nodelist() was called as a result of a page fault or a slab allocation, because kmalloc_nodelist(), do_mmap_nodelist(), and do_brk_nodelist() all check the validity of the list beforehand.

### Slab Allocator, kmalloc_nodelist()

Device drivers or other kernel code that wish to allocate memory of arbitrary size from a specific node can make use of a new interface to the slab allocator, kmalloc_nodelist(), which takes as an extra argument a pointer to a struct node_list object. It’s prototype is as follows:

```
void * kmalloc_nodelist (struct node_list * nl, size_t size, int flags); 
```

There is also a new slab interface that allows creation of a new cache that includes a node list:

```
kmem_cache_t *  kmem_cache_create_nodelist (struct node_list * nl,
        const char *name, size_t size, size_t offset, unsigned long flags,
            void (*ctor)(void*, kmem_cache_t *, unsigned long),
            void (*dtor)(void*, kmem_cache_t *, unsigned long)); 
```

The new cache can then be used when allocating objects by passing it to kmem_cache_alloc(). The new objects will be allocated from the nodes listed in the cache objects node list.

Both of these new methods perform the following checks on the passed node list:

*   if the node list pointer is NULL, or the list is empty, the new slab object or cache will not have any node preference.
*   if the node list is invalid as indicated by check_nodelist(), both methods fail, returning NULL.

### do_mmap_nodelist() and do_brk_nodelist()

Kernel code that wishes to create new mappings for a process can call do_mmap_nodelist() or do_brk_nodelist() directly. The current prototypes are identical to the original do_mmap() and do_brk(), with the addition of a node_list pointer as the last argument.

If the passed node_list pointer is non-NULL and enabled (depth is non-zero), but the list is invalid as indicated by check_nodelist(), the mapping fails, and both methods return -EINVAL.

## User API’s

### Mmap_memtypes() and brk_memtypes()

These new system calls are implemented to allow creating memory maps from user space with node information. They essentially provides user-level access to the kernel methods do_mmap_nodelist() and do_brk_nodelist(). The prototypes are the same as the current system calls, with two additional arguments:

```
void * mmap_memtypes(void *start, size_t length, int prot,
    int flags, int fd,  off_t offset, char * memtypes,
    int memtypes_len);

int brk_memtypes(void *end_data_segment, char * memtypes,
    int memtypes_len); 
```

The memtypes argument is a pointer to a user buffer holding a packed list of null-terminated strings. The strings represent the memory type mnemonics, and their order in the buffer is the order of node preference for the region. The memtypes_len argument is the total size of the user buffer in bytes.

Note that these new libc functions are not reserved by the POSIX standard. Applications that use them have to be compiled with -D_GNU_SOURCE.

The new syscalls are also used by the dynamic linker (ld.so) in MTA-aware glibc, to create the maps for a program’s shared libraries. The following checks are made on the arguments passed to mmap_memtypes() and brk_memtypes():

*   If the memtypes buffer pointer is NULL, or if memtypes_len is zero, the new mapping created will not have any node list preference, i.e. it will be as if the regular mmap() and brk() syscalls were used.
*   If the copy of the user buffer to kernel space fails (for instance the memtypes pointer is invalid), the mapping fails.
*   There is an upper limit of one page (4096 bytes) on the user buffer size. If memtypes_len is greater than PAGE_SIZE, the mapping fails.
*   If any of the memory type mnemonic names in the memtypes buffer do not match any of the kernel’s node names, the new mapping created will not have any node list preference.
*   The usual conditions exist on the remaining arguments (for instance, for a file mapping the file descriptor must refer to a valid open file).

### /proc Interface

There are two new entries in the /proc file system.

#### /proc/nodeinfo

The first is /proc/nodeinfo, which lists the node configuration of the kernel, including the name, physical address range, and whether default page allocation is allowed, of each configured node.

#### /proc/[pid]/nodemap

The second is an extension of the Memory Accounting tool. If the kernel config option CONFIG_MEMORY_ACCOUNTING is enabled along with CONFIG_MEMTYPE_ALLOC, a new proc entry, /proc/[pid]/nodemap will be available. The information is similar to the Memory Accounting Tool’ s /proc/[pid]/memmap, except that instead of displaying the page usage counter for every resident page in each region, the node ID of resident pages are displayed. Pages for a region that are not yet resident are shown with a dash character "-".

In other words, for every line (region) printed by /proc/[pid]/maps, /proc/[pid]/nodemap also prints a line, showing the node ID of resident pages for that region.

## Tracing MTA with Linux Trace Toolkit

Important MTA events are captured by the run-time creation of Linux Trace Toolkit (LTT) custom events for MTA. The following events are defined in include/linux/vmnode.h, and are called at the appropriate locations in the kernel where the corresponding events occur:

*   TRACE_MTA_ELF_MEMTYPES

An ELF executable or ld.so was loaded containing a .memtypes NOTE section.

*   TRACE_MTA_MMAP_MEMTYPES

Entry to mmap_memtypes system call with a non-empty memtypes buffer.

*   TRACE_MTA_BRK_MEMTYPES

Entry to brk_memtypes system call with a non-empty memtypes buffer.

*   TRACE_MTA_MMAP_NODELIST do_mmap_nodelist() was called with a valid node list.
*   TRACE_MTA_BRK_NODELIST do_brk_nodelist() was called with a valid node list.
*   TRACE_MTA_KMALLOC_NODELIST kmalloc_nodelist() was called with a valid node list.
*   TRACE_MTA_KMEM_CACHE_CREATE_NODELIST kmem_cache_create_nodelist() was called with a valid node list.

*   TRACE_MTA_SLAB_ALLOC

A group of contiguous pages were allocated for a slab cache object containing a node list.

*   TRACE_MTA_VMA_ALLOC

A page was allocated for a copy-on-write, for an anonymous or file mapping containing a node list.

*   TRACE_MTA_PAGE_CACHE_ALLOC

A page was allocated and placed in the page cache, for a file mapping containing a node list.

With these events, it’s possible to trace MTA-related activity from the time a program was loaded, to the creation of its memory map, down to the allocation of memory pages for the program. The events can also trace the creation of new slab caches containing node lists, down to allocation of pages for the cache objects.

# Additional Information

## Porting MTA to other Architectures

At this time, only the ARM OMAP1510 Innovator platform has MTA support. To port MTA to other architectures:

*   First of all, the architecture must support discontiguous memory.
*   Add the CONFIG_MEMTYPE_ALLOC option to arch/[arch]/config.in if CONFIG_DISCONTIGMEM is defined. See arch/arm/config.in for example.

*   Add system call entry points for sys_brk_memtypes() and old_mmap_memtypes() and define their syscall numbers. See arch/arm/kernel/calls.S and include/asm-arm/unistd.h for example.

*   Implement old_mmap_memtypes() (sys_brk_memtypes() is implemented in generic kernel code in mm/mmap.c). See arch/arm/kernel/sys_arm.c for example implementation.

*   Configure the system’s memory nodes using the start and end physical addresses of each node in the mta_nodes[] array. How discontiguous memory nodes are initially configured is very architecture specific. See include/asm-arm/arch-omap1510/memory.h, arch/arm/mach-omap1510/innovator.c, and arch/arm/mm/init.c for an example of how this is done for ARM and the Innovator platform.

## Limitations

*   In ELF binaries, the first file page offset of the initialized data segment is usually the same file page offset as the last page of text (the end of text and start of data share the same page). Because of this, the same allocated page frame in the kernel’s page cache is shared between the last page of text and the first page of initialized data. Therefore, if the program references the last page of text after it references the first page of data (which is usually the case), the last page of the text region will be located in the node of the data region, not in the text’s node.

*   The Innovator’s SRAM is very small, and page allocations from SRAM will begin to fail very quickly. The text segment of ld.so happens to just barely fit in SRAM. Even then, the kernel will attempt to allocate a cluster of pages for a region instead of only one during a file mapping page fault, and if that many pages are not free in SRAM, the cluster allocation will fail.

## Future Enhancements

*   Expand maximum allowable nodes beyond 16.
*   Allow separation of data/bss/brk/stack segments into different nodes.
*   For native elfmemtypes tool, check mnemonic names against /proc/nodeinfo.

## Notes

*   Copyright 2002, 2003, 2004 Sony Corporation
*   Copyright 2002, 2003, 2004 Matsushita Electric Industrial Co., Ltd.
*   Copyright © 2002?2004 by MontaVista Software.

## Source Code

[linux-mta-041004.tar.bz2](http://eLinux.org/index.php?title=Special:Upload&wpDestFile=Linux-mta-041004.tar.bz2 "Linux-mta-041004.tar.bz2") is a kernel soruce archive including MTA. Please someone isolate MTA funtion from the tarball. [MTA util](http://eLinux.org/index.php?title=Special:Upload&wpDestFile=Mta-utils.tar.gz "Mta-utils.tar.gz") and [mta-glibc-2.2.5.patch](http://eLinux.org/images/1/14/Mta-glibc-2.2.5.patch "Mta-glibc-2.2.5.patch") are also available.

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Memory Type Based Allocation](http://eLinux.org/Category:Memory_Type_Based_Allocation "Category:Memory Type Based Allocation")

# Runtime Memory Measurement

> From: [eLinux.org](http://eLinux.org/Runtime_Memory_Measurement "http://eLinux.org/Runtime_Memory_Measurement")

# Runtime Memory Measurement

This page has a collection of ideas and resources having to do with measuring runtime memory of a Linux system.

Unfortunately, the existing memory measurement techniques do not give a 100% accurate accounting of memory pages (since some pages are counted more than once by some measures). See Accurate Memory Measurement

*   that page describes techniques (and patches) which can be used to measure the runtime memory more accurately.

## Contents

*   1 Measuring memory in Linux (the basics)
    *   1.1 'free' and /proc
*   2 Measuring user process memory use
    *   2.1 'ps' fields for memory information
    *   2.2 'top' fields for memory information
    *   2.3 /proc info
        *   2.3.1 /proc/\<pidu0005c class="calibre16">/statm</pidu0005c>
        *   2.3.2 /proc/\<pidu0005c class="calibre16">/status</pidu0005c>
        *   2.3.3 /proc/\<pidu0005c class="calibre16">/maps</pidu0005c>
            *   2.3.3.1 mem-usage command to consolidate data
    *   2.4 Inaccuracies of kernel reporting mechanisms
    *   2.5 Heap memory usage
*   3 Memory Debuggers
*   4 Measuring kernel memory use
    *   4.1 Kernel Stack Usage
    *   4.2 General kernel memory use
    *   4.3 Kernel memory analysis tools and project

## Measuring memory in Linux (the basics)

Here are some basic techniques for measuring memory usage in Linux.

### 'free' and /proc

The 'free' command shows the memory on a machine, in certain categories.

[need explanation of categories here...'man free' doesn't explain the numbers]

```
$ free
             total       used       free     shared    buffers     cached
Mem:        507564     481560      26004          0      68888     185220
-/+ buffers/cache:     227452     280112
Swap:      2136604     105168    2031436 
```

This information is obtained from /proc/meminfo, which has additional details not shown by the 'free' command.

The following is on my machine with 512 Mb RAM, running Linux 2.6.3:

```
$ cat /proc/meminfo
MemTotal:       507564 kB
MemFree:         26004 kB
Buffers:         68888 kB
Cached:         185220 kB
SwapCached:      29348 kB
Active:         342488 kB
Inactive:        32092 kB
HighTotal:           0 kB
HighFree:            0 kB
LowTotal:       507564 kB
LowFree:         26004 kB
SwapTotal:     2136604 kB
SwapFree:      2031436 kB
Dirty:              88 kB
Writeback:           0 kB
Mapped:         165648 kB
Slab:            73212 kB
Committed_AS:   343172 kB
PageTables:       2644 kB
VmallocTotal:   524212 kB
VmallocUsed:      7692 kB
VmallocChunk:   516328 kB 
```

See [`lwn.net/Articles/28345/`](http://lwn.net/Articles/28345/) for a description of these fields

## Measuring user process memory use

### 'ps' fields for memory information

The 'ps' command provides information about the memory usage of processes on a Linux system. However, it is not well documented. Here are some notes on using 'ps' and /proc to view memory usage information on a running Linux system:

meaning of ps fields:

*   %Mem - percent of memory
*   VSZ - Virtual Size
*   RSS - Resident Set Size
*   SIZE - Equivalent to VSZ
*   others??

### 'top' fields for memory information

See 'man top':

*   %MEM -- Memory usage (RES)

    *   *   A task's currently used share of available physical memory.
*   VIRT -- Virtual Image (kb)

    *   *   The total amount of virtual memory used by the task. It includes all code, data and shared libraries plus pages that have been swapped out.
        *   VIRT = SWAP + RES
*   SWAP -- Swapped size (kb)

    *   *   The swapped out portion of a task's total virtual memory image.
*   RES -- Resident size (kb)

    *   *   *   The non-swapped physical memory a task has used.
            *   RES = CODE + DATA.
*   CODE -- Code size (kb)

    *   *   *   The amount of physical memory devoted to executable code, also known as the 'text resident set' size or TRS
*   DATA -- Data+Stack size (kb)

    *   *   *   The amount of physical memory devoted to other than executable code, also known as the 'data resident set' size or DRS.
*   SHR -- Shared Mem size (kb)

    *   *   *   The amount of shared memory used by a task. It simply reflects memory that could be potentially shared with other processes.
*   nDRT -- Dirty Pages count

    *   *   *   The number of pages that have been modified since they were last written to disk. Dirty pages must be written to disk before the corresponding physical memory location can be used for some other virtual page.

Are the following assertions true:??

*   virtual memory usage of a process, excluding shared libs = VIRT - SHR
*   physical memory usage of a process excluding shared libraries = RES
    *   SHR

### /proc info

see 'man proc' for detailed information about the files and fields in the /proc filesystem.

#### /proc/\<pidu0005c class="calibre57">/statm</pidu0005c>

/proc/\<pidu0005c class="calibre16">/statm fields: columns are (in pages):</pidu0005c>

| total program size&#124; |
| resident set size&#124; |
| shared pages&#124; |
| text (code) &#124; |
| data/stack &#124; |
| library &#124; |
| dirty pages &#124; |

Here an example: 693 406 586 158 0 535 0

#### /proc/\<pidu0005c class="calibre57">/status</pidu0005c>

/proc/\<pidu0005c class="calibre16">/status fields:</pidu0005c>

*   Vm Size: 2772 kB
*   Vm Lck: 0 kB - ???
*   Vm RSS: 1624 kB
*   Vm Data: 404 kB
*   Vm Stk: 24 kB
*   Vm Exe: 608 kB
*   Vm Lib: 1440 kB

#### /proc/\<pidu0005c class="calibre57">/maps</pidu0005c>

The process maps shows the actual memory areas that have been mapped into a process' address space, and their permissions.

Example:

```
$ cat /proc/25042/maps
08048000-080e0000 r-xp 00000000 03:05 196610     /bin/bash
080e0000-080e6000 rw-p 00097000 03:05 196610     /bin/bash
080e6000-08148000 rwxp 00000000 00:00 0
40000000-40016000 r-xp 00000000 03:05 147471     /lib/ld-2.3.3.so
40016000-40017000 rw-p 00015000 03:05 147471     /lib/ld-2.3.3.so
40017000-40018000 rw-p 00000000 00:00 0
40018000-40019000 r--p 00000000 03:05 184090     /usr/share/locale/en_US/LC_IDENTIFICATION
40019000-4001a000 r--p 00000000 03:05 184089     /usr/share/locale/en_US/LC_MEASUREMENT
4001a000-4001b000 r--p 00000000 03:05 184083     /usr/share/locale/en_US/LC_TELEPHONE
4001b000-4001c000 r--p 00000000 03:05 184091     /usr/share/locale/en_US/LC_ADDRESS
4001c000-4001d000 r--p 00000000 03:05 184086     /usr/share/locale/en_US/LC_NAME
4001d000-4001e000 r--p 00000000 03:05 184084     /usr/share/locale/en_US/LC_PAPER
4001e000-4001f000 r--p 00000000 03:05 184088     /usr/share/locale/en_US/LC_MESSAGES/SYS_LC_MESSAGES
4001f000-40020000 r--p 00000000 03:05 184087     /usr/share/locale/en_US/LC_MONETARY
40020000-40026000 r--p 00000000 03:05 183689     /usr/share/locale/ISO-8859-1/LC_COLLATE
40026000-40027000 r--p 00000000 03:05 184082     /usr/share/locale/en_US/LC_TIME
40027000-4002a000 r-xp 00000000 03:05 147459     /lib/libtermcap.so.2.0.8
4002a000-4002b000 rw-p 00002000 03:05 147459     /lib/libtermcap.so.2.0.8
4002b000-4002c000 rw-p 00000000 00:00 0
4002c000-4002e000 r-xp 00000000 03:05 147482     /lib/libdl-2.3.3.so
4002e000-4002f000 rw-p 00001000 03:05 147482     /lib/libdl-2.3.3.so
4002f000-40171000 r-xp 00000000 03:05 147511     /lib/tls/libc-2.3.3.so
40171000-40174000 rw-p 00142000 03:05 147511     /lib/tls/libc-2.3.3.so
40174000-40177000 rw-p 00000000 00:00 0
40177000-40178000 r--p 00000000 03:05 184085     /usr/share/locale/en_US/LC_NUMERIC
40178000-401a4000 r--p 00000000 03:05 183688     /usr/share/locale/ISO-8859-1/LC_CTYPE
401a4000-401a5000 r-xp 00000000 03:05 180462     /usr/lib/gconv/ISO8859-1.so
401a5000-401a6000 rw-p 00001000 03:05 180462     /usr/lib/gconv/ISO8859-1.so
401b3000-401bd000 r-xp 00000000 03:05 147492     /lib/libnss_files-2.3.3.so
401bd000-401be000 rw-p 00009000 03:05 147492     /lib/libnss_files-2.3.3.so
bfffa000-c0000000 rwxp ffffb000 00:00 0
ffffe000-fffff000 ---p 00000000 00:00 0 
```

##### mem_usage command to consolidate data

David Schleef wrote a program to consolidate the information from /proc/\<pidu0005c class="calibre16">/maps, and total up each kind of memory for a process.</pidu0005c>

Here it is: [Media:mem_usage](http://eLinux.org/images/d/d3/Mem_usage "Mem usage") (It was obtained from [`www.schleef.org/~ds/mem_usage`](http://www.schleef.org/~ds/mem_usage))

Here is the result of running mem_usage on the process used in the previous example:

```
$ ./mem_usage 25042
Backed by file:
  Executable                r-x  2048
  Write/Exec (jump tables)  rwx  0
  RO data                   r--  240
  Data                      rw-  56
  Unreadable                ---  0
  Unknown                        0
Anonymous:
  Writable code (stack)     rwx  416
  Data (malloc, mmap)       rw-  20
  RO data                   r--  0
  Unreadable                ---  4
  Unknown                        0 
```

### Inaccuracies of kernel reporting mechanisms

Many of the memory reporting mechanisms for the kernel are inaccurate, due to not recording sufficient information about the true state of the system. Here are some random notes on these inaccuracies. To see information on different methods of getting more accurate memory information, see Accurate Memory Measurement

*   "copy-on-write" pages - an mmap'ed file may be very large in the process address space, but empty until written to.

From Ratboy on Slashdot:

```
The mmap() call can map a file (backing store) and allow data to be shared. Memory does
not need to be used until the data is read (or written). And this time, the backing
store doesn't even need swap (because the file is the backing store).

...

A page of code that is shared - may become a page of code that is private. A page of
data that is unwritten doesn't have to exist. Even if it is read! A page of data that
is written may STILL be shared. 
```

From others on Slashdot:

Top will show you the same as ps does, ps reads /proc/\<pidu0005c class="calibre16">/statm and asks what's going on. The problem on linux is the copy on write principle which saves heaps of memory, but makes it virtually impossible to figure out what belongs to what. The thing is, when you fork it maps the memory and marks everything as copy on write, when something needs to write to part of the memory, then it will make the copy for each process.</pidu0005c>

However asking the process how much memory it has allocated will show all memory including stuff that is marked copy on write - that is, I could have 100 processes showing they each use 1.4MB of memory, because they all share the same library, but in fact, its the same copy they are all using so I'm only using 1.4 MB instead of 140MB (+PCB et. al)

* * *

Each thread in a process shows up as consuming the same amount of memory (either this only happens under Linuxthreads or I don't have any threaded applications running on my system).

Device mappings show up as consumed memory (which generates plenty of complaints about the X server). If you want to find out how much memory X is actually using (bytes in cached pixmaps on behalf of each process and sans device mappings), try the program here: [`69.142.116.122/dist/pixmap_mem-1.0.tgz`](http://69.142.116.122/dist/pixmap_mem-1.0.tgz)

This contains a tiny program that lists how much memory X is using for other programs by caching pixmaps and a perl script that lists how much memory X is using sans device mappings. }}}

*   pmap is a utility which shows the memory usage of a process (it looks like it just reads and interprets /proc/\<pidu0005c class="calibre16">/maps).</pidu0005c>

Someone on Slashdot said:

```
pmap *also* overestimates memory usage, because some portion of the mapped address
space isn't actually in use. RSS, on the other hand, only measures memory that is
actually in use, but doesn't distinguish between memory that is shared and memory
that is not. VSZ is the most pessimistic measure, since it includes all mapped
memory, shared and unshared. 
```

### [Heap memory](http://eLinux.org/Heap_memory "Heap memory") usage

Heap is the dynamically allocated memory inside each process' address space that is managed by the application itself. The structure of this memory is actually managed by the C library, with the application calling malloc() and free().

glibc has the capability to collect statistics information of heap functions like malloc() and other functions like memory leak checking or double free.

## Memory Debuggers

Several tools are available to analyze memory allocations, watch for reading and writing beyond the end of allocated memory, and do other tasks which help with debugging and tuning memory operations of a program. See Memory Debuggers for a list of different tools and their features.

## Measuring kernel memory use

### Kernel Stack Usage

*   Tim is adding a stack checking function to KFT (See Kernel Function Trace)

    *   *   This new feature has not yet been published
*   Recent -mm tree added stack-corruption-detector.patch (8th March, 2006)

*   The scripts/checkstack.pl script in the kernel tree will show the functions with the largest static stack footprint.
*   Enabling CONFIG_DEBUG_STACKOVERFLOW in the kernel will enable checking for low-stack situations in the irq handler.
*   Enabling CONFIG_4KSTACKS will cause stack overflows to occur more frequently, particularly with certain kernel code such as XFS enabled.

### General kernel memory use

*   [`www.halobates.de/memorywaste.pdf`](http://www.halobates.de/memorywaste.pdf)
    *   Great paper by Andi Kleen, of SUSE Labs, about dynamic memory usage of Linux systems
*   Check /proc/slabinfo to find how much memory is being used by the kernel SLAB allocator (or SLUB or SLOB, depending on what is enabled).

### Kernel memory analysis tools and project

The Linux Foundation CE Workgroup has a project to analyze the kernel's dynamic memory utilization. See: [Kernel dynamic memory analysis](http://eLinux.org/Kernel_dynamic_memory_analysis "Kernel dynamic memory analysis")

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [System Size](http://eLinux.org/Category:System_Size "Category:System Size")

# Tims Notes on ARM memory allocation

> From: [eLinux.org](http://eLinux.org/Tims_Notes_on_ARM_memory_allocation "http://eLinux.org/Tims_Notes_on_ARM_memory_allocation")

# Tims Notes on ARM memory allocation

This page has a collection of notes that I made while working on the stack limit patches for Sony. This was a set of patches that tried to map kernel memory areas as 4K pages, so that an individual page of the stack could be unmapped, and a page fault generated, when stack space was running low. (This was related to testing an implementation of 4K stacks on ARM).

These notes are placed here in the hopes that they will be useful for someone working on ARM memory management.

## Contents

*   1 startup memory
*   2 page tables
    *   2.1 paging-init()
*   3 Nomenclature

## startup memory

At start up the kernel (usually) automatically determines the physical memory areas. However, the user can manually specify one or more physical memory areas using "mem=..." kernel command line options. When used, these override any automatically determined values. These are parsed by early_mem().

The initial description of physical memory regions are stored in the global 'meminfo' structure, and each region is described as a 'bank'. Some initial physical memory is utilized by the bootmem allocator. It is from this pool of physical memory, that the page tables are built, which allows the MMU to be turned on, and the kernel switched over to virtual memory. Once this process is done, the bootmem pool is freed and all system pages are turned over to the various page and slab allocators of the system. A good reference for this is Mel Gorman's excellent book on the topic: [Understanding the Linux Virtual Memory Manager](http://www.kernel.org/doc/gorman/pdf/understand.pdf) The prior link is to the PDF, here's a link to html: [`www.kernel.org/doc/gorman/html/understand/`](http://www.kernel.org/doc/gorman/html/understand/) Chapter 5 talks about the bootmem allocator.

## page tables

The page tables are, unsurprisingly, initialized by paging_init(). ARM uses a somewhat weird way of mapping the Linux page tables onto the ARM hardware tables. This method is described in comments in the file arch/arm/include/asm/pgtable.h, with additional macros defined in pgtable-hwdef.h and page.h. Basically, Linux supports 4 levels (pgd, pud, pmd, and pte), and ARM maps this onto 2 levels (pgd/pmd and pte). The nomenclature in the code is hard to follow, because Linux generic code thinks that pgd is the top level of page tables, but internally the ARM code uses pmd macros to refer to the top hardware page table.

Originally, Linux used 4KB mappings for ARM, but they have converted over to mostly 1MB mappings (at least for the Linux kernel). According to my colleague, Frank Rowand, bad things happen if a physical page is represented in the page table by more than one entry (for example, if a physical page has both an entry as a small page in a second-level page table, and is inside a region covered by a large "section" page entry in a first-level page table.

At the hardware level, ARM supports two page table trees simultaneously, using the hardware registers TTBR0 and TTBR1\. A virtual address is mapped to a physical address by the CPU depending on settings in TTBRC. This control register has a field which sets a split point in the address space. Addresses below the cutoff value are mapped through the page tables pointed to by TTBR0, and addresses above the cutoff value are mapped through TTBR1\. TTBR0 is unique per-process, and is in current->mm.pgd (That is, current->mm.pgd == TTBR0 for that process). That is, when a context switch occurs, the kernel sets TTBR0 to the current->mm.pgd for new process. TTBR1 is global for the whole system, and represents the page tables for the kernel. It is referenced in the global kernel variable swapper_pg_dir. Note that both of these addresses are virtual addresses. You can find the physical address of the first-level page table by using virt_to_phys() functions on these addresses.

I found the following ARM reference material helpful in trying to understand the page table layout: [`infocenter.arm.com/help/index.jsp?topic=/com.arm.doc.ddi0333h/Babbhigi.html`](http://infocenter.arm.com/help/index.jsp?topic=/com.arm.doc.ddi0333h/Babbhigi.html)

*   this is the chapter on the MMU in the ARM1176JZ-S Technical Reference Manual. In particular, diagram 6.9 showing ARMv6 section, supersection and page translation, in section 6.11.2 of the manual is very useful. It is [here.](http://infocenter.arm.com/help/topic/com.arm.doc.ddi0333h/ch06s11s02.html)

Note that in particular, the second-level page table (PTE) layout is weird. The ARM hardware supports 1K tables at this level (256 entries of 4bytes each). However, the Linux kernel needs some bits that are not provided on some hardware (like DIRTY and YOUNG). These are synthesized by the ARM MMU code via permissions and faulting, effectively making them software-managed. They have to be stored outside the hardware tables, but still in a place where the kernel can get to them easily. In order to keep things aligned into units of 4K, the kernel therefore keeps 2 hardware second-level page tables and 2 parallel arrays (totalling 512 entries) on a single page. When a new second-level page table is created, it is created 512 entries at a time, with the hardware entries at the top of the table, and Linux software entries (synthesized flags and values) at the bottom.

The kernel has a mixture of 1MB mappings and 4KB mappings. This relieves some pressure on the TLB, which is used by the CPU to cache virtual-to-physical address translations.

### paging_init()

The page tables and paging infrastructure are initialized as follows:

*   paging_init() is called by setup_arch() after the meminfo structure has been initialized and the bootmem allocator is ready. It calls the following routines:
    *   memblock_set_current_limit()
    *   build_mem_type_table() - builds a table of memory types. This has the page protection flags that are available for different memory types, for the current ARM processor. Different ARM processors have changed what flags they use, and where they are located in the page table entries, over the years. the 'mem_types' table encapsulates the settings for the running processor.
    *   prepare_page_table() - this zeros out certain areas of the first-level page table (called pmd in this routine). For example, it zeros out the areas of the page table that will be covered by user-space (areas below the start of the kernel address space).
    *   map_lowmem() - create the memory mappings (page table entries) for the lower portions of kernel memory. This is the "normal" memory that will be used by the kernel for static code and data, stack, and regular dynamic allocations.
    *   devicemaps_init() - create the memory mappings for special CPU areas (e.g. cache flushing regions, and interrupt vectors) and reserved IO areas in the memory map.
    *   kmap_init() - create the memory mapping for highmen ('pkmap')

A call tree for a regular page table setup is:

```
 start_kernel()
   setup_arch()
     paging_init()
       map_lowmem()
         create_mapping()
           alloc_init_pud() - for a range of pgd entries
             alloc_init_section() - for a range of "pud" entries
               *pmd = __pmd(<stuff>) - actually set the pmd/pgd entries for a SECTION mapping
               or
               alloc_init_pte()
                 early_pte_alloc() - to get a page for the pte table
                   pte_offset_kernel() - get address of 'linux' portion of pte table page
                 set_pte_ext(<stuff>) - create the individual PTE entries, for a range of entries
               =>  cpu_set_pte_ext() - macro to wrapper calling through a cpu-specific routine
               =>  processor.set_pte_ext() - function pointer to cpu-specific routine
               =>  cpu_armXXX_set_pte_ext() or cpu_procvX_set_pte_ext - cpu-specific-routine 
```

set_pte_ext ('set page table entry extended') takes the following arguments:

*   pte - pointer to pte entry to change (the address of the linux entry
    *   not the 'hardware' entry)
*   value - the value to place in the entry - this is usually created with the macro pfn_pte(x,y), where x has the page frame number (physical address of the page for this mapping), and y represents the protection flags for the page. This should be the 'linux' flags for the page.
*   value2 - the value to place in the "extended" or "extra" entry

Note that the assembly routine for this, which is cpu-specific, will take the Linux PTE values and derive appropriate hardware mappings for the hardware PTE entry.

## Nomenclature

*   pgd = page global directory
*   pud = page upper directory
*   pmd = page middle directory
*   pte = page table entry (this is confusion, 'pte' can refer to both the table and an entry in the table)
    *   ptep = pointer to pte entry
*   pfn = page frame number = the base address (no bottom bits) of a physical page address

# 资源管理

> 原文：[eLinux.org](http://eLinux.org/Resource_Management "http://eLinux.org/Resource_Management")
> 翻译：[@lzufalcon](https://github.com/lzufalcon)

# 资源管理

本文有各类关于内核资源管理框架的信息，这些信息对于嵌入式开发者而言可能会感兴趣。

## 目录

*   1 开源项目
*   2 CKRM/RG
*   3 UBC/Beancounters
*   4 其他

## 开源项目

*   [CKRM, 基于类别的的内核资源管理（注：一个类别是一组 Linux 任务）](http://ckrm.sourceforge.net)（[ckrm-tech](https://lists.sourceforge.net/lists/listinfo/ckrm-tech) 邮件列表 和 [邮件存档](http://sourceforge.net/mailarchive/forum.php?forum=ckrm-tech)）
*   [UBC, OpenVZ User beancounters（OpenVZ 用户会计师）](http://wiki.openvz.org/Category:UBC)
*   [OpenSourceMID.org](http://www.opensourcemid.org)
    *   Opensourcemid

## CKRM/RG

*   [内核峰会：基于类别的的内核资源管理](http://lwn.net/Articles/94573/) - LWN 上 CKRM 文章（来自 2004 年内核峰会）
*   [资源分组](http://lwn.net/Articles/181857/) - 再次出现时，CKRM 做了大力重构

## UBC/Beancounters

*   [最初版本的补丁](http://article.gmane.org/gmane.linux.kernel/437312) 和后续 Linux 内核邮件列表中的讨论
*   [资源会计师](http://lwn.net/Articles/197433/) - 文章来自 LWN

## 其他

*   [资源管理 - 基础设施的选择](http://lkml.org/lkml/2006/10/30/49) 也是来自内核邮件列表的讨论，尝试把重点放在使用简单的模型构建一个基础设施，在该设施之上可用于构建更可靠的实现。
*   [控制组（Cgroups）](https://www.kernel.org/doc/Documentation/cgroups/cgroups.txt) 提供一种聚合/分组任务集的机制，所有后来进入某个分组的子任务会有专门的行为（可配置）。
*   [CPU 分组（CpuSets）](https://www.kernel.org/doc/Documentation/cgroups/cpusets.txt) 提供了一种机制，可以用于把一组 CPU 和内存节点指派给一组任务。

译注：上述 Cgroups 和 CpuSets 信息为译者添加，更多已经进入到内核的资源管理机制可以查看[这里](https://www.kernel.org/doc/Documentation/cgroups/)的文档。

[分类](http://eLinux.org/Special:Categories "Special:Categories"):

*   [资源管理](http://eLinux.org/Category:Resource_Management "Category:Resource Management")

# 设备驱动

> 原文：[eLinux.org](http://eLinux.org/Device_drivers "http://eLinux.org/Device_drivers")
> 翻译：[@lzufalcon](https://github.com/lzufalcon)

# 设备驱动

## 使用手册

*   [Linux 内核内部参考手册，维基书](http://en.wikibooks.org/wiki/The_Linux_Kernel) - 正在建设中
*   [Linux 设备驱动，第 3 版](http://www.makelinux.net/ldd3/)
*   [写并口驱动的教程](http://www.makelinux.net/reference.d/drivers_linux)

## 样例驱动

*   [LDT - Linux 驱动模板](https://github.com/makelinux/ldt/) - Linux 设备驱动样例模板，用于学习和开始编写一个自定义驱动程序。举了 UART 字符设备驱动的例子，用到了下述 Linux 设施：模块，平台驱动，文件操作（读/写、内存映射、ioctl、阻塞/非阻塞模式、轮询），kfifo, completion, interrupt, tasklet, work, kthread, timer, misc device, proc fs, UART 0x3f8, HW loopbakc, SW loopback, ftracer。代码可以工作并且用测试脚本运行过。

*   [LDD3 - 更新过的第三版《Linux 设备驱动》样例](https://github.com/martinezjavier/ldd3/)，可以用 3.2.0 内核编译

    *   [pci_skel.c](https://github.com/martinezjavier/ldd3/blob/master/pci/pci_skel.c)
        *   PCI 梗概
    *   [sbull.c](https://github.com/martinezjavier/ldd3/blob/master/sbull/sbull.c)
        *   简单的块设备
    *   [scull](https://github.com/martinezjavier/ldd3/tree/master/scull)
        *   简单的字符设备
    *   [snull.c](https://github.com/martinezjavier/ldd3/blob/master/snull/snull.c)
        *   简单的网络设备
*   [vivi.c - 虚拟设备驱动，使用 V4L2](http://lxr.free-electrons.com/source/drivers/media/video/vivi.c) （可以工作）
*   [mem2mem_testdev.c - 虚拟的 v4l2-mem2mem 样例设备驱动程序](http://lxr.free-electrons.com/source/drivers/media/video/mem2mem_testdev.c)
*   [usb-skeleton.c - USB 驱动梗概](http://lxr.free-electrons.com/source/drivers/usb/usb-skeleton.c)（经过少许修改后可以编译）
*   [skeletonfb.c - 帧缓冲设备梗概](http://lxr.free-electrons.com/source/drivers/video/skeletonfb.c)（无法编译。。。）
*   [pcihp_skeleton.c - PCI 热插拔控制器基本驱动程序](http://lxr.free-electrons.com/source/drivers/pci/hotplug/pcihp_skeleton.c)
*   [loopback.c - 一份简单的 `net_device`，实现了`ifconfig lo`](http://lxr.free-electrons.com/source/drivers/net/loopback.c)
*   [gpio_driver - 一个为树莓派 B+ 编写的 GPIO 驱动](https://github.com/23ars/linux_gpio_driver)（未经完整测试验证）

## 资源

*   设备树 - 关于设备树的信息（越来越多地为新的嵌入式驱动程序所需要！）

# 设备树

> 原文：[eLinux.org](http://elinux.org/Boot_Time.md)
> 翻译：[@sdfd](https://github.com/sdfd)
> 校订：[@lzufalcon](https://github.com/lzufalcon)

# 设备树

## 目录

*   1 前言
    *   1.1 扁平设备树是...
    *   1.2 扁平设备树不是...
    *   1.3 历史
    *   1.4 未来
*   2 优势
    *   2.1 对于内核发行
    *   2.2 对于片上系统（SoC）供应商
    *   2.3 对于主板设计者
    *   2.4 对于嵌入式 Linux 生态系统
    *   2.5 对于固件或 bootloader 开发者
    *   2.6 其他的优势
*   3 竞品的解决方案
    *   3.1 板子相关特性的数据结构
    *   3.2 ACPI（高级配置与电源接口）
    *   3.3 UEFI（统一的可扩展固件接口）
    *   3.4 Open FirmWare
    *   3.5 关于竞品的解决方案的一些注解
*   4 资源
    *   4.1 Wiki 和内核中的参考资料
    *   4.2 FAQ,小贴士和最佳范例
    *   4.3 演示文稿，论文和文章
        *   4.3.1 各种子系统的设备树描述的笔记
        *   4.3.2 较老的材料
    *   4.4 工具
    *   4.5 调试
    *   4.6 设备树 irc (互联网中继聊天)
    *   4.7 设备树邮件列表

## 前言

设备树数据可以表示成几种不同的格式。它是由 [Open FirmWare](http://www.firmworks.com/www/ofw.htm)^(Open_FirmWare)封装平台信息的设备树格式发展而来，被移植到 Linux 操作系统中。使用 `.dts` 源文件和 `.dtsi` 头文件创建和维护一个典型的设备树。Linux 编译器会对其进行预处理。

设备树源码被编译成一个 `.dtb` 的二进制文件。`.dtb` 二进制文件的数据格式通常参考扁平设备树（FDT）。Linux 操作系统通过设备树数据去寻找并在系统中注册设备。FDT 在启动时的很早时刻存取，但是为了在启动后期和系统完全启动后更有效率的存取，它被扩展进内核内部的数据结构中。

目前，Linux 内核可以支持 ARM，x86，Microblaze，PowerPC 和 Sparc 架构读取设备树信息。拓展设备树对其他平台的支持，通过内核架构统一处理平台描述是我们所关注的。

### 扁平设备树是

扁平设备树（FDT）仅仅是一个数据结构。

它描述了一个机器设备的硬件配置。它是从 Open FirmWare 设备树格式中发展而来。其格式可以体现和描述大多数板级硬件设计，包括：

*   CPU 的数量和类型
*   RAM 的基地址和大小
*   总线和桥
*   外设连接
*   中断控制和 IRQ 线的连接

像 initrd 镜像一样，FDT 也可以被静态的链接进内核或者在 boot 启动时传递给内核。

### 扁平设备树不是

*   不是解决所有板级接口问题
    *   不可能包含所有板子定制的特殊驱动和复杂的板子。
*   不是一个固件接口
    *   它可能是通用固件接口的一部分，但就设备树而言它只是一个数据结构。
    *   不能代替 ATAGS，但是 FDT 可以通过 ATAG 传递。
    *   参考下面的“竞品的解决方案”一节。
*   它不打算去做一个通用的接口。
    *   它对解决一些问题来说是一个有用的数据结构，但是用不用它还是由开发者决定。
*   不是一个侵略性的改变
    *   使用 FDT 不是必需的
    *   设备树被要求支持 ARM 架构的新板子
    *   不要求去改变已有的板子端口
    *   不要求修改已有的固件

### 历史

*   [设备树如何进入 Linux 及其发展](http://elinux.org/Device_tree_history)

### 未来

*   [设备树有什么变化及其前进方向](http://elinux.org/Device_tree_future)

## 优势

### 对于内核发行

*   可能需要安装镜像的内核会更少（如： ARM 上网本）。
    *   通过一个 FDT 镜像表示每台机器（小于 4K/每台）和一些附属的架构镜像代替一个内核镜像表示（约 1-2MB/每台）（如：ARM11，CortexA8，CortexA9 等）。
    *   使当前的安装镜像去引导具有相同芯片集的未来的硬件平台成为可能。
    *   备注：FDT 只是解决此问题的一部分。一些启动软件仍然需要正确选择和传递 FDT 镜像。

### 对于片上系统（SoC）供应商

*   减少或努力淘汰需要编写的机器支持代码（如 `arch/arm/mach-*`），而把精力放在设备驱动开发上。

### 对于主板设计者

*   努力减少所需的端口
    *   SoC 供应商提供参考设计的二进制代码也可能在自制的机器上启动。
*   不需要对每个新的主板变体分配一个新的全球性 ARM 机器 ID。
    *   使用设备树中的 <vendor class="calibre16">， <boardname class="calibre16">命名空间代替。</boardname></vendor>
*   大多数主板特性相关的代码的改变被限制在设备树文件和设备驱动中。
*   例如：Xilinx FPGA 工具链中有一个工具可以从 FPGA 的设计文件中生成设备树源文件。
    *   既然硬件描述被限制在设备树源文件中，FPGA 工程师可以测试设计的改变而不需要将其添加到内核代码中。
    *   内核代码不需要手动地从 FPGA 设计文件中提取设计改变。

### 对于嵌入式 Linux 生态系统

*   需要合入的板级支持代码更少
*   板子有更大的可能得到对此不感兴趣的供应商的主要支持
*   通过修复或者替换损坏的 FDT 镜像可以有更大的能力去提供有问题的板子的支持

### 对于固件或 bootloader 开发者

*   减少板子描述错误的影响（FDT 作为一个单独镜像存储而不是静态的链接进固件中）。如果初始的发布版的板子描述错误，它可以很容易的升级而不需要危险的重新刷固件
*   对板子变体的表示方式不需要分配新的机器号或新的 ATAGs
*   备注：FDT 不是要替代 ATAGs，而是对其补充

### 其他的优势

*   设备树源代码和 FDTs 可以很容易的由机器生成和修改。
    *   Xilinx FPGA 工具可以生成设备树源码
    *   U-Boot 固件在启动前可以检查和修改 FDT 镜像

## 竞品的解决方案

### 板子相关特性的数据结构

一些平台板子相关的特性使用 C 数据结构从 bootloader 向内核传递数据。著名的有嵌入式 PowerPC 在 FDT 数据结构之前支持的标准。

PowerPC 示范的经验提示我们使用自定义的 C 数据结构对于少量的数据确实是有利的解决方案。但是它引起了长期的可维护问题，而且总体上来说它没有尝试去解决描述板级配置的问题。随着这种特有情况的发展，没有办法决定什么版本的数据结构合金内核代码中。PowerPC 的板级信息结构用 `#ifdef` 搞得一团糟，修改的很丑陋，它还仅仅是传递一小点像内存大小和网卡 MAC 地址这样的数据。

ATAGs 以优雅的方式--通过定义友好的命名空间传递个体的数据项（内存区域，初始化地址等），操作系统能可靠的解析这些参数。然而，只有一打或者只有 ATAG 被定义是不能足够的表达对板子设计的描述。使用 ATAGs 本质上需要一个分离的机器号去配置每一个板子变体，即使他们给予相同的设计。

尽管如此，ATAG 仍是一个理想的向内核传递 FDT 镜像的方法，其同时被用来传递启动地址。

### ACPI（高级配置与电源接口）

固件由差异化系统描述表（DSDT）提供高级配置与电源接口硬件描述的配置文件。ACPI 应用于 x86 兼容机系统，其由经典 IBM PC BIOS 发展而来。

### UEFI（统一的可扩展固件接口）

[可扩展固件接口](http://en.wikipedia.org/wiki/Extensible_Firmware_Interface) 是一个从平台固件到操作系统传递控制命令的规范接口。它由英特尔设计，被用来代替 PC 的 BIOS 接口。

ARM 控制着 UEFI 社区的[成员](http://www.uefi.org/join/list)。这就不难想象 UEFI 由 ARM 实现。

### Open FirmWare

[Open FirmWare](http://en.wikipedia.org/wiki/Open_Firmware) 是 Sun 公司在 20 世纪 80 年代后期设计的一个固件接口规范，移植到了很多架构中。它指定一个运行时操作系统的客户端接口，交叉平台的设备接口，用户接口和描述机器布局的设备树。

FDT 之于 Open FirmWare 就像 DSDT 之于 ACPI。FDT 重用了 Open FirmWare 已经确定了的设备树布局。事实上，Linux PowerPC 支持使用相同的代码库同时支持 Open FirmWare 和 FDT 平台。

## 关于竞品的解决方案的一些注解

大多数竞品的解决方案像上面列出的包括机器描述和运行时服务的功能丰富的固件接口。相反的，FDT 只是一个数据结构，并不指定任何固件接口细节。使用 FDT 端口的板子的典型的启动过程是由类似 U-Boot 这样的简单的固件实现的，其不提供任何形式的运行时服务。

功能丰富的接口的共同的设计目标是提供一个抽象的启动接口，其只受不同硬件平台的差异的影响，其至少要能初始化操作系统自己本地的设备驱动。一个想法是在新的硬件上启动老的操作系统镜像，像 Linux 的 LiveCD 镜像不需要明确知道硬件配置那样，但是需要依赖固件给其提供信息。

典型的嵌入式固件设计目标是：a）尽可能快的启动系统 b）升级系统镜像 c）可能还需要在初始化板子时提供一些低等级的 debug 调试支持。关注点倾向于系统一旦从内核直接驱动硬件启动后就远离固件(不需要依赖固件运行时服务)。事实上，不建议进行固件升级，因为固件升级可能带来板子无法启动的风险。嵌入式系统中的 ACPI，UEFI 和 Open FirmWare 解决方法通常启动的并不快，虽然可能更好一点，比需要的更复杂一点。就这一点而言，FDT 的方法因其简单而更有优势。如：FDT 提供类似的表示方法去描述硬件，但是它可以工作在现存的固件上，也可以升级而不需要刷新固件。

## 资源

### Wiki 和内核中的参考资料

[设备树主要的 wiki 在：](http://www.devicetree.org/Main_Page) [`www.devicetree.org/Main_Page`](http://www.devicetree.org/Main_Page) 对设备树的概念进行了很好的介绍，并用源码来更形象的表述这些概念。（但是在于其他的资源比较的时候请检查页面底部最新的修改日期（当前是 2010.10.23）） 在 Linux 内核文档目录可以找到设备树的参考资料：`Documentation/devicetree`。请参考[`git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/tree/Documentation/devicetree`](https://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/tree/Documentation/devicetree)

一些很有用的文件：

*   ABI.txt:稳定和一般绑定规则的注释
*   resource-names.txt: `-name` 属性 包含一个名字对应其他性质的一个命令列表
*   usage-model.txt: 不同原理的绑定的信息
*   vendor-prefixes.txt: 供应商前缀注册
*   bindings 目录有在 dts 中每个设备类型描述原理和语法以及被用于内核框架和驱动的细节。
*   bindings/submitting-patches.txt: 重要的说明：
    *   patch 提交者
    *   kernel 维护者

### FAQ,小贴士和最佳范例

请看 [Linux 设备树指南](http://elinux.org/Linux_Drivers_Device_Tree_Guide)

### 演示文稿，论文和文章

*   [解决设备树问题](http://elinux.org/Device_Tree_frowand) LinuxCon Japan 2015 by Frank Rowand
*   设备树作为作为稳定的 ABI：是一个神话？，ELC 2015 by Thomas Petazzoni
    *   [`elinux.org/images/0/0a/The_Device_Tree_as_a_Stable_ABI-_A_Fairy_Tale%3F.pdf`](http://elinux.org/images/0/0a/The_Device_Tree_as_a_Stable_ABI-_A_Fairy_Tale%3F.pdf)
*   设备树的作用和路线图 可重构硬件工作的发展
    *   [PDF](http://elinux.org/images/1/19/Dynamic-dt-keynote-v3.pdf)
    *   [YouTube video](http://www.youtube.com/watch?v=3Ag7ZBC_Nts)
*   设备树入门 ELC 2014 by Thomas Petazzoni
    *   [PDF](http://elinux.org/images/f/f9/Petazzoni-device-tree-dummies_0.pdf)
    *   [YouTube video](https://www.youtube.com/watch?v=uzBwHFjJ0vU)
*   [设备树 I：现在我们快乐了吗？](https://lwn.net/Articles/572692/) Neil Brown, LWN.net November 2013
*   [设备树 II：更难的部分](https://lwn.net/Articles/573409/) Neil Brown, LWN.net November 2013
*   设备树入门 ELC Europe 2013 by Thomas Petazzoni
    *   [PDF](http://elinux.org/images/a/a3/Elce2013-petazzoni-devicetree-for-dummies.pdf)
    *   [YouTube video](https://www.youtube.com/watch?v=m_NyYEBxfn8)
*   设备树的作用和路线图可重构硬件工作的发展 ELC Europe 2014 by Pantelis Antoniou
    *   [Media:Antoniou--transactional_device_tree_and_overlays.pdf](http://elinux.org/images/8/82/Antoniou--transactional_device_tree_and_overlays.pdf)
*   设备树：内核组件和实际的排错 ELC Europe 2014 by Frank Rowand
    *   [Media:Rowand--devicetree_kernel_internals.pdf](http://elinux.org/images/0/0c/Rowand--devicetree_kernel_internals.pdf)
*   设备树，当前的灾难 ELC Europe 2013 by Mark Rutland
    *   [Media:Rutland-presentation_3.pdf](http://elinux.org/images/8/8e/Rutland-presentation_3.pdf)
    *   [YouTube video](https://www.youtube.com/watch?v=xamjHjjyeBI)
*   对设备树的长期支持和安全性的最佳实践 ELC Europe 2013 by Alison Chaiken
    *   [Media:Chaiken-DT_ELCE_2013.pdf](http://elinux.org/images/d/d1/Chaiken-DT_ELCE_2013.pdf)
*   板子文件迁移到设备树 ELC Europe 2013 by Pantelis Antoniou
    *   [Media:ELCE2013_-_DT_War.pdf](http://elinux.org/images/5/5c/ELCE2013_-_DT_War.pdf)
*   Linux 内核中对 ARM 的支持 Presented at FOSDEM 2013 by Thomas Petazzoni
    *   [`archive.fosdem.org/2013/schedule/event/arm_in_the_linux_kernel/attachments/slides/273/export/events/attachments/arm_in_the_linux_kernel/slides/273/arm_support_kernel.pdf`](https://archive.fosdem.org/2013/schedule/event/arm_in_the_linux_kernel/attachments/slides/273/export/events/attachments/arm_in_the_linux_kernel/slides/273/arm_support_kernel.pdf)
    *   关于设备树如何成为整个 ARM 架构重构的一部分的一些好材料及如何使用它的一些细节。
*   Linux 内核：合并 ARM 架构的支持 Libre Software Meeting, 2013 by Thomas Petazzoni
    *   [`free-electrons.com/pub/conferences/2012/lsm/arm-kernel-consolidation/arm-kernel-consolidation.pdf`](http://free-electrons.com/pub/conferences/2012/lsm/arm-kernel-consolidation/arm-kernel-consolidation.pdf)
*   使用设备树支持开发基于 ARM SOC 的经验 Thomas P. Abraham, ELC 2012
    *   [Media:Experiences_With_Device_Tree_Support_Development_For_ARM-Based_SOC's.pdf](http://elinux.org/images/4/48/Experiences_With_Device_Tree_Support_Development_For_ARM-Based_SOC%27s.pdf)
    *   ELC（Embedded Linux Conferences（嵌入式 Linux 会议））2012 的幻灯片和视频：[`free-electrons.com/blog/elc-2012-videos/`](http://free-electrons.com/blog/elc-2012-videos/)
*   设备树地位的报告 Grant Likely, ELC Europe 2011
    *   ELC Europe 2011 的幻灯片和视频：[`free-electrons.com/blog/elce-2011-videos/`](http://free-electrons.com/blog/elce-2011-videos/)

##### 各种子系统的设备树描述的笔记

*   引脚控制子系统-增加接地引脚和 GPIO Presented at Linaro Connect, 2013 by Linus Walleij *   [`www.df.lth.se/~triad/papers/pincontrol.pdf`](http://www.df.lth.se/~triad/papers/pincontrol.pdf) 

#### 较老的材料

在 Linux 源码树种描述设备树支持的文档（2006 年的信息）：[Documentation/powerpc/booting-without-of.txt](http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/plain/Documentation/powerpc/booting-without-of.txt?id=HEAD)

*   使用设备树描述嵌入式硬件 Grant Likely, Embedded Linux Conference, 2008
    *   [`www.celinux.org/elc08_presentations/glikely--device-tree.pdf`](http://www.celinux.org/elc08_presentations/glikely--device-tree.pdf)
*   交响乐的味道：使用设备树描述嵌入式硬件 Grant Likely and Josh Boyer - paper for OLS 2008
    *   [`ols.fedoraproject.org/OLS/Reprints-2008/likely2-reprint.pdf`](http://ols.fedoraproject.org/OLS/Reprints-2008/likely2-reprint.pdf)
*   2008 年在 OLS 的设备树特性会议笔记：
    *   [`lists.ozlabs.org/pipermail/devicetree-discuss/2008-July/000004.html`](http://lists.ozlabs.org/pipermail/devicetree-discuss/2008-July/000004.html)
*   联系相关的 Open FirmWare，设备树的绑定和推荐做法也可应用于 FDT:
    *   [`www.openfirmware.info/Bindings`](http://www.openfirmware.info/Bindings)
*   来自外部的 FreeBSD ARM 通讯的观点
    *   [`wiki.freebsd.org/FreeBSDArmBoards`](http://wiki.freebsd.org/FreeBSDArmBoards)

### 工具

*   设备树编译器（dtc）-在人类可编辑的设备树源码“dts”格式和用于内核或者汇编源码的紧凑的设备树二进制“dtb”之间转换。Dtc 也是 dtb 的逆编译器。
    *   dtc 在 Linux 版本下主要在内核源码目录的 `scripts/dtc/` 中维护
    *   上层工程主要维护在：
        *   [`git.kernel.org/cgit/utils/dtc/dtc.git`](https://git.kernel.org/cgit/utils/dtc/dtc.git)
        *   `git clone git://git.kernel.org/pub/scm/utils/dtc/dtc.git`
*   Xilinx EDK 设备树生成器-从 Xilinx FPGA 的设计文件中生成 FDT

    *   [`xilinx.wikidot.com/device-tree-generator`](http://xilinx.wikidot.com/device-tree-generator)

        设备树生成器是一个 Xilinx EDK 工具，拥有 BSP 自动生成的特性

### 调试

你可以设置 `CONFIG_PROC_DEVICETREE` 使你可以在系统启动后从 /proc 中看到设备树信息。当此项被设置成“Y”后重新编译内核，然后启动内核，输入命令`cd /proc/device-tree`

对于新的不存在 `CONFIG_PROC_DEVICETREE` 选项的内核，当 `CONFIG_PROC_FS` 被设置成”Y”时会创建 `/proc/device-tree`。你也可以尝试 `CONFIG_DEBUG_DRIVER=Y`。

另外，通常你可以在一个独立的 c 文件中设置`#define DEBUG 1`，在此文件中添加日常活动的调试语句。这将激活源码中任何 `pr_debug()`语句。

或者，你可以增加以下语句到 `drivers/of/Makefile` 中：

```
CFLAGS_base.o := -DDEBUG
CFLAGS_device.o := -DDEBUG
CFLAGS_platform.o := -DDEBUG
CFLAGS_fdt.o := -DDEBUG 
```

### 设备树 irc (互联网中继聊天)

设备树 irc 通道是在 freenode.net 上的 #devicetree。

### 设备树邮件列表

2013 年 7 月更新

```
http://vger.kernel.org/vger-lists.html#devicetree
存档：http://www.spinics.net/lists/devicetree/ 
```

2013 年 7 月之前

```
https://lists.ozlabs.org/listinfo/devicetree-discuss
存档： http://news.gmane.org/gmane.linux.drivers.devicetree 
```

^(Open_FirmWare):译者注：第一个无版权的引导固件，它可兼容不同的处理器和总线，是 PowerPC 和 CHRP（共用硬件参考平台）所必需的，其由 IEEE 1275-1994 标准定义。

# Device Tree frowand

> From: [eLinux.org](http://eLinux.org/Device_Tree_frowand "http://eLinux.org/Device_Tree_frowand")

# Device Tree frowand

## Device Tree stuff from Frank Rowand

### Resources for "Solving Device Tree Issues" talk

#### LinuxCon Japan - June 4, 2015

*   [PDF slides](http://eLinux.org/images/1/13/Dt_debugging_lcj_2015.pdf "Dt debugging lcj 2015.pdf")
*   [patch to make dtdiff work for .dts files in the Linux kernel source tree and in single file mode (v 150531_0043)](http://eLinux.org/images/a/a3/Dtdiff_add_cpp.patch "Dtdiff add cpp.patch")
*   [patch to create dt_stat and dt_node_info scripts (~~v 150527_1902~~ v 150707_1852)](http://eLinux.org/images/8/88/Dt_stat.patch "Dt stat.patch")
*   [notes on how to upload FDT and EDT from a target over a serial console (150531_0029)](http://eLinux.org/images/4/48/Get_fdt_and_edt_over_serial_console.txt "Get fdt and edt over serial console.txt")

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Device tree](http://eLinux.org/index.php?title=Category:Device_tree&action=edit&redlink=1 "Category:Device tree (page does not exist)")

# Device tree future

> From: [eLinux.org](http://eLinux.org/Device_tree_future "http://eLinux.org/Device_tree_future")

# Device tree future

## Contents

*   1 Where Device Tree is Headed
    *   1.1 Resources for the Linux Plumbers 2015 Device Tree Track
        *   1.1.1 Material to review **before** the event
            *   1.1.1.1 Device Tree 101
            *   1.1.1.2 Overlays
            *   1.1.1.3 documentation
            *   1.1.1.4 dtc
            *   1.1.1.5 Probe Ordering
            *   1.1.1.6 device tree debugging tools
        *   1.1.2 Current **draft** of the schedule

## Where Device Tree is Headed

### Resources for the Linux Plumbers 2015 Device Tree Track

**THIS SECTION IS UNDER CONSTRUCTION**

#### Material to review **before** the event

The purpose of the Linux Plumbers conference is to **discuss** things. The conference is not a good place to go if you want to look at slides and listen to canned presentations.

The discussions will work better if the attendees have prepared in advance, and have a basic understanding of the technology and issues to be discussed. The goal of this section is to provide the resources needed to be prepared to discuss.

##### Device Tree 101

If you are new to Device Tree, these resources will start you on the path to a basic understanding.

*   **An introduction**
    *   [Device trees I: Are we having fun yet?](https://lwn.net/Articles/572692/) - Neil Brown, LWN.net November 2013
    *   [Device trees II: The harder parts](https://lwn.net/Articles/573409/) - Neil Brown, LWN.net November 2013
    *   "Device Tree for Dummies", ELC 2014 by Thomas Petazzoni
        *   [PDF](http://eLinux.org/images/f/f9/Petazzoni-device-tree-dummies_0.pdf "Petazzoni-device-tree-dummies 0.pdf")
        *   [YouTube video](https://www.youtube.com/watch?v=uzBwHFjJ0vU)
*   **More advanced material**
    *   "The Device Tree as a Stable ABI: A Fairy Tale?", ELC 2015 by Thomas Petazzoni
        *   [`elinux.org/images/0/0a/The_Device_Tree_as_a_Stable_ABI-_A_Fairy_Tale%3F.pdf`](http://elinux.org/images/0/0a/The_Device_Tree_as_a_Stable_ABI-_A_Fairy_Tale%3F.pdf)
    *   "Device Tree, the Disaster so Far", ELC Europe 2013 by Mark Rutland
        *   [Media:Rutland-presentation_3.pdf](http://eLinux.org/images/8/8e/Rutland-presentation_3.pdf "Rutland-presentation 3.pdf")
        *   [YouTube video](https://www.youtube.com/watch?v=xamjHjjyeBI)

##### Overlays

*   "Transactional Device Tree & Overlays: Making Reconfigurable Hardware Work", ELC 2015 by Pantelis Antoniou
    *   [PDF](http://eLinux.org/images/1/19/Dynamic-dt-keynote-v3.pdf "Dynamic-dt-keynote-v3.pdf")
    *   [YouTube video](http://www.youtube.com/watch?v=3Ag7ZBC_Nts)
*   Problem statements
    *   IO boards, eg beaglebone capes
    *   PPC sub-tree beneath hot-plug PCI
        *   [`www.spinics.net/lists/linux-pci/msg40740.html`](http://www.spinics.net/lists/linux-pci/msg40740.html)
        *   It might be possible to use existing dynamic add and remove functions (CONFIG_OF_DYNAMIC) for this purpose
    *   Quirks - TODO
        *   [[PATCH 0/4](http://www.spinics.net/lists/devicetree/msg69490.html) Device Tree Quirks & the Beaglebone]
        *   [cpu card plugged into multiple carrier card variants, post manufacturing](http://www.spinics.net/lists/devicetree/msg69565.html)
    *   devices present only during manufacturing
        *   [Dealing with optional i2c devices in a devicetree](http://www.spinics.net/lists/devicetree/msg82817.html)

##### documentation

##### dtc

##### Probe Ordering

*   Tomeu Vizoso
    *   First approach: [[PATCH 00/21](http://thread.gmane.org/gmane.linux.kernel.gpio/8465) On-demand device registration]
    *   Second approach: [[PATCH 00/13](http://lists.infradead.org/pipermail/linux-arm-kernel/2015-June/351061.html) Discover and probe dependencies]
*   Other....

##### device tree debugging tools

#### Current **draft** of the schedule

Expect this to evolve.

```
01 -- Device Tree Overlays - Pantelis
      Devicetree overlay use in Juniper products - Guenter
02 -- folded into 01
03 -- Overlays, some times a good idea sometimes not. - Pantelis
04 -- Device Tree Documentation - Frank, Matt
05 -- Chat With The dtc Maintainers - Frank, the maintainers
06 -- Overlays and tools for sanity. - Pantelis
07 -- Device Tree Tools - Frank
08 -- Device Tree and parallel device probing - Pantelis
09 -- Device tree round up - Frank

     session  start
     length   offset
     ------   ------

  01    30       0
  02                 (folded into 01)
  03    15     :30
  04    15     :45

break   10    1:00

  05    30    1:10
  06    10    1:40
  07    15    1:55
  08    15    2:10
  09    10    2:20

      -----
       2:30

01 -- Device Tree Overlays - Pantelis
   Device Tree Overlays are now in the mainline kernel. This session
   will cover what they are, how they are used.

   As part of this session I will examine device tree overlays, device
   tree changeset, the phandle resolution mechanism, overlay overlap
   removal checks and finally device tree variants (or quirks).

   Devicetree overlay use in Juniper products - Guenter

   The Juniper use case will be discussed:

   At Juniper, we use devicetree overlays to manage a variety of cards
   which can be inserted and removed at runtime.

   In this session, I will describe the basic system architecture, our
   requirements, and why we decided to use devicetree overlays to meet
   those requirements. I will also dive into the actual implementation
   of our card management framework in the Linux kernel, and explore
   some of the limitations of the current devicetree overlay code.

02 -- was folded into 01

03 -- Overlays, some times a good idea sometimes not. - Pantelis
   This session will cover supported and not supported overlay cases.

04 -- Device Tree Documentation - Frank
   What device tree documentation and tutorials exist and where to find
   them. What is needed?

   What new documentation is expected this year?

   Can we bring consistency to the documentation style/syntax?

05 -- Chat With The dtc Maintainers - Frank
   This session is an opportunity to ask questions of the dtc maintainers
   or listen to their thoughts on dtc related topics.

06 -- Overlays and tools for sanity. - Pantelis
   Device Tree overlays represent a big change for the device tree in
   the kernel. Where as of old the device tree was something static,
   now it's something that can change at runtime.

   We could use some new tools to help us when creating them (compile
   time) and some kernel tooling to help when applying them (run time).

07 -- Device Tree Tools - Frank
   What tools exist to support device tree development and
   debugging? Where are they? What new tools have been proposed or
   requested?

08 -- Device Tree probe order and parallel device probing - Pantelis
   The new dynamic device tree capabilities entails marking not only
   the location of phandles but the references made to them. We can use
   that information to construct a device probe order schedule that can
   be used to support parallel device probing which is an obvious win
   for kernel boot time.

   If earlier sessions run long, this one may be shortened or deleted.

09 -- Device tree round up - Frank
   Review previous sessions, round up loose ends 
```

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Device tree](http://eLinux.org/index.php?title=Category:Device_tree&action=edit&redlink=1 "Category:Device tree (page does not exist)")

# Device tree history

> From: [eLinux.org](http://eLinux.org/Device_tree_history "http://eLinux.org/Device_tree_history")

# Device tree history

## Mailing list discussion

"Recent" (2009) discussion of "Flattened Device Tree" work on linux-embedded mailing list:

[`www.mail-archive.com/linux-embedded@vger.kernel.org/msg01721.html`](http://www.mail-archive.com/linux-embedded@vger.kernel.org/msg01721.html)

Russell King is against adding support for FDT to the ARM platform (see whole thread for interesting discussion):

[`lkml.indiana.edu/hypermail/linux/kernel/0905.3/01942.html`](http://lkml.indiana.edu/hypermail/linux/kernel/0905.3/01942.html)

But maybe Russell can be convinced:

[`lkml.indiana.edu/hypermail/linux/kernel/0905.3/03618.html`](http://lkml.indiana.edu/hypermail/linux/kernel/0905.3/03618.html)

David Gibson defends FDT:

[`lkml.indiana.edu/hypermail/linux/kernel/0905.3/02304.html`](http://lkml.indiana.edu/hypermail/linux/kernel/0905.3/02304.html)

## The bindings review fire hose is clogged

The device tree bindings maintainership was broken apart from device tree maintainership on July 19, 2013, by commit f882820556af33b5aee5b9f0ba459620a9ab1c22 that created the "OPEN FIRMWARE AND FLATTENED DEVICE TREE BINDINGS" entry in the MAINTAINERS file.

```
 MAINTAINERS: Refactor device tree maintainership

    Device tree bindings require a lot more attention than they used to.
    We've got a group of volunteers willing to take over maintaining
    bindings. This patch adds them to the MAINTAINERS file. 
```

Discussion at the October 2013 Kernel Summit in Edinburgh led to the creation of the kernel file Documentation/devicetree/bindings/submitting-patches.txt, including the following note:

```
 II. For kernel maintainers

     1) If you aren't comfortable reviewing a given binding, reply to it and ask
        the devicetree maintainers for guidance.  This will help them prioritize
        which ones to review and which ones are ok to let go.

     2) For driver (not subsystem) bindings: If you are comfortable with the
        binding, and it hasn't received an Acked-by from the devicetree
        maintainers after a few weeks, go ahead and take it.

      Subsystem bindings (anything affecting more than a single device)
      then getting a devicetree maintainer to review it is required. 
```

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Device tree](http://eLinux.org/index.php?title=Category:Device_tree&action=edit&redlink=1 "Category:Device tree (page does not exist)")

# Linux Drivers Device Tree Guide

> From: [eLinux.org](http://eLinux.org/Linux_Drivers_Device_Tree_Guide "http://eLinux.org/Linux_Drivers_Device_Tree_Guide")

# Linux Drivers Device Tree Guide

## Contents

*   1 Support of different hardware versions in a single driver
    *   1.1 Hardware Version in struct of-device-id.data
    *   1.2 Function Call Table pointer in struct of-device-id.data
    *   1.3 Hardware Description pointer in struct of-device-id.data

## Support of different hardware versions in a single driver

Examples of drivers that match more than one compatible string.

This list is not an endorsement of any particular technique. It is instead a (partial) list of some existing code in the Linux kernel.

The examples are not meant to capture each method entirely; they are instead meant to illustrate the basic concept.

### Hardware Version in struct of_device_id.data

The hardware version is used throughout the driver to choose alternate actions.

drivers/iommu/arm-smmu.c:

```
static const struct of_device_id arm_smmu_of_match[] = {
        { .compatible = "arm,smmu-v1", .data = (void *)ARM_SMMU_V1 },
        { .compatible = "arm,smmu-v2", .data = (void *)ARM_SMMU_V2 },
        { .compatible = "arm,mmu-400", .data = (void *)ARM_SMMU_V1 },
        { .compatible = "arm,mmu-401", .data = (void *)ARM_SMMU_V1 },
        { .compatible = "arm,mmu-500", .data = (void *)ARM_SMMU_V2 },
        { },
};
MODULE_DEVICE_TABLE(of, arm_smmu_of_match);

static int arm_smmu_device_dt_probe(struct platform_device *pdev)
{
        const struct of_device_id *of_id;

        of_id = of_match_node(arm_smmu_of_match, dev->of_node);
        smmu->version = (enum arm_smmu_arch_version)of_id->data;

        ...

        if (smmu->version > ARM_SMMU_V1) {
                ...
        }
}

static struct platform_driver arm_smmu_driver = {
       .driver = {
                .name           = "arm-smmu",
                .of_match_table = of_match_ptr(arm_smmu_of_match),
        },
        .probe  = arm_smmu_device_dt_probe,
        .remove = arm_smmu_device_remove,
}; 
```

### Function Call Table pointer in struct of_device_id.data

The function call table is used throughout the driver to choose alternate actions.

drivers/iio/adc/xilinx-xadc-core.c:

```
static const struct xadc_ops xadc_zynq_ops = {
        .read = xadc_zynq_read_adc_reg,
        .write = xadc_zynq_write_adc_reg,
        .setup = xadc_zynq_setup,
        .get_dclk_rate = xadc_zynq_get_dclk_rate,
        .interrupt_handler = xadc_zynq_interrupt_handler,
        .threaded_interrupt_handler = xadc_zynq_threaded_interrupt_handler,
        .update_alarm = xadc_zynq_update_alarm,
};

static const struct of_device_id xadc_of_match_table[] = {
        { .compatible = "xlnx,zynq-xadc-1.00.a", (void *)&xadc_zynq_ops },
        { .compatible = "xlnx,axi-xadc-1.00.a", (void *)&xadc_axi_ops },
        { },
};
MODULE_DEVICE_TABLE(of, xadc_of_match_table);

static int xadc_probe(struct platform_device *pdev)
{
        const struct of_device_id *id;
        id = of_match_node(xadc_of_match_table, pdev->dev.of_node);
        ...
        indio_dev = devm_iio_device_alloc(&pdev->dev, sizeof(*xadc));
        xadc = iio_priv(indio_dev);
        ...
        xadc->ops = id->data;
        ...
        ret = xadc->ops->setup(pdev, indio_dev, irq);
        ...
}

static struct platform_driver xadc_driver = {
        .probe = xadc_probe,
        .remove = xadc_remove,
        .driver = {
                .name = "xadc",
                .of_match_table = xadc_of_match_table,
        },
};
module_platform_driver(xadc_driver); 
```

### Hardware Description pointer in struct of_device_id.data

The hardware description data is used to configure the device.

This struct pointed to by struct of_device_id.data in this example includes a function call table in addition to the hardware description fields.

drivers/iio/adc/twl6030-gpadc.c:

```
static const struct twl6030_gpadc_platform_data twl6030_pdata = {
        .iio_channels = twl6030_gpadc_iio_channels,
        .nchannels = TWL6030_GPADC_USED_CHANNELS,
        .ideal = twl6030_ideal,
        .start_conversion = twl6030_start_conversion,
        .channel_to_reg = twl6030_channel_to_reg,
        .calibrate = twl6030_calibration,
};

static const struct of_device_id of_twl6030_match_tbl[] = {
        {
                .compatible = "ti,twl6030-gpadc",
                .data = &twl6030_pdata,
        },
        {
                .compatible = "ti,twl6032-gpadc",
                .data = &twl6032_pdata,
        },
        { /* end */ }
};

static int twl6030_gpadc_probe(struct platform_device *pdev)
{
        const struct of_device_id *match;
        const struct twl6030_gpadc_platform_data *pdata;

        match = of_match_device(of_twl6030_match_tbl, dev);
        pdata = match->data;
        indio_dev = devm_iio_device_alloc(dev, sizeof(*gpadc));
        gpadc = iio_priv(indio_dev);
        gpadc->pdata = pdata;
        platform_set_drvdata(pdev, indio_dev);
        ...
        ret = pdata->calibrate(gpadc);
        ...
        indio_dev->channels = pdata->iio_channels;
        indio_dev->num_channels = pdata->nchannels;
} 
```

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Device tree](http://eLinux.org/index.php?title=Category:Device_tree&action=edit&redlink=1 "Category:Device tree (page does not exist)")

# 玩转硬件

> 原文：[eLinux.org](http://eLinux.org/Hardware_Hacking "http://eLinux.org/Hardware_Hacking")
> 翻译：[@lzufalcon](https://github.com/lzufalcon)

# 玩转硬件

本文介绍普通大众可以拥有或者已经拥有的能够运行 Linux 的设备，包括官方正式支持的设备和工程设备（或者非官方支持的可以运行 Linux 的设备）。

## 目录

*   1 工程设备
*   2 官方支持的设备
*   3 汽车
*   4 工业
*   5 迷你集群
*   6 硬件工具和信息
*   7 软件工具和信息

## 工程设备

*   Literati
*   InnoTab
*   Opensourcemid K7 MID OMAP3530 平板电脑
*   CR48 Google 上网本
*   [Ben NanoNote](http://en.qi-hardware.com/wiki/Ben_NanoNote)
*   TCube
*   Mobile Pro
*   LeapFrog 产品
    *   Didj
    *   Leapster Explorer
    *   Leappad Explorer
    *   Leapster
*   DCT 5000
*   Pixter
*   Pixter Multimedia
*   TvNow
*   ZipIt
*   [Zipit2](http://zipit2system.sf.net) - Zipit 采用更好硬件的新版本
*   JuiceBox
*   DHT-Walnut
*   FX3002 来自 fossil 的手表
*   Hisense - USDTV 高清电视调协器 DB-2010
*   enc28j60 - 单芯片 10baseT 采用 SPI 接口的网卡
*   R8610_Based_WAP - 极小 x86 WAP （手机上网协议）兼容，内置 2.5 英寸硬盘
*   SMC WSKP100 - 来自 SMC 的 Wifi Skype 手机
*   [OpenTom](http://www.opentom.org) - 围绕 Tomtom 公司的 GPS 设备的社区项目
*   EBR-1000EP - Sony Librié
*   VGF-CP1 - Sony VAIO WiFi 数码相框
*   Peek
*   Reciva_Barracuda
*   Wavefinder 软件定义的无线电收音机
*   CT-PC89E - 采用 S3C6410 的 8.9 英寸上网本
*   程序员硬件数据库
    *   各类硬件信息，包含各种玩转硬件的项目
*   [DF3210](http://sites.google.com/site/repurposelinux/df3120) - 鹦鹉蓝牙数码相框

## 官方支持的设备

*   [Linksys NSLU2](http://en.wikipedia.org/wiki/NSLU2)，也可以看下 [`www.nslu2-linux.org`](http://www.nslu2-linux.org)
*   [Linksys WRT54GL](http://en.wikipedia.org/wiki/Linksys_WRT54G_series#WRT54GL)
*   [Neuros OSD](http://wiki.neurostechnology.com/index.php/Neuros_OSD)
*   [Nokia 770](http://en.wikipedia.org/wiki/N770)
*   [Nokia 800](http://en.wikipedia.org/wiki/N800) 和 [Nokia 810](http://en.wikipedia.org/wiki/N810)
*   [Sharp Zaurus](http://en.wikipedia.org/wiki/Sharp_Zaurus) 和 [NetWalker](http://en.wikipedia.org/wiki/Netwalker#Sharp_Netwalker) （运行 Ubuntu）
*   AML 手持设备
*   [Pandora 手持终端](http://www.openpandora.org/)

## 汽车

*   导航引擎
*   汽车通信
    *   CAN 总线
    *   BEAN 总线
    *   AVC 局域网

## 工业

*   工业通信
    *   CAN 总线

## 迷你集群

*   可移植的集群硬件和相关技术，可以用于并行计算辅导，演示和研究。

    这里有一堆原创项目：

    *   [`eri.ca.sandia.gov/eri/related_technologies.html`](http://eri.ca.sandia.gov/eri/related_technologies.html)
    *   [`www.linuxdevices.com/articles/AT2143783710.html`](http://www.linuxdevices.com/articles/AT2143783710.html)
    *   [`www.coreboot.org/data/clusters/bento/index.html`](http://www.coreboot.org/data/clusters/bento/index.html)
    *   [`www.coreboot.org/data/clusters/dq/index.html`](http://www.coreboot.org/data/clusters/dq/index.html)
    *   [`coreboot.org`](http://coreboot.org)
    *   [`www.youtube.com/watch?v=UPyn9krjIRc`](http://www.youtube.com/watch?v=UPyn9krjIRc)

## 硬件工具和信息

*   Flameman 和遗留的玩转硬件相关文章（涵盖 68k, mips, powerpc, blackfin, avr 甚至更多）
*   Flyswatter USB JTAG 和 RS-232 适配器
*   Sparkfun_Camera - 低成本 CMOS 摄像头
*   Ez_Usb - 基于 8051 的 USB 设备
*   Mini_LA - 开源逻辑分析仪
*   NTSC_Bitbang - NTSC（全国电视系统委员会制式）的详细概念
*   Lithium_Ion_Charger - 锂离子电池充电器设计
*   Libertas SDIO - Marvell Libertas SDIO 信息
*   Nand_Flash256 - 常见的 256MB NAND 闪存设备
*   Nor_vs_Nand - NOR 和 NAND 闪存数据比较
*   TUSB2046B - 4 口 USB 芯片

## 软件工具和信息

*   SM501-用户设备驱动
*   板级启动实用程序
*   MUSB 资源
*   C 语言 “Hello World”

[分类](http://eLinux.org/Special:Categories "Special:Categories"):

*   [玩转硬件](http://eLinux.org/Category:Hardware_Hacking "Category:Hardware Hacking")

# AML Products

> From: [eLinux.org](http://eLinux.org/AML_Products "http://eLinux.org/AML_Products")

# AML Products

## About AML

AML (American Microsystems, Ltd.) was founded in 1983 to respond to a need in the bar code marketplace for high performance, easy to use, and cost-effective bar code and data collection products. Since 1983, AML and its partners have helped thousands of companies around the globe to increase business efficiency and productivity - in manufacturing, warehousing, retail, health care, finance, government, and education.

*   [`www.amltd.com`](http://www.amltd.com)
*   [`linuxdevices.com/articles/AT5552849613.html`](http://linuxdevices.com/articles/AT5552849613.html)
*   [`linuxdevices.com/articles/AT2525542505.html`](http://linuxdevices.com/articles/AT2525542505.html)
*   [`linuxdevices.com/articles/AT9973611275.html`](http://linuxdevices.com/articles/AT9973611275.html)

## Products

*   [M8050](http://eLinux.org/M8050 "M8050")
*   [M5900](http://eLinux.org/M5900 "M5900")

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Products](http://eLinux.org/Category:Products "Category:Products")

# Automotive Communications

> From: [eLinux.org](http://eLinux.org/Automotive_Communications "http://eLinux.org/Automotive_Communications")

# Automotive Communications

Modern Toyota automobiles typically have 3 major bus systems: the CAN bus, the BEAN bus, and the AVC-LAN bus. Each of the system buses must inter-operate with the other system buses, so we need a basic understanding of them. All of the bus systems consist of some “backbone” of a bus network and many individual nodes or Electronic Control Units (ECU) such as amplifiers, receivers, CD-changers, automatic locks, or any other component.

*   [CAN Bus](http://eLinux.org/CAN_Bus "CAN Bus")
*   [BEAN Bus](http://eLinux.org/BEAN_Bus "BEAN Bus")
*   [AVC-LAN](http://eLinux.org/AVC-LAN "AVC-LAN")

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Networking](http://eLinux.org/Category:Networking "Category:Networking")

# AVC-LAN

> From: [eLinux.org](http://eLinux.org/AVC-LAN "http://eLinux.org/AVC-LAN")

# AVC-LAN

## Contents

*   1 Introduction
*   2 Connections
*   3 Waveform
*   4 Protocol
*   5 Hardware
    *   5.1 Specific
    *   5.2 General Purpose
*   6 Hacks
*   7 Documentation Credit

## Introduction

The AVC-LAN is part of the Body Electrical System Control and manages all audio and video related functions. The audio bus is described in Toyota's own words as follows:

```
AVC-LAN consist of audio visual systems such as the multi-display, navigation ECU, radio and
player, stereo component amplifier and gateway ECU. Gateway ECU has communication
circuit to correspond with different types of communication data. Different types of
communication data can be shared among communication parts after it goes through gateway
ECU (System Circuits: AVC-LAN Bus, “Prius Wiring Diagram” 80). 
```

The system itself can be considered a subset of the IEBus Standard, which was delevoped by NEC electronics for automotive use. It is slightly faster than the [BEAN Bus](http://eLinux.org/BEAN_Bus "BEAN Bus") and has more data per command, but is still much slower than [CAN Bus](http://eLinux.org/CAN_Bus "CAN Bus"), since realtime speeds are not required.

## Connections

![Iebus-connections.gif](http://eLinux.org/File:Iebus-connections.gif)

## Waveform

![Iebus-waveform.jpg](http://eLinux.org/File:Iebus-waveform.jpg)

*   Prep 7uS
*   Sync 20uS
*   Data 13uS

## Protocol

![Iebus-message.jpg](http://eLinux.org/File:Iebus-message.jpg)

![Avc-lan-message.jpg](http://www.elinux.org/images/b/b8/Avc-lan-message.jpg)

This is an AVC-LAN message captured using a logic probe.

## Hardware

### Specific

*   Renesas [HA12240](http://eLinux.org/images/0/03/HA12240.pdf "HA12240.pdf") Differential Transceiver
    *   A2240 Package Marking
    *   CA0008 Package Marking
    *   CA0013 Package Marking
*   NEC [uPD6708](http://eLinux.org/images/2/2c/UPD6708.pdf "UPD6708.pdf") IEBus (Inter Equipment Bus) Protocol Controller
*   NEC [uPD72042](http://eLinux.org/images/e/e1/UPD72042.pdf "UPD72042.pdf") IEBus (Inter Equipment Bus) Protocol Controller

### General Purpose

*   LM239 comparator (can be used for receiver)
*   PCA82C250 [CAN Bus](http://eLinux.org/CAN_Bus "CAN Bus") (can be used for driver)
*   MCP2551 [CAN Bus](http://eLinux.org/CAN_Bus "CAN Bus") (can be used for driver)
*   RS-485 Differential Transceiver ( can be used for both receiver and driver)
    *   SN65HVD11 +3.3V
    *   SN75HVD11 +5v

## Hacks

*   [Marcin Slonicki's Toyota Corolla AVC-Lan MP3 player](http://www.softservice.com.pl/corolla/avc/) using:
    *   ATmega8 is clocked at 14.7456 MHz with an external crystal
    *   PCA82C250 CAN bus driver is used to drive the IEBus
    *   LM239 comparator is required on top of the PCA82C250 to read from the IEBus
*   [Louis Frigon's Toyota Auxiliary Audio Input Enabler](http://www.sigmaobjects.com/toyota/) using:
    *   ATmega8 is clocked at 8.00 MHz with the internal RC
    *   ATmega8's internal analog comparator handles the receive side
    *   ATmega8's two GPIOs as antagonist output pins perform the bus driver

## Documentation Credit

*   Jeremiah J. Flerchinger [Whitepaper](http://eLinux.org/images/e/ed/Avc-lan.pdf "Avc-lan.pdf")

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Networking](http://eLinux.org/Category:Networking "Category:Networking")

# BEAN Bus

> From: [eLinux.org](http://eLinux.org/BEAN_Bus "http://eLinux.org/BEAN_Bus")

# BEAN Bus

| [40x40px](http://elinux.org/index.php?title=Special:Upload&wpDestFile=Ambox_content.png "File:Ambox content.png") | This article **is incomplete**. Please help to improve the section, or discuss the issue on the [talk page](http://elinux.org/index.php?title=Talk:BEAN_Bus&action=edit&redlink=1 "Talk:BEAN Bus (page does not exist)"). |

BEAN is a Toyota specific standard that operates in a daisy chain loop. It networks the body electric system and manages items like air conditioning and meter displays. This system is not as time critical as the CAN network and operates over a single voltage driven wire at 10kbps with 1-11 Bytes of data per transmission command.

(Jeremiah J. Flerchinger [Source](http://eLinux.org/images/e/ed/Avc-lan.pdf "Avc-lan.pdf"))

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Pages with broken file links](http://eLinux.org/index.php?title=Category:Pages_with_broken_file_links&action=edit&redlink=1 "Category:Pages with broken file links (page does not exist)")
*   [Articles to be expanded](http://eLinux.org/index.php?title=Category:Articles_to_be_expanded&action=edit&redlink=1 "Category:Articles to be expanded (page does not exist)")
*   [Networking](http://eLinux.org/Category:Networking "Category:Networking")

# Board Bringup Utilities

> From: [eLinux.org](http://eLinux.org/Board_Bringup_Utilities "http://eLinux.org/Board_Bringup_Utilities")

# Board Bringup Utilities

| Description | Tool |
| --- | --- |
| Framebuffer | [fb-test-app git repo](https://github.com/prpplague/fb-test-app) ([original fb-test](http://elinux.org/images/0/09/Fb-test.c "Fb-test.c")) |
| Input Events | [evtest](http://elinux.org/images/9/93/Evtest.c "Evtest.c") |
| Physical Memory | [devmem2](http://elinux.org/images/a/aa/Devmem2.c "Devmem2.c") |
| I2C Interface | [I2C Tools](http://www.lm-sensors.org/wiki/I2CTools) |
| OMAP Booting | [OMAP U-boot Utils](http://code.google.com/p/omap-u-boot-utils/) |
| OMAP4 USB Booting | [OMAP4 USB Booting](http://git.omapzoom.org/?p=repo/omapboot.git;a=summary) |
| Uart | [Uart Loopback](http://elinux.org/images/b/b7/Uart-loopback.c "Uart-loopback.c") |
| OMAP overlay swapper | [overlayswap](http://elinux.org/images/a/ac/Overlayswap.c "Overlayswap.c") |
| OMAP memory speed test | [memspeed](http://elinux.org/images/8/8a/Memspeed.tar.gz "Memspeed.tar.gz") |
| OMAP4 EMIF cycle speed | [omap4_emif](http://elinux.org/images/e/ed/Omap4_emif.c "Omap4 emif.c") |
| OMAP4 EMIF performance | [omap4_ddrstat](http://elinux.org/images/7/74/Omap4_ddrstat.c "Omap4 ddrstat.c") |

```
To compile single .c source files such as fb-test.c,
use compiler command line:

# arm-none-linux-gnueabi-gcc fbtest.c -o fb-test

this will generate the binary fb-test for use on your
system where arm-none-linux-gnueabi- is the cross compiler
that you have installed on your host system. 
```

*   minimal kernel config for [4430sdp](http://eLinux.org/images/9/96/Minimal-kernel-4430sdp.txt "Minimal-kernel-4430sdp.txt")
*   minimal rootfs for [OMAP3/OMAP4](http://eLinux.org/images/b/bd/Minimal-rootfs.tar.gz "Minimal-rootfs.tar.gz")
*   test kernel for [PandaBoard](http://eLinux.org/images/2/2f/UImage-test-panda.bin "UImage-test-panda.bin")

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Development Tools](http://eLinux.org/Category:Development_Tools "Category:Development Tools")

# CAN Bus

> From: [eLinux.org](http://eLinux.org/CAN_Bus "http://eLinux.org/CAN_Bus")

# CAN Bus

## Contents

*   1 Overview
*   2 CAN Support in Linux
    *   2.1 SocketCAN Supported Protocols
    *   2.2 SocketCAN Supported Controllers
    *   2.3 SocketCAN Support in Programming Languages/Environments
    *   2.4 can4linux Supported Controllers
    *   2.5 can4linux Support in Programming Languages/Environments
    *   2.6 CAN Controllers Emulation (WIP/experimental)
    *   2.7 SocketCAN Bechmarking
    *   2.8 SocketCAN Tutorials

### Overview

The CAN bus is an ISO standard bus originally developed for vehicles. It manages the Chassis Electrical System Control and is responsible for critical activities like engine electrical, and skid control. This system is also used to provide vehicle diagnostic information for maintenance. A multi-star configuration seems typical of this bus with a primary bus line that branches into sub bus lines at its extremities then attaches to multiple device nodes. Differential voltage is applied over twisted pair at 1.5 to 2.5V and 2.5 to 3.5V for noise resistant signaling. Bit rates up to 1 Mbit/s are possible at network lengths below 40 m. Decreasing the bit rate allows longer network distances (e.g., 500 m at 125 kbit/s). (Jeremiah J. Flerchinger [Source](http://eLinux.org/images/e/ed/Avc-lan.pdf "Avc-lan.pdf")) Controllers supporting CAN FD, an enhanced CAN version with frames up to 64 byte and bit rates up to 4 Mbit/s, will be available in the second half of 2014\. A can4linux version supportig CAN FD on a [IFI CAN](http://www.ifi-pld.de/IP/CANFD/canfd.html) is ready to be used.

Although developed as car communication network CAN is used in many other areas, industrial, medical, maritime laboratory and more. Most often with a CAN based higher layer protocol like [CANopen](http://en.wikipedia.org/wiki/CANopen) on top of it.

Additional information can be found at:

[`en.wikipedia.org/wiki/CAN_bus`](http://en.wikipedia.org/wiki/CAN_bus)

[SocketCAN News](https://plus.google.com/u/0/117660856159215855502)

CiA [CAN in Automation](http://www.can-cia.org) CAN user association

[CAN Wiki](http://www.can-wiki.info)

[CAN FD Specification Version 1.0](http://www.bosch-semiconductors.de/media/pdf_1/canliteratur/can_fd_spec.pdf)

### CAN Support in Linux

CAN is supported by Linux device drivers. Mainly two types exist. Character device based drivers and network socket based drivers. The Linux kernel supports CAN with the SocketCAN framework.

*   [SocketCAN Documentation](http://git.kernel.org/?p=linux/kernel/git/torvalds/linux-2.6.git;a=blob_plain;f=Documentation/networking/can.txt)
*   [mailing list for Linux Kernel CAN development](http://vger.kernel.org/vger-lists.html#linux-can)
*   [linux-can git repository](https://git.kernel.org/cgit/linux/kernel/git/mkl/linux-can.git)
*   [linux-can-next git repository](https://git.kernel.org/cgit/linux/kernel/git/mkl/linux-can-next.git)
*   [Berlios Project Page (obsolete)](http://developer.berlios.de/projects/socketcan/)

One of the character based drivers is can4linux.

*   [SourceForge project page](http://sourceforge.net/projects/can4linux/)
*   [German Wikipedia article](http://de.wikipedia.org/wiki/Can4linux)
*   [English Wikipedia article](http://en.wikipedia.org/wiki/Can4linux)

#### SocketCAN Supported Protocols

*   RAW: send & receive raw CAN frames
*   BCM: Broadcast manager, offload repetitive work to the Linux kernel
*   ISOTP ...
*   SAE [J1939](http://eLinux.org/J1939 "J1939")

#### SocketCAN Supported Controllers

*   Microchip MCP251x
*   Atmel AT91 SoCs
*   ESD 331 CAN Cards
*   NXP (Philips) SJA1000
*   Freescale MPC52xx SoCs
*   Bosch CC770
*   Intel AN82527
*   TIs SoCs
*   Serial/network devices utilizing ASCII protocol (slcan driver)

| Vendor | Device Name | Driver Module Name | Controller | Kconfig Option | Linux Mainline | Remarks |
| --- | --- | --- | --- | --- | --- | --- |
| [VScom](http://vscom.de) | [NET-CAN](http://vscom.de/1_1_05_3.htm) | slcan | (unknown) | CONFIG_CAN_SLCAN | 2.6.38 | needs slcand and socat |
| [VScom](http://vscom.de) | [PCI-2CAN](http://vscom.de/1_1_05_4.htm) | slcan | (unknown) | CONFIG_CAN_SLCAN | 2.6.38 | needs slcand |
| [VScom](http://vscom.de) | [SER-CAN](http://vscom.de/1_1_05_1.htm) | slcan | (unknown) | CONFIG_CAN_SLCAN | 2.6.38 | needs slcand |
| [VScom](http://vscom.de) | [USB-CAN](http://vscom.de/1_1_05_2.htm) | slcan | (unknown) | CONFIG_CAN_SLCAN | 2.6.38 | needs slcand |
| [LAWICEL](http://www.lawicel-shop.se) | [CAN232](http://www.can232.com/?page_id=14) | slcan | (unknown) | CONFIG_CAN_SLCAN | 2.6.38 | needs slcand |
| [LAWICEL](http://www.lawicel-shop.se‎) | [CANUSB](http://www.can232.com/?page_id=16) | slcan | (unknown) | CONFIG_CAN_SLCAN | 2.6.38 | needs slcand |
| [PEAK](http://www.peak-system.com) | [PCAN-PCI](http://www.peak-system.com/PCAN-PCI.207.0.html) | peak_pci | sja1000 | CONFIG_CAN_PEAK_PCI | 3.2 | supports all PCAN-[mini]PCI[e][104] variants |
| [PEAK](http://www.peak-system.com) | [PCAN-USB](http://www.peak-system.com/PCAN-USB.199.0.html) | peak_usb | (unknown) | CONFIG_CAN_PEAK_USB | 3.4 | supports PCAN-USB[pro][hub] (no LIN support) |
| [Kvaser](http://www.kvaser.com/) | [PCIcanx](http://www.kvaser.com/products-services/our-products/#?interfaces=mini-pci-express,pci104,pci,pci-express) | kvaser_pci | sja1000 | CONFIG_CAN_KVASER_PCI | 2.6.31 | supports all PCI-[mini]PCI[e][104] variants |
| [Kvaser](http://www.kvaser.com/) | [Leaf](http://www.kvaser.com/products-services/our-products/#?interfaces=usb) | kvaser_usb | (unknown) | CONFIG_CAN_KVASER_USB | 3.8 | supports USB Leaf / Memorator / Blackbird / R (see detailed USB device IDs in kvaser_usb.c) |
| [Kvaser](http://www.kvaser.com/) | [USBCan-II](http://www.kvaser.com/products-services/our-products/#?interfaces=usb) | kvaser_usb | (unknown) | CONFIG_CAN_KVASER_USB | [commits pulled-in for the 3.20 release](http://thread.gmane.org/gmane.linux.can/7570) | supports: 
*   Kvaser USBCan-II HS/LS
*   Kvaser USBCan-II HS/HS
*   Kvaser USBcan Rugged ("USBcan Rev B")
*   Kvaser Memorator HS/LS
*   Kvaser Memorator HS/HS
*   Scania VCI2 (if you have the Kvaser logo on top)

 |
| [EMS Wünsche](http://www.ems-wuensche.com) | [CPC-Card](http://www.ems-wuensche.com/product/datasheet/html/can-pccard-laptop-notebook-adapter-cpccard.html) | ems_pcmcia | sja1000 | CONFIG_CAN_EMS_PCMCIA | 3.2 | discontinued |
| [EMS Wünsche](http://www.ems-wuensche.com) | [CPC-USB/ARM7](http://www.ems-wuensche.com/product/datasheet/html/can-usb-adapter-converter-interface-cpcusb.html) | ems_usb | (unknown) | CONFIG_CAN_EMS_USB | 3.2 |  |
| [EMS Wünsche](http://www.ems-wuensche.com) | [CPC-PCI/PCIe](http://www.ems-wuensche.com/product/datasheet/html/can-pci-plugincard-multiple-channels-cpcpci.html) | ems_pci | sja1000 | CONFIG_CAN_EMS_PCI | 3.2 | up to four channel |
| [EMS Wünsche](http://www.ems-wuensche.com) | [CPC-PC104P](http://www.ems-wuensche.com/product/datasheet/html/can-pci-104-passive-plugincard-cpc104p.html) | ems_pci | sja1000 | CONFIG_CAN_EMS_PCI | 3.2 | up to four channel on a PC104+ board |
| [8devices](http://8devices.com) | [USB2CAN](http://8devices.com/usb2can) | usb_8dev | (STR750FV2) | CONFIG_CAN_8DEV_USB | 3.9 | [STR750FV2 Firmware](https://github.com/krumboeck/usb2can) |
| [Softing](http://www.softing.com) | [CANcard2](http://automotive.softing.com/en/products/communication-interfaces-can.html) | softing_cs | sja1000 or NEC-005(?) | CONFIG_CAN_SOFTING_CS | 2.6.38 | Supports {CAN,EDIC}card{,SJA,2} PCMCIA cardsNeeds firmware [softing-fw-4.6-binaries.tar.gz](http://www.gitorious.org/linux-can/can-misc) |

#### SocketCAN Support in Programming Languages/Environments

*   [Android](http://eLinux.org/Android "Android")
*   [Java](http://eLinux.org/Java "Java")
*   [Python](http://eLinux.org/Python_Can "Python Can")
*   [Python library for CAN](https://github.com/rscada/libcanopen/)
*   [Matlab/Simulink blocks to send and receive CAN messages](http://lintarget.sourceforge.net/can_bus/index.html)

#### can4linux Supported Controllers

*   [Allwinner A20](http://linux-sunxi.org/A20) with integrated CAN (on the popular [BananaPi](http://www.lemaker.org/) single-board computer.)
*   Analog Devices BlackFin BF537
*   Atmel AT91 SoCs
*   [Freescale](http://www.freescale.com/) FlexCAN (ColdFire 5282, i.MX25, i.MX28, i.MX35)
*   Intel 82527 (the replacement Bosch CC770 should work)
*   Microchip Stand Alone CAN MCP2515
*   NXP Stand Alone CAN [SJA1000](http://www.nxp.com/documents/data_sheet/SJA1000.pdf) (on different ISA or PCI/PCIe boards)
*   [Xilinx](http://www.xilinx.com/products/intellectual-property/DO-DI-CAN.htm) Zynq with XCAN
*   'virtual' CAN mode without CAN hardware
*   'virtual' CAN mode supporting [CAN FD](http://www.can-wiki.info/doku.php?id=can_fd)
*   [IFI CAN](http://www.ifi-pld.de/IP/CANFD/canfd.html) FPGA IP, in classic CAN mode and CAN FD mode

#### can4linux Support in Programming Languages/Environments

*   C - many examples and useful applications are provided with the package, check can4linux-examples/
*   [Tcl/Tk](http://eLinux.org/index.php?title=Tcl/Tk&action=edit&redlink=1 "Tcl/Tk (page does not exist)") also in can4linux-examples/
*   [Python](http://eLinux.org/index.php?title=Python&action=edit&redlink=1 "Python (page does not exist)") also in can4linux-examples/

#### CAN Controllers Emulation (WIP/experimental)

*   SJA1000 CAN controller based PCI board emulation for QEMU
    *   Cards models provided:
        *   Simple memory mapped SJA1000 in the first PCI BAR with ad-hoc PCI ID
        *   Kvaser PCIcan-S single I/O mapped SJA1000 model compatible with kvaser_pci Linux driver on guest side
    *   The emulated CAN buses can be connected to virtual or physical SocketCAN interface if Linux is used as host system
    *   Project repository: [`github.com/CTU-IIG/qemu`](https://github.com/CTU-IIG/qemu)
    *   Work started by 2013 GSoC project when RTEMS project donated its slot to work on QEMU CAN support - see [RTEMS related page](https://devel.rtems.org/wiki/Developer/Simulators/QEMU/CANEmulation) for more info and use instructions

#### SocketCAN Bechmarking

*   [CAN gateway timing analysis](http://rtime.felk.cvut.cz/can/benchmark/3.0/) and [repository with benchmark infrastructure](http://rtime.felk.cvut.cz/gitweb/can-benchmark.git)

#### SocketCAN Tutorials

*   [Bringing CAN interface up](http://eLinux.org/Bringing_CAN_interface_up "Bringing CAN interface up")
*   [can-utils](http://eLinux.org/Can-utils "Can-utils")
*   [libsocketcan](http://eLinux.org/index.php?title=Libsocketcan&action=edit&redlink=1 "Libsocketcan (page does not exist)")
*   [libnl](http://eLinux.org/index.php?title=Libnl&action=edit&redlink=1 "Libnl (page does not exist)")

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Networking](http://eLinux.org/Category:Networking "Category:Networking")

# CT-PC89E

> From: [eLinux.org](http://eLinux.org/CT-PC89E "http://eLinux.org/CT-PC89E")

# CT-PC89E

## Contents

*   1 Chitech CT-PC89E
    *   1.1 Hardware Summary
    *   1.2 Info Pages
    *   1.3 Technical Info
        *   1.3.1 LCD Data
        *   1.3.2 /proc/iomem
    *   1.4 Kernel Hacking Progress
        *   1.4.1 kernel
            *   1.4.1.1 --apm-get-power-status
            *   1.4.1.2 s3cfb-set-brightness
            *   1.4.1.3 arch-reset
        *   1.4.2 initrd
*   2 Other Brand Names
*   3 See also
*   4 External links

# Chitech CT-PC89E

*   Current status: GPL Violation by Chitech. Communication has ceased by Chitech. Chitech have not responded to or acknowledged communications since 20th March 2010.
*   Current kernel reverse-engineering status: partial (useable). Screen, USB, Keyboard, Mouse, Ethernet are all working (proviso: with the DS2431 EEPROM storing the MAC code and no driver for reading it yet, a random MAC is currently created on each boot)
*   Current Debian-Installer status: success! completed!
*   Current u-boot reverse-engineering status: not started yet. hardware "switch" discovered which makes booting from external SDcard possible. u-boot reverse-engineering can now begin (without risk of bricking)

The CT-PC89E is a low-cost netbook with an 8.9in 1024x600 screen, weighing only 720 grammes (0.72kg). In size it's *approximately* 23.5 x 16.5 x 2.5 cm (9.25 x 6.5 x 1 in). Its 667mhz Samsung S3C6410 embedded ARM CPU is on a factory-upgradeable SO-DIMM which also has, in the standard low-cost option, 256mb of RAM and 2gb of NAND Flash. The rest of the features are pretty much "standard" fare for a low-cost netbook: 2x USB2, stereo speakers, microphone, SD-Card slot, headphone and microphone sockets, and 802.11 WIFI. A low-cost (0.3mp) built-in Webcam is available as an option ($USD 2 for a 20,000 units order). To further save on cost, there is a micro VGA output, but by default the IC to enable it is again optional (again, $USD 2 for a 20,000 order). Also, the design has two internal USB2-capable (only) PCI-express slots, which can take 50x30mm PCI-e cards. One is occupied with the RALink RT2070 WIFI, whilst the other is designed to take a 3G or an EDGE modem: there is even a slot for a SIM card (next to the SD card slot).

As this machine is very new, only a few brave Debian-ARM souls have bought it so far, direct from the factory in China, in order to evaluate it and help re-engineer it. We're aware that one other U.S. customer has ordered a batch of them, thus guaranteeing its production over the next few months (as of Feb 2010). The nice surprise is that far from being truly dreadful, the embedded OS on the device, from [`mid-fun.com`](http://mid-fun.com) is actually pretty good: it's called MOS and the web site is here: [`mid-linux.org`](http://mid-linux.org). As of yet, we've been unable to reach Mid-Fun to get them to provide the root password and the GPL source code of the OS, but that's okay because we've discovered three security flaws in two days, each of which gives full root access to the machine. (24feb2010: by running "john" on the DES64/64 root passwd entry, we've established that the root password is mos2010)

So, at this early stage, for more information please contact mailto:lkcl@lkcl.net, mailto:luke.leighton@gmail.com or Asia Sourcing [`www.asiasourcing.net/`](http://www.asiasourcing.net/) and as soon as we find or hear from a retail outlet or a distributor brave enough to sell these systems we'll let you know.

Also worth noting: we're currently asking the factory for a price on engineering an SO-DIMM with 512mb of DDR2 RAM and an 833mhz Samsung ARM Cortex A8: the S5PC100, which is the same CPU as used in the iPhone 3G. This would ironically not only reduce the price of the system, because DDR1 RAM is actually more expensive than DDR2, but also give it a huge performance jump, without increasing power consumption (the S5PC100 is a 45nm part and the S3C6410 is 65nm).

The mailing list is presently being kindly hosted by Alain Williams, at [`lists.phcomp.co.uk/mailman/listinfo/arm-netbook`](http://lists.phcomp.co.uk/mailman/listinfo/arm-netbook)

There is a description of the system, and photos (internal and external), here: [`lkcl.net/arm_systems/CT-PC89E`](http://lkcl.net/arm_systems/CT-PC89E)

## Hardware Summary

Netbook Specifications

| Display | 8.9" 1024x600 LCD |
| Weight | 720g (0.72kg) |
| Dimensions | 23.5 x 16.5 x 2.5 cm (9.25 x 6.5 x 1 in) *(aprox.)* |
| Battery | 7.4V 15.5wh 2100mAh |
| AC Adapter | 9V 2A |

Main board

| Audio Controller | AC97 (*Wolfson WM9715G*) |
| Ethernet Controller | Davicom DM9000DEP dongle required |
| VGA Controller | Chrontel 7026B-TF *(optional)* dongle required |

[200-pin SO-DIMM](http://eLinux.org/CT-PC89E_SO-DIMM "CT-PC89E SO-DIMM")
(*seatron-cpu-v1.1*)

| SoC | [Samsung ARM11 S3C6410](http://www.samsung.com/global/business/semiconductor/productInfo.do?fmly_id=229&partnum=S3C6410) 667mhz (*s3c6410XH-66*) |
| NAND | SanDisk 2GB (*SDIN2C2-2G*) |
| RAM | 256M DDR1 (2 x [Hynix H5MS1G62MFP](http://www.hynix.co.kr/datasheet/eng/mobile/details/mobile_17_H5MS1G62MFP.jsp)) |
| Boot Switch | boot from NAND or SD *(optional)* *(outer means NAND, inner means SD)* |

## Info Pages

*   [CT-PC89E_Debian_Installer](http://eLinux.org/CT-PC89E_Debian_Installer "CT-PC89E Debian Installer")
    *   how to install debian on the CT-PC89E using Debian-Installer.
*   [CT-PC89E_Debian](http://eLinux.org/CT-PC89E_Debian "CT-PC89E Debian") - how to install debian "hack-style" by dropping a pre-build root filesystem onto the CT-PC89E.
*   [CT-PC89E_Debian_Installer_Building](http://eLinux.org/CT-PC89E_Debian_Installer_Building "CT-PC89E Debian Installer Building")
    *   how to build debian-installer for the CT-PC89E (only needed by developers)
*   [CT-PC89E_Bugs](http://eLinux.org/CT-PC89E_Bugs "CT-PC89E Bugs")

## Technical Info

This section contains technical info needed to configure a linux kernel. Taken from kern.log

*   LCD Type is: N10116 (innolux?) this is a lie, it's actually a B089AW01 V.1
*   DM9000 is at f7600300,f7600304 IRQ74
*   fb0 map video memory: ff200000:0012c000 dma=5e200000
*   fb1 map video memory: ff32d000:0012c000 dma=5e400000
*   fb0 map video memory: ff45a000:0012c000 dma=5e600000
*   mmc0 (NAND flash) address 9535
*   mmc1 (SDcard) address a95c
*   audio: WM9713/WM9714

From this it's been possible to establish that the kernel version is similar to the SmartQ5 MID device, version 2.6.24.7\. current status as of 12mar2010 is that boot has been achieved, using the above information, with DM9000 and USB host still not yet correctly initialised.

### LCD Data

*   B089AW01 V.1 [`www.asdatech.com/modules/classifieds/datasheet/B089AW01%20V.1.pdf`](http://www.asdatech.com/modules/classifieds/datasheet/B089AW01%20V.1.pdf)

### /proc/iomem

```
debianarmel:~# cat /proc/iomem
50000000-5e9fffff : System RAM
  50025000-503d1fff : Kernel text
  503d2000-5041daa5 : Kernel data
70200000-702fffff : s3c2410-nand
74300000-743fffff : s3c2410-ohci
  74300000-743fffff : ohci_hcd
76100000-761fffff : s3c-g2d
77000000-770fffff : s3c-vpp
77100000-771fffff : s3c2410-lcd
  77100000-771fffff : s3c-lcd
78800000-78bfffff : s3c-jpeg
7c200000-7c2fffff : s3c-hsmmc0.0
  7c200000-7c2fffff : s3c-hsmmc0
7c300000-7c3fffff : s3c-hsmmc1.1
  7c300000-7c3fffff : s3c-hsmmc1
7e002000-7e002fff : s3c-mfc
7e005000-7e0050ff : s3c2410-rtc
  7e005000-7e0050ff : s3c2410-rtc
7e00b000-7e00bfff : s3c-adc
7f001000-7f001fff : s3c-ac97
7f004000-7f004fff : s3c2410-i2c
  7f004000-7f004fff : s3c2410-i2c
7f005000-7f0053ff : s3c-uart.0
  7f005000-7f0050ff : s3c-uart
7f005400-7f0057ff : s3c-uart.1
  7f005400-7f0054ff : s3c-uart
7f005800-7f005bff : s3c-uart.2
  7f005800-7f0058ff : s3c-uart
7f005c00-7f005fff : s3c-uart.3
  7f005c00-7f005cff : s3c-uart
7f008000-7f008fff : s3c-ds2431
f7600300-f76fffff : dm9000.0
  f7600300-f7600303 : eth0 
```

## Kernel Hacking Progress

We're presently negotiating with Chitech, who have officially declined to release kernel source code, and all other source code, on the usual basis that they want their money back from the investment so far, in blatant disregard of the GPL and LGPL licenses. Thus it is necessary to reconsider Chitech until such time as they comply, and thus it is necessary to reverse-engineer the linux kernel and the boot process.

### kernel

fjp and lkcl have been working to adapt the mer-smartq 2.6.24.7 kernel, which is an amalgam of 2.6.24, samsung's patch and various modifications hard-coded to support the smartq 4in and 7in LCD screens. lkcl has a legally-licensed copy of IDApro and has been using that to reverse-engineer the kernel functions, taking the addresses from /proc/kallsyms on a running machine and matching them to an uncompressed kernel.

So far we have been able to get the 1024x600 LCD panel up and running, and have hacked kernel/printk.c to modify the console line to "tty1" in order to bypass the inability to use ttySAC0 serial console, for debug purposes.

The key hardware that is missing which would make a useful kernel is the GL850G USB hubs. It has not yet been possible to establish how those are fired up. Close examination of the PCB shows that there is nothing connected to Pin 13 (RESET); the next best guess is that there are some GPIOs which are required to be pulled HIGH or LOW, in order to power the GL850Gs.

The Ethernet DM9000 appears to be identical to the standard samsung developer kit: the default parameters worked immediately. However, the MAC address is stored in a DM2431\. We have found a patch to the w1 driver which adds support for DM2431, however have not yet used it. Further investigation shows that the SO-DIMM, designed by Seatron, has the DM2431 connected to GPIO Bank N pins, and thus the driver performs bit-level reads and writes using GPIO pullups followed by sleep commands of specific length. There are signs of some extremely weird functions in the disassembly listing, with SHA-1 being used and functions with the word "Secret" in them are not a particularly good sign. It looks like the DM2431 is being used to store keys which are believed to somehow magically be secure.

#### __apm_get_power_status

this function has been hacked to read from the S3C ADC. GPIO bank N pin 2 is set to cfgpin of 0 and pullup of 0, following which a function GetAdcValue is called. it is therefore quite likely that the ADC input is multiplexed for multiple purposes. there appears to be no sign of mutex locking or configuration around the GPIO bank N pin setting, thus making it entirely likely that corrupted values will be read due to race conditions.

#### s3cfb_set_brightness

the s3cfb_set_brightness function uses a PWM timer, s3c6410_timer_setup channel 0, which uses GPIO Bank F, Pin 14, as a PWM. this timer is botch-reset in the arch_reset() function, which has been hacked about and _should_ be using the watchdog timer, but is not.

#### arch_reset

arch_reset, in include/asm-arm/arch-s3c2410/system.h, should be used to do a watchdog reset. instead, it has been hacked about to reset GPIO Bank H Pin 8 and GPIO Bank F Pin 14 (the PWM for the backlight).

### initrd

So far we have been able to establish that the standard bootpImage boot process works absolutely fine. This has been established by

*   unpacking the zImage_dt_update with dd if=zImage_dt_update of=vmlinuz_zimage_update bs=1 skip=13428 followed by zcat
*   extracting the initrd by searching for a 2nd zcat signature, which is at offset 78848
*   noting that the initrd is a compressed CPIO filesystem
*   adding initrd_phys-$(CONFIG_MACH_CTPC89E) := 0x50800000 to arch/arm/mach-s3c2410/Makefile.boot
*   compiling with make bootpImage with INITRD=\

This last step recreates the exact same process used by Chitech to create the zImage_gt_update. The next step is to create an alternative initrd, such that e.g. Debian-Installer can be packed into it.

# Other Brand Names

The CT-PC89E is beginning to appear under different brand names.

*   HJ-8901 [[1]](http://www.alibaba.com/product-gs/277571430/8_9_TFT_LED_2GB_NAND.html)
    *   this page states that the machine is suitable for WINCE, which is not supplied (the page used to state that the OSes Linux and Lunix were preinstalled).

# See also

*   [CT-PC89E/Emdebian](http://eLinux.org/CT-PC89E/Emdebian "CT-PC89E/Emdebian")

# External links

*   [`www.youtube.com/watch?v=3_SlGTNj4vY`](http://www.youtube.com/watch?v=3_SlGTNj4vY)
*   [`www.youtube.com/watch?v=RzzUj8VM1nE`](http://www.youtube.com/watch?v=RzzUj8VM1nE)

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [CT-PC89E](http://eLinux.org/index.php?title=Category:CT-PC89E&action=edit&redlink=1 "Category:CT-PC89E (page does not exist)")

# DCT 5000

> From: [eLinux.org](http://eLinux.org/DCT_5000 "http://eLinux.org/DCT_5000")

# DCT 5000

*   [`www.gi.com/noflash/digicable_dct5000.html`](http://www.gi.com/noflash/digicable_dct5000.html)
*   [`gicout60.gic.gi.com/customer_docs/`](http://gicout60.gic.gi.com/customer_docs/)
*   [`www.linuxdevices.com/news/NS3134551333.html`](http://www.linuxdevices.com/news/NS3134551333.html)

note these are _not_ the 5200\. no HD/PVR functionality in the base model

*   cable in
*   RF out
*   conv in
*   conv out
*   2 ieee-1394
*   r-l-v in and out
*   1 rs-232
*   vga out
*   parallel
*   ethernet PCNet
*   2 usb.
*   data hs
*   ir connector
*   SPDIF
*   S-Video
*   smart card
*   pcmcia slot. The card located under the mainboard has a legend on it: "DCT5000 PCMCIA Conn".

Includes US power cord, and 8" RF cable, 22 page hookup manual.

*   nec vrc5476-83e North Bridge
*   nec vr5432 CPU
*   Sony [CXD3204 IEEE 1394](http://products.sel.sony.com/semi/PDF/CXD3204R.pdf)
*   Sony [CXA2094](http://products.sel.sony.com/semi/PDF/CXA2094Q.pdf)
*   AMD [79C970AKC Ethernet](http://www.amd.com/us-en/assets/content_type/white_papers_and_tech_docs/19436.pdf)
*   2) InTel E28F320J5-120 flash
*   1) InTel TE28F320C3 flash
*   1) AMD [29DL323CB flash](http://www.amd.com/us-en/assets/content_type/white_papers_and_tech_docs/21534.pdf)
*   Crystal Semi [CS4620](http://www-test.cirrus.com/en/products/eol/detail/EOL22.html) EOL :(
*   Crystal Semi [CS4298 Programmer's manual](http://www.alsa-project.org/alsa/ftp/manuals/cirrus/4298.pdf) EOL
*   ATI [Rage XL](http://www.ati.com/technology/hardware/ragexlxc/features.html)
*   ATI [Rage Theater](http://www.ati.com/technology/hardware/ragetheater/)
*   two RF modules
*   Broadcom [BCM3120 Set-Top Box Tranceiver](http://www.broadcom.com/pbs/BCM3120.pdf)
*   Broadcom [BCM3300 Single Chip DOCSIS Cable Modem](http://www.broadcom.com/pbs/BCM3300.pdf)
*   Broadcom [7010 SetTop Box Decoder](http://www.broadcom.com/pbs/BCM7010.pdf)
*   4) Mitsubishi[M2V64S30BTP RAM](http://www.mitsubishichips.com/data/datasheets/memory/mempdf/ds/M2V64S20B.pdf)
*   44 pin header. (ide we presume)
*   144 pin SO-DIMM slot. (ram?)
*   ALI [M1543 Southbridge/SuperI/O](http://www.ali.com.tw/eng/product/corelogic/m1543c.htm)
*   EPCOS [M3654K - 45.75MHz IF splitter](http://www.epcos.com/inf/40/ds/mm/M3654K.pdf) ***(front board F202)***
*   Altera [7128S CPLD](http://www.altera.com/literature/ds/m7000.pdf) ***(mainboard U41)***
*   Lattice [M4A3-32/32-10VC CPLD](http://www.latticesemi.com/products/cpld/ispMACH4A/ispMACH4A3/index.cfm) (***mainboard U42 & U37***)
*   Macronix [MX23L1611 Mask ROM](http://www.macronix.com/web/P_MKROM.nsf/20d0d6aadace5e08c82566710020a501/5206329c780458c2482568eb002a5f6c/$FILE/MX23L1611-2.0.pdf)
    *   [Possible Flash Equivalent](http://www.macronix.com/web/P_flash.nsf/bf3add4f68988391c825667100209fa5/6a8996488065a0af482569d1000ceb2d/$FILE/MX29L1611G-0.9.1.pdf)
*   Winbond [32 x 8 SRAM](http://www.winbond.com/PDF/sheet/w24257aj-8n-a2.pdf)

[The processor info can be found here](http://www.necelam.com/microprocessors/VR5432Processors.asp)

Or direct links:

*   [Datasheet](http://www.necelam.com/docs/files/U13504EJ3V0DS00.pdf)
*   [Users manual vol. 1](http://www.necelam.com/docs/files/1375_V1.pdf)
*   [Users manual vol. 2](http://www.necelam.com/docs/files/1375_V2.pdf)
*   [Instruction set for MIPS IV ISA](http://www-2.cs.cmu.edu/afs/cs.cmu.edu/academic/class/15740-f97/public/doc/mips-isa.pdf)

Ken McGuire got his on 3/15/2003 and found the following:

*   the serial port operates at 38400 baud.
*   Hold down the menu and info button, keep holding them while plugging in the box, "boot" will appear (after about 5 seconds of holding) on the display and some stuff will come out the serial port.
*   the cursor and channel buttons will cycle through a menu: cold, hunt, disp, n dl, run.
*   pressing select at each ot the menu items will do something, and produce data on the RS-232 port.
*   there is a reset button inside that does the same as powering on. labelled SW900.
*   holding just the menu button during reset gets the "boot" display without any serial port activity.
*   the "pcmcia slot" connects to the motherboard via a 24 pin connector J402, so it's probably not true, or complete PCMCIA.
*   there is no video out of any of the outputs, VGA, S-VID, video out.
*   JTAG comes out to J7, a 10 pin header with half the pins grounded.
*   pin-out at: [JTAG pin-out](http://www.paonia.com/~kenm/Pix/images/DCT5000/J7.jpg)
*   J7 with connector (it's a .050" spacing): [J7conn picture](http://www.paonia.com/~kenm/Pix/images/DCT5000/J7conn.jpg)

Here is what comes out the serial port at boot time:

*   DCT5000 Boot ROM v1.17
*   Copyright (c) 1999 by General Instrument Corp.

*   SUDB 0xBF000004

*   58 00 00 00 53 55 44 42 00 00 11 01 07 00 00 00
*   E9 E2 EB E2 01 BC 20 02 74 7B 0B 00 03 10 20 20
*   20 20 20 20 20 20 30 30 30 2E 00 30 00 00 00 00
*   00 00 00 00 00 00 00 00 00 00 00 00 00 02 00 BF
*   00 00 00 00 00 00 00 00 00 00 00 00 00 06 00 BF
*   00 00 00 00 03 01 CF CA

T0mW found that while holding the INFO button down while powering up, or RESET, it will give a verbose debug of the frequencies it is "hunting" on.

MonMotha got his DCT5000 on 3/19/2003\. I haven't done much with it other than take the top off, but I'll update this page as I go. So far I'm just attempting to find some of the missing doc links.

sorphin got both of his DCT-5000's on 3/18/2003, and is doing some digging, also found this link [[1]](http://24.125.76.224:8000/www.cableboxen.prjct) to a page where a guy is working on mapping out how the DCT-2000 and 5000 work.

Here's a list of test points, add to them as they are discovered:

*   TP9 (next to the CPU, towards the back): Pin 76 of CPU - Sys Clock
*   TP11 (Next to U33): SDRAM Clock
*   TP510: Ground

Notes [TimRiker](http://eLinux.org/User:TimRiker "User:TimRiker") "found":

Connect a straight-through serial cable from the COM1 port on the host computer to the RS-232 port on the target system. Make sure that the RS-232 connector is attached to internal connector labelled J800. 9600-8-n-1

Power ON the target board. When it boots, a # prompt appears.

Enter the following commands at the # prompt:

```
export BOOTFILE=vmlinus
export BOOTHOST=
export NETADDR=
export NETMASK=
export BROADCAST=
export ETHERHWADDR= 
```

[TimRiker](http://eLinux.org/User:TimRiker "User:TimRiker") is not sure if this is after installing a different ROM or something... Still looking.

Ken McGuire searches through the binary images of Tim's ROM and [the original ROM](http://www.eLinux.org/datafiles/DTC5000.rom.bz2) and doesn't find any of the above strings. Nothing comes out his DCT5000's J800 on power-up either.

Here's the DOCSIS configuration file of the box:

```
NetworkAccess = Yes

Start ClassOfService
ClassID = 1
MaxRateDown = 1500000
MaxRateUp = 128000
PriorityUp = 1
GuaranteedUp = 1280
MaxBurstUp = 0
PrivacyEnable = Yes
EndOf ClassOfService

MaxCPE = 4 
```

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Hardware Hacking](http://eLinux.org/Category:Hardware_Hacking "Category:Hardware Hacking")

# DHT-Walnut

> From: [eLinux.org](http://eLinux.org/DHT-Walnut "http://eLinux.org/DHT-Walnut")

# DHT-Walnut

other DHT-Walnut pages: [Flameman/dht-walnut](http://eLinux.org/Flameman/dht-walnut "Flameman/dht-walnut")

## Contents

*   1 Overview
*   2 Bootloaders
*   3 Linux Kernels
*   4 Userland
*   5 How-To's

## Overview

DHT-Walnut is a shortened name for the Digital Home Technologies PCB 01070201 Rev. 1.1\. The DHT-Walnut board is based on the AMCC-Walnut (still available, and still expensive :P). It is a more improved board described at www.amcc.com. A "walnut" searching will inform about schematic and software. Also keep attention @ DENX: they have developed a lot for the AMCC-Walnut board, and you could find a linux patch for your problem, prettier documentation, developer suit, and much more: in case, you are suggested to have a look to their web pages.

currently available [HERE](http://www.bgmicro.com/prodinfo.asp?prodid=COM1191) Oops, **sold out** 2/6/2006

The board consists of:

*   [PowerPC 405GP](http://eLinux.org/PPC405_GP "PPC405 GP") running at 266mhz
*   PC133 SDRAM slot, currently, only supports single sidded DIMMs
*   On-chip 405GP ethernet, board doesn't have an ethernet MAC address
*   DCE serial port, speeds up to 230k, only tested to 115200
*   two pci slots, keyed for 5V only cards
*   Promise Technologies [PDC20265](http://eLinux.org/PDC20265 "PDC20265") IDE
*   512k of boot flash AMD 29LV040B [datasheet](http://eLinux.org/images/0/0e/Amd29lv040b.pdf "Amd29lv040b.pdf")
*   12v dc powered
*   PPC40XX JTAG on J10
*   6.00" x 7.5" board size

The system's most common configuration seems to be:

*   System PCB
*   32M PC133 SDRAM DIMM
    *   Unknown PCI IEEE-1394 card supported by OHCI driver
    *   PPCBoot v.1.1.2 in flash

Hardware that is known to work (and not to work) with this board can be found [here](http://eLinux.org/DHT-Walnut_Known_Working_Hardware "DHT-Walnut Known Working Hardware")

GPSFan (Freenode IRC on #edev) was helpful in providing an image of the board:

![Com1191.jpg](http://eLinux.org/File:Com1191.jpg)

Some info in the pdf [HERE](http://supernova.stanford.edu/dingdong/)

Experimental hack to set a hardware breakpoint inside OCD Commander [hardbreak.tgz](http://eLinux.org/images/d/d2/Hardbreak.tgz "Hardbreak.tgz")

*   OCD Commander macro file to dump the CPU configuration (all but PCI) [dump_config.mac](http://eLinux.org/images/2/2f/Dump_config.mac "Dump config.mac")
*   OCD Commander macro file to configure the system for recovery [recovery_config.mac](http://eLinux.org/images/5/5e/Recovery_config.mac "Recovery config.mac")
*   CPU configuration of the system after a warm reset [warm_reset.config](http://eLinux.org/images/1/1d/Warm_reset.config "Warm reset.config")
*   CPU configuration of the system once ppcboot v1.1.2 is up and running [ppcboot.config](http://eLinux.org/images/b/bc/Ppcboot.config "Ppcboot.config")
*   CPU configuration of the system once ppcboot v1.1.6 is up and running [ppcboot_116.config](http://eLinux.org/images/7/7a/Ppcboot_116.config "Ppcboot 116.config")
*   Example OCD logfile of the using the recovery macro to load ppcboot [ocd_recovery_log.txt](http://eLinux.org/images/2/2b/Ocd_recovery_log.txt "Ocd recovery log.txt")
*   Example console log from ppcboot v.1.1.6 running from ram after recovery macro [ocd_recovery_console_log.txt](http://eLinux.org/images/b/b2/Ocd_recovery_console_log.txt "Ocd recovery console log.txt")

## Bootloaders

*   [ppcboot](http://eLinux.org/DHT-Walnut_PPCBoot "DHT-Walnut PPCBoot")

Here is the latest ppcboot 1.1.6 patch, as is, it will build for flashing at 0xfff80000 as a replacement for the pcboot-1.1.2 that comes with the board.

[patch-ppcboot-1.1.6-km2](http://eLinux.org/images/4/46/Patch-ppcboot-1.1.6-km2 "Patch-ppcboot-1.1.6-km2")

Original sources for ppcboot: [[1]](ftp://ftp.denx.de/pub/ppcboot/ppcboot-1.1.6.tar.bz2)

Here is a binary for those without a toolchain.

[ppcboot1.1.6.1.bin](http://eLinux.org/images/9/91/Ppcboot1.1.6.1.bin "Ppcboot1.1.6.1.bin") crc = 083fb0a3

To use this (at your own risk) see the detailed update procedure description: [Installing the Updated Bootloader](http://eLinux.org/DHT-Walnut_Installing_The_Updated_Bootloader "DHT-Walnut Installing The Updated Bootloader")

*   U-Boot

U-Boot is a significantly updated replacement for ppcboot. See: [U-Boot for the DHT-Walnut](http://eLinux.org/DHT-Walnut_U_Boot "DHT-Walnut U Boot").

Just in case you make a brick, there is hope: [JTAG Bootloader Installation](http://eLinux.org/DHT-Walnut_Jtag_Bootloader_Installation "DHT-Walnut Jtag Bootloader Installation")

## Linux Kernels

*   Version 2.4

(Mostly) working kernel binary and config from jbevren with matrox fbcon and usb input support.

Current issues:

*   *   USB keyboard input doesnt seem to work, but events reach /dev/input/event0
    *   [Media:uImage](http://eLinux.org/images/c/c2/UImage "UImage")
    *   [Media:config](http://eLinux.org/images/f/fa/Config "Config")
*   Version 2.6

See: [2.6 Linux kernel for the DHT-Walnut](http://eLinux.org/DHT-Walnut_2.6_Linux_Kernel "DHT-Walnut 2.6 Linux Kernel")

## Userland

*   [Debian GNU/Linux netboot installer](http://eLinux.org/DHT-Walnut_-Debian_Install "DHT-Walnut -Debian Install") -- Install Debian from the internet to a hard disk.

## How-To's

*   How To [replace the bootloader with ppcboot 1.1.6](http://eLinux.org/DHT-Walnut_Installing_The_Updated_Bootloader "DHT-Walnut Installing The Updated Bootloader")
*   How To [replace the bootloader with U-boot 1.1.4](http://eLinux.org/DHT-Walnut_U_Boot "DHT-Walnut U Boot")
*   How To [recover from "Brickage"](http://eLinux.org/DHT-Walnut_Jtag_Bootloader_Installation "DHT-Walnut Jtag Bootloader Installation")
*   How To [add the JTAG connector at J10](http://eLinux.org/DHT-Walnut_Add_J10 "DHT-Walnut Add J10")
*   How To [boot via tftp](http://eLinux.org/DHT-Walnut_Boot_Via_Tftp "DHT-Walnut Boot Via Tftp")
*   How To [boot from Hard Disk](http://eLinux.org/DHT-Walnut_Booting_From_Hdd "DHT-Walnut Booting From Hdd")
*   How To [do something useful with your board](http://eLinux.org/DHT-Walnut_Usefull_Projects "DHT-Walnut Usefull Projects")
*   How To [control the Green Media LED and J5](http://eLinux.org/DHT-Walnut_GPIO "DHT-Walnut GPIO")
*   More to come...

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Development Boards](http://eLinux.org/Category:Development_Boards "Category:Development Boards")
*   [DHT-Walnut](http://eLinux.org/Category:DHT-Walnut "Category:DHT-Walnut")

# Didj

> From: [eLinux.org](http://eLinux.org/Didj "http://eLinux.org/Didj")

# Didj

**This device is part of the [LeapFrog Pollux Platform](http://eLinux.org/LeapFrog_Pollux_Platform "LeapFrog Pollux Platform"), it's recommended to start there for general information.**

![](http://eLinux.org/File:Didj.jpg)

The LeapFrog Didj

## Contents

*   1 Summary
*   2 Platform
*   3 Boot Loader
*   4 Sources and Toolchains
*   5 Tutorials/How To's
*   6 Development Scripts and Programs
*   7 Technical Information
*   8 Images
*   9 External Links

## Summary

The Didj was a toy produced by Leapfrog marketed for educational games for children aged 5-10.

Didj was end-of-lifed by Leapfrog in mid-2010\. It has been replaced by the Leapster Explorer.

Although Didj has a proprietary graphical front end, it runs a generic Linux distribution on an Arm based processor. Soon after the Didj's release, it was discovered that the cartridge port contained pins that allowed for serial console access with root privileges. After this discovery, work began to modify the Didj into an accessible emulation device.

Since development began, much has been accomplished, including:

*   Discovered that the Arm chip is the same as on the [GP2X Wiz](http://eLinux.org/GP2X_Wiz "GP2X Wiz"), only at a lower clock speed.
*   Created cartridges that support SD cards
*   Accessed the UART features in the cartridge slot

## Platform

[LeapFrog Pollux Platform](http://eLinux.org/LeapFrog_Pollux_Platform "LeapFrog Pollux Platform")

The Didj is part of 3 different devices that all share a common hardware platform, based around the [Pollux](http://eLinux.org/Pollux "Pollux") SoC. The platform page contains information generic across these devices, and it is recommended that you refer to that page as it is a good starting point to understanding the Didj, and contains some basic How To's and Tutorials to get you started.

## Boot Loader

*   [Lightning Boot](http://eLinux.org/Didj_Lightning_Boot "Didj Lightning Boot")
*   [U-Boot](http://eLinux.org/Didj_U-Boot "Didj U-Boot")
*   [Compile and Install Emerald-Boot](http://eLinux.org/Didj_Emerald_Boot "Didj Emerald Boot")

## Sources and Toolchains

*   [Sources and Toolchains](http://eLinux.org/LeapFrog_Pollux_Platform:_Source_Code "LeapFrog Pollux Platform: Source Code")

## Tutorials/How To's

**General**

*   [Common Commands Reference](http://eLinux.org/Didj_Common_Commands "Didj Common Commands")
*   [Console Access](http://eLinux.org/LeapFrog_Pollux_Platform:_Console_Access "LeapFrog Pollux Platform: Console Access")
*   [Cartridges](http://eLinux.org/LeapFrog_Pollux_Platform:_Cartridge "LeapFrog Pollux Platform: Cartridge")
    *   [Cartridge Settings](http://eLinux.org/LeapFrog_Pollux_Platform:_Cartridge_Settings "LeapFrog Pollux Platform: Cartridge Settings")
*   [Extract lfp/lf2 Archives](http://eLinux.org/LeapFrog_Pollux_Platform:_Extract_Archives "LeapFrog Pollux Platform: Extract Archives")

**Networking**

*   [Enable Networking via USB Gadget](http://eLinux.org/Didj_Enable_Networking "Didj Enable Networking")
*   [Install Dropbear SSH](http://eLinux.org/Didj_Install_Dropbear "Didj Install Dropbear")
*   [Playing MP3 network streams and files](http://eLinux.org/Didj_MP3_Streaming "Didj MP3 Streaming")
*   [Networking Setup](http://eLinux.org/LeapFrog_Pollux_Platform:_Networking "LeapFrog Pollux Platform: Networking")
*   [Networking Applications](http://eLinux.org/LeapFrog_Pollux_Platform:_Networking_Applications "LeapFrog Pollux Platform: Networking Applications")
*   [Internet Access from Device](http://eLinux.org/LeapFrog_Pollux_Platform:_Internet_Access "LeapFrog Pollux Platform: Internet Access")
*   [Mount NFS Directory](http://eLinux.org/LeapFrog_Pollux_Platform:_Mount_NFS_Directory "LeapFrog Pollux Platform: Mount NFS Directory")

**USB Storage**

*   [USB Mounting Under Windows, Linux, and OS X](http://eLinux.org/Didj_USB_Mounting "Didj USB Mounting")
*   [SCSI Commands](http://eLinux.org/Didj_SCSI_Commands "Didj SCSI Commands")

**Cartridge**

*   [Make an ATAP NAND Cartridge](http://eLinux.org/Didj_Make_ATAP "Didj Make ATAP")

**Flash NAND**

*   [Flash Data to NAND](http://eLinux.org/Didj_U-Boot_NAND_Flashing "Didj U-Boot NAND Flashing")
*   [Updating Bootloader/Firmware](http://eLinux.org/Didj_BootLoader_Firmware_Updating "Didj BootLoader Firmware Updating")

**Firmware Image**

*   [Mount JFFS2 Image on Linux](http://eLinux.org/File_Systems#Mounting_JFFS2_image_on_PC_using_mtdram "File Systems")

    *   Relevant Settings
    *   Correct endianess
*   [Create JFFS2 image](http://eLinux.org/LeapFrog_Pollux_Platform:_Firmware#Didj_JFFS2 "LeapFrog Pollux Platform: Firmware")

    *   Relevant Settings
    *   -e 128
    *   -p

**Kernel/RootFS/Firmware**

*   [Building libSDL](http://eLinux.org/Didj_and_Explorer_libSDL "Didj and Explorer libSDL")
*   [Building SDL_ttf font library](http://eLinux.org/Didj_and_Explorer_SDL_ttf "Didj and Explorer SDL ttf")
*   [Building SDL_image library with jpg and png support](http://eLinux.org/Didj_and_Explorer_SDL_image "Didj and Explorer SDL image")
*   [Building SDL_mixer audio library](http://eLinux.org/Didj_and_Explorer_SDL_mixer "Didj and Explorer SDL mixer")
*   Building tslib
*   SDL Resources
*   [Didj Kernel 2.6.31 Upgrade](http://eLinux.org/Didj_2.6.31_Kernel "Didj 2.6.31 Kernel")
*   [2.6.31 Kernel for Didj](http://eLinux.org/Didj_Explorer_Kernel "Didj Explorer Kernel")
*   [Boot Kernel and Rootfs from SD w/Framebuffer](http://eLinux.org/Didj_Explorer_SD_Kernel "Didj Explorer SD Kernel")
*   Linux Framebuffer Driver
*   [Enable SD Card Module](http://eLinux.org/Didj_and_Explorer_MMC_Patch "Didj and Explorer MMC Patch")
*   Building The Explorer Root File System
*   [Changing the fb driver to display the boot logo correctly](http://eLinux.org/Didj_and_Explorer:_boot_pixel_format "Didj and Explorer: boot pixel format")
*   [TV Out](http://eLinux.org/LeapFrog_Pollux_Platform:_TV_Out "LeapFrog Pollux Platform: TV Out")
*   [Generic Buildroot Rootfs and Kernel build](http://eLinux.org/Didj_2.6.31_Generic_Buildroot "Didj 2.6.31 Generic Buildroot")

**Games and Emulators**

*   [Emulators and Games](http://eLinux.org/LeapFrog_Pollux_Platform:_Emulators_And_Games "LeapFrog Pollux Platform: Emulators And Games")

**Brio Development**

*   [Replacing the default App Menu from the default App Menu](http://eLinux.org/Didj_Replacement_App_Menu "Didj Replacement App Menu")

**JTAG**

*   [JTAG Pinouts](http://eLinux.org/LeapFrog_Pollux_Platform:_JTAG_Pinouts "LeapFrog Pollux Platform: JTAG Pinouts")
*   [Pollux FTDI JTAG How To](http://eLinux.org/Pollux:_FTDI_JTAG_How_To "Pollux: FTDI JTAG How To")
*   [Pollux JTAG Wiggler Config](http://eLinux.org/Pollux_JTAG_with_Wiggler "Pollux JTAG with Wiggler")
*   [JTAG Kernel Boot](http://eLinux.org/LeapFrog_Pollux_Platform:_JTAG_Kernel_Boot "LeapFrog Pollux Platform: JTAG Kernel Boot")

**Compiling Source Code**

*   [Set up the Build Environment](http://eLinux.org/LeapFrog_Pollux_Platform:_Build_Environment "LeapFrog Pollux Platform: Build Environment")
*   [Kernel Configuration](http://eLinux.org/LeapFrog_Pollux_Platform:_Kernel_Configuration "LeapFrog Pollux Platform: Kernel Configuration")

## Development Scripts and Programs

*   [LF1000 UART Bootstrap Utility](http://git.berlios.de/cgi-bin/gitweb.cgi?p=opendidj;a=blob_plain;f=host_tools/lf1000_bootstrap.py;h=f0d3ef0d9186edf368062608ff868914e6083ee4;hb=06890453479d271856f58d1d2cb685ee6e5afd5f) written in Python
*   [LF1000 UART Bootstrap Utilities](http://eLinux.org/images/a/ad/Lf1000-bootstrap-utilities.tar.gz "Lf1000-bootstrap-utilities.tar.gz") based on the OMAP boot utilities from TI

## Technical Information

*   [Initial Memory Map Dump](http://eLinux.org/Didj_Mem_Map "Didj Mem Map")
*   [Map of Didj GPIO Pins](http://eLinux.org/Didj_GPIO_Map "Didj GPIO Map")
*   [Device Comparison](http://eLinux.org/LeapFrog_Pollux_Platform:_Technical_Details "LeapFrog Pollux Platform: Technical Details")

**File System Info**

*   rootfs / rootfs rw
*   /dev/root / jffs2 ro
*   none /proc proc rw
*   sysfs /sys sysfs rw
*   /dev/ram0 /tmp tmpfs rw
*   /dev/mtdblock1 /flags jffs2 rw,sync,noatime
*   /dev/mtdblock2 /mfgdata jffs2 ro,sync,noatime
*   /dev/mtdblock10 /Didj vfat rw,noatime,fmask=0022,dmask=0022,codepage=cp437,iocha rset=iso8859-1
*   /dev/mtdblock11 /Cart vfat ro,noatime,fmask=0022,dmask=0022,codepage=cp437,iocha rset=iso8859-1

```
Filesystem                Size       Mounted on
/dev/mtdblock6           14.0M     /
/dev/mtdblock1          896.0k    /flags
/dev/mtdblock2            1.0M    /mfgdata
/dev/mtdblock9          215.8M    /Didj 
```

**Active Kernel/Rootfs**

Near the begging of the boot message you should see one of two root options:

```
root=31:04 
```

You are using mtd4: 00e00000 00020000 "Linux_RFS0" or

```
root=31:06 
```

You are using mtd6: 00e00000 00020000 "Linux_RFS1"

**Partitions**

| Name | Location | Size | Device | Notes |
| LF1000_uniboot | 0x00000000 | 0x00020000 | /dev/mtd0 | Lightning Boot |
| Atomic_Boot_Flags | 0x00020000 | 0x000E0000 | /dev/mtd1 | On NAND |
| Manufacturing_Data | 0x00100000 | 0x00100000 | /dev/mtd2 | On NAND |
| Kernel0 | 0x00200000 | 0x00200000 | /dev/mtd3 | On NAND |
| Linux_RFS0 | 0x00400000 | 0x00E00000 | /dev/mtd4 | On NAND |
| Kernel1 | 0x01200000 | 0x00200000 | /dev/mtd5 | On NAND |
| Linux_RFS1 | 0x01400000 | 0x00E00000 | /dev/mtd6 | On NAND |
| Brio | 0x02200000 | 0x0DE00000 | /dev/mtd7 | On NAND |
| EXT | 0x10000000 | 0x10000000 | /dev/mtd8 |  |
| Cartridge | 0x00000000 | 0x10000000 |  | On Cartridge NAND |

**Battery Compartments**

The Didj has two identical battery compartments, the combined collection of batteries are wired in series.

*   Battery Compartment Terminals:
    *   Term 1 - Battery +
    *   Term 2 - Temp Sensor + Wired to Pollux pins K20 / GPIOA 28 and K21 / GPIOA 29
    *   Term 3 - Temp Sensor -
    *   Term 4 - Battery -

**Rechargeable Batteries**

In addition to the terminals facing the Didj's contacts, there are another set of contacts facing away from the Didj. These contacts are duplicates used by the charging station. The batteries themselves are NIMH cells, producing around 2.5v per pack when fully charged.

**Recharging Station**

The recharger station contains a battery charge circuit with temperature monitoring. The station also has a pair of contacts that duplicate the 9V dc barrel jack.

**SSP / SPI Controller** [Didj SPI Info](http://eLinux.org/Didj_SPI_Info "Didj SPI Info")

## Images

*   PCB Images
*   Error creating thumbnail: Invalid thumbnail parameters

    Front side mainboard, with LF1000 CPU and SDRAM de-soldered.

*   ![](http://eLinux.org/File:Bga-closeup.jpg)

    Close up of the LF1000 CPU ball-grid.

*   Error creating thumbnail: Invalid thumbnail parameters

    Back side mainboard, with cartridge socket and NAND de-soldered.

*   ![](http://eLinux.org/File:Didj_Mainboard_Front.jpg)

    Front side mainboard

*   ![](http://eLinux.org/File:Didj_Mainboard_Back.jpg)

    Back side mainboard

## External Links

*   [Cozybit boasts of their involvment in integrating Linux with the Didj](http://www.cozybit.com/stories.htm)
*   [Hacking around with the Leapfrog Didj](http://blogs.distant-earth.com/wp/?p=64)
*   [Claude's Didj Hacking Page](http://sites.google.com/site/claudeschwarz/didjhacking2)
*   Hackaday Posts
    *   [Didj Hacking](http://hackaday.com/2010/02/01/leapfrog-didj-handheld-linux-on-the-cheap/)
    *   [Didj Hacking Followup](http://hackaday.com/2010/02/03/leapfrog-didj-followup/)

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Didj](http://eLinux.org/Category:Didj "Category:Didj")
*   [LeapFrog Pollux Platform](http://eLinux.org/index.php?title=Category:LeapFrog_Pollux_Platform&action=edit&redlink=1 "Category:LeapFrog Pollux Platform (page does not exist)")

# EBR-1000EP

> From: [eLinux.org](http://eLinux.org/EBR-1000EP "http://eLinux.org/EBR-1000EP")

# EBR-1000EP

## Sony Librié

[`www.eink.com/news/images/SONY_Reader_1000EP.jpg`](http://www.eink.com/news/images/SONY_Reader_1000EP.jpg)

This is [Tim Riker](http://eLinux.org/User:TimRiker "User:TimRiker")'s space for taking notes. Much of this is copied from elsewhere on the net including the Yahoo Librié group.

*   Motorola MC9328MX1 (ARM920T) [`www.freescale.com/files/32bit/doc/data_sheet/MC9328MX1.pdf`](http://www.freescale.com/files/32bit/doc/data_sheet/MC9328MX1.pdf)
*   6in reflective electronic paper display with E Ink technology (2bit grayscale)
*   SVGA (800x600 dots) resolution at 170dpi
*   300g with case and batteries (190g without)
*   126mm x 190mm x 13mm
*   Sony Linux OS: NSC Linux version 1.2.0 Patch 4.1
*   64MB SDRAM system memory (62500KB free)
*   4MB NOR flash memory (containing Linux bootloader, kernel, Memory Stick BIOS, keys and device informations)
*   32MB NAND flash memory Samsung KM29U256T? (containing fonts, dictionaries and bookshelf data, 11152KB free)
*   16MB NAND flash memory Samsung KM29U128T? (containing rootfs and [Open MG](http://eLinux.org/index.php?title=Open_MG&action=edit&redlink=1 "Open MG (page does not exist)") data)
*   Memory Stick slot
*   USB 2.0 port
*   Headphone jack
*   Rear-mounted mono speaker
*   4xAAA batteries, ~10.000 pageturns
*   Miniature Qwerty keyboard

## Firmware

*   [`www.aii.co.jp/contents/smojsdmk/LIBRIE/UPLIBRIE_06160.EXE`](http://www.aii.co.jp/contents/smojsdmk/LIBRIE/UPLIBRIE_06160.EXE) (2004.06.23)
*   [`www.aii.co.jp/contents/smojsdmk/LIBRIE/UPLIBRIE_04140.EXE`](http://www.aii.co.jp/contents/smojsdmk/LIBRIE/UPLIBRIE_04140.EXE) (2005.04.13)

## Links

*   Runs Linux: [`www.sony.net/Products/Linux/Download/EBR-1000EP.html`](http://www.sony.net/Products/Linux/Download/EBR-1000EP.html)
*   Appears to be a MV build
*   Tear Down: [`www.teardown.com/channels/pdas/Sony_Librie.aspx`](http://www.teardown.com/channels/pdas/Sony_Librie.aspx)
*   100 pin test connector CN1501 likely a Molex 54137-1008 [`www.molex.com/customer.html?supplierPN=541371008`](http://www.molex.com/customer.html?supplierPN=541371008)
*   mate should be 53929-1008 [`www.molex.com/customer.html?supplierPN=539291008`](http://www.molex.com/customer.html?supplierPN=539291008)
*   [`www.karpenko.de/librie/`](http://www.karpenko.de/librie/)
*   [`www.positron.org/projects/juicebox/`](http://www.positron.org/projects/juicebox/)
*   [`groups.yahoo.com/group/librie/`](http://groups.yahoo.com/group/librie/)
*   [`groups.yahoo.com/group/cybook/`](http://groups.yahoo.com/group/cybook/)
*   [`www.flickr.com/photos/deadsunrise/sets/444695/`](http://www.flickr.com/photos/deadsunrise/sets/444695/)
*   [`www.dynamism.com/librie/`](http://www.dynamism.com/librie/)
*   [`www.excite.co.jp/world/english/web/`](http://www.excite.co.jp/world/english/web/)
*   [`www.sven.de/librie/`](http://www.sven.de/librie/)
*   news://news.gmane.org/gmane.linux.hardware.sony.librie
*   [`news.gmane.org/gmane.linux.hardware.sony.librie`](http://news.gmane.org/gmane.linux.hardware.sony.librie)
*   [`www.timebooktown.jp/`](http://www.timebooktown.jp/)
*   [`www.get-set.net/librie/`](http://www.get-set.net/librie/) - translated buttons
*   [`en.wikipedia.org/wiki/E-book`](http://en.wikipedia.org/wiki/E-book)
*   [`www.dzhabrailov.ru/71417.html`](http://www.dzhabrailov.ru/71417.html)
*   [`greggman.com/japan/xp-ime/xp-ime.htm`](http://greggman.com/japan/xp-ime/xp-ime.htm)
*   [`www.rikai.com/library/kanjitables/kanji_codes.euc.shtml`](http://www.rikai.com/library/kanjitables/kanji_codes.euc.shtml)
*   [`isthisthingon.org/unicode/`](http://isthisthingon.org/unicode/)
*   [`www.sony.jp/products/Consumer/LIBRIE/download/libriele.html`](http://www.sony.jp/products/Consumer/LIBRIE/download/libriele.html)
*   [`www.mynetcologne.de/~nc-bergme2/librie.htm`](http://www.mynetcologne.de/~nc-bergme2/librie.htm)
*   [`rts-lab.eas.asu.edu/courses/cse494f03/images/userguide.pdf`](http://rts-lab.eas.asu.edu/courses/cse494f03/images/userguide.pdf)
*   [`developer.berlios.de/projects/librietrans/`](http://developer.berlios.de/projects/librietrans/)

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Hardware Hacking](http://eLinux.org/Category:Hardware_Hacking "Category:Hardware Hacking")

# Enc28j60

> From: [eLinux.org](http://eLinux.org/Enc28j60 "http://eLinux.org/Enc28j60")

# Enc28j60

## Introduction

Microchip's `ENC28J60` is a 28-pin, 10BASE-T stand alone Ethernet Controller with on board MAC & PHY, 8 Kbytes of Buffer RAM and an SPI serial interface. With a small foot print package size the `ENC28J60` minimizes complexity, board space and cost. Target applications include VoIP, Industrial Automation, Building Automation, Home Control, Security and Instrumentation.

## Evaluation Boards

*   [Olimex Board](http://www.olimex.com/dev/enc28j60-h.html)
*   [edtp.com](http://www.edtp.com/ft_page.htm)

The olimex board is also sold at [Sparkfun](http://www.sparkfun.com/commerce/product_info.php?products_id=765)

Linux Drivers

*   [2.4 Kernel Driver](http://eLinux.org/images/e/e6/Enc28j60-2.4-x.tar.gz "Enc28j60-2.4-x.tar.gz") , this an experimental driver to test the basic features of the enc28j60 under linux. it was done using the s3c2410 arm920t. this driver can be modified to work with other spi controllers including bitbanging. this is a VERY ugly hack and is not ment to be a production driver.
*   2.6 Kernel Driver no SPI subsystem , this is the initial driver support for the enc28j60\. this driver uses a spi interface header that describes the device being used. (Completed, waiting on lawyers approval for release)
*   2.6 Kernel Driver with SPI Subsystem, this version of the driver supports the new SPI subsystem that is available from 2.6.16 and newer. (ETA 8/28/2006 update: there is a driver in the Linux Kernel
    *   .../drivers/net/ethernet/microchip/enc28j60.c)

References

*   [Microchip ENC28J60 Page](http://www.microchip.com/stellent/idcplg?IdcService=SS_GET_PAGE&nodeId=1335&dDocName=en022889)
*   [`elinux.org/images//8/83/Pdf.gif`](http://elinux.org/images//8/83/Pdf.gif) [Microchip ENC28J60 Datasheet](http://eLinux.org/images/f/f4/Enc28j60.pdf "Enc28j60.pdf") [`elinux.org/images/d/da/Info_circle.png`](http://elinux.org/File:Enc28j60.pdf)
*   [Microchip ENC28J60 Errata](http://eLinux.org/images/b/b3/Enc28j60-errata.odf "Enc28j60-errata.odf")
*   [AVRlib with ENC28J60 support](http://hubbard.engr.scu.edu/embedded/avr/avrlib/)

if you are using the enc28j60 and would like to contribute changes/fixes/updates please send them to [prpplague](http://eLinux.org/User:Prpplague "User:Prpplague")

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Hardware Hacking](http://eLinux.org/Category:Hardware_Hacking "Category:Hardware Hacking")

# Ez Usb

> From: [eLinux.org](http://eLinux.org/Ez_Usb "http://eLinux.org/Ez_Usb")

# Ez Usb

## Contents

*   1 EZ-USB Based Device List
    *   1.1 Firmware Kit + Driver API
    *   1.2 General Products
    *   1.3 Development Boards

## EZ-USB Based Device List

### Firmware Kit + Driver API

An Open Source EZ-USB SDK is available at [`www.ztex.de/firmware-kit`](http://www.ztex.de/firmware-kit/index.e.html).

It is mainly intended for our ZTEX FPGA Boards but should run on every EZ-USB based hardware. The package currently runs under Linux and Windows.

The Firmware is written in C and requires the SDCC compiler. A macro approach allows to configure the Firmware easily using macro commands. The necessary USB descriptors and the descriptor handling routines are generated automatically.

The driver API is written in Java and allows platform independent device drivers. Alternatively the USB devices can be accessed through a web and a socket interface using the device server.

### General Products

*   [Orinoco Wireless USB Adapter](http://www.digit-life.com/articles/lucentorinocousb/)
*   [HH501 Smartmedia Reader/Writer](http://www.alcove-labs.org/en/addons/hh501/)
*   [Keyspan USB-to-DB9-serial Adaptor](http://people.omnigroup.com/wiml/soft/pic/keyspan.html)
*   [Orange Micro iBOT2 USB 2.0 Web Camera](http://www.amazon.com/exec/obidos/tg/detail/-/B00006AVC7/102-0680645-8053731?v=glance)
*   [Flash2Advance Ultra USB Writer](http://www.the-console-corner.com/shop/product.php?productid=6546)

### Development Boards

*   [DeVaSys USB I2C/IO EZ-USB board](http://www.devasys.com/usbi2cio.htm)
*   [ActiveWire USB Devices](http://www.activewireinc.com/)
*   [USB Interface V1.3 with EEPROM](http://www.braintechnology.de/braintechnology/en/usb_interface13.html)
*   [MF3001 EZ-USB AN2131QC Development Board](http://www.minford.ca/html/mf3001.html)
*   [OSR USB FX2 Learning Kit](https://www.osronline.com/custom.cfm?name=index_fullframeset.cfm&pageURL=https://www.osronline.com/store/index.cfm)
*   [USBSIMM SimmStick Development](http://www.jged.com/web_pages/usbsimm.html)
*   [EZ Protoboard](http://www.k9spud.com/ezproto/)
*   [Quick USB Module](http://www.kanda.com/index.php3?cs=1&bc=direct&bw=%2Fbrowse.php3%3Fnode%3D118%26semisupport%3D)
*   [High-Speed USB Module](http://www.elrasoft.com/)
*   [ZTEX USB-FPGA-Module 2.16: FPGA Board with EZ-USB Microcontroller and Artix XC7A200T FPGA](http://www.ztex.de/usb-fpga-2/usb-fpga-2.16.e.html)
*   [ZTEX USB-FPGA-Module 2.13: FPGA Board with EZ-USB Microcontroller, Artix XC7A35T to XC7A100T FPGA and 256 MB DDR3 SDRAM](http://www.ztex.de/usb-fpga-2/usb-fpga-2.13.e.html)
*   [ZTEX USB-FPGA-Module 2.04: FPGA Board with EZ-USB Microcontroller, Spartan 6 XC6SLX16 FPGA and 64 MB DDR SDRAM](http://www.ztex.de/usb-fpga-2/usb-fpga-2.04.e.html)
*   [ZTEX USB-FPGA-Module 2.01: FPGA Board with EZ-USB Microcontroller and Spartan 6 XC6SLX16 FPGA](http://www.ztex.de/usb-fpga-2/usb-fpga-2.01.e.html)

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Development Tools](http://eLinux.org/Category:Development_Tools "Category:Development Tools")

# Flameman

> From: [eLinux.org](http://eLinux.org/Flameman "http://eLinux.org/Flameman")

# Flameman

*   [Flameman/project](http://eLinux.org/Flameman/project "Flameman/project")
*   [Flameman/article](http://eLinux.org/Flameman/article "Flameman/article") (it needs re-arrangement, proof notes)

# Flyswatter

> From: [eLinux.org](http://eLinux.org/Flyswatter "http://eLinux.org/Flyswatter")

# Flyswatter

## Contents

*   1 Introduction
*   2 Supported Devices
*   3 JTAG Adapters
*   4 Serial Port
*   5 Serial Port Interface
*   6 Flyswatter How To
*   7 Flyswatter2

## Introduction

The Flyswatter JTAG board is a low cost [USB](http://eLinux.org/index.php?title=USB&action=edit&redlink=1 "USB (page does not exist)") based JTAG programmer for the Hammer [CPU](http://eLinux.org/index.php?title=CPU&action=edit&redlink=1 "CPU (page does not exist)") board. It can be used with all [ARM](http://eLinux.org/index.php?title=ARM&action=edit&redlink=1 "ARM (page does not exist)") processors that are supported by [OpenOCD](http://eLinux.org/OpenOCD "OpenOCD"). It is based upon [FTDI](http://eLinux.org/index.php?title=FTDI&action=edit&redlink=1 "FTDI (page does not exist)")'s popular [FT2232](http://eLinux.org/index.php?title=FT2232&action=edit&redlink=1 "FT2232 (page does not exist)") [USB](http://eLinux.org/index.php?title=USB&action=edit&redlink=1 "USB (page does not exist)") [UART](http://eLinux.org/index.php?title=UART&action=edit&redlink=1 "UART (page does not exist)")/[FIFO](http://eLinux.org/index.php?title=FIFO&action=edit&redlink=1 "FIFO (page does not exist)") IC. The Flyswatter provides a standard JTAG interface as well as a standard [RS232](http://eLinux.org/index.php?title=RS232&action=edit&redlink=1 "RS232 (page does not exist)") port with support for full [modem](http://eLinux.org/index.php?title=Modem&action=edit&redlink=1 "Modem (page does not exist)") signals.

![640px-Flyswatter OpenOCd
debugger.jpg](http://eLinux.org/File:640px-Flyswatter_OpenOCd_debugger.jpg)

available from [TinCanTools](http://www.tincantools.com/) at [`www.tincantools.com/JTAG/Flyswatter.html`](http://www.tincantools.com/JTAG/Flyswatter.html)

Features:

*   [USB](http://eLinux.org/index.php?title=USB&action=edit&redlink=1 "USB (page does not exist)") 2.0 Full Speed device (12 Mbits/sec) interface
*   Can be used to debug and program all ARM processors supported by OpenOCD
*   Provides a standard 2x7 pin JTAG interface
*   Adds a virtual RS232 serial port to your computer or laptop with full modem signals: TXD, RXD, RTS, CTS, DTR, DSR, DCD, RI
*   Supports ARM target voltages of: 3.3V, 2.5V, 1.8V, 1.5V, 1.2V (voltage range: 1.2V to 3.6V)
*   Adds a virtual RS232 serial port to your computer or laptop with all of the modem signals: DTR, DSR, DCD, RTS, CTS, Rx, Tx
*   No external power supply required – it runs off of the USB voltage from the computer
*   Open hardware – complete schematic provided
*   Open software - software supported by OpenOCD (open source) debugger
*   Included CD comes with OpenOCD for Linux
*   Dimensions: 2.5 inches (width) x 3.0 inches (height)
*   Package Includes: Flyswatter board, USB Cable, 8 inch JTAG ribbon cable (14 pin - 2x7)

## Supported Devices

OpenOCD supports the following [ARM](http://eLinux.org/index.php?title=ARM&action=edit&redlink=1 "ARM (page does not exist)") cores:

| ARM CORE | EXAMPLE PROCESSORS |
| --- | --- |
| ARM7TDMI | LPC2148, AT91SAM7 |
| ARM720T | LH79520, EP7312 |
| ARM9TDMI |  |
| ARM920T | S3C2410, S3C2440 |
| ARM922T |  |
| ARM926EJS | S3C2412, STN8811, STN8815 |
| ARM966E | STR91XF |
| ARM11 | S3C6400, OMAP2420, MSM7200 |
| ARM1136 |  |
| ARM1156 |  |
| ARM1176 |  |
| CORTEX-M3 | LM3S series, STM32 series |
| CORTEX-A8 | OMAP3530 BeagleBoard |
| CORTEX-A8 | DM3730 BeagleBoard-xM |
| CORTEX-A9 | OMAP4430 PandaBoard |
| XSCALE | PXA255, PXA270, IXP42X |
| MARVEL | FEROCEON CPU CORE |

OpenOCD also supports the following [MIPS](http://eLinux.org/index.php?title=MIPS&action=edit&redlink=1 "MIPS (page does not exist)") cores (requires a MIPS 14-Pin JTAG Adapter):

| MIPS CORE | EXAMPLE PROCESSORS |
| --- | --- |
| MIPS | M4K |

## JTAG Adapters

JTAG Adapters plug into the ARM 14-pin connector located on the Flyswatter and change the pin-out to a different JTAG interface. Three JTAG adapters are available for the Flyswatter:

![](http://eLinux.org/File:ARM_20-Pin_Adapter.jpg)

ARM 20 pin JTAG Adapter

**ARM 20-Pin JTAG Adapter -**This adapter converts the Flyswatter's JTAG interface into a standard ARM 20-pin configuration. The package also includes 14-pin ribbon cable.

![](http://eLinux.org/File:BeagleBoard_Adapter.jpg)

BeagleBoard JTAG Adapter

**BeagleBoard JTAG Adapter -**This adapter converts the Flyswatter's JTAG interface into a standard TI 14-pin JTAG configuration. The package also includes a serial adapter board that converts the DB-9 Male connector located on the Flyswatter to a 10-Pin ribbon cable. This ribbon cable is used on the BeagleBoard Rev B/C boards to interface to the serial port. The 10-pin ribbon cable is included in the package.

![](http://eLinux.org/File:MIPS_14-Pin_Adapter.jpg)

MIPS 14-Pin JTAG Adapter

**MIPS 14-Pin JTAG Adapter -**This adapter converts the Flyswatter's JTAG interface into a standard MIPS 14-pin JTAG configuration. The package also includes 14-pin ribbon cable.

## Serial Port

The Flyswatter's serial port provides you with an independent functional "USB to RS-232" serial device. The serial port is completely independent from OpenOCD on both Linux and Windows. You can use the Flyswatter's serial port and never have to use OpenOCD or JTAG, or you can use it together with OpenOCD and have both a serial port and JTAG interface operating at the same time for debugging your target device.

For Linux, the RS232 driver for the FT2232 is part of the main kernel tree and is provided in most standard Linux distributions. In Windows, you have to load the Windows driver for the FT2232\. Once the driver is loaded, Windows will assign a virtual COM port to the Flyswatter's serial port. It operates just like a standard COM port. You can use the Flyswatter's serial port on laptops or PC's that do not have a 9-pin legacy serial connector.

## Serial Port Interface

You can use [Minicom](http://eLinux.org/Minicom "Minicom") to communicate with the Flyswatter's serial port on Linux. See the [Minicom](http://eLinux.org/Minicom "Minicom") page for setup instructions.

Documents:

*   [JTAG Connector Pin Assignments](http://eLinux.org/images/b/b2/Jtag_pin_assignments.pdf "Jtag pin assignments.pdf")
*   [Flyswatter schematic diagram](http://eLinux.org/images/4/46/Flyswatter-schematic.pdf "Flyswatter-schematic.pdf")

Source Code:

*   [OpenOCD Source](http://eLinux.org/images/8/80/Openocd.tar.gz "Openocd.tar.gz")
*   [LibFTD2xx library files](http://eLinux.org/images/1/11/Libftd2xx0.4.13.tar.gz "Libftd2xx0.4.13.tar.gz")

available from [TinCanTools](http://www.tincantools.com/product.php?productid=16134&cat=0&page=1&featured)

Devices that have been tested:

*   Hammer: Supported by the software kit/tools that come with the Hammer
*   NSLU2: requires a JTAG connection to be added to the [NSLU2](http://www.nslu2-linux.org/wiki/Info/PinoutOfJTAGPort) and nslu2.cfg, nslu2.ocd and Debug_handler.bin files. You can use these [samples](http://eLinux.org/images/f/fc/Nslu2.tar.gz "Nslu2.tar.gz"), but may need to edit the nslu2.ocd as appropriate.
*   [Zipit Z2](http://zipit2system.sourceforge.net/): requires soldering directly to the [Z2 board](http://eLinux.org/images/9/91/Z2jtag.jpg "Z2jtag.jpg"), and using [z2.cfg](http://eLinux.org/images/1/11/Z2cfg.cfg "Z2cfg.cfg") and following this [how-to](http://eLinux.org/images/2/29/Jtag.z2.txt "Jtag.z2.txt").

## [Flyswatter How To](http://eLinux.org/Flyswatter_How_To "Flyswatter How To")

The [Flyswatter How To](http://eLinux.org/Flyswatter_How_To "Flyswatter How To") and [Flyswatter Windows How To](http://eLinux.org/Flyswatter_Windows_How_To "Flyswatter Windows How To") guides show a new user how to connect the Flyswatter to the Beagleboard, and how to install and run [OpenOCD](http://eLinux.org/OpenOCD "OpenOCD") and [GDB Debugger](http://eLinux.org/GDB_Debugger "GDB Debugger"). To reach the guide, follow the link in the section title.

## [Flyswatter2](http://eLinux.org/Flyswatter2 "Flyswatter2")

[TinCanTools](http://www.tincantools.com/) has a new JTAG debugger at [Flyswatter2](http://www.tincantools.com/product.php?productid=16153&cat=0&page=1&featured) that has support for OpenOCD and ARM Cortex A8 processors: OMAP3530 BeagleBoard and DM3730 BeagleBoard-xM. The Flyswatter2 is 5 to 10 times faster than the original Flyswatter.

They also have a [ARM20TI14 JTAG Adapter](http://www.tincantools.com/product.php?productid=16154&cat=251&page=1). This JTAG adapter board works with the BeagleBoard and BeagleBoard-xM.

The Flyswatter2 can be used with OpenOCD (Beagle (OMAP3xx) support is complete).

To use the Flyswatter2 under Ubuntu (and derivatives) without superuser rights, place this in /etc/udev/rules.d/60-flyswatter2.rules (or whatever name you like):

```
SUBSYSTEM=="usb", ACTION=="add", ENV{DEVTYPE}=="usb_device", \
SYSFS{idVendor}=="0403", SYSFS{idProduct}=="6010", MODE="0666" 
```

Maybe it also works for the original Flyswatter, but not yet verified. If not, the idVendor and idProduct values must be adjusted.

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [TinCanTools](http://eLinux.org/Category:TinCanTools "Category:TinCanTools")
*   [Flyswatter](http://eLinux.org/index.php?title=Category:Flyswatter&action=edit&redlink=1 "Category:Flyswatter (page does not exist)")

# FX3002

> From: [eLinux.org](http://eLinux.org/FX3002 "http://eLinux.org/FX3002")

# FX3002

![FX3002.jpg](http://eLinux.org/File:FX3002.jpg)

A development effort between Microsoft and National Semiconductor Corp. gave rise to the key ICs for the Spot engine. The processor chip (National's MM9662) contains an ARM7 CPU and needed ROM/SRAM and is supported by two 512-kbyte flash memory packages from Silicon Storage (SST39WF400A). National also supplies the custom radio chip (MM9642) receiver along with op amps (LPV321) and low-dropout regulators (LP3987, LP3883). A lithium-ion battery pulse charger (LTC4052-4.2) made by Linear Technology; a Maxim battery monitor (MAX6436); and two Torex voltage regulators (XC6202, XC9801) round out the power-management circuitry. Citizen Watch of Japan was chosen for the module manufacture.

With the rich set of electronics and always-on nature of the device, low-power design was a must given the internal 3.7-volt, 150-mA-hr Li-ion battery. Extending the wireless theme, a clever induction charger is used to ac-couple fresh juice through the hanging watch stand.

![Inside.gif](http://eLinux.org/File:Inside.gif)

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Hardware Hacking](http://eLinux.org/Category:Hardware_Hacking "Category:Hardware Hacking")

# Hello World in C

> From: [eLinux.org](http://eLinux.org/Hello_World_in_C "http://eLinux.org/Hello_World_in_C")

# Hello World in C

```
#include <stdio.h>

main() {

for(;;)
    {
    printf ("Hello World!\n");
    }

} 
```

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Development Tools](http://eLinux.org/Category:Development_Tools "Category:Development Tools")
*   [C](http://eLinux.org/Category:C "Category:C")

# Hisense

> From: [eLinux.org](http://eLinux.org/Hisense "http://eLinux.org/Hisense")

# Hisense

![DB-2010.jpg](http://eLinux.org/File:DB-2010.jpg)

US Digital (USDTV [`usdtv.com/`](http://usdtv.com/)) sold an HDTV Receiver called the DB-2010 manufactured by HiSense. The unit runs an embedded Linux 2.4.18-12 kernel, with usb-storage compiled into the kernel. They swap MTD flash RAM partitions 1 and 4 with each new firmware update (similar to Tivo).

*   [`www.walmart.com/catalog/product.do?product_id=2598451`](http://www.walmart.com/catalog/product.do?product_id=2598451)
*   [`www.hisense.com/english/`](http://www.hisense.com/english/) - manufacturer
*   [`usdtv.com/`](http://usdtv.com/) - reseller
*   [`www.ati.com/companyinfo/press/2003/4628.html`](http://www.ati.com/companyinfo/press/2003/4628.html)
    *   related press release?
*   [`www.linuxdevices.com/products/PD4781682328.html`](http://www.linuxdevices.com/products/PD4781682328.html)
    *   Xilleon 220?
*   [`rikers.org/gallery/hardware-hisense`](http://rikers.org/gallery/hardware-hisense)
*   [`linux-hacker.net/usdtv`](http://linux-hacker.net/usdtv) - serial port pinout dmesg and boot
*   [`web.archive.org/web/20061019225229/http://www.videohelp.com/forum/archive/t302016.html`](http://web.archive.org/web/20061019225229/http://www.videohelp.com/forum/archive/t302016.html)
*   [`www.avsforum.com/avs-vb/showthread.php?t=479882`](http://www.avsforum.com/avs-vb/showthread.php?t=479882)
    *   active forum
*   [`www.vanillahd.com/index.php/receiving-free-over-the-air-ota-tv-with-a-usdtv-box/`](http://www.vanillahd.com/index.php/receiving-free-over-the-air-ota-tv-with-a-usdtv-box/)
    *   more unlocking info
*   [`www.avsforum.com/avs-vb/showthread.php?t=1055192`](http://www.avsforum.com/avs-vb/showthread.php?t=1055192)
    *   hardware versions and other useful bits
*   [`www.mediafire.com/dogleg69`](http://www.mediafire.com/dogleg69)
    *   patched firmware including DST fix and timers

The box has a card slot on the front, but there is no card reader behind the slot. It has a single USB port on the back that can be used to upgrade the firmware. This uses the AMD/ATI Xilleon 225, a MIPS processor.

[Tim Riker](http://eLinux.org/User:TimRiker "User:TimRiker") wrote USDTV requesting the source code on 2006.03.22 and got this reply on 2006.03.31:

```
Dear Mr. Riker,

Your request for access to the GPL and LGPL source code used in the USDTV DB-2010
receiver was recently forwarded to me.  First of all, let me assure you that we
at USDTV are fully aware of the terms of these software licenses.  Many members
of our development team are long-time users and supporters of free and
open-source software.

As you have requested, we will make available for Internet file transfer copies
of the software used in the USDTV receiver that is covered by these licenses.
Unfortunately, your request has caught us at a bad time.  The USDTV development
offices are currently in the process of moving to a new location, so we do not
at this time have a server to host copies of the software to download.  Once our
move is completed and our full Internet service is restored, we will set up a
site with the requested software available.  In the meantime, I have attached
below a list of software that we use; all of these packages should be available
for download elsewhere on the Internet.

   Linux kernel version 2.4.18
   glibc version 2.2.4
   libpthread version 0.9
   busybox version 0.60.0
   GNU tar 1.13.19
   gzip version 1.3

Thanks,
Jim Burmeister
Technical Lead, Set-Top Box Software Development
U.S. Digital Television 
```

Some other emails have gone back and forth, but no sources have yet been made available to [Tim Riker](http://eLinux.org/User:TimRiker "User:TimRiker").

USDTV filed for Chapter 7 bankruptcy in the US District Court of Delaware, and approximately 6600 receivers (many new in box) were sold on **July 17th 2007 at 10:00AM** at 12552 S 125 West, STE 200 Draper, UT (upstairs @ DAW Group Bldg).

*   [`www.salesandauction.com/7172007.htm`](http://www.salesandauction.com/7172007.htm)
*   [`www.salesandauction.com/usdlotlist.htm`](http://www.salesandauction.com/usdlotlist.htm)

For those of you that never received a firmware update, here is the update. It contains GPL code yet we have no method of extracting only that code. As the GPL portions are freely copyable, and not extractable, the package itself must also be copyable. Were it not so, the GPL would be violated, and I'm sure they would never do that. With no further ado, here are the packages. **REMEMBER TO NOT INCLUDE THE DELETEME.txt ON THE USB STICK** or the upgrade **WILL FAIL**.

*   [File:USDTV-2.7.11.tgz](http://eLinux.org/File:USDTV-2.7.11.tgz "File:USDTV-2.7.11.tgz")
    *   last known update for non-subscription (ie: FTA or WalMart) boxes
*   [File:USDTV-2.7.15-FTA.tgz](http://eLinux.org/File:USDTV-2.7.15-FTA.tgz "File:USDTV-2.7.15-FTA.tgz")
    *   last known update for subscription (ie: USDTV) boxes to use over the air

The two different installed firmware images appear to use different digital signatures. This is why one firmware update will not run on the other machine. It is expected that they can be swapped, but we are not publishing this information yet. We expect to publish extracted filesystem images here soon.

File signatures compatible with the 2.7.15-FTA upgrade are computed by obtaining the 32-character MD5 checksum of the file, then performing an MD5 hash using the salt *$1$@M&k=Ba}$* or '$1$69-1@4Pm$'

The low-level boot code is ATI's (now AMD's) proprietary version of MMON, very likely derived from Eric Smith's mmon MIPS monitor - [`www.brouhaha.com/~eric/software/mmon/`](http://www.brouhaha.com/~eric/software/mmon/)

If you have other GPL-containing firmware updates you would like posted here, please contact [Tim Riker](http://eLinux.org/User:TimRiker "User:TimRiker").

## Hacks

*   Guide-Aspect-Exit-Aspect-Guide - turns on/off a setup -> diagnostics menu including "stream info"
*   Guide-Aspect-Exit-ProgramInfo-0 - factory reset (do we need the 0 ?)
*   Guide-ProgramInfo-Exit-Aspect-Exit - Update Configuration - change when box checks for updates that will never come
*   Guide-ProgramInfo-Aspect-ProgramInfo-1 - reboot to other rom image (delays 17 seconds or so before reboot)

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Hardware Hacking](http://eLinux.org/Category:Hardware_Hacking "Category:Hardware Hacking")

# Industrial Communications

> From: [eLinux.org](http://eLinux.org/Industrial_Communications "http://eLinux.org/Industrial_Communications")

# Industrial Communications

Plants and machinery today consists of networks of different kind of components each are communicating with each other. The communication protocols used are partly Ethernet based, or traditional two wire buses (field bus) like CAN.

*   [CAN Bus](http://eLinux.org/CAN_Bus "CAN Bus")
*   [Ethernet POWERLINK](http://eLinux.org/index.php?title=Ethernet_POWERLINK&action=edit&redlink=1 "Ethernet POWERLINK (page does not exist)")
*   [Ethernet/IP](http://eLinux.org/index.php?title=Ethernet/IP&action=edit&redlink=1 "Ethernet/IP (page does not exist)")
*   [PROFINET](http://eLinux.org/index.php?title=PROFINET&action=edit&redlink=1 "PROFINET (page does not exist)")

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Networking](http://eLinux.org/Category:Networking "Category:Networking")

# InnoTab

> From: [eLinux.org](http://eLinux.org/InnoTab "http://eLinux.org/InnoTab")

# InnoTab

![Vtech innotab
image.jpg](http://eLinux.org/File:Vtech_innotab_image.jpg)

## Contents

*   1 Description
*   2 Specifications
*   3 CPU info
*   4 Source Code
*   5 Hacks
*   6 Resources

# Description

Take learning to the next level with the InnoTab Learning App Tablet by VTech! This multi-media tablet combines interactive reading, learning games, creative activities, and a rich collection of applications into a sleek and durable educational toy that kids will want to play with. Featuring a 5" color touch screen and tilt-sensor, kids can tap, flick, drag, and pat their way to learning fun. The fun continues with many on-board applications such as an MP3 Player, Video Player, Art Studio, Friends List, Calculator, and Clock engaging kids for hours as they develop their skills with this electronic learning toy. Additional cartridges with favorite licensed characters are sold separately and teach essential skills in reading, logic, and creativity. Additional content such as e-books and learning games can easily be uploaded to the InnoTab through VTech's Learning Lodge Navigator where parents can also see their child's progress on a variety of educational milestones and lessons. Additional content may require an SD memory card (not included).

# Specifications

*   GPL32902 processor
    *   ARM11 @ 180MHz
    *   [Manufacturer GeneralPlus](http://www.generalplus.com)
    *   [GPL3900 Development Platform](http://translate.google.com/translate?sl=auto&tl=en&js=n&prev=_t&hl=en&ie=UTF-8&layout=2&eotf=1&u=http%3A%2F%2Fwww.threeway.cc%2Fsitecn%2FInfo.aspx%3Ftid%3D1413%26pid%3D1611&act=url)
*   64MB onboard memory
*   SD card slot for memory expansion (supports SD/SDHC memory cards between the sizes of 2GB and 16GB.)
*   5" Color LCD
*   Touchscreen
*   Tilt sensor
*   uses 4AA batteries

# CPU info

```
Processor       : ARMv6-compatible processor rev 7 (v6l)
BogoMIPS        : 359.62
Features        : swp half thumb fastmult vfp edsp java
CPU implementer : 0x41
CPU architecture: 7
CPU variant     : 0x0
CPU part        : 0xb76
CPU revision    : 7
Hardware        : GPL32900
Revision        : 0000
Serial          : 0000000000000000 
```

# Source Code

*   [git repo of the build system release](https://github.com/prpplague/VTech-InnoTab)
*   [tar ball of the build system release](https://github.com/prpplague/VTech-Release)

# Hacks

*   [Boot Log](http://eLinux.org/images/c/c2/Innotab-boot.txt "Innotab-boot.txt")
*   [add an external 3.5mm serial port](http://eLinux.org/InnoTab_3.5mm_Uart "InnoTab 3.5mm Uart")

![Innotab case
outside-a.jpg](http://eLinux.org/File:Innotab_case_outside-a.jpg)

*   information from user "BT-Vision" aka "is0-mick" on [wizardmods.net forums](http://www.wizardmods.net/member.php?u=19207)

```
The innotab uses a Sqlite database to keep track of its installed applications (this is copied to the SD card when a blank one is inserted).

Icons are also stored in the SQLite database as a binary blob.
Game icons are 57 x 57, book icons are 88 x 88

They are 16bit xRGB data, with the first 8 bytes being the width and height stored as 32bit integers in little endian format.

If you just want to run your own code you can do the following.
Download SQLite manager extension for firefox, use it to open innotab.db which is on the SD card.

Go to the “games” section, and create a duplicate entry of one that already exists..

Change the filename on the new entry to something like /vp_mnt/sd/LLN/APPS/myapp

create a folder called on the as card /LLN/APPS/myapp

in that folder create a file called _Run
and put shell commands in there :) and the innotab will execute them.

for instance try ls -aR / >/vp_mnt/sd/LLN/APPS/myapp/dir.txt 
```

*   Initial porting scummvm to the Innotab can be seen here:

# Resources

*   [wizardmods.net forum on InnoTab hacking](http://www.wizardmods.net/f446/vtech-innotab-hack-hacking-130417/)
*   [Hackaday post on InnoTab](http://hackaday.com/2012/05/24/putting-linux-on-the-vtech-innotab/)
*   [VTech InnoTab Product Page](http://www.vtechkids.com/brands/brand_view/innotab)

# JuiceBox

> From: [eLinux.org](http://eLinux.org/JuiceBox "http://eLinux.org/JuiceBox")

# JuiceBox

![Juicebox.gif](http://eLinux.org/File:Juicebox.gif) uClinux media player from Mattel made by [Emsoft](http://www.emsoftltd.com/)

*   [Hardware Specifications](http://eLinux.org/JuiceBox_Hardware "JuiceBox Hardware")
*   [Software Specifications](http://eLinux.org/JuiceBox_Software "JuiceBox Software")
*   [General JuiceBox Info](http://eLinux.org/JuiceBox_General "JuiceBox General")

**NEWS FLASH** it is now possible to boot a custom uclinux kernel and ramdisk

*   [SD/MMC Cartridge Hack](http://eLinux.org/JuiceBox_UMDCart "JuiceBox UMDCart")

NOTE:

for those who are viewing this page for the first time and are considering hacking the **JuiceBox** you should be aware of some facts. my primary reason for hacking the **JuiceBox** was not to make a mp3 player, picture viewier, or movie player. i never ment for the **JuiceBox** hack to be anything other than an inexpensive platform to experiment with design concepts. this includes experimentation with NAND flash, NOR flash, arm7tdmi architecture, bootloaders, SD/MMC card interfaces, and uClinux. if your intentions for hacking the **JuiceBox** are for anything other than education, you will probably be disappointed. -[prpplague](http://eLinux.org/User:Prpplague "User:Prpplague")

## Hacks

*   [`www.flickr.com/photos/nicrosin/sets/1162716/`](http://www.flickr.com/photos/nicrosin/sets/1162716/)
*   [`www.flickr.com/photos/tv/6694555/in/pool-make/`](http://www.flickr.com/photos/tv/6694555/in/pool-make/)
*   [`www.flickr.com/photos/75872235@N00/sets/72057594056009141/`](http://www.flickr.com/photos/75872235@N00/sets/72057594056009141/)
*   [`www.hackaday.com/entry/1234000203045338/`](http://www.hackaday.com/entry/1234000203045338/)
*   [`myvogonpoetry.com/wp/index.php?p=57`](http://myvogonpoetry.com/wp/index.php?p=57)
*   [`www.bigmech.com/misc/juiceboxhack/juiceboxhack.html`](http://www.bigmech.com/misc/juiceboxhack/juiceboxhack.html)

## Lesser Hacks

The discontinuation of sales of the **JuiceBox** moves some previously trivial applications into the realm of *lesser hacks*; things that require some degree of documentation and effort, but no actual hardware modifications of the **JuiceBox** itself.

*   [JuiceBox Music Player](http://eLinux.org/JuiceBox_Music_Player "JuiceBox Music Player") Play MP3 songs on your **JuiceBox**
*   [JuiceBox Picture Player](http://eLinux.org/JuiceBox_Picture_Player "JuiceBox Picture Player") Show Pictures on the **JuiceBox** screen
*   [JuiceBox FAQ Hard Things](http://eLinux.org/JuiceBox_FAQ_Hard_Things "JuiceBox FAQ Hard Things") things you might have hoped were easy, but aren't
*   [JuiceWare_Xd_Proc](http://eLinux.org/JuiceWare_Xd_Proc "JuiceWare Xd Proc") custom cartridge

* * *

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [JuiceBox](http://eLinux.org/Category:JuiceBox "Category:JuiceBox")

# Leappad Explorer

> From: [eLinux.org](http://eLinux.org/Leappad_Explorer "http://eLinux.org/Leappad_Explorer")

# LeapPad Explorer

(Redirected from [Leappad Explorer](http://eLinux.org/index.php?title=Leappad_Explorer&redirect=no "Leappad Explorer")) Redirect page

Redirect to:

[LeapPad1 Explorer](http://eLinux.org/index.php?title=LeapPad1_Explorer&redirect=no "LeapPad1 Explorer")

# Leapster

> From: [eLinux.org](http://eLinux.org/Leapster "http://eLinux.org/Leapster")

# Leapster

## Technical Specifications

*   CPU: Custom ASIC containing an ARCTangent 5.1 CPU, running at 96MHz.
*   Memory:
    *   Original Leapster: 2MB onboard RAM, 256 bytes non-volatile.
    *   Leapster2: 16MB RAM, 128kbytes non-volatile storage
*   Media type: Cartridges of 4-16MB with between 2 and 512kb non-volatile storage.
*   Graphics: No hardware acceleration.
*   Audio: Proprietary hardware audio acceleration.
*   Screen: 160x160 CSTN with touch sensing.

All of the software content for the original Leapster was created with Macromedia Flash MX 2004; the device runs an embedded Macromedia Flash player.

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Leapster Explorer](http://eLinux.org/Category:Leapster_Explorer "Category:Leapster Explorer")

# Leapster Explorer

> From: [eLinux.org](http://eLinux.org/Leapster_Explorer "http://eLinux.org/Leapster_Explorer")

# Leapster Explorer

**This device is part of the [LeapFrog Pollux Platform](http://eLinux.org/LeapFrog_Pollux_Platform "LeapFrog Pollux Platform"), it's recommended to start there for general information.**

![](http://eLinux.org/File:LeapsterExplorer.jpg)

The Leapster Explorer (Leapfrog Enterprises)

## Contents

*   1 Platform
*   2 Project Summary
*   3 Bootloader
*   4 Sources and Toolchains
*   5 Tutorials/How To's
*   6 Technical Information
*   7 Images

## Platform

[LeapFrog Pollux Platform](http://eLinux.org/LeapFrog_Pollux_Platform "LeapFrog Pollux Platform")

The Leapster Explorer is part of 3 different devices that all share a common hardware platform, based around the [Pollux](http://eLinux.org/Pollux "Pollux") SoC. The platform page contains information generic across these devices, and it is recommended that you refer to that page as it is a good starting point to understanding the Leapster Explorer, and contains some basic How To's and Tutorials to get you started.

## Project Summary

The Leapster Explorer (like its predecessor the Didj) is a toy produced by Leapfrog marketed as an educational handheld gaming console for kids aged 4-9\. Although it has a proprietary graphical front end, it runs a generic Linux distribution on the same ARM9-based processor as the Didj. Console access to the Explorer is achieved using the same method as found on the Didj.

Lots more information on the Didj

## Bootloader

*   [Emerald Boot](http://eLinux.org/Leapster_Explorer:_Emerald_Boot "Leapster Explorer: Emerald Boot")

## Sources and Toolchains

*   [Sources and Toolchains](http://eLinux.org/LeapFrog_Pollux_Platform:_Source_Code "LeapFrog Pollux Platform: Source Code")

## Tutorials/How To's

**General**

*   [Common Command Reference](http://eLinux.org/Leapster_Explorer:_Common_Commands "Leapster Explorer: Common Commands")
*   [Overclocking](http://eLinux.org/Leapster_Explorer:_Over_Clock "Leapster Explorer: Over Clock")
*   [Console Access](http://eLinux.org/LeapFrog_Pollux_Platform:_Console_Access "LeapFrog Pollux Platform: Console Access")
*   [Cartridges](http://eLinux.org/LeapFrog_Pollux_Platform:_Cartridge "LeapFrog Pollux Platform: Cartridge")
    *   [Cartridge Settings](http://eLinux.org/LeapFrog_Pollux_Platform:_Cartridge_Settings "LeapFrog Pollux Platform: Cartridge Settings")
*   [Extract lfp/lf2 Archives](http://eLinux.org/LeapFrog_Pollux_Platform:_Extract_Archives "LeapFrog Pollux Platform: Extract Archives")
*   [CBF File Format](http://eLinux.org/LeapFrog_Pollux_Platform:_File_Format_CBF "LeapFrog Pollux Platform: File Format CBF")
*   [DFTP](http://eLinux.org/LeapFrog_Pollux_Platform:_DFTPdevice "LeapFrog Pollux Platform: DFTPdevice")

**Booting**

*   [GPIO Subsystem Boot Options](http://eLinux.org/Leapster_Explorer:_GPIO_subsystem "Leapster Explorer: GPIO subsystem")
*   [USB Booting](http://eLinux.org/Leapster_Explorer:_USB_Boot "Leapster Explorer: USB Boot")
*   [USB Boot without LFConnect](http://eLinux.org/Leapster_Explorer:_USB_Boot "Leapster Explorer: USB Boot")
*   [Modify Kernel for USB Boot](http://eLinux.org/Leapster_Explorer:_Testing_Kernels_via_USB_Boot "Leapster Explorer: Testing Kernels via USB Boot")
*   [USB Boot Settings](http://eLinux.org/Leapster_Explorer:_USB_Boot_settings "Leapster Explorer: USB Boot settings")
*   [Surgeon](http://eLinux.org/LeapFrog_Pollux_Platform:_Surgeon "LeapFrog Pollux Platform: Surgeon")

**Networking**

*   [Networking Setup](http://eLinux.org/LeapFrog_Pollux_Platform:_Networking "LeapFrog Pollux Platform: Networking")
*   [Networking Applications](http://eLinux.org/LeapFrog_Pollux_Platform:_Networking_Applications "LeapFrog Pollux Platform: Networking Applications")
*   [Internet Access from Device](http://eLinux.org/LeapFrog_Pollux_Platform:_Internet_Access "LeapFrog Pollux Platform: Internet Access")
*   [Mount NFS Directory](http://eLinux.org/LeapFrog_Pollux_Platform:_Mount_NFS_Directory "LeapFrog Pollux Platform: Mount NFS Directory")

**LeapFrog Flash UI**

*   [Play Your Own Theora Video Files](http://eLinux.org/Leapster_Explorer:_Play_Theora_Videos "Leapster Explorer: Play Theora Videos")
*   [Play Your Own Flash Game Files](http://eLinux.org/Leapster_Explorer:_Play_Your_Own_Flash_Games "Leapster Explorer: Play Your Own Flash Games")

**Cartridge**

*   [How to make a NAND cartridge](http://eLinux.org/Leapster_Explorer:_How_To_Make_a_NAND_Cartridge "Leapster Explorer: How To Make a NAND Cartridge")

**Kernel/RootFS/Firmware**

*   Building libSDL
*   Building SDL_ttf font library
*   Building SDL_image library with jpg and png support
*   Building SDL_mixer audio library
*   [Building tslib](http://eLinux.org/Leapster_Explorer:_tslib_Touchscreen_Library "Leapster Explorer: tslib Touchscreen Library")
*   [SDL Resources](http://eLinux.org/Leapster_Explorer:_SDL_resources "Leapster Explorer: SDL resources")
*   Boot Kernel and Rootfs from SD w/Framebuffer
*   [Linux Framebuffer Driver](http://eLinux.org/Leapster_Explorer_Framebuffer_Driver "Leapster Explorer Framebuffer Driver")
*   Enable SD Card Module
*   [Building The Explorer Root File System](http://eLinux.org/Leapster_Explorer_Root_File_System "Leapster Explorer Root File System")
*   Changing the fb driver to display the boot logo correctly
*   [TV Out](http://eLinux.org/LeapFrog_Pollux_Platform:_TV_Out "LeapFrog Pollux Platform: TV Out")

**Firmware Image**

*   [Mount UBI Image on Linux](http://eLinux.org/File_Systems#Mounting_UBI_Image_on_PC_using_nandsim "File Systems")

    *   Relevent Settings
    *   ID Bytes 0x2C 0xDC 0x00 0x15
*   [Create UBI Image on Linux](http://eLinux.org/UBIFS#Creating_UBI_Image "UBIFS")

    *   Relevant Settings
    *   vol_name=ubi_rfs
    *   vol_size=87349248
    *   -m 2048
    *   -e 129024
    *   -c 677
    *   -s 512
    *   -O 512

**JTAG**

*   [JTAG Pinouts](http://eLinux.org/LeapFrog_Pollux_Platform:_JTAG_Pinouts "LeapFrog Pollux Platform: JTAG Pinouts")
*   [Pollux FTDI JTAG How To](http://eLinux.org/Pollux:_FTDI_JTAG_How_To "Pollux: FTDI JTAG How To")
*   [Pollux JTAG Wiggler Config](http://eLinux.org/Pollux_JTAG_with_Wiggler "Pollux JTAG with Wiggler")
*   [JTAG Kernel Boot](http://eLinux.org/LeapFrog_Pollux_Platform:_JTAG_Kernel_Boot "LeapFrog Pollux Platform: JTAG Kernel Boot")

**Compiling Source Code**

*   [Set up the Build Environment](http://eLinux.org/LeapFrog_Pollux_Platform:_Build_Environment "LeapFrog Pollux Platform: Build Environment")
*   [Kernel Configuration](http://eLinux.org/LeapFrog_Pollux_Platform:_Kernel_Configuration "LeapFrog Pollux Platform: Kernel Configuration")

## Technical Information

[Device Comparison](http://eLinux.org/LeapFrog_Pollux_Platform:_Technical_Details "LeapFrog Pollux Platform: Technical Details")

[Leapster Explorer Memory Map](http://eLinux.org/Leapster_Explorer_Memory_Map "Leapster Explorer Memory Map")

[Camera Interface](http://eLinux.org/Leapster_Explorer_Camera "Leapster Explorer Camera")

**File System Contents List**

[1.0.8.6905](http://eLinux.org/Leapster_Explorer:_FileSystem_Listing "Leapster Explorer: FileSystem Listing")

[1.1.46.8291](http://eLinux.org/Leapster_Explorer:_FileSystem_Listing_1.1.46.8291 "Leapster Explorer: FileSystem Listing 1.1.46.8291")

[1.3.4.2044](http://eLinux.org/Leapster_Explorer:_FileSystem_Listing_1.3.4.2044 "Leapster Explorer: FileSystem Listing 1.3.4.2044")

[1.4.11.2128](http://eLinux.org/Leapster_Explorer:_FileSystem_Listing_1.4.11.2128 "Leapster Explorer: FileSystem Listing 1.4.11.2128")

**Default Boot CommandLine**

```
init=/sbin/init console=ttyS0,115200 mem=46M mlc_fb=0x82E00000,0x01200000 ram=0x80000000-0x83FFFFFF screen_module=ILI9322
ebs=0x20000,0x0 root=ubi0_0 rw rootfstype=ubifs ubi.mtd=RFS 
```

**Partitions**

| Name | Location | Size | Device | Notes |
| Emerald_Boot | 0x00000000 | 0x00100000 | /dev/mtd0 | On NOR |
| I18n_Screens | 0x00100000 | 0x00100000 | /dev/mtd1 | On NAND |
| Kernel | 0x00200000 | 0x00800000 | /dev/mtd2 | On NAND |
| RFS | 0x00A00000 | 0x05600000 | /dev/mtd3 | On NAND |
| Bulk | 0x06000000 | 0x1A000000 | /dev/mtd4 | On NAND |
| NOR_Boot |  | 0x0007E000 | /dev/mtd5 |  |
| MfgData0 |  | 0x00001000 | /dev/mtd6 |  |
| MfgData1 |  | 0x00001000 | /dev/mtd7 |  |
| ubi_rfs |  | 0x0534d800 | /dev/mtd8 |  |
| ubi_bulk |  | 0x194f2800 | /dev/mtd9 |  |
| Cartridge | 0x00000000 | 0x10000000 |  | On Cartridge NAND |

## Images

*   PCB Images
*   ![](http://eLinux.org/File:Leapster_Explorer-Mainboard-front.jpg)

    Scan of front side of Leapster Explorer mainboard.

*   Error creating thumbnail: Invalid thumbnail parameters

    With components desoldered - scan of front side of Leapster Explorer mainboard.

*   ![](http://eLinux.org/File:Leapster_Explorer-Mainboard-back.jpg)

    Scan of back side of Leapster Explorer mainboard.

*   Error creating thumbnail: Invalid thumbnail parameters

    With components desoldered - scan of back side of Leapster Explorer mainboard.

*   ![](http://eLinux.org/File:Leapster_Explorer_Usb_Pinouts.jpg)

    Leapster Explorer USB Host Pinout. [`wtfmoogle.com/?p=1190`](http://wtfmoogle.com/?p=1190)

*   ![](http://eLinux.org/File:Leapster_Explorer_Usb_Connector.jpg)

    Leapster Explorer USB Host Connector.

*   ![](http://eLinux.org/File:LX-TVOut-TestPad.JPG)

    TVout BGA pin(2A) and suspected test pad (TP30 right).

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Leapster Explorer](http://eLinux.org/Category:Leapster_Explorer "Category:Leapster Explorer")
*   [LeapFrog Pollux Platform](http://eLinux.org/index.php?title=Category:LeapFrog_Pollux_Platform&action=edit&redlink=1 "Category:LeapFrog Pollux Platform (page does not exist)")

# Libertas SDIO

> From: [eLinux.org](http://eLinux.org/Libertas_SDIO "http://eLinux.org/Libertas_SDIO")

# Libertas SDIO

## Contents

*   1 Libertas SDIO
    *   1.1 WPA
    *   1.2 Firmware 8.73.7
    *   1.3 Firmware 9.70.3

# Libertas SDIO

## WPA

wpa_supplicant-0.5.5 is known to work properly with libertas sdio

## Firmware 8.73.7

the marvell supplied firmware for 8.73.7 is known to work with all current versions of the libertas driver

[`www.marvell.com/drivers/driverDisplay.do?driverId=178`](http://www.marvell.com/drivers/driverDisplay.do?driverId=178)

## Firmware 9.70.3

the marvell supplied firmware for 9.70.3 is known to work with libertas driver in the main linux kernel starting at 2.6.27

[`www.marvell.com/drivers/driverDisplay.do?driverId=203`](http://www.marvell.com/drivers/driverDisplay.do?driverId=203) (dead)

[`extranet.marvell.com/drivers/driverDisplay.do?driverId=203`](http://extranet.marvell.com/drivers/driverDisplay.do?driverId=203)

# Literati

> From: [eLinux.org](http://eLinux.org/Literati "http://eLinux.org/Literati")

# Literati

## Contents

*   1 Links
*   2 Hardware
    *   2.1 NAND (internal flash)
    *   2.2 Datasheets
    *   2.3 JTAG Port
    *   2.4 Serial Port
    *   2.5 Opening Your Literati (White Sunway Model)
*   3 Kernel testing
    *   3.1 dmesg from ygator

## Links

1.  New Dev forum [`literati.linuxprogrammer.org`](http://literati.linuxprogrammer.org)
2.  Old Dev forum [`forum.literatidevs.com/index.php`](http://forum.literatidevs.com/index.php)

## Hardware

*   CPU: S3C6410 running at 666Mhz
*   Memory: 64MB
*   LCD: innolux lcd 480 X 800

### NAND (internal flash)

```
NAND device: Manufacturer ID: 0xec, Chip ID: 0xdc (Samsung NAND 512MiB 3,3V 8-bit)
Creating 5 MTD partitions on "NAND 512MiB 3,3V 8-bit":
0x00000000-0x00040000 : "Bootloader"
0x00040000-0x00340000 : "Kernel"
0x00340000-0x00d40000 : "resource"
0x00d40000-0x11140000 : "File System 1"
0x11140000-0x20000000 : "User space" 
```

### Datasheets

[smdk6410](http://www.mt-system.ru/documents/smdk6410_users_manual_rev1.0.pdf) it looks to be based on this. [File:Lookbook-schematics.pdf](http://eLinux.org/File:Lookbook-schematics.pdf "File:Lookbook-schematics.pdf")

[LCD](http://www.gst-lcd.com/spec/tftspec/LTE480WV-F01(4.8inch).pdf) [quick view](http://www.diytrade.com/china/4/products/3920682/4_8inch_TFT_LCD_Module_800x480_LTE480WV-F01.html)

### JTAG Port

The JTAG port has yet to be identified on the Literati.

### Serial Port

[Serial Port Access](http://eLinux.org/Literati:Serial_Port "Literati:Serial Port")

### Opening Your Literati (White Sunway Model)

[Opening White Literati](http://eLinux.org/Literati:Opening_White_Literati "Literati:Opening White Literati")

## Kernel testing

[Burn Kernel/Booting from SD](http://eLinux.org/Burn_Kernel/Booting_from_SD "Burn Kernel/Booting from SD")

### dmesg from ygator

```
Linux version 2.6.24.2 (root@ligang-laptop) (gcc version 4.1.2) #180 Mon Aug 23 00:49:07 CST 2010
CPU: ARMv6-compatible processor [410fb766] revision 6 (ARMv7), cr=00c5387f
Machine: SMDK6410
Ignoring unrecognised tag 0x00000000
Memory policy: ECC disabled, Data cache writeback
On node 0 totalpages: 16384
DMA zone: 128 pages used for memmap
DMA zone: 0 pages reserved
DMA zone: 16256 pages, LIFO batch:3
Normal zone: 0 pages used for memmap
Movable zone: 0 pages used for memmap
CPU S3C6410 (id 0x36410101)
S3C6410: core 666.000 MHz, memory 111.000 MHz, peripheral 55.500 MHz
S3C6410: EPLL 192.000 MHz
S3C64XX Clocks, (c) 2007 Samssung Electronics
CPU0: D VIPT write-back cache
CPU0: I cache: 16384 bytes, associativity 4, 32 byte lines, 128 sets
CPU0: D cache: 16384 bytes, associativity 4, 32 byte lines, 128 sets
Built 1 zonelists in Zone order, mobility grouping on. Total pages: 16256
Kernel command line: console=ttySAC0,115200 loglevel=0 ubi.mtd=3 root=ubi0:rootfs rootfstype=ubifs
Trying to install chained interrupt handler for IRQ0
Trying to install chained interrupt handler for IRQ1
Trying to install chained interrupt handler for IRQ32
Trying to install chained interrupt handler for IRQ33
PID hash table entries: 256 (order: 8, 1024 bytes)
timer tcon=00600900, tcnt 29b0, tcfg 00001919,00000040, usec 000077ee
Console: colour dummy device 80x30
console [ttySAC0] enabled
Dentry cache hash table entries: 8192 (order: 3, 32768 bytes)
Inode-cache hash table entries: 4096 (order: 2, 16384 bytes)
Memory: 64MB = 64MB total
Memory: 61708KB available (2768K code, 265K data, 104K init)
Calibrating delay loop... 665.19 BogoMIPS (lpj=1662976)
Mount-cache hash table entries: 512
CPU: Testing write buffer coherency: ok
net_namespace: 64 bytes
NET: Registered protocol family 16
================> wifi status change from 0 to 0
S3C6410 Power Management, (c) 2008 Samsung Electronics
s3c6410: Initialising architecture
S3C DMA-pl080 Controller Driver, (c) 2006-2007 Samsung Electronics
Total 32 DMA channels will be initialized.
SCSI subsystem initialized
usbcore: registered new interface driver usbfs
usbcore: registered new interface driver hub
usbcore: registered new device driver usb
NET: Registered protocol family 2
IP route cache hash table entries: 1024 (order: 0, 4096 bytes)
TCP established hash table entries: 2048 (order: 2, 16384 bytes)
TCP bind hash table entries: 2048 (order: 1, 8192 bytes)
TCP: Hash tables configured (established 2048 bind 2048)
TCP reno registered
NetWinder Floating Point Emulator V0.97 (double precision)
io scheduler noop registered
io scheduler anticipatory registered (default)
io scheduler deadline registered
io scheduler cfq registered
S3C_LCD clock got enabled :: 111.000 Mhz
LCD TYPE :: LTE480WV will be initialized
Window[0] - FB1: map_video_memory: clear ff200000:000bb800
FB1: map_video_memory: dma=53900000 cpu=ff200000 size=000bb800
Console: switching to colour frame buffer device 100x30
fb0: s3cfb frame buffer device
s3c_lcd_set_power:1
PWM channel 1 set g_tcnt = 1000, g_tcmp = 480
S3C ADC driver, (c) 2007 Samsung Electronics
S3C ADC driver successfully probed !
s3c-uart.0: s3c_serial0 at MMIO 0x7f005000 (irq = 37) is a S3C
s3c-uart.1: s3c_serial1 at MMIO 0x7f005400 (irq = 38) is a S3C
s3c-uart.2: s3c_serial2 at MMIO 0x7f005800 (irq = 39) is a S3C
s3c-uart.3: s3c_serial3 at MMIO 0x7f005c00 (irq = 40) is a S3C
RAMDISK driver initialized: 16 RAM disks of 4096K size 1024 blocksize
loop: module loaded
Driver 'sd' needs updating - please use bus_type methods
S3C NAND Driver, (c) 2007 Samsung Electronics
S3C NAND Driver is using hardware ECC.
NAND device: Manufacturer ID: 0xec, Chip ID: 0xdc (Samsung NAND 512MiB 3,3V 8-bit)
Creating 5 MTD partitions on "NAND 512MiB 3,3V 8-bit":
0x00000000-0x00040000 : "Bootloader"
0x00040000-0x00340000 : "Kernel"
0x00340000-0x00d40000 : "resource"
0x00d40000-0x11140000 : "File System 1"
0x11140000-0x20000000 : "User space"
UBI: attaching mtd3 to ubi0
UBI: physical eraseblock size: 262144 bytes (256 KiB)
UBI: logical eraseblock size: 258048 bytes
UBI: smallest flash I/O unit: 2048
UBI: VID header offset: 2048 (aligned 2048)
UBI: data offset: 4096
UBI: attached mtd3 to ubi0
UBI: MTD device name: "File System 1"
UBI: MTD device size: 260 MiB
UBI: number of good PEBs: 1040
UBI: number of bad PEBs: 0
UBI: max. allowed volumes: 128
UBI: wear-leveling threshold: 4096
UBI: number of internal volumes: 1
UBI: number of user volumes: 1
UBI: available PEBs: 10
UBI: total number of reserved PEBs: 1030
UBI: number of PEBs reserved for bad PEB handling: 10
UBI: max/mean erase counter: 3/1
ohci_hcd: 2006 August 04 USB 1.1 'Open' Host Controller (OHCI) Driver
UBI: background thread "ubi_bgt0d" started, PID 223
usb_host_clk_en
otg_phy_init ...................!
s3c2410-ohci s3c2410-ohci: S3C OHCI
s3c2410-ohci s3c2410-ohci: new USB bus registered, assigned bus number 1
s3c2410-ohci s3c2410-ohci: irq 47, io mem 0x74300000
usb usb1: configuration #1 chosen from 1 choice
hub 1-0:1.0: USB hub found
hub 1-0:1.0: 1 port detected
s3c6410_OTGHCD s3c6410_OTGHCD: S3C6410 OTGHCD
s3c6410_OTGHCD s3c6410_OTGHCD: new USB bus registered, assigned bus number 2
s3c6410_OTGHCD s3c6410_OTGHCD: irq 58, io mem 0x7c000000
===============Enter ID_DEVICE Mod===============
===============Enter ID_DEVICE Mod===============
usb usb2: configuration #1 chosen from 1 choice
hub 2-0:1.0: USB hub found
hub 2-0:1.0: 1 port detected
otg_phy_init ...................!
===============Enter ID_DEVICE Mod===============
===============Enter ID_DEVICE Mod===============
otg_phy_init ...................!
Loaded s3c-udc version Aug 23 2010 (DMA Mode)
input: midfun-keys as /devices/platform/midfun-keys/input/input0
input: s3c-keypad as /devices/platform/s3c-keypad/input/input1
s3c-keypad Initialized
S3C Keypad Driver
S3C24XX RTC, (c) 2004,2006 Simtec Electronics
s3c2410-rtc s3c2410-rtc: rtc disabled, re-enabling
s3c2410-rtc s3c2410-rtc: rtc core: registered s3c as rtc0
S3C PWM Driver, (c) 2006-2007 Samsung Electronics
i2c /dev entries driver
s3c2410-i2c s3c2410-i2c: slave address 0x10
s3c2410-i2c s3c2410-i2c: bus frequency set to 108 KHz
s3c2410-i2c s3c2410-i2c: i2c-0: S3C I2C adapter
s3c-hsmmc: card inserted.
[s3c_hsmmc_probe]: s3c-hsmmc.1: at 0xc5000000 with irq 57\. clk src: sclk_DOUTmpll_mmc1
TCP cubic registered
NET: Registered protocol family 1
NET: Registered protocol family 17
NET: Registered protocol family 15
ieee80211: 802.11 data/management/control stack, git-1.1.13
ieee80211: Copyright (C) 2004-2005 Intel Corporation <jketreno@linux.intel.com>
ieee80211_crypt: registered algorithm 'NULL'
ieee80211_crypt: registered algorithm 'WEP'
ieee80211_crypt: registered algorithm 'CCMP'
ieee80211_crypt: registered algorithm 'TKIP'
VFP support v0.3: implementor 41 architecture 1 part 20 variant b rev 5
s3c2410-rtc s3c2410-rtc: setting system clock to 2011-02-06 04:43:51 UTC (1296967431)
UBIFS: recovery needed
UBIFS: recovery completed
UBIFS: mounted UBI device 0, volume 0, name "rootfs"
UBIFS: file system size: 259854336 bytes (253764 KiB, 247 MiB, 1007 LEBs)
UBIFS: journal size: 12902400 bytes (12600 KiB, 12 MiB, 50 LEBs)
UBIFS: media format: w4/r0 (latest is w4/r0)
UBIFS: default compressor: lzo
UBIFS: reserved for root: 4952683 bytes (4836 KiB)
VFS: Mounted root (ubifs filesystem).
Freeing init memory: 104K
UART err int.
s3c-nand: 1 bit(s) error detected, corrected successfully
s3c-nand: 1 bit(s) error detected, corrected successfully
s3c-nand: 1 bit(s) error detected, corrected successfully
mmc0: host does not support reading read-only switch. assuming write-enable.
mmc0: new SD card at address ebe2
mmcblk0: mmc0:ebe2 SD512 500224KiB
mmcblk0: p1
s3c-nand: 1 bit(s) error detected, corrected successfully
s3c-nand: 1 bit(s) error detected, corrected successfully
s3c-nand: 1 bit(s) error detected, corrected successfully
UBI: attaching mtd4 to ubi1
UBI: physical eraseblock size: 262144 bytes (256 KiB)
UBI: logical eraseblock size: 258048 bytes
UBI: smallest flash I/O unit: 2048
UBI: VID header offset: 2048 (aligned 2048)
UBI: data offset: 4096
UBI: attached mtd4 to ubi1
UBI: MTD device name: "User space"
UBI: MTD device size: 238 MiB
UBI: number of good PEBs: 955
UBI: number of bad PEBs: 0
UBI: max. allowed volumes: 128
UBI: wear-leveling threshold: 4096
UBI: number of internal volumes: 1
UBI: number of user volumes: 1
UBI: available PEBs: 0
UBI: total number of reserved PEBs: 955
UBI: number of PEBs reserved for bad PEB handling: 9
UBI: max/mean erase counter: 2/1
UBI: background thread "ubi_bgt1d" started, PID 500
UBIFS: recovery needed
UBIFS: recovery completed
UBIFS: mounted UBI device 1, volume 0, name "ubifs1"
UBIFS: file system size: 240758784 bytes (235116 KiB, 229 MiB, 933 LEBs)
UBIFS: journal size: 12128256 bytes (11844 KiB, 11 MiB, 47 LEBs)
UBIFS: media format: w4/r0 (latest is w4/r0)
UBIFS: default compressor: lzo
UBIFS: reserved for root: 4952683 bytes (4836 KiB)
usbcore: registered new interface driver usbhid
drivers/hid/usbhid/hid-core.c: v2.6:USB HID core driver
s3c-nand: 1 bit(s) error detected, corrected successfully
s3c-nand: 1 bit(s) error detected, corrected successfully
Adding 64492k swap on /mnt/swap/actual_swap. Priority:-1 extents:1 across:64492k
usb 1-1: new full speed USB device using s3c2410-ohci and address 2
usb 1-1: not running at top speed; connect to a high speed hub
usb 1-1: configuration #1 chosen from 1 choice
================> wifi status change from 0 to 1
rtusb init --->

=== pAd = c4f01000, size = 439728 ===

RTMPAllocAdapterBlock, Status=0
usbcore: registered new interface driver rt2870
RTMPAllocTxRxRingMemory, Status=0
-->RTUSBVenderReset
RTUSBVenderReset
Key1Str is Invalid key length(0) or Type(0)
Key2Str is Invalid key length(0) or Type(0)
Key3Str is Invalid key length(0) or Type(0)
Key4Str is Invalid key length(0) or Type(0)
1\. Phy Mode = 0
2\. Phy Mode = 0
NVM is Efuse and its size =2d[2d0-2fc]
3\. Phy Mode = 0
RTMPSetPhyMode: channel is out of range, use first channel=1
== rt28xx_init, Status=0
0x1300 = 00073200
s3c_lcd_set_power:1
PWM channel 1 set g_tcnt = 1000, g_tcmp = 96
Terminate the task(RtmpMlmeTask) with pid(559)!
Terminate the task(RtmpCmdQTask) with pid(560)!
Terminate the task(RtmpTimerTask) with pid(558)!
---> RTMPFreeTxRxRingMemory
- RTMPFreeTxRxRingMemory
================> wifi status change from 1 to 0
usb 1-1: USB disconnect, address 2
rtusb_disconnect: unregister usbnet usb-s3c24xx-1
RtmpOSNetDevDetach(): RtmpOSNetDeviceDetach(), dev->name=ra0!
RTUSB disconnect successfully 
```

[Categoty:Literati](http://eLinux.org/index.php?title=Categoty:Literati&action=edit&redlink=1 "Categoty:Literati (page does not exist)")

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Development Boards](http://eLinux.org/Category:Development_Boards "Category:Development Boards")

# Lithium Ion Charger

> From: [eLinux.org](http://eLinux.org/Lithium_Ion_Charger "http://eLinux.org/Lithium_Ion_Charger")

# Lithium Ion Charger

[M8022 Charger Schematic](http://eLinux.org/images/9/9c/M8022.pdf "M8022.pdf")

# Mini LA

> From: [eLinux.org](http://eLinux.org/Mini_LA "http://eLinux.org/Mini_LA")

# Mini LA

**Mini LA** is a project of simple and cheap logic analyzer designed for amateur and semi-professional work.

![Minila.jpg](http://eLinux.org/File:Minila.jpg)

Features:

*   Up to 32 channels
*   128 Kb of memory for each channel
*   Sampling rate up to 100MHz (timebase in 1-2-5 sequence)
*   External clock input
*   Input levels compatible with 3.3V and 5V logic
*   Selectable pretrigger/posttrigger buffer size in 8K steps
*   16 bits wide trigger (0, 1, don't care)
*   Programmable min. trigger-event width (1-16)
*   Programmable trigger-events counter (1-16)
*   External trigger input
*   Communicating via LPT port (EPP mode support) or USB
*   Documentation and source codes released under GNU GPL
*   [Mini LAParts](http://eLinux.org/Mini_LAParts "Mini LAParts")

# Mobile Pro

> From: [eLinux.org](http://eLinux.org/Mobile_Pro "http://eLinux.org/Mobile_Pro")

# Mobile Pro

This is the site for the NEC **Mobile Pro** 770/780/790 set of Handheld PCs. These handhelds are rather neat, and can make a powerful target for a strong linux system. Among the overall specs of these things we have:

*   VR4121 168mhz 32/64 bit processor (PD30121) - you can access some info about it here: [`www.linuxdevices.com/products/PD3171456766.html`](http://www.linuxdevices.com/products/PD3171456766.html)
*   32mb of RAM memory
*   24mb of ROM memory
*   16mb of Flash (only on the 790 model)
*   A PC card bridge serving one PCMCIA slot and one [Compact Flash](http://eLinux.org/Compact_Flash "Compact Flash") slot
*   Near full size keyboard
*   640x240 64k color DSTN LCD screen with touch panel
*   56k modem
*   [IrDA](http://eLinux.org/IrDA "IrDA")
*   NEC proprietary serial plug, requires NEC cable or just wire a cable yourself and solder it onto the pins
*   VGA out

Components inside it listed and checked so far (this list was made while fixing a problem with the PCMCIA socket, so it will be updated later with more accurate information) - refer to the board picture for more info, I will try to get a scan of it later.

*   NEC VR4121A D30121F1 (PD30121) Processor
*   RICOH RFC5C396L PC Card controller
*   CONEXANT RP56LD (Modem controller)
*   [Media Q](http://eLinux.org/index.php?title=Media_Q&action=edit&redlink=1 "Media Q (page does not exist)") MQ200 LCD Controller
*   2x HYUNDAI GM72V661641CLT7J 64mbit chips onboard
*   2x HYUNDAI GM72V661641CLT7J 64mbit chips on a plugable board (memory upgrade anyone?)
*   2x NEC 023C128040L (???) -> Supposedly the ROM chips, but I can't find any information. I haven't really looked for it yet either.

Here we got a pic of the thing: [mp-open.jpg](http://i7.photobucket.com/albums/y283/ricmm104/mp-open.jpg)

The front - CF slot in the middle, headphones jack and microphone at the right: [mp-front.jpg](http://i7.photobucket.com/albums/y283/ricmm104/mp-front.jpg)

PCMCIA Socket on the right side: [mp-pcmcia.jpg](http://i7.photobucket.com/albums/y283/ricmm104/mp-pcmcia.jpg)

Back of the device (battery): [mp-back.jpg](http://i7.photobucket.com/albums/y283/ricmm104/mp-back.jpg)

Bottom of the device, you can see the RAM/ROM plugable boards compartment's cover: [mp-bottom.jpg](http://i7.photobucket.com/albums/y283/ricmm104/mp-bottom.jpg)

And the board picture mentioned before: [mp-board.jpg](http://i7.photobucket.com/albums/y283/ricmm104/mp-board.jpg)

I'm currently working using the linux-mips.org [VR41xx](http://eLinux.org/index.php?title=VR41xx&action=edit&redlink=1 "VR41xx (page does not exist)") code with a few modifications and code obtained from Linux on MCR700 project. Development is going on continuously on this device, the page will be updated when deemed necessary.

Contact me for more info on: mendoza dot ricardo at gmail dot com

I would be interested in helping out on this project - how do i contact you? - Paul

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Hardware](http://eLinux.org/Category:Hardware "Category:Hardware")

# MUSB

> From: [eLinux.org](http://eLinux.org/MUSB "http://eLinux.org/MUSB")

# MUSB

## Contents

*   1 MUSBMHDRC DRD OTG Controller
*   2 MUSB PENDING PATCHES
    *   2.1 Bug fix patches for v2.6.35
        *   2.1.1 Greg's queue
        *   2.1.2 Acked by Felipe
        *   2.1.3 Review in progress
            *   [2.1.3.1 Jon Povey: [1 patch] : Fixing compilation warning](#jon-povey-1-patch-:-fixing-compilation-warning)
    *   2.2 New feature patches for v2.6.36
        *   2.2.1 Greg's queue
            *   [2.2.1.1 Anand: [1 patch] : Cleanup](#anand-1-patch-:-cleanup)
            *   [2.2.1.2 Anand: [1 patch] : on Mentor DMA](#anand-1-patch-:-on-mentor-dma)
        *   2.2.2 Acked by Felipe
        *   2.2.3 Review in progress
            *   [2.2.3.1 Sergei: [1 patch] : DA8x MUSB support](#sergei-1-patch-:-da8x-musb-support)
            *   [2.2.3.2 Ajay: [3 patch] : Set on AM35x MUSB support](#ajay-3-patch-:-set-on-am35x-musb-support)
            *   [2.2.3.3 Ajay: [2 patch] : FIFO table and cleanup](#ajay-2-patch-:-fifo-table-and-cleanup)
            *   [2.2.3.4 Ajay: [3 patch] : Set on neednop flag for NOP](#ajay-3-patch-:-set-on-neednop-flag-for-nop)
            *   [2.2.3.5 Ajay: [6 patch] : Set on SDMA as Mentor DMA workarounds](#ajay-6-patch-:-set-on-sdma-as-mentor-dma-workarounds)
            *   [2.2.3.6 Ajay: [1 patch] : On DMA channel release in host mode](#ajay-1-patch-:-on-dma-channel-release-in-host-mode)
            *   [2.2.3.7 Hema: [2 patch] : on Mentor DMA](#hema-2-patch-:-on-mentor-dma)
            *   [2.2.3.8 Hema: [4 patch] : Set on HWMODS](#hema-4-patch-:-set-on-hwmods)

# MUSBMHDRC DRD OTG Controller

The MUSBMHDRC DRD OTG Controller (from now on referred to as MUSB is a Dual-Role OTG IP Core used in several SoC implementations. At the time of this writing at least OMAP, DaVinci and Blackfins integrate that IP Core in the SoC and a discrete version of it is supplied by Texas Instruments as the tusb6010 ASIC.

# MUSB PENDING PATCHES

## Bug fix patches for v2.6.35

### Greg's queue

### Acked by Felipe

```
* None 
```

### Review in progress

#### Jon Povey: [1 patch] : Fixing compilation warning

```
* USB: musb: suppress warning about unused flags [1] 
```

## New feature patches for v2.6.36

### Greg's queue

#### Anand: [1 patch] : Cleanup

```
* musb: Kill board specific pinmux from driver file [2] 
```

#### Anand: [1 patch] : on Mentor DMA

```
* usb: musb: do not override DMA mode in channel program [3] 
```

### Acked by Felipe

```
* None 
```

### Review in progress

#### Sergei: [1 patch] : DA8x MUSB support

```
* MUSB: DA8xx/OMAP-L1x glue layer [4] 
```

#### Ajay: [3 patch] : Set on AM35x MUSB support

```
* AM35x: Add musb support [5]
* musb: add musb support for AM35x [6]
* musb: AM35x: Workaround for fifo read issue [7] 
```

#### Ajay: [2 patch] : FIFO table and cleanup

```
* usb: musb: Update FIFO mode_5_cfg to accomodate 4K [8]
* musb: remove extra blank and border lines [9] 
```

#### Ajay: [3 patch] : Set on neednop flag for NOP

```
* OMAP3: musb: add neednop flag to fix nop modular issue [10]
* musb: populate board_data within musb structure [11]
* musb: use neednop flag for nop registration [12] 
```

#### Ajay: [6 patch] : Set on SDMA as Mentor DMA workarounds

```
* musb: save OTG base physical address [13]
* musb: use system DMA to fix Inventra DMA issue on RTL-1.4 [14]
* musb: add function to check if Inventra DMA used [15]
* musb: use system DMA for unaligned buffers on RTL >= 1.8 [16]
* musb: gadget: fix tx transfer path for mode0 operation [17]
* musb: dma: use optimal transfer element for sdma [18] 
```

#### Ajay: [1 patch] : On DMA channel release in host mode

```
* musb: host: release dma channels if no active io [19] 
```

#### Hema: [2 patch] : on Mentor DMA

```
* usb: musb: Unmapping the dma buffer when switching to PIO mode [20]
* usb: musb: Dynamic dma channel allocation in gadget driver [21] 
```

#### Hema: [4 patch] : Set on HWMODS

```
* usb: musb: Adding names for IRQs in resource structure [22]
* usb: musb: Remove board_data parameter from musb_platform_init() [23]
* usb: musb: HWMOD database structures addition for OMAP3 [24]
* usb : musb:USB driver using omap_device_build for device registration. [25] 
```

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Hardware](http://eLinux.org/Category:Hardware "Category:Hardware")

# Nand Flash256

> From: [eLinux.org](http://eLinux.org/Nand_Flash256 "http://eLinux.org/Nand_Flash256")

# Nand Flash256

Common 256megabit flash models:

*   [Media:k9f5608u0a.pdf](http://eLinux.org/images/a/a3/K9f5608u0a.pdf "K9f5608u0a.pdf") Samsung
*   [Media:tc58256aft.pdf](http://eLinux.org/images/3/3d/Tc58256aft.pdf "Tc58256aft.pdf") Toshiba
*   [Media:tc58dvm82a1ft.pdf](http://eLinux.org/images/a/ab/Tc58dvm82a1ft.pdf "Tc58dvm82a1ft.pdf") Toshiba
*   sdtnf-256 Sandisk(no datasheet but compatible)
*   sdtngahe0-256 Sandisk(no datasheet but compatible)

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Hardware](http://eLinux.org/Category:Hardware "Category:Hardware")

# Nor vs Nand

> From: [eLinux.org](http://eLinux.org/Nor_vs_Nand "http://eLinux.org/Nor_vs_Nand")

# Nor vs Nand

There is a good introduction on the differences between NOR and NAND flash at:

[`www.commsdesign.com/design_corner/OEG20031022S0011`](http://www.commsdesign.com/design_corner/OEG20031022S0011)

Samsung seems to be able to boot off of NAND flash.

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Flash Memory](http://eLinux.org/Category:Flash_Memory "Category:Flash Memory")

# NTSC Bitbang

> From: [eLinux.org](http://eLinux.org/NTSC_Bitbang "http://eLinux.org/NTSC_Bitbang")

# NTSC Bitbang

### Introduction

This document describes how to generate composite color video signals in software using an SX microcontroller. First the document describes the video signal and after that how to do it in software. There is also a [PDF-Version](http://eLinux.org/images/e/eb/Howtocolor.pdf "Howtocolor.pdf") of this document, that is better if you wnat to print it to paper. (Note: The PDF-file also contains the games pong and tetris with source, so you might not want to print the whole document, also note that the document is supposed to be printed on both sides of the paper making some of the even pages are empty)

### Background

Back in early 1998 I made some experimenting using a PIC16F84 microcontroller (3MIPS of processor power) to generate composite B&W video signals on the fly in software, with two resistors as the only video hardware. I made the two classical games Pong and Tetris with this technique and published them including source on my homepage. Since then it has been built by several hundreds of people. During the Christmas 1998-1999 I got some equipment from Scenix (nowadays known as Ubicom) and made some experiments to generate color video signals using an SX chip, but before I got any results my programmer broke down, at least that was what I believed, and I stopped developing it. In the early summer of 2001 I was told by people at Parallax that it was the early versions of the SX-chips that had a bug in them so my programmer was just fine, so they gave me some new chips and I continued my work. After some new experiments, calculating and many late hours and a bit of luck I got my TV to lock onto the color signal an d by the end of summer I got a Tetris game up and running. During the fall I developed the Pong game, which was finished during the Christmas holidays 2001-2002\. I didn’t release the games as there were some details left to take care of. I didn’t want to publish them until they were as perfect as possible due to my bad experience with my PIC-based games that were spread in early bad versions. Now in spring 2003 I decided that I shouldn’t do any more improvements of the games as I don’t have time to work on them and I got to stop sometime. The biggest remaining issue is that it only works good for NTSC, it is much harder to get a correct PAL signal in software, but that is a problem for someone else to solve. Another issue about the games was this text about generating color video signals that I wanted to finish before I released the games, to not get that many questions about video generation that I don’t have time to answer. After reading this document you will hopefully understand how to generate color composite video signals in software. To fully understand this you need mathematical knowledge at university level, some RF-knowledge would also help a lot.

### Copyright note

How to generate color video signals in software with SX-chips (C) Rickard Gunée. This is open source, use this at your own risk ! You may use the information on this page for your own projects as long as you refer to the original author (by name and link to authors homepage), don't do it for profit and don't hurt or harm anyone or anything with it. The author can not be held responsible for any damage caused by the information on this and related pages.

# Peek

> From: [eLinux.org](http://eLinux.org/Peek "http://eLinux.org/Peek")

# Peek

![Peek.jpg](http://eLinux.org/File:Peek.jpg)

## Contents

*   1 The Device
    *   1.1 In The News
    *   1.2 Basic Specifications
    *   1.3 Discussions about the Current OS
    *   1.4 Wireless Network and FCC stuff
    *   1.5 Mail Handling
    *   1.6 Chip List
    *   1.7 Battery
    *   1.8 Peek Accessories
    *   1.9 Opening the Case
    *   1.10 Debugging/Programming Tools
    *   1.11 External MicroUSB Charge/Upgrade port
    *   1.12 Internal UART Header
    *   1.13 JTAG Pads (vias)
*   2 uClinux
    *   2.1 Bootloader
    *   2.2 Kernel
    *   2.3 Root Filesystem
    *   2.4 Tools
*   3 References
    *   3.1 Other Peek Hacking Sites
    *   3.2 Core Chipset Tools and Diagrams
    *   3.3 Similar board bringups
    *   3.4 TI documents
    *   3.5 Watch a Peek being assembled

## The Device

### In The News

*   [Company Website](http://www.getpeek.com/index2.html)
*   [Linux Devices](http://www.linuxfordevices.com/c/a/News/Peek-Pronto/)
*   [Geeky Peek Linux Challenge](http://www.geekypeek.com/?p=344)
*   [Amazon.com](http://www.amazon.com/Peek-Mobile-E-mail-Device-Gray/dp/B001FC0BWE/ref=sr_1_1?ie=UTF8&s=electronics&qid=1247192879&sr=1-1)
*   Peek teardown photos [Maushammer on Flickr](http://www.flickr.com/photos/8728129@N05/sets/72157607274454694/)
*   Discussion on irc.freenode.net channel #edev
*   Specific discussion of Linux on the Peek on irc.freenode.net channel ##peek

### Basic Specifications

*   320x240 TFT LCD with backlight
*   47 Key QWERTY keyboard
*   360 degree jogwheel with button
*   Vibrator Motor
*   Small Speaker
*   Side Push Button
*   Top Power Button
*   Standard SIM Socket
*   Micro-B USB Charging Socket ( USB connectivity is **not** supported, this is really just a TTL Serial port and a charging socket.)
*   Internal Coin Backup Battery
*   E-Mail Notification LED
*   Battery Door Contacts Switch

### Discussions about the Current OS

*   It's a lightweight, purpose-built OS called PeekUX. [[1]](http://www.geekypeek.com/?p=13)
    *   Starts with TI's very own version of the real-time OS called Nucleus ( by [Mentor](http://www.mentor.com/products/embedded_software/nucleus_rtos/) )
    *   TI has compiled in device drivers, and other stacks and turned it into their own platform.
    *   Peek SW developers then took what TI gave them and wrap it with their own proprietary GUI and network libraries to create Peekux.
    *   The email application then runs on top of that.
    *   The whole thing is built as a single image. Thus the distinction between OS and App is blurred.
*   "Hacking maybe difficult" article at Peek Forums. [[2]](http://www.peekforums.com/viewtopic.php?f=25&t=38)

### Wireless Network and FCC stuff

*   Uses [T-Mobile's](http://www.t-mobile.com/coverage/pcc.aspx) nationwide GSM network.
*   Also can use AT&T's GSM network as a secondary network.
*   [FCC ID](http://www.fcc.gov/oet/ea/fccid/) is listed as: V6LPEEK0001
*   Uses the GSM850 band. TX: 824-848MHz RX: 869-893MHz
*   Maximum RF Radiated Power (GPRS850): 26dBm EIRP
*   RX Sensitivity: -109dBm ?
*   Antenna: PIFA type

### Mail Handling

*   Currently, the very large computing resources at [Amazon AWS](http://aws.amazon.com/what-is-aws/) (Seattle, WA) is being used to handle the mail polling and forwarding for the Peek users. The mail handler was worked out at Peek HQ and then unleashed at AWS. AWS's "EC2 Service" is immensely flexible and allows Peek to keep up with the growing user base.

### Chip List

*   [Spansion](http://www.spansion.com) 71NS128NB0BJWRN 32Mb Psram + 128Mb NOR Flash [datasheet](http://spansion.com/Products/Support/Datasheets/s71ns-n_00_a9_e.pdf) [Additional flash info](http://spansion.com/Products/Support/Datasheets/s29ns-n_00_a13_e.pdf)
*   [TI](http://www.ti.com) D6591BQA - [TCS2310](http://focus.ti.com/general/docs/wtbu/wtbuproductcontent.tsp?templateId=6123&navigationId=12658&contentId=15407)
    *   The original TI link is dead, but there's a snapshot on the [Internet Archive](http://web.archive.org/web/20090212061841/http://focus.ti.com/general/docs/wtbu/wtbuproductcontent.tsp?templateId=6123&navigationId=12774&contentId=15407)
*   [TI](http://www.ti.com) T3031FZH - TWL3031 power management and IO control
*   [RFMD](http://www.rfmd.com) RF7115 Quad Band GSM850/GSM900/DCS/PCS TRANSMIT MODULE [datasheet](http://www.rfmd.com/pdfs/7115DS.pdf)
*   [ST](http://www.st.com) STMPE2401 - Port expander with Keypad and PWM controller [Datasheet](http://www.st.com/stonline/products/literature/ds/13018/stmpe2401.pdf)
*   26.00 MHz XTAL for the TCS2310
*   32.768 kHz XTAL for the TWL3031

### Battery

*   Model: PK-BAT-001
*   Voltage: 3.7V
*   Capacity: 700mAh
*   Maximum Charge Voltage:4.2V
*   Standard: GB/T18287-2000

### Peek Accessories

*   Upgrade Cable for upgrade/hacking (No longer available).
*   Replacement Battery (No longer available).

### Opening the Case

*   The case has 4 tiny "torx" style screws. The size is T6\. You will need a [Precision Torx Screwdriver](http://amzn.com/B000FGQ1G6) set.
*   Obviously, opening your Peek **voids the warranty**.
*   There are 3 tiny screws immediately visible when you take off battery cover. And the fourth screw is hidden under the red "Do not remove" sticker.
*   After the screws are removed, start from bottom of unit and carefully pry the top and bottom housings apart.
*   To understand what I mean, see this picture from [Maushammer on Flickr.](http://www.flickr.com/photos/8728129@N05/2855253340/sizes/l/in/set-72157607274454694/) On the left side of image is the bottom housing. Notice the four screw holes. The rest of the housing attaches with tabs that easily pry apart.

### Debugging/Programming Tools

*   [Micro to Mini USB Adapter](http://www.gsm-support.net/mini-usb----micro-usb-converter-p1298.en.html) (does not convert the UART to USB)
*   Flyswatter USB JTAG Debugger for upgrade/hacking
*   [OpenOCD JTAG Debugger Software](http://eLinux.org/Openocd-Redux "Openocd-Redux") -- currently doenst know anything about the LoCosto chips.
*   [UART TTL to USB Adapter](http://www.sparkfun.com/commerce/product_info.php?products_id=718) for upgrade/hacking
*   [J-Link USB JTAG/SWD debugger](http://iar.com/website1/1.0.1.0/369/1/) from IAR Systems. [User's Guide](http://ftp.iar.se/WWWfiles/jlink/J-Link_J-TraceARM-2.pdf)
*   Same J-Link product from [Segger USA](http://www.segger.com/cms/jlink.html)
*   [Cheap but decent Benchtop DC Power Supply](http://mouser.com/Search/ProductDetail.aspx?qs=ah0KxwAvRCGaWslNAMTDfg%3d%3d) from Extech Instruments. This will save you from needing to keep charged batteries around.

### External MicroUSB Charge/Upgrade port

This is the MicroUSB port that is exposed on the left side of the peek. It's used for both charging and upgrading the Peek. The upgrade cable uses a serial TTL to USB level shifter to convert the serial TTL into a USB com port. a bootlog can be viewed using serial settings 115200,n,8,1

| Pin | Function |
| --- | --- |
| 1 | +5V(USB Standard) |
| 2 | TXD +1.8V TTL |
| 3 | RXD +1.8V TTL |
| 4 | N/C |
| 5 | GND |
| Shield | Drain wire |

### Internal UART Header

This is on the inside of the Peek under the SIM (this is also covered by the warranty sticker). a bootlog can be viewed using serial settings 115200,n,8,1 **Note:** This is not a new, hidden serial port. This port is electrically the same as the External Charger/Upgrade port shown above.

| Pin | Function |
| --- | --- |
| 1 | Ground |
| 2 | nPowerButton (active low) |
| 3 | UART_RX +1.8V TTL (input to Peek) |
| 4 | USB_PWR +5V |
| 5 | UART_TX +1.8V TTL (output from Peek) |
| 6 | Bat+ 4.2V |

![Peek-header.jpg](http://eLinux.org/File:Peek-header.jpg) Picture from [Maushammer on Flickr](http://www.flickr.com/photos/8728129@N05/2861989140/in/set-72157607274454694/)

### JTAG Pads (vias)

These vias are found on the bottom side of printed circuit board just below the white antenna strip. ***Note: You will need to remove the solder mask and solder small wire to the vias. 26AWG or 30AWG is best.** Obviously, the four signals TDO, TMS, TCK, and TDI are the most important ones. Connect these signals straight to your JTAG dongle. You should also pick up a Ground signal somewhere near the DC Power circuity on the lower left section of PCB. Perhaps, depending on your JTAG dongle, you could also power the Peek from the dongle itself. ;-) ![Peekjtag3.png](http://eLinux.org/File:Peekjtag3.png) Thanks to "codeman" and "prpplague" for this (these pinouts may be wrong!).

## uClinux

### Bootloader

*   a bootloader, such as U-Boot or [APEX](http://eLinux.org/APEX "APEX"), will be needed to facilitate booting uClinux
*   low level access to Flash memory via JTAG is now doable. ( see above )
*   U-Boot could be used, but is pretty large
*   APEX is small, configurable, and easily adapted for ARM7TDMI

### Kernel

*   mainline kernel has the [basic support for ARM7TDMI](http://opensrc.sec.samsung.com/) core
*   need basic support for the TCS2310
*   [STMPE2401 keypad driver](http://eLinux.org/images/6/62/Stmpe2401-20090923.patch "Stmpe2401-20090923.patch") for linux-2.6 git (20090923) posted by Cfriedt
*   [stmpe24xx project page](http://sourceforge.net/projects/stmpe24xx) on SourceForge.net

### Root Filesystem

*   use [Buildroot](http://buildroot.busybox.net/) for initial testing
*   use [uClibc](http://www.uclibc.org/) as core C library
*   use BusyBox as basic utilities for testing

### Tools

*   use CSST ( Cellular Systems Software Tools ) from TI for loading Flash with bootloader etc. This is the [Release Notes](http://focus.ti.com/download/wtbu/csst_sdp2430_releasenotes_v1_2.pdf) for the CSST included in SDP2430 (OMAP2430). There is a CSST for the TI LoCosto chips included with the [Peek Upgrader](http://drop.io/PeekFiles) software from Peek. More detailed info on CSST can be found [here.](http://wiki.davincidsp.com/index.php/CSST)

The Peek update program calls a command line CSST app to actually load the new firmware to flash. In my case, the command line was:

```
 D:\apps\Peek\CSST\csstcli.exe -t 1 -op download -i D:\apps\Peek\software\Rel_01_09_10.m0 -dt NOR -p COM5 
```

This command can be executed from a command prompt. You will be prompted to reset the Peek (remove and replace the battery, then hit the power button) and the download will begin!

*   use TMSH to execute commands on the Peek itself ([source](http://peek.jr9.org/TMSH-and-accessing-you-Peek-internal-memory-td1724226.html)):

Your Peek must remain active during the processing of each command so you may need to move the scroll wheel or press a button intermittently during the process to keep it on. You must also have the Peek cable and Peek upgrade software installed on your computer before you start.

Power on Peek and connect Peek to PC using the Peek Upgrade cable. Determine wich port the Peek is connected to. Either Check Device Manager - Start > Run > devmgmt.msc OR right click My Computer > Properties > Hardware Tab and Look at LPT&COMM, expand + sign and you should see what COMM port your cable is on

Open a command prompt. If you plan on copying files to the computer you must right click "Command prompt" and run it as an administrator even if you are already logged on as an administrator. It should be located under "Accessories" in the start menu.

Type in:

```
cd "C:\Program Files (x86)\Peek.1.10.00\tmsh" (or whatever your Peek directory is called) 
```

Then type:

```
tmsh -psX -ttlocosto 
```

Where X = your COMM port # from earlier.

Here's a list of TMSH commands:

| Command | Description |
| --- | --- |
| help | Print help for the command name on stdout Arguments |
| run | Run the script file named filename. Arguments |
| use | Load the ETM module represented by the DLL “name.dll” Arguments |
| ping | ping target Arguments [options] |
| quit | Quit the shell |
| auw | Write audio parameters |
| aur | Read audio parameters |
| aul | Load audio parameters from FFS file |
| aul | Save audio parameters to FFS file |
| mkfs | Format flash |
| fwr | File write from PC to target |
| frd | File read from target to PC |
| cd | Change current working directory |
| mkdir | Make a new directory |
| rm | Delete a file or directory |
| mv | Move or rename a file |
| pwd | Print working directory |
| ls | List files in directory |
| cat | View of text files |
| ln | Make a link between files |
| chmod | Change files/directories permissions |
| touch | Create an empty file |
| df | Show the amount of free space |
| fsq | Query ffs parameters and values |
| rfe | Enable RF – transmit and receive |
| se | Enable special customer task |
| scw | Setup the statistics configuration |
| scr | Read the statistics configuration |
| sr | Get statistics results |
| rfpw | Write RF parameters for receive mode |
| rfpr | Read RF parameters for receive mode |
| rxpw | Write RX parameter for receive mode |
| rxpr | Read RX parameters for receive mode |
| txpw | Set parameters for transmit mode |
| txpr | Read parameters for transmit mode |
| spw | Write customer special parameter |
| spr | Read customer special parameter |
| rftw | Write a RF table |
| rftr | Read a RF table |
| ttw | Write a ramp template to transmitter |
| ttr | Read a ramp template from transmitter |
| stw | Write a customer special table |
| str | Read a customer special table |
| mr | Read value from memory address |
| mw | Write value to memory address |
| cr | Read value from codec register |
| cw | Write value to codec register |
| me | Enable miscellaneous parameter |
| mpr | Read miscellaneous parameter |
| mpw | Write miscellaneous parameter |
| vg | Get hardware or software version |

Email is kept in a database. Location Peek/peek.db Attachments are kept in location Peek/Attach The attachment will be named with a string of numbers_filename.extension_more numbers example 9585785_yourpic.jpg_552694 Pictures will be re-sized by Peek servers before they are delivered to your Peek. As an example a picture I sent to my Peek started at 998x1274 the picture downloaded from my Peek was only 152x195.

## References

### Other Peek Hacking Sites

*   [The official blog started by Peek's founder to help people get started in hacking the Peek](http://peekhack.posterous.com/)

*   [PeekLinux.com](http://www.peeklinux.com/)

### Core Chipset Tools and Diagrams

*   [ZIP file released by Peek containing the files you need](http://sharing.getpeek.com/chipset.zip)

### Similar board bringups

*   [OMAP2420 with U-Boot](https://agora.cs.illinois.edu/display/SRG/OMAP2420+Software+Development+Platform+Bringup)

### TI documents

*   [TI Wireless Solutions Guide](http://focus.ti.com/pdfs/wtbu/ti_wireless_solutions_guide.pdf). the TCS2310 appears on Page 17.

### Watch a Peek being assembled

*   Watch Gabe Fabius and Dan Morel of PEEK, Inc. discuss the inner guts of the Peek [device.](http://www.geekypeek.com/?p=167)

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Hardware Hacking](http://eLinux.org/Category:Hardware_Hacking "Category:Hardware Hacking")

# Pixter

> From: [eLinux.org](http://eLinux.org/Pixter "http://eLinux.org/Pixter")

# Pixter

(picture from [[amazon](http://www.amazon.com/exec/obidos/tg/detail/-/B0000AL9XS/102-9169933-0758560?v=glance&s=toys&n=507846&vi=pictures&img=14#more-pictures)] where you can [[order](http://www.amazon.com/exec/obidos/tg/detail/-/B0000AL9XS/qid=1104437061/sr=2-3/ref=sr_2_3/104-3795122-0638312)] it for $79.99) ![Pixter.jpg](http://eLinux.org/File:Pixter.jpg)

![Internals.jpg](http://eLinux.org/File:Internals.jpg)

The Pixter is like a personal digital assistant (PDA) for kids. But instead of storing boring appointments and phone numbers, they get to draw, do puzzles, and learn a little, too. The Pixter is about the size of a small book, and has a pretty solid weight to it. It's made out of brightly colored and durable plastic. The main action of this toy is drawing with an attached stylus. The Color Pixter offers much better graphics then the black and white version, which comes in handy with activities like Paint-by-Numbers and Connect-the-Dots. You can draw a picture free form, or you can use one of the starter backgrounds. There are tool buttons, like on a PDA, that give you access to fun stamps, special effects, and the eraser button. You can also save your creation in the Pixter's memory. There are some boppy tunes playing along with all this creative activity, but luckily for parents, there's also a jack for headphones and a volume adjuster. The [Pixter Expansion Slot](http://eLinux.org/Pixter_Expansion_Slot "Pixter Expansion Slot") on top of the Pixter accepts ROM-based expansion cards that contain additional software and games. Requires 4 'AA' batteries. (Not included.)

The [LH75411](http://eLinux.org/LH75411 "LH75411") controller was developed to be a perfect fit to the Pixter's hardware and memory needs. Based on a 70-MHz [ARM7TDMI](http://eLinux.org/ARM7TDMI "ARM7TDMI") core, the chip includes color LCD controller circuitry; a 10-bit, eight-channel A/D converter, an integral touchscreen controller; and the usual assortment of counter/timers, programmed I/O pins and SRAM. Pivotal to the design were the the 32 kbytes of SRAM, which make it possible to execute the Pixter's algorithms locally, and outputs that can be configured to implement a 12-bit pulse-width-modulated audio output. The addition of an inexpensive external capacitor gave the Pixter the functionality of a moderate-quality audio D/A converter.

There are several projects in the works to make an external cartridge to boot a small [Embedded OS](http://eLinux.org/Embedded_OS "Embedded OS"). conversaion on hacking the Pixter can be found on irc.freenode.net #pixterdev and #eLinux

*   [Pixter Chip List](http://eLinux.org/Pixter_Chip_List "Pixter Chip List")
*   [Pixter Expansion Slot](http://eLinux.org/Pixter_Expansion_Slot "Pixter Expansion Slot")
*   [RMS100](http://eLinux.org/RMS100 "RMS100") - similar hardware
*   [Pixter Dev Board](http://eLinux.org/Pixter_Dev_Board "Pixter Dev Board")
*   [PixterMMC](http://eLinux.org/index.php?title=PixterMMC&action=edit&redlink=1 "PixterMMC (page does not exist)")
*   [Pixter Camera](http://eLinux.org/Pixter_Camera "Pixter Camera")
*   [Pixter Dev Cart](http://eLinux.org/Pixter_Dev_Cart "Pixter Dev Cart")

* * *

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Pixter](http://eLinux.org/Category:Pixter "Category:Pixter")

# Pixter Multimedia

> From: [eLinux.org](http://eLinux.org/Pixter_Multimedia "http://eLinux.org/Pixter_Multimedia")

# Pixter Multimedia

![Pixter-mm.jpg](http://eLinux.org/File:Pixter-mm.jpg)

Items of interest inside the device:

*   Sharp [LH79524](http://eLinux.org/LH79524 "LH79524") CPU
*   Two IC42S16100-7T SDRAM ICs (2MB each, 4MB total) [[datasheet](http://www.issi.com/pdf/42S16100.pdf)]
*   TLV320DAC26 audio [[datasheet](http://www-s.ti.com/sc/ds/tlv320dac26.pdf)]
*   OTP flash [Chip On Board](http://eLinux.org/Chip_On_Board "Chip On Board") IC
*   SPI eeprom [Chip On Board](http://eLinux.org/Chip_On_Board "Chip On Board") IC (still collecting information on this)
*   Audio [Chip On Board](http://eLinux.org/Chip_On_Board "Chip On Board") IC which connects to the DAC26's microphone input (still collecting information on this)
*   Well-labeled [PixterMultimediaLCD](http://eLinux.org/PixterMultimediaLCD "PixterMultimediaLCD") port
*   4-wire touch-screen
*   Silkcreen above largest [Chip On Board](http://eLinux.org/Chip_On_Board "Chip On Board") reads "PT1543A-BGA-42FC 2005/04/30 REC 4.2B"
*   [Pixter Multimedia Expansion Slot](http://eLinux.org/Pixter_Multimedia_Expansion_Slot "Pixter Multimedia Expansion Slot")
*   [Pixter Multimedia Expansion Cartridge](http://eLinux.org/Pixter_Multimedia_Expansion_Cartridge "Pixter Multimedia Expansion Cartridge")
*   [Pixter Multimedia Developer Board](http://eLinux.org/Pixter_Multimedia_Developer_Board "Pixter Multimedia Developer Board")
*   [PixterMultimediaJTAG](http://eLinux.org/PixterMultimediaJTAG "PixterMultimediaJTAG")

PCB Pads:

Primary side:

*   TXD0, RXD0 these are incorrectly label on the pcb, they are actually UARTTXD1 and UARTRXD1
*   CTS0, RTS0 (apparently extended to cartridge port)
*   L16 (nCS0 PM0)
*   A4 (PH5/ETHERTX1 I/O General Purpose I/O Signals -- Port H5; multiplexed with Ethernet Transmit Channel 1)

USB Pins:

*   A16 USBDN I/O USB Data Negative (Differential Pair output, single ended and Differential pair input)
*   A15 USBDP I/O USB Data Positive (Differential Pair output, single ended and Differential pair input)

Secondary side:

*   Test1
*   Vss
*   Test2
*   CS1 bridge (SMT pads for 0-ohm resistor with a line between them) opposite the big CoB blob
*   M4 (PB4/SSPRX/I2SRXD/UARTRX0/UARTIRRX0) Port B4; multiplexed with SSP Data In, I2S Data In, UART0 Serial Data In, and UART0 Infrared Data In
*   1V8 (most likely 1.8v for the cpu core)

* * *

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Pixter](http://eLinux.org/Category:Pixter "Category:Pixter")

# Programmers Hardware Database

> From: [eLinux.org](http://eLinux.org/Programmers_Hardware_Database "http://eLinux.org/Programmers_Hardware_Database")

# Programmers Hardware Database

The [Programmers Hardware Database](http://hwdb.mipt.cc/Main_Page) is a wiki project aimed at collecting hardware information that is mostly relevant for software developers, including, but not limited to:

*   links to datasheets / user's manuals / technical reference manuals
*   memory maps / register layouts (when datasheets are not available)
*   sample code
*   links to software projects
*   ...

This information is collected for various devices, such as:

*   ICs (CPUs, SoC, application processors...)
*   consumer electronics
*   PC hardware
*   peripheral hardware
*   embedded development systems
*   ...

Currently the most active category of topics is embedded hardware, most notably consumer electronics, embedded development systems and the SoCs used in these devices. Please have a look at the [recent changes](http://hwdb.mipt.cc/Special:RecentChanges) for an up to date view of new wiki pages.

For a full motivation and description of project goals, have a look at the [about page](http://hwdb.mipt.cc/Programmers'_Hardware_Database:About).

Please feel free to make use of and link to the wiki pages of the PHD at your desire. Also, feel free to contribute any kind of hardware information to the PHD. Any suggestions and input from the Embedded Linux community, and an exchange of knowledge and expertise, are highly appreciated.

# R8610 Based WAP

> From: [eLinux.org](http://eLinux.org/R8610_Based_WAP "http://eLinux.org/R8610_Based_WAP")

# R8610 Based WAP

From [Linuxdevices.com article](http://linuxdevices.com/news/NS7538129611.html)

Tiny WAPs (Wireless Access Points) share files and printers - $115 Jun. 21, 2006

[`linuxdevices.com/files/misc/ovislink_wmu6000-drive.jpg`](http://linuxdevices.com/files/misc/ovislink_wmu6000-drive.jpg)

Half a dozen companies around the world are shipping tiny Linux-based wireless access points (WAPs) with built-in file and printer servers. The WAPs appear to run a 2.4-series Linux kernel ... The design appears to be based on RDC Semiconductor's R8610, a 133MHz RISC-based SoC that executes the i486 instruction set at about 44 bogoMIPS.

... 16KB of L1 cache, a 33MHz PCI bus, an external SDRAM/ROM/memory controller, IPC (internal peripheral controller) with DMA and IRQ timer/counter, a 10/100 Ethernet MAC, FIFO UART, and USB 2.0 host controller. ... 32MB of SDRAM, 4MB of Flash, and support user-supplied 2.5-inch (laptop-sized) hard drives formated with FAT, FAT32, or ext2. Claimed wireless throughputs up to 6MB/s ...

... an 802.11G [WiFi](http://eLinux.org/WiFi "WiFi") interface supporting WPA and WEP encryption. The interface can be configured as a wireless client, access point, WDS bridge, or WDS repeater ...

Dual USB 2.0 ports can be used to connect memory card readers ... The ports also support USB OTG ("on the go") [and] LPR print server software for USB printers.

Designs believed to be based on the RDC SoC include:

*   [OvisLink WMU-6000FS](http://www.ovislink.com.tw/WMU6000FS.htm)
*   [Micronica MGB100](http://micronica.com.au/catalog/mgb100/index.htm)
*   [SafeCom SWSAPUR-5400](http://safecom.cn/code/sub/category.asp?prdid=311&subcatid=390)
*   [Level One WAP-0007](http://shop.key.ru/shop/goods/37048/?ref=ya-market)
*   [SMC WAPS-G EU](http://www.smc.com/index.cfm?event=viewProduct&localeCode=DE_DEU&cid=5&scid=&pid=1520)
*   [CometLabs MGB-100](http://france.cometlabs.com/front/pdf/products/mgb100_datasheet_fr.pdf)

Availability

[WAPs](http://eLinux.org/index.php?title=WAPs&action=edit&redlink=1 "WAPs (page does not exist)") based on the RDC R8610 appear to be available now, priced at about $115.

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Hardware Hacking](http://eLinux.org/Category:Hardware_Hacking "Category:Hardware Hacking")

# Reciva Barracuda

> From: [eLinux.org](http://eLinux.org/Reciva_Barracuda "http://eLinux.org/Reciva_Barracuda")

# Reciva Barracuda

The Barracuda Module is a Samsung [S3C2410](http://eLinux.org/S3C2410 "S3C2410") based cpu module which is used in some of the [Reciva](http://www.reciva.net/) internet radio devices.

[Module Datasheet](http://eLinux.org/images/5/5f/Barracuda_1.6.pdf "Barracuda 1.6.pdf")

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Hardware](http://eLinux.org/Category:Hardware "Category:Hardware")

# SM501-User Level Device Driver

> From: [eLinux.org](http://eLinux.org/SM501-User_Level_Device_Driver "http://eLinux.org/SM501-User_Level_Device_Driver")

# SM501-User Level Device Driver

## Contents

*   1 概要
*   2 割り込みフックドライバ
*   3 サンプルアプリケーション
    *   3.1 SM501 UARTシリアルターミナル for RTS7715R2D
*   4 実験
    *   4.1 目的
    *   4.2 環境
    *   4.3 方法
    *   4.4 結果

## 概要

## 割り込みフックドライバ

[Media:irqhook-0.0.4.tar.gz](http://eLinux.org/images/e/e9/Irqhook-0.0.4.tar.gz "Irqhook-0.0.4.tar.gz")

## サンプルアプリケーション

### SM501 UARTシリアルターミナル for RTS7715R2D

[Media:sm501uart_tty-0.0.1.tar.gz](http://eLinux.org/images/e/e0/Sm501uart_tty-0.0.1.tar.gz "Sm501uart tty-0.0.1.tar.gz")

## 実験

### 目的

割り込み処理をユーザタスクで行う場合に問題となる、割り込み応答時間のレイテンシ増分を測定する。

### 環境

*   Target platform

Renesas RTS7751R2D

SH4(SH7751) 240MHz

64MB SDRAM

10Base-T Ethernet

Linux 2.6.16.4 / 2.4.20

256MB [Compact Flash](http://eLinux.org/Compact_Flash "Compact Flash") for rootfs

### 方法

シリアルからデータを送信し、割り込み発生後、カーネルドライバの割り込みハンドラが起動してから、ハンドラによってwakeup()されたULDDが起床するまでの時間を測定する。

*   10KBのデータを38400bpsで送信
*   データ受信時の起床時間（カーネル割り込みハンドラ起動直後からULDD 復帰までの時間を計測）を計測
*   負荷状況を変化
    *   (none): 負荷なし
    *   lat_proc: lmbench3 付属のプロセス生成ベンチマークをバッググラウンドで実行(./lat_proc -P 3 -N 20 exec &)
*   Non-RT(SCHED_OTHER), RT(SCHED_RR, sched_prio=1)スレッドを使用

### 結果

| 2" &#124; **IRQ Delivering Method** | 2" &#124; **Scheduling Policy** | 2" &#124; **Disturbance Task** | **Linux 2.6.16.4 (CONFIG_PREEMPT=y)** | **Linux 2.4.20** |
| **MAX (us)** | **AVG (us)** | **MIN (us)** | **Plot** | **MAX (us)** | **AVG (us)** | **MIN (us)** | **Plot** |
| File I/O (sync) | SCHED_OTHER | (none) | 39.80 | 17.52 | 13.73 | ① | 14.93 | 6.98 | 6.87 | ⑬ |
| SCHED_OTHER | *lat_proc* | 253.27 | 42.57 | 10.93 | ② | 2808.13 | 478.43 | 6.53 | ⑭ |
| *SCHED_RR* | (none) | 38.13 | 15.73 | 14.07 | ③ | 17.13 | 6.34 | 6.20 | ⑮ |
| *SCHED_RR* | *lat_proc* | 33.73 | 14.32 | 8.80 | ④ | 2697.13 | 485.29 | 6.60 | ⑯ |
| SIGIO (async) | SCHED_OTHER | (none) | 524.00 | 62.84 | 45.47 | ⑤ |
| SCHED_OTHER | *lat_proc* | 72317.40 | 2185.96 | 83.33 | ⑥ |
| *SCHED_RR* | (none) | 81.40 | 47.12 | 43.67 | ⑦ |
| *SCHED_RR* | *lat_proc* | 280.93 | 102.89 | 79.40 | ⑧ |
| SIGRT (async) | SCHED_OTHER | (none) | 83.47 | 50.00 | 44.80 | ⑨ |
| SCHED_OTHER | *lat_proc* | 85973.93 | 2528.19 | 85.40 | ⑩ |
| *SCHED_RR* | (none) | 75.93 | 46.71 | 43.07 | ⑪ |
| *SCHED_RR* | *lat_proc* | 290.80 | 102.18 | 78.87 | ⑫ |

![Ulddexp-fio-nort-nodt-26.JPG](http://eLinux.org/File:Ulddexp-fio-nort-nodt-26.JPG)

![Ulddexp-fio-nort-dt-26.JPG](http://eLinux.org/File:Ulddexp-fio-nort-dt-26.JPG)

![Ulddexp-fio-rt-nodt-26.JPG](http://eLinux.org/File:Ulddexp-fio-rt-nodt-26.JPG)

![Ulddexp-fio-rt-dt-26.JPG](http://eLinux.org/File:Ulddexp-fio-rt-dt-26.JPG)

![Ulddexp-sig-nort-nodt-26.JPG](http://eLinux.org/File:Ulddexp-sig-nort-nodt-26.JPG)

![Ulddexp-sig-nort-dt-26.JPG](http://eLinux.org/File:Ulddexp-sig-nort-dt-26.JPG)

![Ulddexp-sig-rt-nodt-26.JPG](http://eLinux.org/File:Ulddexp-sig-rt-nodt-26.JPG)

![Ulddexp-sig-rt-dt-26.JPG](http://eLinux.org/File:Ulddexp-sig-rt-dt-26.JPG)

![Ulddexp-rtsig-nort-nodt-26.JPG](http://eLinux.org/File:Ulddexp-rtsig-nort-nodt-26.JPG)

![Ulddexp-rtsig-nort-dt-26.JPG](http://eLinux.org/File:Ulddexp-rtsig-nort-dt-26.JPG)

![Ulddexp-rtsig-rt-nodt-26.JPG](http://eLinux.org/File:Ulddexp-rtsig-rt-nodt-26.JPG)

![Ulddexp-rtsig-rt-dt-26.JPG](http://eLinux.org/File:Ulddexp-rtsig-rt-dt-26.JPG)

![Ulddexp-fio-nort-nodt-24.JPG](http://eLinux.org/File:Ulddexp-fio-nort-nodt-24.JPG)

![Ulddexp-fio-nort-dt-24.JPG](http://eLinux.org/File:Ulddexp-fio-nort-dt-24.JPG)

![Ulddexp-fio-rt-nodt-24.JPG](http://eLinux.org/File:Ulddexp-fio-rt-nodt-24.JPG)

![Ulddexp-fio-rt-dt-24.JPG](http://eLinux.org/File:Ulddexp-fio-rt-dt-24.JPG)

# SMC WSKP100

> From: [eLinux.org](http://eLinux.org/SMC_WSKP100 "http://eLinux.org/SMC_WSKP100")

# SMC WSKP100

| The SMC WSKP100 Wifi Skype phone is a Linux running phone meant to be used for Skype over wifi without having to use a computer. It retails for around $150 and comes with a 1.8" CSTN LCD (128 x 160, 65K colors), Mini USB and earphone ports, various buttons/keys including volume and directional buttons, ARM9 processor, and 802.11G capable wifi module. You can buy the phone from [Amazon](http://www.amazon.com/SMC-WSKP100-802-11G-Wireless-Skype/dp/B000INI1H8/).The phone has a custom built Linux distribution made by SMC to run the Skype binaries. The goal of this project is to make a custom Linux image for the phone to run other software besides Skype. Since the processor in the phone is ARM9 based, it could be used for some other more interesting solutions including the possibility of creating a full SIP based phone or even a wifi mesh of wifi phones. 
### **Known Components:**

* * *

```
* TI OMAP1710
      o 220 MHz ARM926TEJ and MS320C55x DSP SoC
* TI TSC2101
      o 4-Wire Touch Screen Controller
      o St. DAC / Mono ADC with HP/Speaker Amplifier
* Samsung K4S56163PF
      o 4M x 16bit x 4 banks (256Mbit) SDRAM
* Intel 28F128L18B
      o 16MB NOR Flash
* TI TPS65013
      o 1-cell Li-Ion Power Mgmt IC
      o USB/AC Charger, 2DC/DC, 2 LDOs, I2C interface
      o http://www.ti.com/lit/gpn/tps65013
* Marvell 88W8385-BDK1
      o 802.11B/G WiFi
```

(source: [`wiki.gpl-devices.org/index.php/SMC_WSKP100G`](http://wiki.gpl-devices.org/index.php/SMC_WSKP100G) )

### **Status:**

* * *

*August 15, 2007:* I'm currently awaiting for my phone to arrive. While I'm waiting, I'm gathering as much information about the phone as possible. Since the WSKP100 has a 1.8v serial port, I ordered samples of the MAX3218 so I can hook it up to a computer. Also, I was able to extract the binary firmware images from the firmware flashing tool provided by SMC by just running the tool in Windows and copying them out of c:\winnt\Temp\Skypyphone\Flasher before closing the application. However, it seems the images are encrypted. I also tried the same method with the firmware flasher from the very similar yet more expensive SMCWSP-100 and at least some of the images are not encrypted. This might prove useful as I could possibly re-use things from the SMCWSP-100 for this one and can most likely use the SMCWSP-100's firmware flasher to flash the WSKP100.(sources: [`spritesmods.com/?art=wskpsip`](http://spritesmods.com/?art=wskpsip) and [`wiki.gpl-devices.org/index.php/SMC_WSKP100G`](http://wiki.gpl-devices.org/index.php/SMC_WSKP100G) )*August 16, 2007:* I've succesfully mounted one of the jffs2 images from the firmware flasher of the SMCWSP-100 since they aren't encrypted. While doing this, I decided to make two really simple bash scripts to simplify mounting and umounting jffs2 images since the process isn't so simple. You can check the scripts out here: [mount_jffs2](http://elinux.org/Mount_jffs2 "Mount jffs2") and [umount_jffs2](http://elinux.org/Umount_jffs2 "Umount jffs2"). These scripts assume you're mounting/umounting one jffs2 image at a time. Obviously there is no guarantee that these scripts won't mess up your system or will even work for you. You have been warned :-)(sources: [`linux-7110.sourceforge.net/howtos/netbook_new/x1125.htm`](http://linux-7110.sourceforge.net/howtos/netbook_new/x1125.htm) )*August 17, 2007:* I've been going through the jffs2 images of the SMCWSP-100 and been finding some interesting things. The first major one is that SMC is using Qtopia for the GUI. Another tidbit came from GPSFan in #edev (irc.freenode.net) that in /root/sbin/QCopSend there is references to crosstool-0.32, gcc-3.42 and glibc-2.2.5\. Also, some leftovers from the original programmers/system designers have been found, which are always interesting to see. I'm hoping to see similar things in the firmware for the WSKP100, but I'll have to wait till I hook it upto a serial port and gain root access to the running system as its firmware images are encrypted.

### **Interesting Links and Hacks:**

* * *

[`spritesmods.com/?art=wskpsip`](http://spritesmods.com/?art=wskpsip) - A hack involving installing the firmware from SMCs Wifi SIP phone onto this phone[`www.wifiphone24.com/download.aspx`](http://www.wifiphone24.com/download.aspx) - SMC's Download page for firmware for the phone and GPL'd sources[`www.smc.com/index.cfm?event=downloads.doSearchCriteria&localeCode=EN_GBR&knowsPartNumber=false&productCategory=14&modelNumber=1560&partNumber=3429&downloadType=0&os=20`](http://www.smc.com/index.cfm?event=downloads.doSearchCriteria&localeCode=EN_GBR&knowsPartNumber=false&productCategory=14&modelNumber=1560&partNumber=3429&downloadType=0&os=20) - Another Download page for firmware & source[`www.wifiphone24.com/tech_specification.aspx`](http://www.wifiphone24.com/tech_specification.aspx) - SMC's Tech Specs for the phone[`linux.omap.com/`](http://linux.omap.com/) - Official TI OMAP Linux[`www.muru.com/linux/omap/`](http://www.muru.com/linux/omap/) - Unofficial OMAP Linux[`free-electrons.com/articles/omap`](http://free-electrons.com/articles/omap) - More info on OMAP Linux[`linux.omap.com/pub/documentation/omap_1710v1.4.txt`](http://linux.omap.com/pub/documentation/omap_1710v1.4.txt) - Some interesting info on installing Linux on a OMAP1710 H3 Board[`www.nmacleod.com/nokia/schematics/N770_Schematics.pdf`](http://www.nmacleod.com/nokia/schematics/N770_Schematics.pdf) - Schematic of the Nokia 770 which shows pin descriptions of the OMAP1710[`www-s.ti.com/sc/psheets/mpbg284a/mpbg284a.pdf`](http://www-s.ti.com/sc/psheets/mpbg284a/mpbg284a.pdf) - Pin Layout of the OMAP1710's BGA package[`git.infradead.org/?p=libertas-2.6.git;a=summary`](http://git.infradead.org/?p=libertas-2.6.git;a=summary) - Driver for the onboard Wifi module | ![Phone skype.jpg](http://elinux.org/File:Phone_skype.jpg) |

* * *

--[G1powermac](http://eLinux.org/index.php?title=User:G1powermac&action=edit&redlink=1 "User:G1powermac (page does not exist)") [g1powermac@yahoo.com] 02:00, 18 August 2007 (EEST)

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Hardware Hacking](http://eLinux.org/Category:Hardware_Hacking "Category:Hardware Hacking")

# Sparkfun Camera

> From: [eLinux.org](http://eLinux.org/Sparkfun_Camera "http://eLinux.org/Sparkfun_Camera")

# Sparkfun Camera

[MagnaChip](http://www.magnachip.com) HV7131GP CMOS Camera Module

*   640x480 (actual 652 x 488 )
*   [datasheet](http://eLinux.org/images/6/6b/HV171GP.pdf "HV171GP.pdf")
*   on sale at [Sparkfun](http://www.sparkfun.com/commerce/product_info.php?products_id=637) for $19.95
*   SMD Connector is a [DF18 Hirose Connector](http://eLinux.org/images/0/0d/Df18.pdf "Df18.pdf")
*   SMD Connect available from [Sparkfun](http://www.sparkfun.com/commerce/product_info.php?products_id=638) for $0.95
*   [Break out Board](http://www.sparkfun.com/commerce/product_info.php?products_id=7904)
*   [SparkfunCameraFPGA](http://eLinux.org/SparkfunCameraFPGA "SparkfunCameraFPGA")
*   AVR project based on a similiar cameras - [`www.jrobot.net/Projects/AVRcam.html`](http://www.jrobot.net/Projects/AVRcam.html)

8-Bit Output Format Support:

*   `YCbCr 4:2:2`
*   `Bayer`

the [libdc1394 howto](http://eLinux.org/images/b/b1/Libdc1394.pdf "Libdc1394.pdf") provides an excellent introduction to the Bayer format.

the starting row and column determine the Bayer format

*   even `BGGR`
*   odd `GRBG`

basically because the camera is slightly larger than 640x480 you can set the window for usage:

*   Row 2 and Column 2 with Window Heigh 640 and Width 480 produces `Bayer BGGR`
*   Row 1 and Column 1 with Window Heigh 640 and Width 480 produces `Bayer GRBG`

the odd/even are dependent on the orientation of the scan.

*Information gathered from the Sparkfun Forums*

although the camera does support a 16-bit mode, the ribbon cable only provides support for the 8-bit mode.

```
 ------------
     ENB  | 11     1 |    Y0
     RST  | 12     2 |    Y1
     GND  | 13     3 |    Y2
     VDD  | 14     4 |    Y3
     SCL  | 15     5 |    Y4
     SDA  | 16     6 |    Y5
  FVALID  | 17     7 |    Y6
  LVALID  | 18     8 |    Y7
    PCLK  | 19     9 |    VDD
    MCLK  | 20    10 |    GND
          ------------

NOTE: Pins 14 + 9 are connected to VDD :
V+ --|
     |
     |----[B1]--------------#--------- Pin 9
     |                      |
     |                      |
     |----[B2]-------#------)--------- Pin 14
                     |      |
                     |      |
                    [C1]   [C2]
                     |      |
                   -----  -----
                    ---    ---
                     -      -

busonerd states - "My guess for the parts values would be a ~600ohm @ 100MHZ ferrite bead (B1 and B2), current capacity ~100-200 ma, and a 0.1uf caps(C1 and C2). You really can't go wrong with the ferrite bead - just get a higher impedance + higher current capacity one if in doubt. For the caps(C1 and C2) - if you really want to be paranoid, use an 0.47uf, an 0.1uf and an 0.01uf - with the smaller values nearer the connector - but that is guaranteed overkill." 
```

*   the i2c interface needs to be level shifted from the 2.8v to either 3.3v or 5v depending on your host device
*   [`www.standardics.philips.com/support/documents/i2c/pdf/an97055.pdf`](http://www.standardics.philips.com/support/documents/i2c/pdf/an97055.pdf)
    *   application note on i2c level shifting

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Hardware](http://eLinux.org/Category:Hardware "Category:Hardware")

# TCube Info

> From: [eLinux.org](http://eLinux.org/TCube_Info "http://eLinux.org/TCube_Info")

# TCube Info

This page describes how to load Linux on the T-Cube board.

Table Of Contents:

* * *

## Contents

*   1 Hardware Used
*   2 Software and Configuration Files Used
*   3 General Outline for Bootstrapping using PMON
    *   3.1 Preparing Target Hardware and Connections
    *   3.2 Preparing Host Software
    *   3.3 Using PMON to Boot the Kernel
        *   3.3.1 Building the Kernel
        *   3.3.2 Preparing the Kernel to Download
        *   3.3.3 Starting the NFS daemon
        *   3.3.4 Setting Environment Variable and Write Environment Value on T-Cube
        *   3.3.5 Downloading the Kernel to T-Cube
        *   3.3.6 Booting the Kernel

## Hardware Used

*   Board Order Number: SEMC5701(T-Cube)/SHIMAFUJI
    *   CPU
        *   VR5701 (NEC VR5500A SOC chip) (333MHz)
*   Memory
    *   64 Mbyte SDRAM
    *   16 Mbyte Flash
*   Graphics controller
    *   SMI (SM722GX )
*   Other Feature
    *   Timer x 4 ( VR5701 )
    *   UART x2 ( VR5701 /16550 compatible)
    *   PCI ( VR5701 ) -- no PCI connector/header on the baord
    *   Sound AC97 ( VR5701 )
    *   IDE/Compact Flash ( VR5701 )
    *   RTC (RV 5C348B)
    *   Ethernet ( Intel GD82559ERSL3DG )
    *   USB(USB2) ( NEC uPD720101 )
    *   CF

## Software and Configuration Files Used

*   PMON
    *   setup
    *   boot
*   Toolchain
    *   Mips Toolchain from Lineo
*   kernel
    *   celinux-040503.tar.bz2
*   root filesystem
    *   [unprepared]

## General Outline for Bootstrapping using PMON

### Preparing Target Hardware and Connections

*   *   Connections:
        *   Host machine Ethernet to hub (I configured as 192.168.1.1)
        *   T-Cube Ethernet to hub (I configured as 192.168.1.2)
        *   Connect serial cable between T-Cube and host machine
            *   Serial1 connector to interface module serial port
            *   Other end of null-modem cable to first serial port (ttyS0) on the Linux host machine

### Preparing Host Software

*   Download and place files in /tftpboot
*   Make sure tftpd is ready to run
*   Confirm minicom is configured to access /dev/ttyS0, at 115K N81

### Using PMON to Boot the Kernel

*   Root filesystem is NFS

#### Building the Kernel

Here are some commands I used to build the kernel:

*   cd celinux-040503/
*   export PATH=/usr/local/bin:$PATH
*   cp arch/mips/defconfig-tcube .config
*   make ARCH=mips CROSS_COMPILE=mipsel-linux- menuconfig
    *   disable XIP
*   make ARCH=mips CROSS_COMPILE=mipsel-linux- dep
*   make ARCH=mips CROSS_COMPILE=mipsel-linux-

#### Preparing the Kernel to Download

*   cp vmlinux /tftpboot/

#### Starting the NFS daemon

*   /etc/rc.d/init.d/nfs start

#### Setting Environment Variable and Write Environment Value on T-Cube

*   minicom (set to /dev/ttyS0)
*   Set environment variable
    *   Set variable tty0 (I used "set tty0 115200")
    *   Set variable netaddr (I used "set netaddr 192.168.1.2")
    *   Set variable bootaddr (I used "set bootaddr 192.168.1.1")
    *   Set variable bootfile (I used "set bootfile vmlinux")
*   Write environment value
    *   Employed "write_env" command

#### Downloading the Kernel to T-Cube

*   minicom (set to /dev/ttyS0)
*   Download the kernel
    *   Employ "boot" command
    *   As "boot" command completes, "Entry-address" appears.

#### Booting the Kernel

*   Employ "go" command (I used "g -e Entry-address")

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Development Boards](http://eLinux.org/Category:Development_Boards "Category:Development Boards")

# TUSB2046B

> From: [eLinux.org](http://eLinux.org/TUSB2046B "http://eLinux.org/TUSB2046B")

# TUSB2046B

TUSB2046B is a RoHS Compliant single chip 4-Port USB Hub from Texas Instruments

```
* Fully Compliant With the USB Specificationas a Full-Speed Hub: TID #30220231
* 32-Terminal LQFP Package With a 0.8-mm Terminal Pitch or QFN Package with a 0.5-mm Terminal Pitch(1)
* 3.3-V Low Power ASIC Logic
* Integrated USB Transceivers
* State Machine Implementation Requires No Firmware Programming
* One Upstream Port and Four Downstream Ports
* All Downstream Ports Support Full-Speed and Low-Speed Operations
* Two Power Source Modes
   * Self-Powered Mode
   * Bus-Powered Mode
* Power Switching and Overcurrent Reporting Is Provided Ganged or Per Port
* Supports Suspend and Resume Operations
* Supports Programmable Vendor ID and Product ID With External Serial EEPROM
* 3-State EEPROM Interface Allows EEPROM Sharing
* Push-Pull Outputs for PWRON Eliminate the Need for External Pullup Resistors
* Noise Filtering on OVRCUR Provides Immunity to Voltage Spikes
* Package Pinout Allows 2-Layer PCB
* Low EMI Emission Achieved by a 6-MHz Crystal Input
* Migrated From Proven TUSB2040 Hub
* Lower Cost Than the TUSB2040 Hub
* Enhanced System ESD Performance
* Supports 6-MHz Operation Through a Crystal Input or a 48-MHz Input Clock 
```

[TUSB2046B Product Page](http://focus.ti.com/docs/prod/folders/print/tusb2046b.html)

[Mouser Part Lookup](http://www.mouser.com/search/ProductDetail.aspx?R=TUSB2046BVFvirtualkey59500000virtualkey595-TUSB2046BVF)

[Digikey Part Lookup](http://www.digikey.com/scripts/DkSearch/dksus.dll?Detail?name=296-11088-ND)

[Jameco Part Lookup](http://www.jameco.com/webapp/wcs/stores/servlet/ProductDisplay?langId=-1&storeId=10001&catalogId=10001&productId=764078)

[Custom Hub Project using a TUSB2046](http://www.instructables.com/id/EEXHOBCAOEEUR4U24X/)

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Hardware](http://eLinux.org/Category:Hardware "Category:Hardware")

# TvNow

> From: [eLinux.org](http://eLinux.org/TvNow "http://eLinux.org/TvNow")

# TvNow

![Tvnow-external.jpg](http://eLinux.org/File:Tvnow-external.jpg)

U1 Sharp [LH79524](http://eLinux.org/LH79524 "LH79524")

```
 ARM720T Processor 
```

U2 Conexant CX25836-3A

```
 Located below a shield. TQFP-64
   Single chip video decoder. http://elinux.org/images//8/83/Pdf.gif Datasheet http://elinux.org/images/d/da/Info_circle.png and http://elinux.org/images//8/83/Pdf.gif Product Brief http://elinux.org/images/d/da/Info_circle.png.
   IO are LVTTL. IOL=4mA drive. 
```

U4 Unknown [Chip On Board](http://eLinux.org/Chip_On_Board "Chip On Board")(CoB) package U5 Green unmarked 0805 package

```
 Located on USB board 
```

U6 Green unmarked 0805 package

```
 Located on USB board 
```

U7 Unknown [Chip On Board](http://eLinux.org/Chip_On_Board "Chip On Board")(CoB) package U8 TI LM324 U9 Hynix HY57V643220DT-6

```
 Long, leaded TSOP II 86 pin package
   SDRAM, VDD=3.3 & VDDQ=3.3V, 64Mbit, x32, 4banks, LVTTL
   Decoded per the http://elinux.org/images//8/83/Pdf.gif datasheet http://elinux.org/images/d/da/Info_circle.png. 6ns (166MHz), 2Mx32 
```

U11 Hynix HY27UA081G1M

```
 Wide, leaded package
   NAND flash, 1Gb 
```

U12 U14 Unknown [Chip On Board](http://eLinux.org/Chip_On_Board "Chip On Board")(CoB) package

Boards The entire system is composed of 4 boards. Most electrolytics are through hole. However, there are a few scattered tantalums.

```
 * There is a main board with the CPU, memory, and flash, and a SD socket. There is a cylinder shaped crystal (probally 32KHz, watch xtal) and a 28.6363Mhz xtal.
   * There is a board that has the AV inputs on one side.
   * On the otherside, there is a board with a mini USB connector.
   * A 4th board sits on top of 2 sets of fine (0.05 or finer) headers. 
```

discusion: [`forums.parallax.com/forums/default.aspx?f=15&m=158549`](http://forums.parallax.com/forums/default.aspx?f=15&m=158549)

vendor: [`www.hasbro.com/tiger/default.cfm?page=browse&product_id=18617`](http://www.hasbro.com/tiger/default.cfm?page=browse&product_id=18617)

![Tvnow-internal.jpg](http://eLinux.org/File:Tvnow-internal.jpg)

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Hardware Hacking](http://eLinux.org/Category:Hardware_Hacking "Category:Hardware Hacking")

# VGF-CP1

> From: [eLinux.org](http://eLinux.org/VGF-CP1 "http://eLinux.org/VGF-CP1")

# VGF-CP1

## Contents

*   1 Sony VAIO Canvas Online - Digital Picture Frame
*   2 Firmware
*   3 Bootlog
*   4 Remote Access
*   5 Hardware Disassembly
    *   5.1 **MX31 UART1 CN853 Pinout**
*   6 External Links

## Sony VAIO Canvas Online - Digital Picture Frame

[`bb.watch.impress.co.jp/cda/static/image/2008/05/07/cp101s.jpg`](http://bb.watch.impress.co.jp/cda/static/image/2008/05/07/cp101s.jpg)

specification in brief:

*   Display Size: 7″
*   Pixel Format: 800 x 480
*   Internal Memory: 100MB (80MB for pictures, 15MB for audio)
*   External Storage: CF, MS, SD
*   Image Support: JPEG, BMP, PNG, GIF
*   Audio Support: MP3, WAV
*   CPU: 400Mhz ARM11 (i.MX31)
*   OS: Timesys Linux 2.6.19
*   Wireless: 802.11b/g
*   Availability: May 17, 2008

## Firmware

Though the CP1 was available in the US and UK, there seems to be no english firmware for download available. Two japanese firmware images are available. You can flash them by just placing the .IMG file in a sub-folder called 'Update'.

```
VGF-CP1 japanese firmware Ver.2.00.00.09032516: http://vcl.vaio.sony.co.jp/download/EP0000177017.html
.IMG File: http://dlv.update.sony.net/pub/vaio/download/EP0000177017/EP0000177017.img

VGF-CP1 japanese firmware Ver.1.01.00.08082520: http://vcl.vaio.sony.co.jp/download/EP0000162984.html
.IMG File: http://dlv.update.sony.net/pub/vaio/download/EP0000162984/EP0000162984.img 
```

## Bootlog

Captured with serial interface (115200,8,n,1) on MX31 UART1.

``

```
 Linux 2.6 Freescale MXC processor

 Choose an option from below:

 1\. Load kernel to RAM and then boot from [0x80008000]
 2\. Change the Linux kernel destination loading address [0x80008000]
 3\. Enter command line option for kernel
 4\. Change command line option address [0x80000100]

   Please enter selection ->   Timeout occured

 -->Booting from RAM...
 RAM size is 128MB

 Copying pages....

 -->Goint Start

 Copying pages....

 -->Goint Start
 -->Starting kernel...
 Uncompressing Linux............................................................................................................. done, booting the kernel.
 Linux version 2.6.19.2 (akatsuka@akatsuka2.sm.sony.co.jp) () #1 PREEMPT Fri Apr 25 10:29:51 JST 2008
 CPU: Some Random V6 Processor [4107b364] revision 4 (ARMv6TEJ), cr=00e5387f
 Machine: Sony IDAM
 Memory policy: ECC disabled, Data cache writeback
 CPU0: D VIPT write-back cache
 CPU0: I cache: 16384 bytes, associativity 4, 32 byte lines, 128 sets
 CPU0: D cache: 16384 bytes, associativity 4, 32 byte lines, 128 sets
 Built 1 zonelists.  Total pages: 32128
 Kernel command line: initrd=0x83000000,8M root=/dev/ram0 rw console=ttymxc0,115200 ip=on
 MXC IRQ initialized
 PID hash table entries: 512 (order: 9, 2048 bytes)
 Actual CLOCK_TICK_RATE is 16625000 Hz
 Console: colour dummy device 80x30
 Dentry cache hash table entries: 16384 (order: 4, 65536 bytes)
 Inode-cache hash table entries: 8192 (order: 3, 32768 bytes)
 Memory: 64MB 64MB = 128MB total
 Memory: 118072KB available (2416K code, 601K data, 472K init)
 Mount-cache hash table entries: 512
 CPU: Testing write buffer coherency: ok
 checking if image is initramfs...it isn't (no cpio magic); looks like an initrd
 Freeing initrd memory: 8192K
 NET: Registered protocol family 16
 MXC GPIO hardware
 system_rev is: 0x20
 Clock input source is 26000000
 Machine Type: iDAM
 L2 cache: WB
 Using SDMA I.API
 MXC DMA API initialized
 usb: Host 2 registered
 SCSI subsystem initialized
 CSPI: mxc_spi-0 probed
 CSPI: mxc_spi-1 probed
 usbcore: registered new interface driver usbfs
 usbcore: registered new interface driver hub
 usbcore: registered new device driver usb
 MXC I2C driver
 NET: Registered protocol family 23
 NET: Registered protocol family 2
 IP route cache hash table entries: 1024 (order: 0, 4096 bytes)
 TCP established hash table entries: 4096 (order: 2, 16384 bytes)
 TCP bind hash table entries: 2048 (order: 1, 8192 bytes)
 TCP: Hash tables configured (established 4096 bind 2048)
 TCP reno registered
 Low-Level PM Driver module loaded
 JFFS2 version 2.2\. (NAND) (SUMMARY)  (C) 2001-2006 Red Hat, Inc.
 io scheduler noop registered
 io scheduler anticipatory registered
 io scheduler deadline registered
 io scheduler cfq registered (default)
 Console: switching to colour frame buffer device 100x30
 mxcfb: fb registered, using mode SAMSUNG-WVGA-32
 MXC WatchDog Driver 2.0
 MXC Watchdog Timer: initial timeout 60 sec
 Serial: MXC Internal UART driver
 mxcintuart.0: ttymxc0 at MMIO 0x43f90000 (irq = 45) is a Freescale MXC
 mxcintuart.2: ttymxc2 at MMIO 0x5000c000 (irq = 18) is a Freescale MXC
 RAMDISK driver initialized: 16 RAM disks of 16384K size 1024 blocksize
 loop: loaded (max 8 devices)
 MXC MTD nor Driver 2.0
 mxc_nor_flash: probe of mxc_nor_flash.0 failed with error -5
 MXC MTD nand Driver 2.0
 NAND device: Manufacturer ID: 0xad, Chip ID: 0xdc (Hynix NAND 512MiB 3,3V 8-bit)
 Scanning device for bad blocks
 Bad eraseblock 732 at 0x05b80000
 Bad eraseblock 1450 at 0x0b540000
 Bad eraseblock 2678 at 0x14ec0000
 Bad eraseblock 2680 at 0x14f00000
 Bad eraseblock 3981 at 0x1f1a0000
 Creating 6 MTD partitions on "NAND 512MiB 3,3V 8-bit":
 0x00000000-0x00040000 : "IPL-SPL"
 0x00040000-0x00440000 : "nand.kernel"
 0x00440000-0x00c40000 : "nand.rootfs"
 0x00c40000-0x02c40000 : "nand.userreg"
 0x02c40000-0x06c40000 : "nand.userprog"
 0x06c40000-0x20000000 : "nand.userdata"
 fsl-ehci fsl-ehci.0: Freescale On-Chip EHCI Host Controller
 fsl-ehci fsl-ehci.0: new USB bus registered, assigned bus number 1
 write priority to fc004400 302154
 iram0 = 1ffc0000 iram1 = 1ffc0800
 fsl-ehci fsl-ehci.0: irq 36, io base 0x43f88400
 fsl-ehci fsl-ehci.0: USB 2.0 started, EHCI 1.00, driver 10 Dec 2004
 usb usb1: configuration #1 chosen from 1 choice
 hub 1-0:1.0: USB hub found
 hub 1-0:1.0: 1 port detected
 Initializing USB Mass Storage driver...
 usb 1-1: new high speed USB device using fsl-ehci and address 2
 usb 1-1: configuration #1 chosen from 1 choice
 hub 1-1:1.0: USB hub found
 hub 1-1:1.0: 2 ports detected
 usb 1-1.1: new high speed USB device using fsl-ehci and address 3
 usb 1-1.1: configuration #1 chosen from 1 choice
 scsi0 : SCSI emulation for USB Mass Storage devices
 usbcore: registered new interface driver usb-storage
 USB Mass Storage support registered.
 usbcore: registered new interface driver asix
 MXC keypad loaded
 input: mxckpd as /class/input/input0
 IPU Post-filter loading
 SSI module loaded successfully
 Advanced Linux Sound Architecture Driver Version 1.0.13 (Tue Nov 28 14:07:24 2006 UTC).
 Control ALSA component registered
 MXC audio support initialized
 ALSA device list:
   #0: MXC audio for iDAM
 TCP cubic registered
 NET: Registered protocol family 1
 NET: Registered protocol family 17
 VFP support v0.3: implementor 41 architecture 1 part 20 variant b rev 2
 RAMDISK: Compressed image found at block 0
 VFS: Mounted root (ext2 filesystem).
 Freeing init memory: 472K
 Using fallback suid method
 Using fallback suid method
 Using fallback suid method
 Using fallback suid method
 #/etc/rc.d/rcS start
 Using fallback suid method
 usb_address[0] 3
 scsi 0:0:0:0: Direct-Access     Sony     MCR-U HS-MS      5.58 PQ: 0 ANSI: 0
 sd 0:0:0:0: Attached scsi removable disk sda
 scsi 0:0:0:1: Direct-Access     Sony     MCR-U HS-CF      5.58 PQ: 0 ANSI: 0
 sd 0:0:0:1: Attached scsi removable disk sdb
 scsi 0:0:0:2: Direct-Access     Sony     MCR-U HS-SD      5.58 PQ: 0 ANSI: 0
 k3d_chk_one: ejected, device sda
 k3d_chk_one: ejected, device sdb
 sd 0:0:0:2: Attached scsi removable disk sdc
 k3d_chk_one: ejected, device sdc
 ysdev: module license 'unspecified' taints kernel.
 ysdev: Yosemite misc driver (Mar 13 2008)
 GPIO port 2 (0-based), pin 31 is already reserved!
 GPIO port 2 (0-based), pin 31 is already reserved!
 EnablePA=0x01
 PA Group #0: level=13dbm, Rate Bitmap=0x1800 (54 48 Mbps)
 PA Group #1: level=14dbm, Rate Bitmap=0x7e0 (36 24 18 12 9 6 Mbps)
 PA Group #2: level=16dbm, Rate Bitmap=0x0f (11 5.5 2 1 Mbps)
 eth0      version:sd2480-9.70.3.p20-26409.p43 (r208)
 #/usr/sony/etc/rcS start
 CLCDC_Init: major device 251
 CAMERA_Init: major device 250
 Loaded PowerVR consumer services.
 command : time

 Get time val : 1199232528
 set system clock : date 010200082008.48(1199232528)
 Wed Jan  2 00:08:48 UTC 2008
 Yostart  was started in dll [2]
 Yostar:writeing pid=1064
 Yostart with CHECK was started in dll [2]
 Yostart  was started in dll [6]
 Yostar:writeing pid=1066
 Yostart with CHECK was started in dll [6]
 ysem.c: 230: ysem_open: k != -1 failed
 ysem.c: 230: ysem_open: k != -1 failed
 Yostart  was started in dll [42]
 Yostar:writeing pid=1069
 Yostart with CHECK was started in dll [42]
 zero clear memory
 ysem.c: 230: ysem_open: k != -1 failed
 ysem.c: 230: ysem_open: k != -1 failed
 ADD 0 MTX: msgc_alive_mtx_00, SEM: msgc_result_sem_00
 Yostart  was started in dll [45]
 Yostar:writeing pid=1073
 Yostart with CHECK was started in dll [45]
 Yostart with CHECK was started in dll [30]
 Yostart  was started in dll [30]
 Yostar:writeing pid=1076
 0:08:48 PID1076 event.c( 401)event_open_mem       : failed open_share()
 Yostart  was started in dll [5]
 Yostar:writeing pid=1079
 Yostart with CHECK was started in dll [5]
 ysem.c: 230: ysem_open: k != -1 failed
 ADD 1 MTX: msgc_alive_mtx_01, SEM: msgc_result_sem_01
 Yostart  was started in dll [48]
 Yostar:writeing pid=1083
 Yostart with CHECK was started in dll [48]
 ysem.c: 230: ysem_open: k != -1 failed
 ADD 2 MTX: msgc_alive_mtx_02, SEM: msgc_result_sem_02
 [vunp] 1 hour sleep!!
 Yostart  was started in dll [49]
 Yostar:writeing pid=1091
 Yostart with CHECK was started in dll [49]
 ysem.c: 230: ysem_open: k != -1 failed
 ADD 3 MTX: msgc_alive_mtx_03, SEM: msgc_result_sem_03
 [nled] write : ledset -s -b 80 0

 [systemapi] local_time ti:0  time_st:0  time_js:3600  time_ut:0
 ontimer set event!!!!
 ontimer set event!!!!
 ontimer set event!!!!
 ontimer set event!!!!
 Yostart with CHECK was started in dll [51]
 Yostart  was started in dll [51]
 Yostar:writeing pid=1095
 ysem.c: 230: ysem_open: k != -1 failed
 ADD 4 MTX: msgc_alive_mtx_04, SEM: msgc_result_sem_04
 Yostart with CHECK was started in dll [52]
 Yostart  was started in dll [52]
 Yostar:writeing pid=1099
 Yostart with CHECK was started in dll [10]
 Yostart  was started in dll [10]
 Yostar:writeing pid=1103

 [terahttp] dll_init
 MAIN_LOOP_START_REQ
 MAIN_LOOP_START_END
 Yostart  was started in dll [12]
 Yostar:writeing pid=1106
 Yostart with CHECK was started in dll [12]
 Yostart with CHECK was started in dll [23]
 Yostart  was started in dll [23]
 Yostar:writeing pid=1108
 pmb_start
 pmb_loop
 Message send Success. reply=1
 region_code=0x41
 mode=0x60
 WPA2-PSK CCMP
 error:[commontool.c]:L1373 -Mar 25 2009 ret=-5
 ssid=<yournetworkname>
 pairwise=CCMP
 key=<yournetworkkey>
 udhcpc (v0.9.9-pre+autoip) started
 udhcpc[1230]: udhcpc (v0.9.9-pre+autoip) started
 Sending discover...
 udhcpc[1230]: Sending discover...
 Sending select for 192.168.x.x...
 udhcpc[1230]: Sending select for 192.168.x.x...
 Lease of 192.168.x.x obtained, lease time 86400
 udhcpc[1230]: Lease of 192.168.x.x obtained, lease time 86400
 deleting routers
 route: SIOC[ADD|DEL]RT: No such process
 adding dns 192.168.y.y
 !!!enter ntp callback
 ##### ntp: get network change
 ntp set on
 Message send Success. reply=1
 0:09:00 PID1079 event.c( 969)event_api_add        : -------------------------------
 0:09:00 PID1079 event.c( 970)event_api_add        : TERAAPI_REQ_ADD  registerd ID:3 data:[0]
 0:09:00 PID1079 event.c( 971)event_api_add        : 2008/01/03(THU)10:28:26
 0:09:00 PID1079 event.c( 972)event_api_add        : -------------------------------

 Freescale Semiconductor, Inc.
 i.MX31 Applications Development System

 (none) login: terahttpd bind successfully

 Freescale Semiconductor, Inc.
 i.MX31 Applications Development System

 (none) login: 
```

## Remote Access

Since firmware Ver.2.00 a web server is set up - however in japanese. Initial login is

```
 ユーザー名 (loginname): root
 パスワード (password): password 
```

The web server allows you to configure your account data more easily than with the remote control. Unfortunately this login and password is not working on the serial console. With a root access account one might be able to add english translations.

No other services seems to run as all ports are closed.

## Hardware Disassembly

**WARNING ! Disassembling the VGF-CP1 may cause damage ! It's on your own risk !!**

![](http://eLinux.org/File:DSC_8955_red.png)

remove two screws to seperate acrylic glass

1.  To open the nice housing, you first have to remove two white square shaped sticker on the lower back side. The screws fix two white bushings, which have to be taken out in order to seperate the acrylic glass base.

![](http://eLinux.org/File:DSC_8954_red.png)

remove sticker to open cover

1.  Next you have to remove a rectangular white sticker. which is used as a diffusor for the blue led.

![](http://eLinux.org/File:DSC_8954_2_red.png)

slightly shift display in arrow direction

1.  To seperate the cover, you have to move carefully the display towards the direction marked with red arrows. The ribbon cable is on the bottom side, so you can open the housing now.

![](http://eLinux.org/File:DSC_8950_red.png)

next remove 6 screws to open shield

1.  The PCBs are shielded with a blank sheet fixed with six screws. For those you need well fitting screw driver, because the four ones marked in red are tightend very hard. I had to drill them out !

![](http://eLinux.org/File:DSC_8942_red.png)

mainboard with display connector

1.  Front display is connected to ribbon connector (red square). Another pwr button is inside (blue marking), next to it a reset button (green marking).

![](http://eLinux.org/File:DSC_8947_red.png)

UART1 serial connector

1.  A serial console can be connected through UART1 CN853\. I already soldered another plug on top of the original one. Pinout see below. You'll need a level shifter LVTTL-to-RS232 as well in order to connect a PC serial port.

2.  LVTTL/RS232 - Building a Custom Serial Interface [`buffalo.nas-central.org/wiki/Building_a_Custom_Serial_Interface`](http://buffalo.nas-central.org/wiki/Building_a_Custom_Serial_Interface)

Pin 1 of the connector the left one on the picture and it is marked on the PCB with a white dot.

### **MX31 UART1 CN853 Pinout**

| **Pin** | **Signal** |
| 1 | Power (3.3V)* |
| 2 | Transmit (TX) |
| 3 | Receive (RX) |
| 4 | Ground (GND) |

## External Links

*   Unboxing video: [`www.youtube.com/watch?v=oatks-1x8U8`](http://www.youtube.com/watch?v=oatks-1x8U8)
*   GPL software from Sony: [`www.sony.net/Products/Linux/VAIO/VGF-CP1.html`](http://www.sony.net/Products/Linux/VAIO/VGF-CP1.html)
*   Discussion thread: [`www.artiss.co.uk/2009/09/sony-vaio-vgf-cp1-photo-frame`](http://www.artiss.co.uk/2009/09/sony-vaio-vgf-cp1-photo-frame)

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Hardware](http://eLinux.org/Category:Hardware "Category:Hardware")
*   [Firmware](http://eLinux.org/index.php?title=Category:Firmware&action=edit&redlink=1 "Category:Firmware (page does not exist)")
*   [Boot Time](http://eLinux.org/Category:Boot_Time "Category:Boot Time")
*   [Hardware Hacking](http://eLinux.org/Category:Hardware_Hacking "Category:Hardware Hacking")
*   [HOWTOs](http://eLinux.org/Category:HOWTOs "Category:HOWTOs")

# Wavefinder

> From: [eLinux.org](http://eLinux.org/Wavefinder "http://eLinux.org/Wavefinder")

# Wavefinder

## Contents

*   1 DABUSB Wavefinder Information - Version 0.5
    *   1.1 Todo
    *   1.2 Hardware
        *   1.2.1 Main section (under shielding on USB cable side)
        *   1.2.2 Radio section (large shield on reverse side)
        *   1.2.3 Other bit (small shield on reverse side)
        *   1.2.4 Power Regulation and Management (Revised 22/11/02)
        *   1.2.5 SL11R microcontroller
    *   1.3 General software tools
        *   1.3.1 Psion's Wavefinder software
            *   1.3.1.1 Files
        *   1.3.2 Snoopy/SnoopyPro
    *   1.4 Custom software tools
        *   1.4.1 Dabble
        *   1.4.2 PAD extraction
        *   1.4.3 wlights
        *   1.4.4 wboot
        *   1.4.5 wfic
        *   1.4.6 FICDEC
        *   1.4.7 Quick and dirty DSP dissasembler
    *   1.5 Specifications
    *   1.6 USB Protocol
        *   1.6.1 Startup
        *   1.6.2 LEDs
        *   1.6.3 Tuning Datastream
        *   1.6.4 Automatic Frequency Control
        *   1.6.5 Main datastream - processing data blocks
        *   1.6.6 Command list
    *   1.7 Other links
        *   1.7.1 GNU Radio

# DABUSB Wavefinder Information - Version 0.5

Wavefinder is a software-defined DAB radio designed jointly between Psion, RadioScape, Roke, Lost Wax and Real Networks; and marketed by Psion Infomedia circa year 2000\. Wavefinder was originally a Windows-only product - the eventual aim of this project is to develop Free/Open Source GNU/Linux software, drivers and firmware suitable for controlling the Wavefinder from an embedded Linux platform such as the [BeagleBoard](http://eLinux.org/BeagleBoard "BeagleBoard").

In the future it might even be possible to replace the Wavefinder hardware with [Open Hardware](http://en.wikipedia.org/wiki/Category:Open_hardware) that takes advantage of modern highly integrated ICs (such as the TEMIC U2731B / Atmel ATR2731 or the Hitachi HD155080 tuner ICs) and using the DSP onboard the OMAP IC rather than 2x5402s.

## Todo

*   Remove any rubbish that's been superseded (ie. stuff we've figured out since).

## Hardware

### Main section (under shielding on USB cable side)

*   2x [TMS320VC5402](http://www-s.ti.com/sc/ds/tms320vc5402.pdf) - Texas Instruments 16 bit 5402 DSPs, DVC 5402GGU CD-0AA19DW
*   [ScanLogic SL11R-100](http://www.cypress.com/cfuploads/img/products/SL11R.pdf)
    *   USB controller / 16 bit RISC processor ([User Manual](http://www.intel-u-press.com/usb_dbe/AppendixA/Micros/SL11Rum.pdf))
*   2x [K6R1016V1C](http://www.samsungelectronics.com/semiconductors/SRAM/High_Speed/Asynch_Fast/1M_bit/K6R1016V1C/ds_k6r1016v1c.pdf)
    *   64K x 16 Bit High-Speed CMOS Static RAM(3.3V Operating)
*   [ADC1173](http://www.national.com/ds/AD/ADC1173.pdf) EM06AB - 8 bit 3V 15MSPS 33mW A/D converter
*   [MAX5541](http://pdfserv.maxim-ic.com/arpdf/MAX5541.pdf) - 16 bit serial DAC
*   [LMC6462BIM](http://www.national.com/ds/LM/LMC6462.pdf) - Dual Rail to Rail Op-Amp
*   [TL431](http://www.onsemi.com/pub/Collateral/TL431-D.PDF) - Programmable Precision Reference
*   2x [LCX74PDXP](http://www.fairchildsemi.com/ds/74/74LCX74.pdf) - Dual D-type Flipflop
*   [HCT244](http://www-us.semiconductors.philips.com/acrobat/datasheets/74HC_HCT244_CNV_2.pdf)
    *   8 bit buffer
*   [XILINX XCR3128A](http://direct.xilinx.com/bvdocs/publications/ds016.pdf) - Coolrunner [PLD](http://direct.xilinx.com/bvdocs/publications/ds012.pdf) (programmable logic device)
*   [IDT QS3VH245Q](http://www.idt.com/docs/QS3VH245_DS_49165.pdf) XQ0041D - 8-bit bus switch ([link](http://www.idt.com/products/pages/Bus_Switches-QS3VH245.html))
*   [NC7S04](http://www.fairchildsemi.com/ds/NC/NC7S04.pdf) - Single CMOS inverter (marked 7S04)
*   48.000 MHz Crystal Oscillator / sytem clock
*   16.384 MHz device, marked 0047SM1\. Reference clock?

The two [TI 5402](http://www-s.ti.com/sc/ds/tms320vc5402.pdf) DSPs provide about 200 MIPS of grunt. According to press releases from TI ([link](http://www.ti.com/sc/docs/news/2001/01002.htm), [link](http://www.ti.com/sc/docs/news/2000/00082.htm)), these perform a limited amount of demodulation/decoding of the raw RF signal. More recent designs as used in the ModularTech PCI card, perform much more of the decoding on-board using a TMS320DRE200 (or TMS320C5416) DSP, and less on the host PC.

### Radio section (large shield on reverse side)

*   [LMX2331](http://www.national.com/ds/LM/LMX2330A.pdf) - Freq synthesiser or PLL (2 GHz & 510 MHz)
*   [LMX1511](http://www.national.com/ds/LM/LMX1501A.pdf) - Freq synthesiser or PLL (1.1 GHz)
*   [Hitachi HWSD231](http://www.datasheetarchive.com/pdf-datasheets/Datasheets-13/DSA-245380.pdf)
    *   38.912 MHz SAW filter ([product page](http://www.hitachi-media-el.co.jp/products/saw1_e.html), [product page](http://www.hitachi-media-el.co.jp/products/saw1_e.html))

### Other bit (small shield on reverse side)

*   [24LC16B](http://www.microchip.com/download/lit/pline/memory/ic/21703b.pdf)
    *   2Kx8 Serial EEPROM (prob interfaced to USB controller)
*   [MAX1692](http://pdfserv.maxim-ic.com/arpdf/MAX1692.pdf) - Low-Noise, 5.5V Input, PWM Step-Down Regulator (marked 1692 EUB)
*   [Si9424DY](http://www.fairchildsemi.com/ds/SI/SI9424DY.pdf) - P-channel 20V (D-S) mosfet (marked 9424 JZA Y02C)

### Power Regulation and Management (Revised 22/11/02)

There is a plethora of power supply devices. It looks like a MAX1692 PWM regulator (rated 600mA) provides a 3.3V supply from the USB 5V supply. This almost certainly provides the power for the SL11R and probably the DSPs and Xilinx chip as well. It also feeds an adjustable linear regulator set to 1.8V ([LM1117MPX-ADJ](http://www.national.com/ds/LM/LM1117.pdf) - SOT223 package marked 'NO3A') which probably forms the core supply for the TMS320C5402's. There is also a mosfet (the Si9424) which appears to switch the unregulated power from the mains unit to a [ZSR800](http://www.zetex.co.uk/3.0/pdf/ZSR.pdf) 8V linear regulator which supplies a [ZSR500](http://www.zetex.co.uk/3.0/pdf/ZSR.pdf) 5V linear regulator. This regulator chain looks like it supplies the RF section (and, of course, the (in)famous LEDs). There is also a [TPS76338](http://www-s.ti.com/sc/ds/tps76338.pdf) 3.3V linear regulator (the SOT23-5 package marked 'PBEI'). This is fed directly from the Si9424 mosfet and here we see a (the?) reason for the Wavefinder's poor reliability. The [TPS76338](http://www-s.ti.com/sc/ds/tps76338.pdf) has a maximum input voltage of 10V according to the data sheet and that is what the loaded unregulated supply provides - this means that this regulator is operating at the edge of its specifications and is liable to fail - or at least it had on mine! The reason whoever designed it used a 10V PSU is that the [ZSR800](http://www.zetex.co.uk/3.0/pdf/ZSR.pdf) has a minimum input voltage requirement of 10V. Why the [TPS76338](http://www-s.ti.com/sc/ds/tps76338.pdf) isn't fed from either the [ZSR800](http://www.zetex.co.uk/3.0/pdf/ZSR.pdf) or the [ZSR500](http://www.zetex.co.uk/3.0/pdf/ZSR.pdf) I don't know - they're both rated at 200mA.

### SL11R microcontroller

The SL11R's memory map:

```
Int RAM       0000-0BFF (3k)
Ext RAM       0C00-7FFF (29k)
Ext Pg.1/DRAM 8000-9FFF (8k)
Ext Pg.2/DRAM A000-BFFF (8k)
Mem map reg   C000-C0FF (256b)
Ext ROM       C100-E7FF (9984b)
Int ROM       E800-FFFF (6k) 
```

It seems that the memory mapped registers (0xC000-0xC0FF) are mapped directly from USB commands such as "e6 c0 00 00", etc. The processor is 16-bit, and data words are sent LSB first. This holds true for commands with the first word being in the range (0xC000-0xC0FF). It *may* be that some of the other commands are writing direct to memory.

## General software tools

### Psion's Wavefinder software

The basis for reverse-engineering the Wavefinder, the Psion software provides the libraries used by any of the Wavefinder control software (e.g. native Psion software, DABBar, etc.). It also provides an API for use by custom programs such as Dabble (extrememly useful when combined with hooking the DLL functions).

#### Files

*   **rsDSP[*ab*].bin** - contain the DSP code. The data from both of these files is sent to the Wavefinder at startup.
*   **rsCPU*\**.dll** - different version of CPU-intensive code for different processors
*   **ViadabReceiver.dll** - lots of stuff, including LED control code

### Snoopy/SnoopyPro

This is a USB sniffer, logging all tranfers over the USB bus related to particular devices.

## Custom software tools

### Dabble

Dabble uses the Radioscape API to control the Wavefinder while hooking some DLLs. This allows the behaviour of the supplied Wavefinder software and what it sends over the USB bus to be studied. (maybe something on interpreting dabble output)

### PAD extraction

Kristoff Bonne has written a PAD extractor. pad_decode and tdc_decode. ([url](http://mccb.be.eu.org/leden/krbonne/dab/dab_streamdecoder-0.0.2.tar.gz)) (add more details)

### wlights

Controls the Wavefinder's LEDs independently of the Radioscape DLLs.

### wboot

Further development of the wlights code so that now it will bootup the wavefinder, download the DSP code, tune it to 'something', and collect all the data returned. No real attempt so far to understand the content of the data streams, other than the semi-obvious.

**find_wavefinder()** - Now uses some setupapi calls to find the wavefinder driver, based on its GUID. My PC seems to like both {96cb3fae-594e-11d3-b317-00e02914a689} and {a5dcbf10-6530-11d2-901f- 00c04fb951ed} - quite where these come from, I'm not sure, but the {a5dcbf10-... one matches one posted to the list, so it must be wavefinder specific. Hopefully, this code should now find any wavefinder driver, on any USB port ... **init_wavefinder()** - Trundles through the API calls captured by dabble. (see startup, below)

A few threads are kicked off - one to cycle the LEDS, one to control the frontend, and one to collect the main data: **lights_thread()** - updates all 3 LEDS every 100ms - takes a 12 bit value, 0x3ff = dim, 0x001=bright **tune_thread()** - This is where things get serious... A few commands are issued, then 0x800 bytes are returned from wavefinder. This data appears to be the raw output from the ADC in the tuner frontend - plot it, and you'll see. The VIADAB code, then performs a series of DSP functions - applies the Hamming window; fft's etc. I guess this is the tuner synchronisation, and feedback from these calculations gets fed back to keep the tuner locked. It also seems to calulate its BER from this data. This is what we need to understand more to control the fine tuning ourselves. **data_thread()** - This is also quite serious ... This thread is kept in sync with the tuner thread, and returns blocks of data (0x200 bytes), with a big discontinuity at 0x180 bytes. My guess is that this is the output of the IFFT performed by the DSP chip. (more detail based on wfic) The whole data stream is not returned - so the parameters sent each time round the loop by the tune_thread, must select which what services are being received. Since no sensible data is being sent back to wavefinder in wboot, the data_thread is likely to return garbage. But, if you run dabble, you get the same 2 distinct data streams.

### wfic

Extract FIC data from Dabble4 logs, for later processing with FICDEC.

### FICDEC

[FICDEC](http://www.esslinger.de/download/ficdec.htm)

### Quick and dirty DSP dissasembler

A partial DSP dissasembler for the TI 5402 DSP code has been written, but further work on this is not expected to be fruitful.

## Specifications

*   ETS 300 401 (AKA "radio broadcasting systems; digital audio broadcasting (DAB) to mobile, portable and fixed receivers").

(add links to above)

## USB Protocol

```
Commands are sent using dwIOControlCode = 0x80002018
Data is retrieved using dwIOControlCode = 0x22000c, 0x220010, 0x2200014

USB Setup Data
    bmRequestType = 0x40 - Write
    bmRequestType = 0xc0 - Read

bRequest = 1        command/data to DSP_A
    wValue = 0x0000
    wIndex = 0x0080
    wLength = 0x40
    *data = <data>

bRequest = 2        command/data to DSP_B
    wValue = 0x0000
    wIndex = 0x0080
    wLength = 0x40
    *data = <data>

bRequest = 3        command/data to SR11R
    wValue = register address, e.g. red LED = 0xc0f4
    wIndex = register value
    wLength = 0x04,
    *data = <addr> <value>

bRequest = 4        Frequency Synthesiser
    wValue = 0x0000
    wIndex = 0x0000
    wLength = 0x0c
    *data = <data>

bRequest = 5        AFC, Symbol Selection
    wValue = 0x0000
    wIndex = 0x0000
    wLength = 0x20
    *data = <data> 
```

### Startup

```
(skip select_config stuff)
(skip first vendor_device packet, 64 bytes)

; initialise everything to zero
e6 c0 00 00 : 0xc0e6 : PWM control reg
e8 c0 ff 03 : 0xc0e8 : Max counter reg
ea c0 00 00 : 0xc0ea : PWM start ch.0 reg (0)
ec c0 00 00 : 0xc0ec : PWM stop  ch.0 reg (0)
ee c0 00 00 : 0xc0ee : PWM start ch.1 reg (0)
f0 c0 00 00 : 0xc0f0 : PWM stop  ch.1 reg (0)
fa c0 ff 03 : 0xc0fa : PWM cycle count - 1 (1024)
f2 c0 00 00 : 0xc0f2 : PWM start ch.2 reg (0)
f4 c0 00 00 : 0xc0f4 : PWM stop  ch.2 reg (0)
f6 c0 00 00 : 0xc0f6 : PWM start ch.3 reg (0)
f8 c0 00 00 : 0xc0f8 : PWM stop  ch.3 reg (0)

; initialise PWM counter registers
ea c0 00 00 : 0xc0ea : PWM start ch.0 reg (0)
ec c0 ff 02 : 0xc0ec : PWM stop  ch.0 reg (0x02ff)
f0 c0 ff 02 : 0xc0f0 : PWM stop  ch.1 reg (0x02ff)
f4 c0 ff 03 : 0xc0f4 : PWM stop  ch.2 reg (0x03ff)
f8 c0 ff 03 : 0xc0f8 : PWM stop  ch.3 reg (0x03ff)
f0 c0 ff 03 : 0xc0f0 : PWM stop  ch.1 reg (0x03ff)

; initialise PWM control
e6 c0 0f 80 : 0xc0e6 : PWM control register

; initialise frequency synthesiser????
; or these might be the wLength=0x0c ones, as these occur just after dabble prints out "About to tune ..."
28 c0 e0 3d : 0xc028 : I/O control register 1
20 c1 00 00 : ??????
20 c1 ff ff : ??????
24 c0 00 38 : 0xc024 : Output control register 1
1e c0 00 00 : 0xc01e : Output data register 0
24 c0 00 30 : 0xc024 : Output control register 1
24 c0 00 38 : 0xc024 : Output control register 1
14 c1 e0 00 00 00 : ??????
. . .
. . .
. . . 
```

PWM Control Register = 0x800f = b1000 0000 0000 1111 which basically means it's set to begin operation, at 48MHz, continuous repeat (rather than one-shot), active low, enabled.

### LEDs

The LEDs are controlled via the SL11R's built-in PWM controlled pins (of which there are four, though only three are used). The PWM pins are setup during initialisation (see above).

Colours are sent via the commands (or similar):

```
f4 c0 xx 00 (for red)
f8 c0 xx 00 (for green)
f0 c0 xx 00 (for blue) 
```

with xx being the intensity (or at least the value passed to the command line of wlights). (can probably add more here, we know a lot more about the leds than this now)

### Tuning Datastream

The frequency is set by a set of 6 'req=4' commands. The first five always seem to be the same; the last one varies dependant on the frequency. The wtune code just calculates the value for the last command.

```
e.g.
About to tune radio frequency to 225.648000
req=04, val=0000, idx=0000, len=000c  10 08 10 00 16 00 00 00 00 00 00 10
req=04, val=0000, idx=0000, len=000c  22 63 34 00 16 00 00 00 00 00 00 10
req=04, val=0000, idx=0000, len=000c  10 08 00 00 16 00 00 00 00 00 00 10
req=04, val=0000, idx=0000, len=000c  82 02 20 00 16 00 00 00 00 00 00 10
req=04, val=0000, idx=0000, len=000c  11 80 00 00 10 00 01 00 00 00 00 10
req=04, val=0000, idx=0000, len=000c  04 a2 03 00 13 00 01 00 00 00 00 10
                                      ^         ^
                                      \---------/

-> tune(225.648000), x1=1022e, x2=3a204
the 4 bytes calculated are 0x04, 0xa2, 0x03, 0x00 
```

These values are presumably sent the to frequency synth. PLL (LMX2331U); but I've not tried to figure out the actual meanings of the parameters.

* * *

I've also been monitoring the 'req=5' commands that are sent by the tune_thread. e.g. cmd=5, value=007f, index=7fff ffff ffff fff8 0000 0000 0000 0000 0000 0000 ff00 056c 0011 0000 000f 0000

The 1st 4 words (0x7fff ffff ffff ffff8) may control which symbols are transferred, but normally I see these values. Sometimes, if the tuner cannot lock (bad freq, or no reception), I see something like (1111 1111 1111 1111) which possibly resets the null symbol synchroniser. The last but few words (056c, 0011) are probably the AFC. If there is no reception or lock then these values are constant. If it is tuned, then they vary slowly, presumably causing the AFC circuit to adjust the frequency to hold the tuner in lock. - onward and upwards ...

The wavefinder return a block of 0x20c bytes per symbol received. Not all symbols per frame are passed accross the USB interface - only those selected by a 'req=5' command (precise format of this command is still TBD).

### Automatic Frequency Control

The biggest missing bit is the AFC control. I figured out how to send the required frequency to the frequency synthesiser, but to complete the tuning, the frequency must be phase locked fairly precisely in order to ensure that each of the carriers end up in the middle of the FFT bin. This is a 2 stage process. The acquisistion phase achieves a course lock, by performing a sequence of correlations of the received phase reference symbol against a locally constructed phase reference symbool. By sliding the local symbol, and performing a correlation for each position, a course offset value can be determined. I can do the correlation, but I don't yet know how to feed the result back to the wavefinder. The acquisition phase can reduce the phase offset (too many phases here ...) to within 1 carrier (1 FFT bin). Once this phase offset has been reduced, the system enters a tracking phase, to provide fine adjustment. This seems to invlove a further correlation, and then uses a moving average to further adjust the frequecy. This process should be able to track any frequency drift, and reduce the phase error to \< 1 carrier - i.e centre the sample point to the middle of the carrier. As with the acquisition, I do not as yet have a complete understanding of how the analysis is converted to the value that is sent back to the wavefinder.

### Main datastream - processing data blocks

My current thought is that the DSP may also do the demodulation as well as the FFT. This is mainly based on the amount of data that is returned. For each symbol, we get back 1 block of data (0x200) bytes, of which the last 0x80 bytes is a replica of the first 0x80 bytes of a previous symbol - this must be the effect of the guard band. That leaves 0x180 bytes per symbol. A symbol is based on 1536 (0x600) carriers; so that only allows 2 bits per carrier. So, either the data is 2 bits per fft bin, or the fft output has been further processed. The header for each data block indicates which symbol it is for. Symbol 0 (the NULL symbol) seems to be returned for all frames. Sometimes I also get 0x12-0x3d; somtimes I only get 2,3,4\. 2,3,4 are the FIC; higher numbers are the MSC.

The data returned appears to consist of a 12 byte header that identifies the symbol number, then 0x180 bytes of 'useful' data, then a further 0x80 bytes of 'useless' data (which is presumably due to the guard band).

```
 byte 0 : 0x0c
    byte 1 : 0x62
    byte 2 : <symbol>
    byte 3 : <frame number, 00-1f>
    byte 4 : 0xb9 / 0xbd / 0xbe / 0xbf
    byte 5 : 0x20 / 0x10
    byte 6 : 0x01
    byte 7 : 0x00
    byte 8 : 0x80
    byte 9 : 0x01
    byte 10 : 0x00
    byte 11 : 0x00 / 0x80 
```

The 0x180 bytes of symbol data is the result of some processing by the DSPs. The DSPs take in data from the ADC, perform a 2048 point FFT, then perform differential demodulation. The data transfered over the USB is the resulting OFDM complex symbols. These are transferred as 16 bit words. Care needs to be take to process this data in the correct order - aren't big/little endian issues a right pain...

```
e.g for the returned data : 0c 62 02 00 b9 20 01 00 80 01 00 00 6e 12 32 ...
                            <-----    12 byte header     -----> <----- symbol data ...

    6e 12 - 0 1 1 0 1 0 0 0    0 0 0 1 0 0 1 0
                                       | | | |
                                       | | | \__  real QPSK symbol 0
                                       | | \____  imag QPSK symbol 0
                                       | \______  real QPSK symbol 1
                                       \________  imag QPSK symbol 1 
```

The symbol data must then be processed accroding to EN 300-401\. These steps are:

*   **Frequency Deinterleaving** - Each of the 1536 QPSK complex symbols is transmitted on a different carrier. Theses are reordered before transmission. This process needs to be reversed.
*   **Symbol Demapping** - The 1536 QPSK symbols are derived from 3072 OFDM symbols. This process is reversed here.
*   **Depuncturing** - Extra zero's are added to the data stream according to the puncturing pattern.
*   **Viterbi Decoding** - The Viterbi decoder attempts to correct any errors in the data stream, using the redundancy that was added before transmission. Approx. 3 x more data is transmitted than is required.
*   **Descrambling** - The data is scrambled to produce a similar number of 1's and 0's.

### Command list

(perhaps we should put together a full list of USB commands and packets and what they do)

## Other links

### GNU Radio

*   [GNU Radio](http://www.gnu.org/software/gnuradio/) is a project to write a Software Defined Radio (SDR). Basically, they have hooked up a cable-TV downconverter to a wideband ADC (a $1000 PCI-card...) and are then trying to do stuff with the baseband signal in software.
*   [DAB ETSI Standards](http://webapp.etsi.org/WorkProgram/Frame_WorkItemList.asp?butExpertSearch=++Search++&qETSI_STANDARD_TYPE=&qETSI_NUMBER=&qTB_ID=&qINCLUDE_SUB_TB=True&includeNonActiveTB=FALSE&qWKI_REFERENCE=&qTITLE=dab&qSCOPE=&qCURRENT_STATE_CODE=&qSTOP_FLG=N&qSTAR)
*   [DAB Standards](http://www.eurekadab.org/Standards.htm)
*   [TPEG Specifications](http://www.ebu.ch/departments/technical/broadcast_technology/b_tpeg_project.php)
*   [Good DAB Articles](http://www.ebu.ch/trev_index-dab.html)
*   [BBC MOT Webpages](http://www.bbc.co.uk/rd/projects/mot/home.html)
*   [BBC TPEG Webpages](http://www.bbc.co.uk/rd/projects/tpeg/)
*   [VIADAB Specification](http://www.radioscape.com/extranet_copy/axDownloads/Viadab.pdf)
*   [2 API.pdf VIADAB 2 Specification](http://www.radioscape.com/extranet_copy/axDownloads/VIADAB)
*   [DABUSB](http://dab.cs.tum.edu/)
*   [Wavefinder FAQ](http://www.andante.pwp.blueyonder.co.uk/wavefinder/)
*   [DABbar](http://www.dabbar.co.uk)
*   [Yahoo DABUSB](http://groups.yahoo.com/group/dabusb)
*   [alt.radio.digital](http://groups.google.co.uk/groups?hl=en&group=alt.radio.digital)
*   [Rhode & Scwartz DAB COFDM Generator](http://www.signalgeneration.rohde-schwarz.com/www/dev_center.nsf/html/1117116down)
*   (many more on DABUSB Yahoo group bookmarks)

* * *

Original editor: Matthew Burnham Last updated 31 May 2009 by md84419

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [OMAP](http://eLinux.org/Category:OMAP "Category:OMAP")
*   [BeagleBoard](http://eLinux.org/Category:BeagleBoard "Category:BeagleBoard")

# ZipIt

> From: [eLinux.org](http://eLinux.org/ZipIt "http://eLinux.org/ZipIt")

# ZipIt

## Contents

*   1 Introduction
*   2 How To...
*   3 Hardware Overview
*   4 Zipit Comments Not On Yahoo
*   5 External Articles & Reviews
*   6 Project Updates
*   7 Orphaned Zipit pages

## Introduction

The **ZipIt** Wireless Instant Messenger is made by [Aeronix](http://www.aeronix.com/) and imported from China. The official site is at [ZipItWireless.com.](http://corp.zipitwireless.com/) The **ZipIt** runs a custom IM app running under linux. The GPL/LGPL source code is [available or documented.](http://linux.zipitwireless.com/) However, the object file for Zipit binary is not available for re-linking so they are in violation of the LGPL license for glibc.

There is an active community of users working to extend the functionality of the **ZipIt**. This group maintains this wiki and a [Yahoo! group.](http://groups.yahoo.com/group/zipitwireless)

*   **Technical details** of the **ZipIt** (hardware & software) can be found on the [ZipIt Tech Details](http://eLinux.org/ZipIt_Tech_Details "ZipIt Tech Details") page.
*   Details on **modifications** you can make to the Zipit (backlight, flash menory, ports) [Zipit Hardware Mods](http://eLinux.org/Zipit_Hardware_Mods "Zipit Hardware Mods")
*   Alternative **software** created by users is available [ZipIt Software](http://eLinux.org/ZipIt_Software "ZipIt Software")

The **ZipIt** might be purchased from Radio Shack (The Source) for $99 or [amazon](http://www.amazon.com/K%252dByte-Zipit-Wireless-Instant-Messenger/dp/B0002XR9PO/ref=sr_1_7?ie=UTF8&s=electronics&qid=1222727970&sr=8-7) and other online retailers.

## How To...

*   A frequently asked questions list is available at [ZipIt FAQ](http://eLinux.org/ZipIt_FAQ "ZipIt FAQ")
*   Add hardware features to your Zipit (e.g. backlight, clock, MMC/SD memory, etc.) [Zipit Hardware Mods](http://eLinux.org/Zipit_Hardware_Mods "Zipit Hardware Mods")
*   How to perform the 5-wire and 3-wire serial mods so you can alter the Zipit firmware: [Zipit Serial Mod](http://eLinux.org/Zipit_Serial_Mod "Zipit Serial Mod") original website: [`aibohack.com/zipit/serial.htm`](http://aibohack.com/zipit/serial.htm)
*   How to flash new firmware via serial connection [ZipIt Serial Flash](http://eLinux.org/ZipIt_Serial_Flash "ZipIt Serial Flash")
*   How to flash new firmware with no hardware modification over [WiFi](http://eLinux.org/WiFi "WiFi"). (only works on Zipits with firmware versions before 2.01) [ZipIt WiFi Flash](http://eLinux.org/ZipIt_WiFi_Flash "ZipIt WiFi Flash")
*   How to setup an NFS server for windows to update to any other distro for the zipit: [ZipIt Winxp NFS](http://eLinux.org/ZipIt_Winxp_NFS "ZipIt Winxp NFS")]
*   How to setup Adams software [ZipIt Adam HOWTO](http://eLinux.org/ZipIt_Adam_HOWTO "ZipIt Adam HOWTO")
*   How to compile new software for use on **ZipIt**: [ZipIt Compile](http://eLinux.org/ZipIt_Compile "ZipIt Compile")
*   Tutorial on developing applications for **ZipIt**: [ZipIt Developer Tutorial](http://eLinux.org/ZipIt_Developer_Tutorial "ZipIt Developer Tutorial")
*   Sample program to write to framebuffer: [ZipIt Framebuffer Example](http://eLinux.org/ZipIt_Framebuffer_Example "ZipIt Framebuffer Example")
*   How to connect to WiFI networks from Linux command line: [ZipIt WiFi Connect](http://eLinux.org/ZipIt_WiFi_Connect "ZipIt WiFi Connect")
*   Information about Audio on the **ZipIt**: [ZipIt Audio](http://eLinux.org/ZipIt_Audio "ZipIt Audio")
*   What to do when you use the wrong power supply [www.openhardware.net](http://www.openhardware.net/?title=Testing%20Dead%20ZipIt&dir=zipit&file=zipitKilledIt.html)
*   Linux zipit tools [zipit tools](http://www.cs.toronto.edu/~cvs/zipit/)

## Hardware Overview

*   [Cirrus EP7312-CR-90](http://www.cirrus.com/en/products/pro/detail/P139.html) (ARM720T CPU running at up to 90MHz)
*   2M flash - MX 29LV160ATxBC-70
*   16M SDRAM - Hynix HY5V26D
*   320x240x4 LCD (16 level gray scale)
*   Agere [WiFi](http://eLinux.org/WiFi "WiFi") chip - WL600114LY
*   Wolfson Micro [WM8751L](http://www.wolfsonmicro.com/uploads/documents/WM8751L.pdf) Stereo DAC
*   LPC915 (8 bit uP)

[`www.elkgrovewireless.com/zipit/zipit.jpg`](http://www.elkgrovewireless.com/zipit/zipit.jpg)

## Zipit Comments Not On Yahoo

Additional [Zipit Notes](http://eLinux.org/Zipit_Notes "Zipit Notes")

## External Articles & Reviews

[`www.linuxdevices.com/articles/AT8107883197.html`](http://www.linuxdevices.com/articles/AT8107883197.html) [`hardware.slashdot.org/article.pl?sid=05/07/17/1416202&tid=100`](http://hardware.slashdot.org/article.pl?sid=05/07/17/1416202&tid=100) [`www.elkgrovewireless.com/zipit/`](http://www.elkgrovewireless.com/zipit/)

## Project Updates

**July 2005**

*   Greatly expanded information on installing the [BURN3](http://eLinux.org/BURN3 "BURN3") and [OpenZipIt](http://eLinux.org/OpenZipIt "OpenZipIt") firmware, especially from Linux.
*   Many tech details have been moved to the [ZipIt Tech Details](http://eLinux.org/ZipIt_Tech_Details "ZipIt Tech Details") page in order to simplify this main page.

**June 2005**

*   Added two How-Tos: [ZipIt WiFi Flash](http://eLinux.org/ZipIt_WiFi_Flash "ZipIt WiFi Flash") and [ZipIt Compile](http://eLinux.org/ZipIt_Compile "ZipIt Compile")
*   A software-only firmware modification is outlined in the former link.

**March 2005**

*   Keep checking the Yahoo BBS for the latest current status
*   The core Linux components are now replaceable (including newer BusyBox, telnetd etc). Also a way of reflashing a non-solder modified device has been found.
*   Eventually a software-only SDK will be released (soldering not necessary if you are careful with subsequent reflashing steps)

## Orphaned Zipit pages

The following Zipit pages were found orphaned. I've added links here. Someone more knowlegeable please move them to a more proper location (or remove them if they are not needed any more)

[ZipItV2 JTAG](http://eLinux.org/ZipItV2_JTAG "ZipItV2 JTAG") [ZipItV2 UART](http://eLinux.org/ZipItV2_UART "ZipItV2 UART") [ZipIt NFS WL-HDD25](http://eLinux.org/ZipIt_NFS_WL-HDD25 "ZipIt NFS WL-HDD25") [ZipIt To Do List](http://eLinux.org/ZipIt_To_Do_List "ZipIt To Do List") [Zipit Scan](http://eLinux.org/Zipit_Scan "Zipit Scan") [Delta_F](http://eLinux.org/Delta_F "Delta F")

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Zipit](http://eLinux.org/Category:Zipit "Category:Zipit")

# 开发平台

> 原文：[eLinux.org](http://eLinux.org/Development_Platforms "http://eLinux.org/Development_Platforms")
> 翻译：[@lzufalcon](https://github.com/lzufalcon)

# 开发平台

## 目录

*   1 最受欢迎的设备
*   2 ARM
*   3 AVR32
*   4 Blackfin
*   5 MIPS
*   6 PowerPC
*   7 SuperH
*   8 i386 及其兼容平台
*   9 未分类

## 最受欢迎的设备

*   Via APC 8750
*   Raspberry Pi 来自树莓派基金会，采用来自博通的 BCM2835
*   [CraneBoard](http://www.mistralsolutions.com/craneboard) 来自 Mistral Solutions，采用 TI 的 AM3517
*   [AM/DM37x EVM](http://www.mistralsolutions.com/AM37x_EVM) 来自 Mistral Solutions，采用 TI 的 AM/DM35x 处理器
*   BeagleBoard 采用 TI OMAP3(Cortex-A8)
*   Devkit8000 采用 TI OMAP3530(Cortex-A8) 的开发板
*   [Devkit8500D](http://www.armkits.com/product/devkit8500d.asp) 采用 TI DM3730 ARM Cortex-A8 的开发板
*   [Devkit7000](http://www.armkits.com/product/devkit7000.asp) 采用三星 S5PV210 ARM Cortex-A8 的开发板
*   Hawkboard 采用 TI OMAP L138（ARM9 和 C674X 浮点 DSP）
*   Hammer_Board 采用三星基于 ARM9 的 S3C2410
*   Jetson TK1 NVIDIA Tegra K1 4 核 Cortex-A15 CPU + **192-core Kepler GPU** 移动超级计算机。用到 U-Boot + [Nouveau](http://nouveau.freedesktop.org/wiki/) 它是第一个[**100% 完全开源**](http://www.codethink.co.uk/2014/06/12/no-secret-sauce-just-open-source) 的采用 GPU 加速的 Linux 开发板
*   LeopardBoard 采用 TI TMS320DM355
*   Opensourcemid K7 MID OMAP3530 平板，来自 [OpenSourceMID.org](http://www.opensourcemid.org)
*   [OMAP3 EVM](http://www.mistralsolutions.com/products/omap_3evm.php) 来自 Mistral Solutions
*   [Odroid](http://www.linuxfordevices.com/c/a/News/HardKernel-Odroid/##) 采用三星 S5PC100 (Cortex-A8) 的可编程（Hackable）的 Android 手持游戏设备
*   [(beagle 的克隆)](http://www.tenettech.com/devkit_8000_evalaution_kit.html)
*   [Snowball SDK & PDK (Dual Cortex A9 + Mali400)](http://www.igloocommunity.org/)
*   [Lionboard](http://www.lionboard.org/) TI DM368 SODIMM 模块 (ARM9 + 视频核心)
*   [MYD-SAMA5D3X](http://www.myirtech.com/list.asp?id=432) 由 MYIR 设计，采用 Atmel SAMA5D3 (ARM Cortex-A5)
*   [MYD-AM335X](http://www.myirtech.com/list.asp?id=466) 由 MYIR 设计，采用 TI AM335X (ARM Cortex-A8)
*   [MYD-IMX28X](http://www.myirtech.com/list.asp?id=472) 由 MYIR 设计，采用 Freescale i.MX28 (ARM9)
*   [MYD-SAM9X5](http://www.myirtech.com/list.asp?id=424) 由 MYIR 设计，采用 Atmel AT91SAM9G15/G25/G35/X25/X35 (ARM9)
*   [MYD-SAM9X5-V2](http://www.myirtech.com/list.asp?id=444) 由 MYIR 设计，采用 Atmel AT91SAM9G15/G25/G35/X25/X35 (ARM9)

## ARM

*   [Forlinx Embedded](http://www.forlinx.net) ARM 系列开发板

    *   [FL2440 采用三星 ARM9 S3C2440](http://www.forlinx.net/?p=28&a=view&r=52%7C)
    *   [FL2416 采用三星 ARM9 S3C2416](http://www.forlinx.net/?p=28&a=view&r=104%7C)
    *   [OK6410-A 采用三星 ARM11 S3C6410](http://www.forlinx.net/?p=27&a=view&r=49%7C)
    *   [OK6410-B 采用三星 ARM11 S3C6410](http://www.forlinx.net/?p=27&a=view&r=50%7C)
    *   [OK210 采用三星 Cortex-A8 S5pv210](http://www.forlinx.net/?p=26&a=view&r=47%7C)
    *   [OK210-A 采用三星 Cortex-A8 S5pv210](http://www.forlinx.net/?p=26&a=view&r=48%7C)
    *   [OK335xD 采用 TI Sitara AM335x](http://www.forlinx.net/?p=26&a=view&r=46%7C)
    *   [OK335xS 采用 TI Sitara AM335x](http://www.forlinx.net/?p=26&a=view&r=99%7C)
    *   [OK335xS-II 采用 TI Sitara AM335x](http://www.forlinx.net/?p=26&a=view&r=110%7C)
*   [GNUBLIN](http://www.gnublin.org) GNUBLIN 开发板

*   [ARM cortex A8 board 1GHz 512M DDR3](http://www.quickembed.com/Tools/Shop/A8/201202/245.html) 采用三星 S5PV210
*   Devkit8000 采用 OMAP3530，来自 [Embest](http://www.armkits.com)
*   [Devkit8500D](http://www.armkits.com/Product/devkit8500d.asp) 采用 TI DM3730
*   [Devkit7000](http://www.armkits.com/product/devkit7000.asp) 采用三星 S5PV210
*   [CraneBoard](http://www.mistralsolutions.com/craneboard) 来自 Mistral Solutions
*   PandaBoard
*   [AM/DM37x EVM](http://www.mistralsolutions.com/AM37x_EVM) 来自 Mistral Solutions
*   [Digi 入门套件](http://www.digi.com/products/embeddedsolutions/softwareservices/digiembeddedlinux.jsp)
*   SheevaPlug
*   [GuruPlug](http://hackaday.com/2010/02/08/guruplug-the-next-generation-of-sheevaplug/)
*   ARM Integrator
*   OSK - OMAP 入门套件
*   GAO Engineering Inc. - [`www.gaoengineering.com`](http://www.gaoengineering.com)
*   DaVinci DVEVM 评估模块 - [`www.spectrumdigital.com/`](http://www.spectrumdigital.com/)
*   ITSY
*   LART 项目
*   Hammer_Board
*   [Simtec Electronics](http://www.simtec.co.uk/)
*   [AT91RM9200 开放评估板](http://wiki.emqbit.com/free-ecb-at91)
*   BeagleBoard
*   [ODROID](http://eLinux.org/index.php?title=ODROID&action=edit&redlink=1 "ODROID (page does not exist)") 采用 Samsung Exynos 的[开发板和平板](http://www.hardkernel.com/)
*   Balloonboard
*   [KB9202](http://www.kwikbyte.com/KB9202.html)
*   Luminary Micro's **LM3S6965** 是款 ARM Cortex M3 MCU。有一个便宜的开发板，叫做**基于 LM3S6965 的以太网评估套件**，可以从 [Mouser](http://www.mouser.com/) 或者其他渠道买到，大约 69 美金。
*   TechnologicSystems
*   [OMAP3 EVM from Mistral Solutions](http://www.mistralsolutions.com/products/omap_3evm.php)
*   NaviEngine 采用 NEC ARM11MPCore (4 x ARM11)
*   采用 Freescale i.MX 的 Armadeus APF boards
*   Zoom OMAP34x & 36x 开发套件 - [`omapzoom.org`](https://omapzoom.org/)
*   Tegra2
*   Arm11 开发板
*   [Snowball SDK & PDK (Dual Cortex A9 + Mali 400)](http://www.igloocommunity.org/)
*   Raspberry Pi
*   Freescale IMX53QSB [[1]](http://imxcommunity.org/group/imx53quickstartboard)
*   Calao Atmel AT91 开发板 [[2]](http://www.calao-systems.com/articles.php?lng=fr&pg=5940)
    *   USB A9260
    *   USB A9263
    *   USB A9G20
    *   TNY A9263
    *   TNY A9G20
    *   QIL-A9260
*   友善之臂开发板:
    *   [Mini2440](http://www.hycshop.com/mini2440-c-1_7/) 采用 S3C2440 ARM9 的开发板
    *   [Tiny6410](http://www.hycshop.com/tiny6410-c-1_10/) 采用 S3C6410 ARM11 的开发板
*   Basi and Dingo DaVinci dm365 开发板
*   [Gumstix Overo](http://gumstix.com)
*   嵌入式开放模块化架构/EOMA-68
*   一系列 OMAP 开发板
*   Dragonboard
*   WandBoard
*   [Colibri 评估板](https://www.toradex.com/products/carrier-boards/colibri-evaluation-carrier-board)（采用 Nvidia Tegra T20, T30 and Freescale iMX6, VF50, VF61，来自 Toradex Switzerland 和 Seattle，WA
*   [Apalis 评估板](https://www.toradex.com/products/carrier-boards/apalis-evaluation-board)（采用 Nvidia Tegra T30 and Freescale iMX6，来自 Toradex Switzerland 和 Seattle，WA
*   [Ixora Carrier 开发板](https://www.toradex.com/products/carrier-boards/ixora-carrier-board)（采用 Nvidia Tegra T30 and Freescale iMX6，来自 Toradex Switzerland 和 Seattle，WA
*   [Viola Carrier 开发板](https://www.toradex.com/products/carrier-boards/viola-carrier-board)（采用 Nvidia Tegra T20, T30 and Freescale VF50, VF61, iMX6，来自 Toradex Switzerland 和 Seattle，WA
*   [Iris Carrier 开发板](https://www.toradex.com/products/carrier-boards/iris-carrier-board)（采用 Nvidia Tegra T20 and T30, Freescale iMX6, VF50, VF61 和 Intel/Marvell PXA270, PXA310, PXA320，来自 Toradex Switzerland 和 Seattle, WA
*   [Orchid Carrier 开发板](https://www.toradex.com/products/carrier-boards/orchid-carrier-board)（采用 Intel/Marvell PXA270, PXA310, PXA320, Nvidia Tegra T20 and T30 and Freescale iMX6, VF50, VF61，来自 Toradex Switzerland and Seattle, WA
*   [PengPod](http://pengpod.com/)
*   A13 OLinuXino-MICRO 全志 A13 开发板
*   [Boundary Devices i.MX6 开发板](http://boundarydevices.com/products/)
    *   [Nitrogen6x](http://boundarydevices.com/products/nitrogen6x-board-imx6-arm-cortex-a9-sbc/)
    *   [Nitrogen6 Lite](http://boundarydevices.com/products/nitrogen6_lite/)
    *   [SABRE Lite](http://boundarydevices.com/products/sabre-lite-imx6-sbc/)
*   [SolidRun HummingBoard](http://www.solid-run.com/products/hummingboard/linux-sbc-specifications/), 采用 i.MX6，跟树莓派有相同的规格、连接器和插脚引线
*   MYIR's ARM 开发板
    *   [MYD-AM335X](http://www.myirtech.com/list.asp?id=466) - TI AM335x ARM Cortex-A8 开发板
    *   [MYD-IMX28X](http://www.myirtech.com/list.asp?id=472) - Freescale IMX28X ARM9 开发板
    *   [MYD-SAMA5D3X](http://www.myirtech.com/list.asp?id=432) - Atmel SAMA5D3 ARM Cortex-A5 开发板
    *   [MYD-SAM9X5](http://www.myirtech.com/list.asp?id=424) - Atmel AT91SAM9X5 ARM9 开发板
    *   [MYD-SAM9X5-V2](http://www.myirtech.com/list.asp?id=444) - Atmel AT91SAM9X5 ARM9 开发板
    *   [MYC-SAMA5D3X](http://www.myirtech.com/list.asp?id=456) - Atmel SAMA5D3 ARM Cortex-A5 CPU 模块
    *   [MYC-SAM9X5](http://www.myirtech.com/list.asp?id=458) - Atmel AT91SAM9X5 ARM9 CPU 模块
    *   [MYC-SAM9X5-V2](http://www.myirtech.com/list.asp?id=459) - Atmel AT91SAM9X5 ARM9 CPU 模块
    *   [MYS-SAM9X5](http://www.myirtech.com/list.asp?id=431) - Atmel AT91SAM9X5 ARM9 单板计算机
    *   [MYS-SAM9G45](http://www.myirtech.com/list.asp?id=370) - Atmel AT91SAM9G45 ARM9 单板计算机
    *   [MYD-LPC435X](http://www.myirtech.com/list.asp?id=422) - NXP LPC4350/4357 ARM Cortex-M4/M0 开发板
    *   [MYD-LPC185X](http://www.myirtech.com/list.asp?id=430) - NXP LPC1850/1857 ARM Cortex-M3 开发板
    *   [MYD-LPC1788](http://www.myirtech.com/list.asp?id=422) - NXP LPC1788 ARM Cortex-M3 开发板
*   Atmel Xplained 快速成型板
    *   Atmel [SAMA5D3 Xplained](http://www.atmel.com/tools/ATSAMA5D3-XPLD.aspx)
    *   Atmel [SAMA5D4 Xplained](http://www.atmel.com/tools/ATSAMA5D4-XPLD-ULTRA.aspx)

## [AVR32](http://eLinux.org/Processors#AVR32 "Processors")

*   ATNGW100 - [网关套件](http://www.atmel.com/dyn/products/tools_card.asp?tool_id=4102)
*   [AVR 开发套件板](http://www.quickembed.com/Tools/Shop/MCU/201004/89.html)
*   [AVR JTAG 模拟器](http://www.quickembed.com/Tools/Shop/MCU/201002/70.html)

## Blackfin

*   [ADI Blackfin 开发板](http://www.quickembed.com/Tools/Shop/DSP/200907/36.html)
*   [ADI 开发板](http://docs.blackfin.uclinux.org/doku.php?id=hw:boards)
*   [ADI 开发板的外置卡片](http://docs.blackfin.uclinux.org/doku.php?id=hw:cards)
*   [其他内容](http://docs.blackfin.uclinux.org/doku.php?id=buy_stuff#other_hardware)
*   [演示视频](http://youtube.com/watch?v=fKyQOntPEFs)
*   [ADI JTAG 模拟器](http://www.quickembed.com/Tools/Shop/DSP/201007/119.html)

## MIPS

*   mips-1 小端 - Flameman/routerboard-rb532
*   [Ben 微型本](http://en.qi-hardware.com/wiki/Ben_NanoNote)
*   MIPS Creator CI20 开发板
*   [Opendreambox DVB/PVR 机顶盒家族](http://www.opendreambox.org)
*   [MiniEMBWiFi](http://www.omnima.co.uk/store/catalog/MiniEMBWiFi-p-16180.html)

## PowerPC

*   [Walnut (405GP)](http://amcc.com/Embedded/Downloads/download.html?cat=1&family=2)
*   [Dht-Walnut (405GP)](http://www.elinux.org/Flameman/dht-walnut)
*   [Walnut (405GP)](http://www.elinux.org/Flameman/walnut)
*   [Ebony (440GP](http://www.elinux.org/Flameman) 看下 flameman
*   [sandpoint (7410)](http://www.elinux.org/Flameman/sandpoint3)
*   [Kuro Box-HG (MPC4281)](http://www.kurobox.com/mwiki/index.php/Kurobox/Kurobox-HG_Main_Page)
*   [Efika5200 (MPC5200)](http://www.powerdeveloper.org/program/efika/accepted)

## SuperH

*   Sega
    *   Dreamcast(SH7091) - [Linux-SH Dreamcast](http://linux-sh.org/cgi-bin/moin.cgi/Dreamcast) 请注意只支持以 MIL-CD 开头的型号。强烈建议使用 [BBA](http://en.wikipedia.org/wiki/Dreamcast_Broadband_Adapter) 来跟 Dreamcast 通信。
*   Hitachi ULSI Systems
    *   MS7206SE01 (SH72060 Solution Engine)
    *   MS7750SE01 (SH7750(sh4) Solution Engine)
    *   MS7709SE01 (SH7709(sh3) Solution Engine)
*   SuperH, Inc.
    *   MicroDev
*   HP Jornada
    *   525 (SH7709 (sh3))
    *   548 (SH7709A (sh3))
    *   620LX (SH7709 (sh3))
    *   660LX (SH7709 (sh3))
    *   680 (SH7709A (sh3))
    *   690 (SH7709A (sh3))
*   Renesas Technology Corp.
    *   符合 RTS7751R2D CE Linux Forum（CELF）标准的评估版
*   [Renesas Europe/MPC Data Limited](http://www.shlinux.com/)
    *   EDOSK7705 (SH7705 sh3)
    *   EDOSK7760 (SH7760 sh4)
    *   EDOSK7751R (SH7751R sh4)
    *   SH7751R SystemH (SH7751R sh4)
*   [CQ Publishing Co.，Ltd.](http://www.cqpub.co.jp/eda/CqREEK/SH4PCI.HTM)
    *   CQ RISC 评估套件 (CqREEK)/SH4-PCI，安装有 Linux
*   [Kyoto Microcomputer Co., Ltd. (KMC or KμC)](http://www.kmckk.co.jp/eng/)
    *   Solution Platform KZP-01（KZP-01[Mainboard] + KZ-SH4RPCI-01[SH4 CPU 开发板]）
*   [Silicon Linux Co,. Ltd.](http://www.si-linux.com/index.html)
    *   CAT760 (SH7760)
    *   CAT709 (SH7709S)
    *   CAT68701 (SH7708R，CATBUS[为 68000 开发板设计]兼容)
*   [Daisen Electronic Industrial Co., Ltd.](http://dsn-net.net/product/list_shlinux.html)
    *   SH2000 (SH7709A 118MHz)
    *   SH2002 (SH7709S 200MHz)
    *   SH-500 (SH7709S 118MHz)
    *   SH-1000 (SH7709S 133MHz)
    *   SH-2004 (SH7750R 240MHz)
*   [IO-DATA DEVICE, Inc.(网络下载机 [NAS](http://www.iodata.jp/prod/storage/hdd/index_lanhdd.htm)系列)]
    *   LAN-iCN (支持 IODATA 硬盘的 NAS 适配器，采用 "i-connect" 接口)
    *   LAN-iCN2 (支持 IODATA 硬盘的 NAS 适配器，采用 "i-connect" 接口)
    *   LANDISK (SH4-266MHz[FSB133MHz] RAM64MB UDMA133 USB x2 10/100Base-T)
    *   HDL-xxxU (LANDISK 系列 NAS 标准型号)
    *   HDL-xxxUR(LANDISK 采用 RICOH IPSiO G 系列打印监控器，支持 Windows)
    *   HDL-WxxxU(LANDISK 采用与宽体 & 双驱动器支持（重存储（Heavy storage）或 RAID1）
    *   HDL-AV250(LANDISK 支持家庭网络的 DLNA 标准)
    *   LANTank(LANDISK 套件 SuperTank(CHALLENGER) 系列)
    *   基于 HDL-WxxxU 的双驱散装 NAS 套件。LANTank 有一个特性，支持网络媒体服务器(参见 iTunes 等……)
*   [TOWA MECCS CORPORATION](http://www.e-linux.jp/tmm_index.html)
    *   TMM1000 (SH7709)
    *   TMM1100 (SH7727)
    *   TMM1200 (SH7727)
*   [Sophia Systems](http://www.sophia-systems.co.jp/ice/eval_board/index.html)
    *   Sophia SH7709A 评估板
    *   Sophia SH7750 评估版
    *   Sophia SH7751 评估版
*   [MovingEye Inc.](http://www.movingeye.co.jp/mi6/sh4board.html)
    *   A3pci7003 (使用 SH7750/ART-Linux [支持实时扩展的 Linux])
*   [AlphaProject Co., Ltd.](http://www.apnet.co.jp/product/ms104/ms104-sh4.html)
    *   MS104-SH4 (SH7750R/PC104(嵌入式 ISA 总线)，采用 apLinux)
*   [Interface Corporation.](http://www.interface.co.jp/cpu/)
    *   MPC-SH02 (SH7750S: 采用 ATX 主板类型)
    *   PCI-SH02xx (SH7750S: 采用 PCI 卡类型)
*   [TAC Inc.](http://www.tacinc.jp/)
    *   [T-SH7706LAN](http://web.kyoto-inet.or.jp/people/takagaki/T-SH7706/T-SH7706.htm) 也叫 "Mitsuiwa SH3 board" ["SH-MIN"] (SH7706A/128MHz Flash512KB SDRAM 8MB 10BASE-T)
*   [SecureComputing](http://www.securecomputing.com/)/[SnapGear](http://www.snapgear.org/)（比较旧的产品，可以从 ebay 等找下，所有的都支持网络引导并且提供了一个调试头）
    *   [SG530](http://www.snapgear.org/) (SH7751@166MHz RAM16MB FLASH4MB 2x10/100 1xSerial)
    *   [SG550](http://www.snapgear.org/) (SH7751@166MHz RAM16MB FLASH8MB 2x10/100 1xSerial)
    *   [SG570](http://www.snapgear.org/) (SH7751R@240MHz RAM16MB FLASH8MB 3x10/100 1xSerial)
    *   [SG575](http://www.snapgear.org/) (SH7751R@240MHz RAM64MB FLASH16MB 3x10/100 1xSerial)
    *   [SG630](http://www.snapgear.org/) (SH7751@166MHz PCI NIC card RAM16MB FLASH4MB 1x10/100 1xSerial-header)
    *   [SG635](http://www.snapgear.org/) (SH7751R@240MHz PCI NIC card RAM16MB FLASH16MB 1x10/100 1xSerial-header)

## i386 及其兼容平台

*   CR48 Google 上网本
*   [Bifferboard](http://bifferos.co.uk/)

## 未分类

*   [`www.mikrotik.com/`](http://www.mikrotik.com/)
*   [`www.routerboard.com/`](http://www.routerboard.com/)
*   [`www.cuwireless.net/`](http://www.cuwireless.net/)
*   [`leaf.sourceforge.net/`](http://leaf.sourceforge.net/)
*   [`leaf.sourceforge.net/mod.php?mod=userpage&menu=908&page_id=27`](http://leaf.sourceforge.net/mod.php?mod=userpage&menu=908&page_id=27)
*   [`www.myirtech.com/`](http://www.myirtech.com/)
*   [`www.1st-safety.com/arm/Tiny6410/`](http://www.1st-safety.com/arm/Tiny6410/)
*   StalkerBoard
*   SBC3530
*   SBC8100
*   SFFSDR
*   [SOM1808](http://openembed.org/wiki/SOM1808)
*   MINI2440v2_developmentboard
*   Launchpad
*   Micro2440
*   Mini210
*   Tiny210

[分类](http://eLinux.org/Special:Categories "Special:Categories"):

*   [硬件](http://eLinux.org/Category:Hardware "Category:Hardware")
*   [开发板](http://eLinux.org/Category:Development_Boards "Category:Development Boards")

# A13 OLinuXino-MICRO

> From: [eLinux.org](http://eLinux.org/A13_OLinuXino-MICRO "http://eLinux.org/A13_OLinuXino-MICRO")

# A13 OLinuXino-MICRO

## Contents

*   1 JTAG support
    *   1.1 Cabling
    *   1.2 BDI-2000/3000
    *   1.3 Flyswatter 2 / OpenOCD
*   2 Boot Layout

## JTAG support

The A13 OLinuXino-MICRO has JTAG support brought out to an unpopulated 6-pin header next to the headphone jack. Solder a piece of header strip and it's ready to go.

### Cabling

The table below shows the pinout for the proprietary JTAG header on the board. All pins are clearly silkscreened on the bottom of the board.

| A13 OLinuXino JTAG | Pin | JTAG Signal | ARM 20-pin JTAG | ARM 14-pin |
| --- | --- | --- | --- | --- |
| GND | 1 | GND | 10 | 10 |
| TDO | 2 | TDO | 13 | 11 |
| TCK | 3 | TCK | 9 | 9 |
| TMS | 4 | TMS | 7 | 7 |
| TDI | 5 | TDI | 5 | 5 |
| 3.3V | 6 | 3.3V | 1 | 1 |

### BDI-2000/3000

The [A13 OLinuXino-MICRO BDI config file](https://github.com/ohporter/bdi_configs/blob/master/a13-olinuxino-micro.cfg) can be used with a BDI configured with the ARM11/Cortex-An firmware and the standard BDI ARM/Xscale 20-pin JTAG cable.

![BDI2000 to A13 OLinuXino JTAG
cabling](http://eLinux.org/File:Bdia13jtag.jpg "BDI2000 to A13 OLinuXino JTAG cabling")

### Flyswatter 2 / OpenOCD

The [A13 OLinuXino OpenOCD config file](https://github.com/ohporter/openocd_configs/blob/master/a13-olinuxino.cfg) can be used with a Flyswatter, [OpenOCD](http://eLinux.org/OpenOCD "OpenOCD"), and the ARM 20-pin JTAG on the Flyswatter 2.

Usage:

```
 openocd -f interface/flyswatter2.cfg -f /tmp/a13-olinuxino.cfg 
```

![Flyswatter 2 to A13 OLinuXino JTAG
cabling](http://eLinux.org/File:Fs2a13jtag.jpg "Flyswatter 2 to A13 OLinuXino JTAG cabling")

## Boot Layout

The device doesn't have internal storage and boots from the SD-card. The second and third stage loader (SPL and U-Boot) are loaded from the start of the MMC (not on a file system). The default configuration is to create two partitions the first is a FAT formatted one where u-boot will load files from and the second one probably a ext2 partition. But given the bootloaders are not on the FAT you need to reserve some space at the start (I leave 2048 512 byte blokcs at the start as this is the default fdisk offers).

The layout looks something like this:

| NAME | start block | size |
| --- | --- | --- |
| MBR | 0 | 1 block |
| sunxi-spl.bin | 16 | 20K |
| u-boot.bin | 64 | 170K |
| FAT | 2048 | 20M |
| EXT2 | --- | Rest |

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Flyswatter](http://eLinux.org/index.php?title=Category:Flyswatter&action=edit&redlink=1 "Category:Flyswatter (page does not exist)")
*   [HOWTOs](http://eLinux.org/Category:HOWTOs "Category:HOWTOs")

# Arm11 development board

> From: [eLinux.org](http://eLinux.org/Arm11_development_board "http://eLinux.org/Arm11_development_board")

# Real6410 Single Board Computer

(Redirected from [Arm11 development board](http://eLinux.org/index.php?title=Arm11_development_board&redirect=no "Arm11 development board"))

## Contents

*   1 Real6410
    *   1.1 Highlights
    *   1.2 Developers' Resources
    *   1.3 HardWare
    *   1.4 Software
        *   1.4.1 WinCE 6.0
        *   1.4.2 Linux 2.6-
        *   1.4.3 Android 2.1
    *   1.5 How To Purchase
    *   1.6 Manuals

# Real6410

The Real6410 Single Board Computer is a high-performance controller board introduced by [CoreWind](http://www.real6410.com). It is designed based on the Core6410 processor card which integrates an S3C6410 microcontroller, 256MByte mDDR SDRAM, 1GByte Nand Flash, RTC, Audio and net on board. It is connected with Real6410 expansion board through 170pin expansion interfaces（QFP package）.

In addition to those features provided by the CPU board [CoreWind](http://www.real6410.com), the expansion board has exposed many of other features of the S3C6410\. It has integrated RS232, USB, Ethernet, WiFi, GPS, GPRS Audio In/Out, Keyboard, LCD, CVBS、TV out, camera in, SD card and more other functions on board. So many hardware resources provided by the expansion board, it becomes a solid reference board for customer design.

[CoreWind](http://www.real6410.com) also offers a complete software development package to customers. The board supports linux 2.6.28, Android2.1 and WindowsCE 6.0 operating system and is provided with complete basic drivers which enable a quick channel to evaluate the Samsung S3C6410 processor and customize application software. It would be an ideal development platform for multimedia and communication applications.

## Highlights

|  
*   S3C6410? development board

*   ARM11 Samsung S3C6410?, ARM1176JZF-S, up to 667MHz

*   256MByte MoblieDDR, 266MHz

*   1GByte NAND Flash

*   LCD/Touch Screen, CVBS/TV, Audio support

*   SD card, USB Host/OTG support

*   Ethernet, serial port,

*   GPRS/WIFI/GPS/Camera support(option)

*   Linux 2.6.28, WinCE6.0 support

*   Android2.1 support

*   All source code provide

[[More product Details >>](http://www.real6410.com/productdetails)] | ![Real6410.jpg](http://elinux.org/File:Real6410.jpg) |

## Developers' Resources

| ![S3c2440kits-revl1-soft.jpg](http://elinux.org/File:S3c2440kits-revl1-soft.jpg) 
 | **[Developers' Resources](http://www.real6410.com/devguide)** 
Join and share full development
resources of Real6410
[Start Here! >>](http://www.real6410.com/devguide)
[Linux development >>](http://www.real6410.com/devguide/linux)
[WinCE development >>](http://www.real6410.com/devguide/wince)
[Android 2.1 >>](http://www.real6410.com/devguide/android)

 | ![S3c2440kits-revl1-line2.jpg](http://elinux.org/File:S3c2440kits-revl1-line2.jpg) | ![S3c2440kits-revl1-hard.jpg](http://elinux.org/File:S3c2440kits-revl1-hard.jpg) 
 | **[Hardware Information](http://www.real6410.com/devguide/hardware)** 
Major component
information available
[Real6410 board >>](http://www.real6410.com/devguide/hardware)
]

 | ![S3c2440kits-revl1-line2.jpg](http://elinux.org/File:S3c2440kits-revl1-line2.jpg) | ![S3c2440kits-revl1-com.jpg](http://elinux.org/File:S3c2440kits-revl1-com.jpg) 
 | **[Market Partner](http://armdevs.com)** 
Real6410 product
Marketplace
[Go >>](http://armdevs.com)

 |

## HardWare

![Real6410
interface.jpg](http://eLinux.org/File:Real6410_interface.jpg)

|  
*   Mechanical Parameters
    *   Dimensions:168.3 * 124 mm
    *   Input Voltage: +5V
    *   Temperature Range: 0 ℃ ~ 70 ℃
    *   Humidity Range: 20% ~ 90%

*   Audio/Video Interfaces
    *   A TFT LCD interface,up to 2048*2048
    *   A CVBS、TV out interface
    *   A camera input interface
    *   A audio I/O interface
    *   A 1.5W Speaker
    *   4 line Touch Screen

*   Input Interface
    *   10 phone button
    *   8 x 8 Matrix Key interface
    *   One Reset button
    *   Boot mode switch

 |  
*   Data Transfer Interface
*   Serial port:
    *   Two 3-line serial port, RS232 voltage
*   USB port:
    *   1 x USB OTG 2.0
    *   1 x USB Host 1.1
*   SD card slot:
    *   1 channel SD card slot
*   Ethernet: DM9000AEP 10/100Mbps, RJ45 connector
*   6 LEDs (programmable status LEDs, on CPU board)
*   extend interface: SPI, IIC, ADC, EINT
*   GPRS Module
    *   Module name: GPRS SIM300
    *   Link method: Serial port
*   WIFI Module
    *   Module name: AW-GM320 (azurewave company )
    *   Link method: SDIO
*   GPS module
    *   Module name: SIRFIII GPS EB818
    *   Link method: Serial port
*   Camera module
    *   Module name: OV9650

 |

## Software

### WinCE 6.0

*   Boot loader
    *   Version: Stepldr and EBOOT(provide Source code)
    *   Function: support download and update system by SD and USB
*   WinCE NK
    *   Version：Wince6.0
    *   Function: HIVE register support, BINFS support, 256M memory manage, SLEEP
*   Device Drivers
    *   TFT LCD/Touchscreen, TV out, Audio I/O, MMC/SD card, NET, USB host, USB OTG, Serial port
    *   watchdog, RTC, Power Manage, button, LED,
    *   WIFI, GPS, GPRS, Camera
*   System characteristic
    *   Windows Media Player 9.0 ( supports MP3, MPEG2, MPEG4, WMV, WAV and so on ).
    *   Picture explorer, wordpad.
    *   IE6 explorer.

### Linux 2.6.28

*   Boot loader
    *   verison: s3c-u-boot-1.1.6
    *   Function: support boot and update system by SD card and USB
*   Linux kernel
    *   verison: s3c-Linux-2.6.28.4
    *   Compile: arm-none-linux-gnueabi-4.3.2
    *   Function: support MFC, Jpeg encode, 2D/3D
*   Device Driver
    *   TFT LCD/Touchscreen, Audio I/O, MMC/SD card, NET, USB host, USB OTG, Serial port

watchdog, RTC, Power Manage, matix keybad, button, i2c, spi, ADC WIFI, GPS, GPRS, Camera

*   File System support
    *   ubifs/yaffs2/cramfs/fat32
*   Gui support
    *   qtopia-2.2.0
    *   QtE-4.5.2

### Android 2.1

*   Boot loader
    *   verison: s3c-u-boot-1.1.6
    *   Function: support boot and update system by SD card and USB
*   Linux kernel
    *   verison: s3c-Linux-2.6.28.4
    *   Compile: arm-none-linux-gnueabi-4.3.2 and jdk5
    *   Function: support Jpeg encode, USB adb debug, AVD support
*   Device Driver
    *   TFT LCD/Touchscreen, Audio OUT, MMC/SD card, NET, USB OTG, Serial port
    *   watchdog, RTC, keyboard
    *   Support WIFI, GPS, Camera driver
*   File System support
    *   Ubi filesystem
*   Function Test demo
    *   Ethernet
    *   USB adb debug
    *   Switch horizontal and vertical screen
    *   Dynamic Wallpapers
    *   APK program install method
    *   WIFI Test, Camera test, GPS module Test

## How To Purchase

The Real6410 is sold directly from CoreWind. [[`www.real6410.com/buynow`](http://www.real6410.com/buynow)]

## Manuals

1) [[Real6410 Hardware Development manual .pdf](http://s3c6410kits.googlecode.com/files/Real6410%20Hardware%20Development%20manual%20.pdf)]

2) [[Real6410 Android2.1 Development manual.pdf](http://s3c6410kits.googlecode.com/files/Real6410%20Android2.1%20Development%20manual.pdf)]

3) [[Real6410 Linux Development manual.pdf](http://s3c6410kits.googlecode.com/files/Real6410%20Linux%20Development%20manual.pdf)]

4) [[Real6410 WinCE Development manual.pdf](http://s3c6410kits.googlecode.com/files/Real6410%20WinCE%20Development%20manual.pdf)]

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [ARM Development Boards](http://eLinux.org/Category:ARM_Development_Boards "Category:ARM Development Boards")

# Armadeus APF boards

> From: [eLinux.org](http://eLinux.org/Armadeus_APF_boards "http://eLinux.org/Armadeus_APF_boards")

# Armadeus APF boards

APF boards are Systems On Module designed for embedding into project needing performances, low power and versatility. Initiated by a group of embedded systems enthusiasts as a proof of concept (ARM+FPGA combination), boards are now designed, sold and supported by the [ARMadeus Systems company](http://www.armadeus.com).

Open Source Buildroot's based BSP is maintained by ARMadeus Systems itself and boards are used by the growing [Armadeus Project Community](http://www.armadeus.org).

FPGA's IP designed for the boards support OpenCores Wishbone bus.

## APF51 (i.MX51 based)

| ![scale](http://elinux.org/File:Armadeus_Apf51.png "scale") | The APF51 is a reduced size processor board fitted with a 800MHz i.MX51 processor, 64 MB to 512 MB LPDDR RAM (32 bits), 256 MB to 32 GB FLASH (NAND SLC), a 10/100Mbits Ethernet port and a Xilinx **Spartan 6A FPGA**, it is easily integrated into an embedded system thanks notably to its PMIC and on board PHYs (Ethernet & USB). [Click here for official APF51 site](http://www.armadeus.com/english/products-processor_boards-apf51.html) |  |

## APF27 (i.MX27 based)

| ![scale](http://elinux.org/File:Apf27.gif "scale") | The APF27 is a reduced size processor board fitted with a 400MHz i.MX27 processor, 64 MB to 256 MB DDR mobile RAM (32 bits), 256 MB to 512 MB FLASH (NAND 16 bits), a 10/100Mbits Ethernet port and a Xilinx (200K gate) **Spartan 3A FPGA**, it is easily integrated into an embedded system thanks notably to its regulators and level converters (RS232/USB). [Click here for official APF27 site](http://www.armadeus.com/english/products-processor_boards-apf27.html) |  |

## APF9328 (i.MXL based)

| ![scale](http://elinux.org/File:APF9328.gif "scale") | The APF9328 is a reduced size processor board fitted with a 200MHz i.MXL processor, 8 to 32MB SDRAM, 8 to 16MB FLASH (NOR), a 10/100Mbits Ethernet port and a Xilinx (200K gate) Spartan 3 FPGA. It is easily integrable into an embedded system thanks notably to its regulators and level converters (RS232/USB). **This board is no more recommended for new projects.** |  |

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [ARM Development Boards](http://eLinux.org/Category:ARM_Development_Boards "Category:ARM Development Boards")

# ARM Integrator Info

> From: [eLinux.org](http://eLinux.org/ARM_Integrator_Info "http://eLinux.org/ARM_Integrator_Info")

# ARM Integrator Info

## Integrator Compact Platform

The Real View® Integrator(TM) AP and CP (Compact Platform) operates in conjunction with a Core Module to provide a fully integrated development platform. The Core Module FPGA implements a set of ARM PrimeCell® Peripherals and memory controllers. The PrimeCell Peripherals make use of the drivers and connectors on the Compact Platform baseboard; these include LCD and touch screen connectors, VGA connector, Multi-Media Card (MMC) interface and an audio codec interface. Ethernet connectivity is provided by a dedicated interface chip. Expansion to Logic Modules and Logic Tiles is through an AMBA AHB-Lite system bus.

*   The Integrator/AP is a basic board with two UART ports, timer, RTC and NOR Flash
*   The Integrator/CP can be extended to support user created IP, using standard Integrator Logic Tiles, in conjunction with an IM-LT1 Interface, or using Logic Modules.

Integrator/CP is compatible with the following Integrator Core Modules: ARM920T, ARM922T-XA10, ARM926EJ-S, ARM946E-S and ARM966E-S, ARM1026EJ-S and ARM1136J(F)-S. See the following link [Integrator Core Modules](http://www.arm.com/products/DevTools/IntegratorCP.html) for a more complete description of the board and processors.

The Integrator platforms are no longer officially supported by ARM Ltd.

## Boot Loader

[U-boot](http://sourceforge.net/projects/u-boot/) contains support for this board. To compile U-Boot from CVS sources you can use the following commands:

```
*make integratorcp_config
*make 
```

The resulting executable can then be loaded on the board using a debugger to be run from the bootMonitor. The following page [Prebuilt downloads](http://www.arm.com/linux/prebuilt_download.html) contains some information on compiling and running Linux for this board.

## Links

*   [Booting a recent U-Boot and kernel on ARM Integrator/AP](http://www.df.lth.se/~triad/krad/integrator/)

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Categories](http://eLinux.org/Category:Categories "Category:Categories")

# ARM Processor

> From: [eLinux.org](http://eLinux.org/ARM_Processor "http://eLinux.org/ARM_Processor")

# ARM Processor

The ARM architecture (previously, the Advanced RISC Machine, and prior to that Acorn RISC Machine) is a 32-bit RISC processor architecture developed by ARM Limited that is widely used in a number of embedded designs. Because of their power saving features, ARM CPUs are dominant in the mobile electronics market, where low power consumption is a critical design goal.

Today, the ARM family accounts for approximately 75% of all embedded 32-bit RISC CPUs,making it one of the most prolific 32-bit architectures in the world. ARM CPUs are found in all corners of consumer electronics, from portable devices (PDAs, mobile phones, media players, handheld gaming units, and calculators) to computer peripherals (hard drives, desktop routers). Important branches in this family include:

*   [Marvell](http://eLinux.org/index.php?title=Marvell&action=edit&redlink=1 "Marvell (page does not exist)")'s [XScale](http://eLinux.org/XScale "XScale")
*   Texas Instruments [OMAP](http://eLinux.org/OMAP "OMAP") series
*   [Samsung](http://eLinux.org/index.php?title=Samsung&action=edit&redlink=1 "Samsung (page does not exist)")'s [S3C24xx](http://eLinux.org/S3C24xx "S3C24xx") series
*   [NXP](http://eLinux.org/index.php?title=NXP&action=edit&redlink=1 "NXP (page does not exist)")'s [Bluestreak](http://eLinux.org/Bluestreak "Bluestreak") series
*   [Freescale](http://eLinux.org/index.php?title=Freescale&action=edit&redlink=1 "Freescale (page does not exist)")'s [I.MX](http://eLinux.org/I.MX "I.MX") series
*   [Atmel](http://eLinux.org/Atmel "Atmel")
*   [Boardcom](http://eLinux.org/index.php?title=Boardcom&action=edit&redlink=1 "Boardcom (page does not exist)")
*   [Qualcomm](http://eLinux.org/index.php?title=Qualcomm&action=edit&redlink=1 "Qualcomm (page does not exist)")
*   [AllWinner](http://eLinux.org/index.php?title=AllWinner&action=edit&redlink=1 "AllWinner (page does not exist)")
*   [RockChip](http://eLinux.org/index.php?title=RockChip&action=edit&redlink=1 "RockChip (page does not exist)")

## **TECHNICAL INFORMATION**

| CPU Core | MMU/MPU | ISA |
| --- | --- | --- |
| StrongArm | MMU | v4 |
| [ARM7TDMI](http://elinux.org/ARM7TDMI "ARM7TDMI") | none | v4T |
| ARM7EJ-S | none | v5TEJ |
| [ARM720T](http://elinux.org/ARM720T "ARM720T") | MMU | v4T |
| [ARM920T](http://elinux.org/ARM920T "ARM920T") | MMU | v4T |
| [ARM922T](http://elinux.org/ARM922T "ARM922T") | MMU | v4T |
| [ARM926EJ-S](http://elinux.org/ARM926EJ-S "ARM926EJ-S") | MMU | v5TEJ |
| ARM940T | MPU | v4T |
| [XScale](http://elinux.org/XScale "XScale") | MPU | v5TE |
| ARM946E-S | MPU | v5TE |
| ARM966E-S | none | v5TE |
| ARM1020E | MMU | v5TE |
| ARM1022E | MMU | v5TE |
| ARM1026EJ-S | MMU+MPU | v5TE |
| ARM1136J-S | MMU | v6 |
| ARM1136JF-S | MMU | v6 |
| [Cortex-M1](http://elinux.org/Cortex "Cortex") | none | v6-M |
| [Cortex-A8](http://elinux.org/Cortex "Cortex") | MMU | v7-A |
| [Cortex-R4](http://elinux.org/Cortex "Cortex") | MPU optional | v7-R |
| [Cortex-M3](http://elinux.org/Cortex "Cortex") | MPU | v7-M |

| CPU Core | Pipeline Depth | Typical MHz |
| --- | --- | --- |
| ARM7 | 3 stage | 80 |
| StrongArm | 5 stage | 133 |
| ARM9 | 5 stage | 150 |
| ARM10 | 6 stage | 260 |
| XScale | 8 stage | 400 |
| ARM11 | 8 stage | 335 |

NOTE: increased pipeline length reduces the amount of work done at each stage in the pipeline, therefor enabling higher operating frequencies and performance. however, as the pipeline length increases, system latency also increases due to increased number of clock cycles needed to fill the pipeline before an instruction can be executed. an example would be an ARM920T running at 400MHz might have comparable performance to an Xscale running at 600MHz

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [ARM processors](http://eLinux.org/Category:ARM_processors "Category:ARM processors")
*   [Processors](http://eLinux.org/Category:Processors "Category:Processors")

# ATNGW100

> From: [eLinux.org](http://eLinux.org/ATNGW100 "http://eLinux.org/ATNGW100")

# ATNGW100

The NGW100 is a quite cheap (~100USD, 50 for students) development kit for the [AVR32](http://eLinux.org/Processors#AVR32 "Processors") processor.

Features:

*   AT32AP700x CPU, 140Mhz
*   Input Voltage 9-15V
*   SD/MMC Cardreader
*   2x Ethernet
*   1x RS232
*   3x Expansion Headers
*   Device USB (offers access to the sdcard)
*   32MB Ram

Through the expansion headers it is possible to attach an lcd display to it, as well as ps/2 keyboard.

It uses U-Boot as a bootloader.

[Buildroot](http://eLinux.org/Toolchains#Buildroot "Toolchains") offers out-of-the box support for this board. AVR32 support was removed in 02.2015. [OpenADK](http://eLinux.org/Toolchains#OpenADK "Toolchains") can be used instead.

## Some /proc files

```
~ # cat /proc/mtd
dev:    size   erasesize  name
mtd0: 00020000 00010000 "u-boot"
mtd1: 007d0000 00010000 "root"
mtd2: 00010000 00010000 "env"
mtd3: 00840000 00000420 "spi0.0-AT45DB642x"

~ # cat /proc/cpuinfo
processor       : 0
chip type       : AT32AP700x revision C
cpu arch        : AVR32B revision 1
cpu core        : AP7 revision 0
cpu MHz         : 140.000
i-cache         : 16K (4 ways x 128 sets x 32)
d-cache         : 16K (4 ways x 128 sets x 32)
features        : dsp simd ocd perfctr java
bogomips        : 281.93 
```

## Projects

[NGW100-RTC](http://eLinux.org/NGW100-RTC "NGW100-RTC") - Add an external RTC to the NGW100

# = Further reading

[`www.avrfreaks.net/wiki/index.php/Documentation:NGW`](http://www.avrfreaks.net/wiki/index.php/Documentation:NGW)

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Development Boards](http://eLinux.org/Category:Development_Boards "Category:Development Boards")

# Balloonboard

> From: [eLinux.org](http://eLinux.org/Balloonboard "http://eLinux.org/Balloonboard")

# Balloonboard

Balloon is an Open Hardware board, designed for embedding into projects needed low-power, high-performance poartable computing. It can be built in various configurations, with either FPGA for maximum welly, or CPLD for minimising power consumption. It is based around the Xscale 270.

![Balloon3-FPGA-E1-top.jpg](http://eLinux.org/File:Balloon3-FPGA-E1-top.jpg)

The project has its origins with some of the people involved with making LARTs, and Balloon2 saw the light of day in in 2003, and over 5000 have been made.

Balloon3 has had a long gestation with enormous support from Cambridge University Engineering Dept. It is now available, and has a company ([iEndian](http://www.iendian.com/)) formed around it which is running production, sales and support.

Specs are available on the iEndian site or on the Balloonboard Wiki.

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Hardware](http://eLinux.org/Category:Hardware "Category:Hardware")

# Basi and Dingo DaVinci dm365 boards

> From: [eLinux.org](http://eLinux.org/Basi_and_Dingo_DaVinci_dm365_boards "http://eLinux.org/Basi_and_Dingo_DaVinci_dm365_boards")

# Basi and Dingo DaVinci dm365 boards

Preliminary informations

[File:Basi and dingo.pdf](http://eLinux.org/File:Basi_and_dingo.pdf "File:Basi and dingo.pdf")

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Davinci](http://eLinux.org/Category:Davinci "Category:Davinci")

# Blackfin

> From: [eLinux.org](http://eLinux.org/Blackfin "http://eLinux.org/Blackfin")

# Blackfin

The Blackfin processor was designed by and is manufactured by Analog Devices ([Board and Chip Vendors#A](http://eLinux.org/Board_and_Chip_Vendors#A "Board and Chip Vendors")). Several boards that include a Blackfin processor are available ([Hardware Hacking#Blackfin](http://eLinux.org/Hardware_Hacking#Blackfin "Hardware Hacking")).

All Blackfin processors include Debug/[JTAG](http://eLinux.org/JTAG "JTAG") Interface for in-system debugging.

Blackfin processors are fast enough to support real-time H.264 video encoding.

The Blackfin processor documentation describes a Memory Management Unit (MMU), but this is not a MMU in the sense that most people expect: it has no Virtual Memory (VM) support. It does however provide all other aspects associated with your typical MMU on a variable page sized basis such as Memory Protection (read/write/execute) and caching. The documentation refers to these mappings as the Cacheability Protection Lookaside Buffer (CPLD) tables and are similar to TLBs in most other processor architectures.

As such, all current Blackfin parts can only run Linux with MMU support turned off (what people have historically thought of as "uClinux").

The processors also fully enforces privileged execution -- the classical user / supervisor permission split. The Linux kernel runs in supervisor mode where it has full access to the hardware while the Linux userspace runs in user mode and prevents tampering with hardware resources.

## Further reading

*   the [Blackfin Linux wiki](http://docs.blackfin.uclinux.org/)
*   the [Blackfin Open Source Koop](http://blackfin.uclinux.org/)

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Processors](http://eLinux.org/Category:Processors "Category:Processors")

# Calao Atmel AT91 development board

> From: [eLinux.org](http://eLinux.org/Calao_Atmel_AT91_development_board "http://eLinux.org/Calao_Atmel_AT91_development_board")

# Calao Atmel AT91 development board

Calao System propose Atmel AT91 ARM development Board with small form factor USB, Tiny, QIL

## Contents

*   1 USB Form Factor
    *   1.1 USB-A9G20-LPW-C01
        *   1.1.1 AT19Bootstrap
        *   1.1.2 Barebox
        *   1.1.3 Linux
        *   1.1.4 RootFS
        *   1.1.5 OpenOCD

# USB Form Factor

## USB-A9G20-LPW-C01

![USB-A9G20-LPW-C01-TOP-0-25.jpg](http://www.calao-systems.com/articles.php?lng=fr&pg=5940)

| Booard Dimension | 36 x 85 mm |
| Soc | ATMEL AT91SAM9G20 @ 400MHz |
| NAND | 256MB NAND Flash (8bits), |
| SDRAM | 64MB SDRAM (32bits @ 133MHz) |
| Ethernet | 1x 10/100 |
| USB Host | 2x Ports |
| USB Device | 1x Port USB (front shared with DBGU/JTAG or back) |
| Debug | 1x JTAG & 1x DBGU over USB (FTDI FT2232D) or 1x JTAG & 1x DBGU on board |
| RTC | 1 |
| SD Card | 1x Micro-SD (SPI under ethernet port) or 1 via Expansion port |
| Expansion | 1x 50 pins connector (I2C, SPI, USART, SSC, MCI, ISI, TC) |

### AT19Bootstrap

### Barebox

You can use barebox on with the following support

uart

nand

ethernet

usb host

sd card (mci)

spi

generic barebox features (menu, hush, multi-devices, etc...)

1) First you need to clone the tree

The board support is currently in the next branch

```
git clone git://git.pengutronix.de/git/barebox.git
git checkout -b work origin/next 
```

2) Then you need to configure it

For the 64 MiB board

```
make usb_a9g20_defconfig 
```

For the 128 MiB board

```
make usb_a9g20_128mib_defconfig 
```

3) Compile it

```
make 
```

4) Flash it

now you need to flash it via

SAM-BA

OpenOCD

5) start the board

```
barebox 2011.10.0-00144-gc9145e1 (Oct 25 2011 - 17:48:18)

Board: Calao USB-A9G20
Clocks: CPU 399 MHz, master 133 MHz, main 12.000 MHz
NAND device: Manufacturer ID: 0x2c, Chip ID: 0xaa (Micron NAND 256MiB 1,8V 8-bit)
Scanning device for bad blocks
Bad eraseblock 591 at 0x049e0000
Bad eraseblock 920 at 0x07300000
Bad eraseblock 1026 at 0x08040000
Bad eraseblock 1388 at 0x0ad80000
Bad eraseblock 1764 at 0x0dc80000
Malloc space: 0x23500000 -> 0x23f00000 (size 10 MB)
Stack space : 0x234f8000 -> 0x23500000 (size 32 kB)
envfs: wrong magic on /dev/env0
no valid environment found on /dev/env0\. Using default environment
running /env/bin/init...

Hit any key to stop autoboot:  0
barebox@Calao USB-A9G20:/
# 
```

### Linux

You can use the mainline kernel (merge in release 3.1)

1) First you need to clone the tree

```
git clone git://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux-2.6.git
git checkout -b work 
```

2) Then you need to configure it

currently no defconfig is merge for the next release you could use at91sam9g20_defconfig but right now you need to use at91sam9g20ek_defconfig and select it via Kconfig "CALAO USB-A9G20"

```
make at91sam9g20ek_defconfig
make menuconfig 
```

or

```
make at91sam9g20ek_defconfig
sed -i -e "s:# CONFIG_MACH_USB_A9G20 is not set:CONFIG_MACH_USB_A9G20=y:g" .config 
```

3) Compile it

```
make uImage 
```

4) Run it

You can run it via nfs or tftp from barebox

for this you need to modify the /env/config

a) on board

via

```
ed /env/config 
```

b) on pc

by editing

```
diff --git a/arch/arm/boards/usb-a926x/env/config b/arch/arm/boards/usb-a926x/env/config
index d77f678..660cb3c 100644
--- a/arch/arm/boards/usb-a926x/env/config
+++ b/arch/arm/boards/usb-a926x/env/config
@@ -2,16 +2,16 @@

 # use 'dhcp' to do dhcp in barebox and in kernel
 # use 'none' if you want to skip kernel ip autoconfiguration
-ip=dhcp
+#ip=dh

 # or set your networking parameters here
-#eth0.ipaddr=a.b.c.d
-#eth0.netmask=a.b.c.d
-#eth0.gateway=a.b.c.d
-#eth0.serverip=a.b.c.d
+eth0.ipaddr=192.168.201.33
+eth0.netmask=255.255.255.0
+eth0.gateway=192.168.201.98
+eth0.serverip=192.168.201.98

 # can be either 'nfs', 'tftp', 'nor' or 'nand'
-kernel_loc=tftp
+kernel_loc=nfs
 # can be either 'net', 'nor', 'nand' or 'initrd'
 rootfs_loc=net

@@ -29,6 +29,9 @@ kernelimage=uImage
 #kernelimage_type=raw_lzo
 #kernelimage=Image.lzo

+nfsroot="${eth0.serverip}:/opt/work/buildroot/build/usb_9g20/target/"
+kernelimage="/opt/work/buildroot/build/usb_9g20/images/uImage-usb-a9g20"
+
 nand_device=atmel_nand
 nand_parts="128k(at91bootstrap),256k(barebox)ro,128k(bareboxenv),128k(bareboxenv2),4M(kernel),120M(rootfs),-(data)"
 rootfs_mtdblock_nand=5 
```

5) start the board

Note that the kernel you see in this log is a development kernel using the Device tree

nb: sometime the nfs timeout to boot again just type boot enter

```
barebox 2011.10.0-00144-gc9145e1 (Oct 25 2011 - 17:48:18)

Board: Calao USB-A9G20
Clocks: CPU 399 MHz, master 133 MHz, main 12.000 MHz
NAND device: Manufacturer ID: 0x2c, Chip ID: 0xaa (Micron NAND 256MiB 1,8V 8-bit)
Scanning device for bad blocks
Bad eraseblock 591 at 0x049e0000
Bad eraseblock 920 at 0x07300000
Bad eraseblock 1026 at 0x08040000
Bad eraseblock 1388 at 0x0ad80000
Bad eraseblock 1764 at 0x0dc80000
Malloc space: 0x23500000 -> 0x23f00000 (size 10 MB)
Stack space : 0x234f8000 -> 0x23500000 (size 32 kB)
envfs: wrong magic on /dev/env0
no valid environment found on /dev/env0\. Using default environment
running /env/bin/init...

Hit any key to stop autoboot:  0
warning: No MAC address set. Using random address D2:E7:9F:56:A2:96
phy0: Link is up - 100/Full
T T
Filename '/opt/work/buildroot/build/usb_9g20/images/uImage-usb-a9g20'.
        [#################################################################NFS failed: Interrupted system call

barebox@Calao USB-A9G20:/
# boot
Filename '/opt/work/buildroot/build/usb_9g20/images/uImage-usb-a9g20'.
       [#################################################################]
booting kernel of type uimage from /dev/ram0.kernel
   Verifying Checksum ... OK
   Image Name:   Linux-3.0.0+
   Created:      2011-10-24  21:55:00 UTC
   Image Type:   ARM Linux Kernel Image (uncompressed)
   Data Size:    1988582 Bytes =  1.9 MB
   Load Address: 20008000
   Entry Point:  20008000
OK

Starting kernel ...

commandline: console=ttyS0,115200 ip=192.168.201.33:192.168.201.98:192.168.201.98:255.255.255.0::eth0: root=/dev/nfs nfsroot=192.168.201.98:/opt/work/buildroot/build/usb_9g20/target/,v3,tcp noinitrd mtdparts=atmel_nand:128k(at91bootstrap),256k(barebox)ro,128k(bareboxenv),128k(bareboxenv2),4M(kernel),120M(rootfs),-(data)
arch_number: 1841
Uncompressing Linux... done, booting the kernel.
Linux version 3.0.0+ (root@j-debian) (gcc version 4.5.1 (Sourcery G++ Lite 2010.09-50) ) #66 Tue Oct 25 05:54:39 CST 2011
CPU: ARM926EJ-S [41069265] revision 5 (ARMv5TEJ), cr=00053177
CPU: VIVT data cache, VIVT instruction cache
Machine: Atmel AT91SAM (Device Tree), model: Calao USB A9G20
Memory policy: ECC disabled, Data cache writeback
AT91: Detected soc type: at91sam9g20
AT91: Detected soc subtype: Unknown
AT91: sram at 0x200000 of 0x4000 mapped at 0xfef74000
AT91: sram at 0x300000 of 0x4000 mapped at 0xfef70000
Clocks: CPU 399 MHz, master 133 MHz, main 12.000 MHz
Built 1 zonelists in Zone order, mobility grouping on.  Total pages: 16256
Kernel command line: console=ttyS0,115200 ip=192.168.201.33:192.168.201.98:192.168.201.98:255.255.255.0::eth0: root=/dev/nfs nfsroot=192.168.201.98:/opt/work/buildroot/build/usb_9g20/target/,v3,tcp noinitrd mtdparts=atmel_nand:128k(at91bootstrap),256k(barebox)ro,128k(bareboxenv),128k(bareboxenv2),4M(kernel),120M(rootfs),-(data)
PID hash table entries: 256 (order: -2, 1024 bytes)
Dentry cache hash table entries: 8192 (order: 3, 32768 bytes)
Inode-cache hash table entries: 4096 (order: 2, 16384 bytes)
Memory: 64MB = 64MB total
Memory: 60960k/60960k available, 4576k reserved, 0K highmem
Virtual kernel memory layout:
    vector  : 0xffff0000 - 0xffff1000   (   4 kB)
    fixmap  : 0xfff00000 - 0xfffe0000   ( 896 kB)
    DMA     : 0xffc00000 - 0xffe00000   (   2 MB)
    vmalloc : 0xc4800000 - 0xfee00000   ( 934 MB)
    lowmem  : 0xc0000000 - 0xc4000000   (  64 MB)
    modules : 0xbf000000 - 0xc0000000   (  16 MB)
      .text : 0xc0008000 - 0xc0388620   (3586 kB)
      .init : 0xc0389000 - 0xc03a7000   ( 120 kB)
      .data : 0xc03a8000 - 0xc03cc240   ( 145 kB)
       .bss : 0xc03cc264 - 0xc03dd8fc   (  70 kB)
NR_IRQS:192
looking for phys_base=fffff000, irq_start=0
AT91: 96 gpio irqs in 3 banks
Console: colour dummy device 80x30
Calibrating delay loop... 199.06 BogoMIPS (lpj=995328)
pid_max: default: 32768 minimum: 301
Mount-cache hash table entries: 512
CPU: Testing write buffer coherency: ok
pinctrl core: initialized pinctrl subsystem
NET: Registered protocol family 16
0x0
0xfffffff0
AT91: Power Management
AT91: Starting after general reset
 pinctrl.0: hogged map DGBU_RX, function dbgu_rxd
 pinctrl.0: hogged map DGBU_TX, function dbgu_txd
pinmux-at91 pinmux.2: initialized AT91 pinmux driver
atmel_tcb: probe of atmel_tcb.1 failed with error -22
bio: create slab <bio-0> at 0
SCSI subsystem initialized
usbcore: registered new interface driver usbfs
usbcore: registered new interface driver hub
usbcore: registered new device driver usb
Advanced Linux Sound Architecture Driver Version 1.0.24.
cfg80211: Calling CRDA to update world regulatory domain
Switching to clocksource tcb_clksrc
NET: Registered protocol family 2
IP route cache hash table entries: 1024 (order: 0, 4096 bytes)
TCP established hash table entries: 2048 (order: 2, 16384 bytes)
TCP bind hash table entries: 2048 (order: 1, 8192 bytes)
TCP: Hash tables configured (established 2048 bind 2048)
TCP reno registered
UDP hash table entries: 256 (order: 0, 4096 bytes)
UDP-Lite hash table entries: 256 (order: 0, 4096 bytes)
NET: Registered protocol family 1
RPC: Registered named UNIX socket transport module.
RPC: Registered udp transport module.
RPC: Registered tcp transport module.
RPC: Registered tcp NFSv4.1 backchannel transport module.
NetWinder Floating Point Emulator V0.97 (double precision)
JFFS2 version 2.2\. (NAND) (SUMMARY)  © 2001-2006 Red Hat, Inc.
msgmni has been set to 119
io scheduler noop registered (default)
fffff200.serial: ttyS0 at MMIO 0xfffff200 (irq = 1) is a ATMEL_SERIAL
console [ttyS0] enabled
brd: module loaded
loop: module loaded
No SmartMedia card inserted.
ohci_hcd: USB 1.1 'Open' Host Controller (OHCI) Driver
Initializing USB Mass Storage driver...
usbcore: registered new interface driver usb-storage
USB Mass Storage support registered.
mousedev: PS/2 mouse device common for all mice
ALSA device list:
  No soundcards found.
TCP cubic registered
NET: Registered protocol family 17
lib80211: common routines for IEEE802.11 drivers
/opt/work/linux-2.6/drivers/rtc/hctosys.c: unable to open rtc device (rtc0) 
```

### RootFS

You can use multiple tools to build the rootfs

```
* Debian
* OpenEmbedded
* BuildRoot 
```

### OpenOCD

On the Board you will find a FDTI FT2232D that it's use as a UART and the JTAG.

If you have a old kernel the ftdi drivers will probe the two port of the FT2232D as UART

(ttyUSB0 as JTAG and ttyUSB1 as UART)

So you will need to patch your kernel with [`lkml.org/lkml/2011/9/28/466`](http://lkml.org/lkml/2011/9/28/466)

or use a out-of-tree module like this tree git://uboot.jcrosoft.org/ftdi-module.git

now you have a working environment you can use OpenOCD

Most of the recent distribution now use the last release of OpenOCD we did which is currently the v0.5.0

How to use it?

OpenOCD need two part the

1) the Interface configuration

This the description of your ICE/JTAG

```
cat calao-usb-a9g20-lpw.cfg
#
# CALAO Systems USB-A9G20-C02
#
# http://www.calao-systems.com/
#

interface ft2232
ft2232_device_desc "USB-A9G20-LPW"
ft2232_layout jtagkey
ft2232_vid_pid 0x0403 0x6010 
```

2) the board configuration

```
cat usb-a9g20-lpw.cfg
#################################################################################################
#                                                                                               #
# Author: gregory Hermant (gregory.hermant@calao-systems.com)                                   #
#         Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrsoft.com>                               #
# Generated for the USB-A9G20-LPW using Amontec JTAGKEY probe                                   #
#                                                                                               #
#################################################################################################

# We add to the minimal configuration.
source [find mem_helper.tcl]
source [find target/at91sam9g20.cfg]

reset_config trst_and_srst

# Use caution changing the delays listed below.  These seem to be affected by the board and type of
# debugger dongle.  A value of 200 ms seems to work reliably for the configuration listed in the file header above.

jtag_nsrst_delay 200
jtag_ntrst_delay 200

scan_chain
#$_TARGETNAME configure -event gdb-attach { reset init }
#$_TARGETNAME configure -event reset-start {at91sam9g20_reset_start}
#$_TARGETNAME configure -event reset-init {at91sam9g20_reset_init}

proc at91sam9g20_reset_start { } {

        # Make sure that the the jtag is running slow, since there are a number of different ways the board
        # can be configured coming into this state that can cause communication problems with the jtag
        # adapter.  Also since this call can be made following a "reset init" where fast memory accesses
        # are enabled, need to temporarily shut this down so that the RSTC_MR register can be written at slower
        # jtag speed without causing GDB keep alive problem.

        arm7_9 fast_memory_access disable
        jtag_khz 2                      ;# Slow-speed oscillator enabled at reset, so run jtag speed slow.
        halt 10000                              ;# Make sure processor is halted, or error will result in following steps.
        wait_halt 1000000
        mww 0xfffffd08 0xa5000501       ;# RSTC_MR : enable user reset.
}

proc at91sam9g20_reset_init { } {

        # At reset AT91SAM9G20 chip runs on slow clock (32.768 kHz).  To shift over to a normal clock requires
        # a number of steps that must be carefully performed.  The process outline below follows the
        # recommended procedure outlined in the AT91SAM9G20 technical manual.
        #
        # Several key and very important things to keep in mind:
        # The SDRAM parts used currently on the Atmel evaluation board are -75 grade parts.  This
        # means the master clock (MCLK) must be at or below 133 MHz or timing errors will occur.  The processor
        # core can operate up to 400 MHz and therefore PCLK must be at or below this to function properly.

        mww 0xfffffd44 0x00008000       # WDT_MR : disable watchdog.

        # Set oscillator bypass bit (12.00 MHz external oscillator) in CKGR_MOR register.

        mww 0xfffffc20 0x00000002

        # Set PLLA Register for 798.000 MHz (divider: bypass, multiplier: 132).
        # Wait for LOCKA signal in PMC_SR to assert indicating PLLA is stable.

        mww 0xfffffc28 0x20843F02
        while { [expr [mrw 0xfffffc68] & 0x02] != 2 } { sleep 1 }

        # Set master system clock prescaler divide by 6 and processor clock divide by 2 in PMC_MCKR.
        # Wait for MCKRDY signal from PMC_SR to assert.

        mww 0xfffffc30 0x00001300
        while { [expr [mrw 0xfffffc68] & 0x08] != 8 } { sleep 1 }

        # Now change PMC_MCKR register to select PLLA.
        # Wait for MCKRDY signal from PMC_SR to assert.

        mww 0xfffffc30 0x00001302
        while { [expr [mrw 0xfffffc68] & 0x08] != 8 } { sleep 1 }

        # Processor and master clocks are now operating and stable at maximum frequency possible:
        #       -> MCLK = 133.000 MHz
        #       -> PCLK = 400.000 MHz

        # Switch over to adaptive clocking.

        jtag_khz 0

        # Enable faster DCC downloads.

        arm7_9 dcc_downloads enable

        # To be able to use external SDRAM, several peripheral configuration registers must
        # be modified.  The first change is made to PIO_ASR to select peripheral functions
        # for D15 through D31\.  The second change is made to the PIO_PDR register to disable
        # this for D15 through D31.

        mww 0xfffff870 0xffff0000
        mww 0xfffff804 0xffff0000

        # The EBI chip select register EBI_CS must be specifically configured to enable the internal SDRAM controller
        # using CS1\.  Additionally we want CS3 assigned to NandFlash.  Also VDDIO is connected physically on
        # the board to the 1.8V VDC power supply so set the appropriate register bit to notify the micrcontroller.

        mww 0xffffef1c 0x000000a

        # The USB-A9G20-LPW Embedded computer has built-in NandFlash.  The exact physical timing characteristics
        # for the memory type used on the current board (MT29F2G08AACWP) can be established by setting
        # four registers in order:  SMC_SETUP3, SMC_PULSE3, SMC_CYCLE3, and SMC_MODE3.

        mww 0xffffec30 0x00020002
        mww 0xffffec34 0x04040404
        mww 0xffffec38 0x00070007
        mww 0xffffec3c 0x00030003

        # Now setup SDRAM.  This is tricky and configuration is very important for reliability!  The current calculations
        # are based on 2 x Micron LPSDRAM MT48H16M16LFBF-75 memory (4 M x 16 bit x 4 banks).  If you use this file as a reference
        # for a new board that uses different SDRAM devices or clock rates, you need to recalculate the value inserted
        # into the SDRAM_CR register.  Using the memory datasheet for the -75 grade part and assuming a master clock
        # of 133.000 MHz then the SDCLK period is equal to 7.6 ns.  This means the device requires:
        #
        #       CAS latency = 3 cycles
        #       TXSR = 10 cycles
        #       TRAS = 6 cycles
        #       TRCD = 3 cycles
        #       TRP = 3 cycles
        #       TRC = 9 cycles
        #       TWR = 2 cycles
        #       9 column, 13 row, 4 banks
        #       refresh equal to or less then 7.8 us for commerical/industrial rated devices
        #
        #       Thus SDRAM_CR = 0xa6339279

        mww 0xffffea08 0xa6339279

        # Memory Device Type: Low-power SDRAM
        mww 0xffffea24 0x00000001

        # Next issue a 'NOP' command through the SDRAMC_MR register followed by writing a zero value into
        # the starting memory location for the SDRAM.

        mww 0xffffea00 0x00000001
        mww 0x20000000 0

        # Issue an 'All Banks Precharge' command through the SDRAMC_MR register followed by writing a zero
        # value into the starting memory location for the SDRAM.

        mww 0xffffea00 0x00000002
        mww 0x20000000 0

        # Now issue an 'Auto-Refresh' command through the SDRAMC_MR register.  Follow this operation by writing
        # zero values eight times into the starting memory location for the SDRAM.

        mww 0xffffea00 0x4
        mww 0x20000000 0
        mww 0x20000000 0
        mww 0x20000000 0
        mww 0x20000000 0
        mww 0x20000000 0
        mww 0x20000000 0
        mww 0x20000000 0
        mww 0x20000000 0

        # Almost done, so next issue a 'Load Mode Register' command followed by a zero value write to the
        # the starting memory location for the SDRAM.

        mww 0xffffea00 0x3
        mww 0x20000000 0

        # Signal normal mode using the SDRAMC_MR register and follow with a zero value write the the starting
        # memory location for the SDRAM.

        mww 0xffffea00 0x0
        mww 0x20000000 0

        # Finally set the refresh rate to about every 7 us (7.5 ns x 924 cycles).

        mww 0xffffea04 0x0000039c
} 
```

3) start OpenOCD

now you need so start OpenOCD. For this you need to specify the interface (First) and then the board

```
openocd -f tcl/interface/calao-usb-a9g20-lpw.cfg  -f tcl/board/usb-a9g20-lpw.cfg
Open On-Chip Debugger 0.5.0 (2011-08-09-08:45)
Licensed under GNU GPL v2
For bug reports, read
        http://openocd.berlios.de/doc/doxygen/bugs.html
Info : only one transport option; autoselect 'jtag'
trst_and_srst separate srst_gates_jtag trst_push_pull srst_open_drain
adapter_nsrst_delay: 300
jtag_ntrst_delay: 200
RCLK - adaptive
RCLK - adaptive
trst_and_srst separate srst_gates_jtag trst_push_pull srst_open_drain
adapter_nsrst_delay: 200
jtag_ntrst_delay: 200
   TapName             Enabled  IdCode     Expected   IrLen IrCap IrMask
-- ------------------- -------- ---------- ---------- ----- ----- ------
 0 at91sam9g20.cpu        Y     0x00000000 0x0792603f     4 0x01  0x0f
at91sam9g20_init
Info : max TCK change to: 30000 kHz
Info : RCLK (adaptive clock speed)
Info : JTAG tap: at91sam9g20.cpu tap/device found: 0x0792603f (mfg: 0x01f, part: 0x7926, ver: 0x0)
Info : Embedded ICE version 6
Info : at91sam9g20.cpu: hardware has 2 breakpoint/watchpoint units 
```

you can now connect to you board via gdb or telnet

a) telnet

```
telnet 127.0.0.1 4444
Trying 127.0.0.1...
Connected to 127.0.0.1.
Escape character is '^]'.
Open On-Chip Debugger
> halt
target state: halted
target halted in ARM state due to debug-request, current mode: Supervisor
cpsr: 0x600000d3 pc: 0x23f0457c
MMU: disabled, D-Cache: disabled, I-Cache: enabled
> 
```

b) gdb

```
$ arm-none-linux-gnueabi-gdb
GNU gdb (Sourcery G++ Lite 2010.09-50) 7.2.50.20100908-cvs
Copyright (C) 2010 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.  Type "show copying"
and "show warranty" for details.
This GDB was configured as "--host=i686-pc-linux-gnu --target=arm-none-linux-gnueabi".
For bug reporting instructions, please see:
<https://support.codesourcery.com/GNUToolchain/>.
(gdb) target remote :3333
Remote debugging using :3333
0x23f07f74 in ?? () 
```

note that the current board script does not init the hardware when you connect to gdb

for this you will need to use the monitor

```
monitor reset init halt 
```

sometime the halt timeout in this case just do

```
monitor halt 
```

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [ARM Development Boards](http://eLinux.org/Category:ARM_Development_Boards "Category:ARM Development Boards")

# CR48

> From: [eLinux.org](http://eLinux.org/CR48 "http://eLinux.org/CR48")

# CR48

## Contents

*   1 Project Summary
*   2 Hardware
    *   2.1 Ports
*   3 Software Revisions
    *   3.1 Beta Channel
    *   3.2 Dev Channel
*   4 How to
    *   4.1 Print
    *   4.2 Access Hardware
    *   4.3 Install Different Programs
    *   4.4 Root the Device
*   5 Tips and Tricks
*   6 Common Problems

# Project Summary

![CR48-preview.jpg](http://eLinux.org/File:CR48-preview.jpg)

The Cr-48 is the test notebook Google designed for the Pilot program. It's the first of its kind.

It's ready when you are, booting in about 10 seconds and resuming from sleep instantly. There’s built-in Wi-Fi and 3G, so you can stay connected everywhere, and a webcam for video chat. The vibrant 12-inch LCD display, full-size keyboard and oversized touchpad let you enjoy the web comfortably. And at just 3.8 pounds with over eight hours of active usage and a week of standby time, it’s easy to take along for the ride.

What did we leave out? Spinning disks, caps-lock key, function keys, and lap burns.

The Cr-48 is available exclusively to participants in the Pilot program.

The pilot program is available at: [`www.google.com/chromeos/pilot-program.html`](http://www.google.com/chromeos/pilot-program.html)

The CR48 runs Google's [Chrome Operating system](http://eLinux.org/ChromeOS "ChromeOS"). None of your files are stored on the PC, they're all stored in the cloud.

To keep it synced with the cloud, it includes a wifi connection, and a verizon 3G modem (which comes with 100MB/month for 2 years, for beta testers).

# Hardware

*   Processor: [Intel Atom Processor N455 1.66GHz 512K Cache](http://eLinux.org/CR48-procinfo "CR48-procinfo")
*   Chipset: Intel CG82NM10 PCH
*   Motherboard: Tripod Motherboard MARIO – 6050A240910 – MB – A03
*   Ram: [Hynix 2GB DDR3 1Rx8 PC3 – 10600S Ram](http://eLinux.org/CR48-meminfo "CR48-meminfo")
*   Read Only Memory: ITE IT8500E Flash ROM
*   SSD Drive: SanDisk sdsa4dh-016G 16GB SATA SSD
*   Wireless Wan: Qualcomm Gobi2000 PCI Express Mini Card
*   3g Adapter: AzureWave 802.11 a/b/g/n PCI-E Half MiniCard
*   Bluetooth: Atheros AR5BBU12 Bluetooth V2.1 EDR
*   GPS: Gobi 2000 3G Modem
*   Integrated Webcam: VGA - 640x480
*   Screen
    *   Display: 12.1 inches
    *   Screen Resolution: 1,280X800 pixels
*   Keyboard: 74 keys
*   Pointing device: Track-pad (Multi-touch)
*   [Ambient light sensor](http://eLinux.org/CR48-lightsensor "CR48-lightsensor")

## Ports

*   1 USB ([right side](http://eLinux.org/File:CR48-side-right.jpg "File:CR48-side-right.jpg"))
*   1 SD ([right side](http://eLinux.org/File:CR48-side-right.jpg "File:CR48-side-right.jpg"))
*   1 3.5mm headphone jack ([right side](http://eLinux.org/File:CR48-side-right.jpg "File:CR48-side-right.jpg"))
*   1 Power jack ([right side](http://eLinux.org/File:CR48-side-right.jpg "File:CR48-side-right.jpg"))
*   1 VGA ([left side](http://eLinux.org/File:CR48-side-left.jpg "File:CR48-side-left.jpg"))
*   1 Sim card slot ([underneath the battery](http://eLinux.org/File:CR48-sim-slot.jpg "File:CR48-sim-slot.jpg"))

# Software Revisions

## Beta Channel

*   [0.9.128.12](http://eLinux.org/index.php?title=CR48-updatebeta0.9.128.12&action=edit&redlink=1 "CR48-updatebeta0.9.128.12 (page does not exist)")
*   [0.9.128.14](http://eLinux.org/CR48-updatebeta0.9.128.14 "CR48-updatebeta0.9.128.14")

## Dev Channel

*   [0.10.146.1](http://eLinux.org/index.php?title=CR48-updatedev0.10.146.1&action=edit&redlink=1 "CR48-updatedev0.10.146.1 (page does not exist)")
*   [0.10.156.1](http://eLinux.org/index.php?title=CR48-updatedev0.10.156.1&action=edit&redlink=1 "CR48-updatedev0.10.156.1 (page does not exist)")
*   [0.10.156.4](http://eLinux.org/index.php?title=CR48-updatedev0.10.156.4&action=edit&redlink=1 "CR48-updatedev0.10.156.4 (page does not exist)")
*   [0.10.156.18](http://eLinux.org/CR48-updatedev0.10.156.18 "CR48-updatedev0.10.156.18")
*   [0.10.156.20](http://eLinux.org/index.php?title=CR48-updatedev0.10.156.20&action=edit&redlink=1 "CR48-updatedev0.10.156.20 (page does not exist)")

# How to

## Print

The CR-48 has no built in facilities for hooking directly to a printer, instead, it prints via [Google Cloud print](http://code.google.com/apis/cloudprint/docs/overview.html). Currently with cloud printing, you need to have a computer hooked to your printer that is currently powered on.

*   [Setting up printing with a Windows based computer](http://www.google.com/landing/cloudprint/win-enable.html)
*   [Setting up printing with a Linux based computer](http://eLinux.org/CR48-LinuxPrint "CR48-LinuxPrint")

## Access Hardware

*   [Bluetooth](http://eLinux.org/CR48-Bluetooth "CR48-Bluetooth")
*   [GPS](http://eLinux.org/CR48-GPS "CR48-GPS")
*   [SIM Slot](http://eLinux.org/CR48-SIM "CR48-SIM")

## Install Different Programs

*   [Locate](http://eLinux.org/CR48-Locate "CR48-Locate")
*   [Nano text editor](http://eLinux.org/CR48-Nano "CR48-Nano")
*   [VNC viewer](http://eLinux.org/CR48-JavaVNC "CR48-JavaVNC")

## Root the Device

*   [Root the CR48](http://eLinux.org/CR48-rooting "CR48-rooting")
*   [Make the /mnt/stateful partition exec friendly](http://eLinux.org/CR48-stateful-exec "CR48-stateful-exec")

# Tips and Tricks

*   [About: Pages](http://eLinux.org/CR48-About_pages "CR48-About pages")
*   [Copy and paste (also paste to the terminal)](http://eLinux.org/CR48-CopyPaste "CR48-CopyPaste")
*   [Force a Software Update](http://eLinux.org/CR48-ForceUpdate "CR48-ForceUpdate")

# Common Problems

*   [Static in audio after update (SOLVED in latest updates)](http://eLinux.org/CR48-Static_in_audio_after_update "CR48-Static in audio after update")
*   [Timezone wont change (SOLVED in latest updates)](http://eLinux.org/CR48-Timezone_wont_change "CR48-Timezone wont change")
*   [Google searches crash (SOLVED in latest updates)](http://eLinux.org/CR48-Google_searches_crash "CR48-Google searches crash")
*   [Proxy settings take forever to detect (SOLVED in latest updates)](http://eLinux.org/CR48-proxy-settings-issue "CR48-proxy-settings-issue")

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [CR48](http://eLinux.org/Category:CR48 "Category:CR48")

# DaVinci

> From: [eLinux.org](http://eLinux.org/DaVinci "http://eLinux.org/DaVinci")

# DaVinci

![Davincilogo.gif](http://eLinux.org/File:Davincilogo.gif)

**Texas Instruments DaVinci™ is a family of multimedia system on chip processors for embedded application.** Most of DaVinci processors based of of ARM and DSP microprocessor cores.

DaVinci SDK uses U-Boot, [MontaVista](http://eLinux.org/MontaVista "MontaVista") Linux, [Open_Embedded](http://eLinux.org/Open_Embedded "Open Embedded")

## Contents

*   1 Important resources
*   2 Programming
*   3 Hardware Hacks
*   4 Mailing Lists and Useful Links
*   5 Misc Info

## Important resources

*   [DaVinci™ Digital Media Processors](http://focus.ti.com/paramsearch/docs/parametricsearch.tsp?family=dsp&sectionId=2&tabId=1852&familyId=1300)
*   [`wiki.davincidsp.com/`](http://wiki.davincidsp.com/)
*   [Forums](http://community.ti.com/forums/default.aspx?GroupID=10)
*   [`feeds.feedburner.com/tidavincitechnology`](http://feeds.feedburner.com/tidavincitechnology)
    *   news feed
*   [`www.linux-davinci.info/`](http://www.linux-davinci.info/)
*   [Old DaVinci Pages](http://eLinux.org/DaVinci_Old_Pages "DaVinci Old Pages") Obsolete and/or Out of Date

## Programming

![Example
Program.gif](http://eLinux.org/File:Example_Program.gif)

*   Blinking LEDS on the EVM over I2c - [EVM_LED_Blinking.c](http://eLinux.org/EVM_LED_Blinking.c "EVM LED Blinking.c")

![Example
Program.gif](http://eLinux.org/File:Example_Program.gif)

*   Simple TTY host program to access serial port - [EVM_comz.c](http://eLinux.org/EVM_comz.c "EVM comz.c")

![Example
Program.gif](http://eLinux.org/File:Example_Program.gif)

*   PWM kernel driver (char driver) - [PWM.c](http://eLinux.org/PWM.c "PWM.c") *Good example for your own device drivers*

![Example
Program.gif](http://eLinux.org/File:Example_Program.gif)

*   Accessing an I2C temperature sensor - [temp_sens.c](http://eLinux.org/Temp_sens.c "Temp sens.c")

![Example
Program.gif](http://eLinux.org/File:Example_Program.gif)

*   Useful I2C routines - [I2Croutines.c](http://eLinux.org/I2Croutines.c "I2Croutines.c")

![Guide.jpeg](http://eLinux.org/File:Guide.jpeg) - Overclocking the EVM [EVMoc](http://eLinux.org/EVMoc "EVMoc")

## Hardware Hacks

![Hack.jpg](http://eLinux.org/File:Hack.jpg) - Adding a second MMC / SD slot - [Second MMC / SD](http://eLinux.org/Second_MMC_/_SD "Second MMC / SD")

![Hack.jpg](http://eLinux.org/File:Hack.jpg) - Installing some input buttons - [Input buttonz](http://eLinux.org/Input_buttonz "Input buttonz")

![Hack.jpg](http://eLinux.org/File:Hack.jpg) - Adding I2C devices (e.g. Temp Sensor) - [I2C Mods](http://eLinux.org/I2C_Mods "I2C Mods")

## Mailing Lists and Useful Links

*   [`linux.davincidsp.com/mailman/listinfo/davinci-linux-open-source`](http://linux.davincidsp.com/mailman/listinfo/davinci-linux-open-source) or the [Searchable archive](http://www.mail-archive.com/davinci-linux-open-source@linux.davincidsp.com/)

*   [`source.mvista.com/git/`](http://source.mvista.com/git/) - The montavista GIT repository

*   [`www.applieddata.net/forums/topic.asp?TOPIC_ID=2024`](http://www.applieddata.net/forums/topic.asp?TOPIC_ID=2024)

    *   U-Boot configuration scripts for flash filesystems

## Misc Info

*   [DaVinci_Initrd_1.0](http://eLinux.org/DaVinci_Initrd_1.0 "DaVinci Initrd 1.0")
*   [DaVinci_U-boot_1.0](http://eLinux.org/DaVinci_U-boot_1.0 "DaVinci U-boot 1.0")
*   [DaVinci_USBHost_1.0](http://eLinux.org/DaVinci_USBHost_1.0 "DaVinci USBHost 1.0")

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [OMAP](http://eLinux.org/Category:OMAP "Category:OMAP")
*   [DaVinci](http://eLinux.org/Category:DaVinci "Category:DaVinci")

# Devkit8000

> From: [eLinux.org](http://eLinux.org/Devkit8000 "http://eLinux.org/Devkit8000")

# Devkit8000

## Contents

*   1 **Devkit8000 Board Overview**
*   2 **Hardware**
    *   2.1 Onboard Interfaces and Connectors
    *   2.2 Hardware Features
    *   2.3 Main Chip Introduction
    *   2.4 Video Display
        *   2.4.1 DVI-D
        *   2.4.2 S-video
        *   2.4.3 LCD
    *   2.5 USB OTG (Mini-AB) Wire Map
    *   2.6 Camera Interface
    *   2.7 Expansion Interface
    *   2.8 LayOut
    *   2.9 Dimension Drawing
    *   2.10 Function Block Diagram
    *   2.11 Optional Function Modules
    *   2.12 JTAG Tool
*   3 **Software**
    *   3.1 Software Features
        *   3.1.1 Linux and WinCE OS support
    *   3.2 Ubuntu on Devkit8000 (for reference)
    *   3.3 Port QT on Devkit8000 (for reference)
    *   3.4 Demo (Android/Angstrom/DVSDK)
        *   3.4.1 Android
        *   3.4.2 Angstrom
        *   3.4.3 DVSDK (DSP)
*   4 **Devkit8000 Evaluation Kit Overview**
    *   4.1 Configurations
        *   4.1.1 Standard Configuraiton
        *   4.1.2 Complete Configuration
    *   4.2 Product CD
    *   4.3 Optional accessories
*   5 **FAQ**
*   6 **Other Embest Products based on TI Processors**

# **Devkit8000 Board Overview**

[Embest](http://www.armkits.com) [DevKit8000](http://www.armkits.com/Product/devkit8000.asp) Evaluation Board is a compact board using TI's [OMAP3530](http://focus.ti.com/docs/prod/folders/print/omap3530.html) 600MHz ARM Cortex-A8 (600MHz ARM Cortex-A8 core paired with a 430MHz TMS320C64x+ DSP core) microprocessor. It takes full features of this processor and supports up to 256MByte DDR SDRAM and 256MByte NAND Flash as well as high-speed USB2.0 OTG function. The board has exposed many other hardware interfaces including RS232 serial port, LCD/TSP, DVI-D, S-Video, Ethernet, SD, keyboard, camera, SPI, I2C and JTAG. The board has two methods to boot the system from either SD card or NAND flash. It is able to support WinCE and Linux OS and provided with WinCE6.0 BSP and Linux2.6.28 BSP. Embest also provides demos of Google Android OS, Angstrom (GPE) and DVSDK for user experience.

![Devkit8000.jpg](http://eLinux.org/File:Devkit8000.jpg)

![Devkit8000
android.jpg](http://eLinux.org/File:Devkit8000_android.jpg)

Devkit8000 Evaluation Board

Devkit8000 + 4.3 inch LCD Android Demo Display

# **Hardware**

## Onboard Interfaces and Connectors

![Devkit8000header.gif](http://eLinux.org/File:Devkit8000header.gif)

## Hardware Features

*   Dimensions: 110mm x 95mm
*   Working temperature: 0°C to 70°C
*   Processor: TI OMAP3530 microprocessor with 600MHz ARM Cortex-A8 RISC Core
*   Power supply: +5V
*   256MB DDR SDRAM, 166MHz
*   256MB NAND Flash, 16bit
*   LCD/Touch Screen interface (50-pin FPC connector, support resolution up to 2048*2048)
*   DVI high-resolution image output port (HDMI interface, support 720p, 30fps signal)
*   S-Video display interface
*   One audio input interface (3.5mm audio jack)
*   One 2-channel audio output interface (3.5mm audio jack)
*   One 10/100M Ethernet interface (RJ45)
*   One High-speed USB2.0 OTG port (Mini USB type interface)
*   One High-speed USB2.0 Host port (USB A type interface)
*   Two serial ports (one 3-wire RS232 serial port led out from 2.54mm 10-pin connector and one 5-wire TTL serial port led out from expansion connector)
*   SD card interface (supports 3.3V and 1.8V logic voltage)
*   One camera interface (30-pin FPC connector, support CCD or CMOS camera)
*   6*6 keyboard interface
*   One 14-pin Jtag interface
*   Four buttons (Reset, Boot, User defined, On/Off)
*   One expansion connector (2.0mm 40-pin SMT Female Pin Header, McSPI, McBSP, I2C, HDQ, GPIO are led out from this connector)

## Main Chip Introduction

| DevKit8000 | Chip | Remark |
| Processor | OMAP3530CUS | 0.65mm CUS package |
| Memory | MT29C2G48MAKLCJA-6IT | 256MB DDR/256MB NAND Flash, 137-Ball TFBGA, Mark:JW305, Micron |
| Power Management Chip | TPS65930BZCH | Extended power management, RTC, USB OTG, Audio, 6*6 Keyboard |
| DVI-D | TFP410 | HDMI connector, output DVI-D signal, not including audio |
| Ethernet | DM9000 | RJ45, 10M/100M adaptive, at present testing speed can reach 36M |
| Serial port | MAX3232 CSE | RS232 |

## Video Display

### DVI-D

DVI high-resolution display (HDMI interface, 30fps signal), Embest provides a HDMI to DVI-D cable in complete configuration for connection. Signal does not include audio signal.

### S-video

S-video display, can output video signal but not including audio signal.

### LCD

24-bit LCD display, can output true-color RGB signal, R:B:G=8:8:8, can support resolution up to 2048*2048 pixels. (50-pin 0.5mm pitch FPC connector. Interface Singal Type

| RGB data signal | LCD control signal | SPI signal | IIC signal | Touch Screen signal | Voltage output |
| 24bit | 6bit | 4bit | 2bit | 4bit | 5bit |
| R:G:B=8:8:8 | row control signal | standard spi signal | 2-bit IIC signal | 4-wire touch screen | output voltage 5V, 3.3V, 1.8V |

## USB OTG (Mini-AB) Wire Map

1: VB 2: D- 3: D+ 4: ID 5: GND User needs only to short circuited 4 and 5.

## Camera Interface

![DevKit8000
cam.jpg](http://eLinux.org/File:DevKit8000_cam.jpg)

## Expansion Interface

Embest Devkit8000 uses a 2.0mm 40-pin SMT Female Pin Header to bring out McSPI, McBSP, I2C, HDQ, GPIO from this interface

| PIN | Signal | Function Description |
| 1 | GND | GND |
| 2 | BSP1_DX | Transmitted serial data 1 |
| 3 | BSP1_DR | Received serial data 1 |
| 4 | BSP1_CLKR | Received clock 1 |
| 5 | BSP1_FSX | Transmit frame synchronization 1 |
| 6 | BSP1_CLKX | Transmit clock 1 |
| 7 | BSP1_CLKS | External clock input 1 |
| 8 | BSP1_FSR | Receive frame synchronization 1 |
| 9 | UART1_CTS | UART1 clear to send |
| 10 | UART1_RTS | UART1 request to send |
| 11 | UART1_RX | UART1 receive data |
| 12 | UART1_TX | UART1 transmit data |
| 13 | GND | GND |
| 14 | MMC2_CLK | MMC2 card clock |
| 15 | MMC2_CMD | MMC2 card command |
| 16 | MMC2_D0 | MMC2 card data 0 |
| 17 | MMC2_D1 | MMC2 card data 1 |
| 18 | MMC2_D2 | MMC2 card data 2 |
| 19 | MMC2_D3 | MMC2 card data 3 |
| 20 | MMC2_D4 | MMC2 card data 4 |
| 21 | MMC2_D5 | MMC2 card data 5 |
| 22 | MMC2_D6 | MMC2 card data 6 |
| 23 | MMC2_D7 | MMC2 card data 7 |
| 24 | BSP3_DX | Transmitted serial data 3 |
| 25 | BSP3_DR | Received serial data 3 |
| 26 | BSP3_CLKX | Transmit clock 3 |
| 27 | BSP3_FSX | Transmit frame synchronization 3 |
| 28 | GND | GND |
| 29 | IIC3_SCL | IIC3 master serial clock |
| 30 | IIC3_SDA | IIC3 serial bidirectional data |
| 31 | SPI1_SIMO | Slave data in, master data out |
| 32 | SPI1_SOMI | Slave data out, master data in |
| 33 | SPI1_CLK | SPI1 clock |
| 34 | SPI1_CS0 | SPI enable 0 |
| 35 | SPI1_CS3 | SPI enable 3 |
| 36 | HDQ_SIO | Bidirectional HDQ |
| 37 | VDD33 | 3.3V |
| 38 | VDD18 | 1.8V |
| 39 | VDD50 | 5V |
| 40 | VDD50 | 5V |

## LayOut

The Devkit8000 PCB has 6-layer design, each layer is layout as below:

| 1 | 2 | 3 | 4 | 5 | 6 |
| Top | Ground | Singal | Power | Ground | Bottom |

## Dimension Drawing

![Devkit8000
chicun.JPG](http://eLinux.org/File:Devkit8000_chicun.JPG)

## Function Block Diagram

![Devkit8000func.jpg](http://eLinux.org/File:Devkit8000func.jpg)

## Optional Function Modules

*   **VGA Module** ([VGA8000](http://www.armkits.com/product/vga8000.asp))

![VGA-P.jpg](http://eLinux.org/File:VGA-P.jpg) The VGA8000 module employs PHILIPS 74alvc164245 chip with 240MHz maximum sample rate. It can output standard LCD signal and display smoothly under 1024*768 resolution.

*   **Analog Camera Module** ([CAM8000-A](http://www.armkits.com/product/camera8000.asp))

![CAM8000-P.jpg](http://eLinux.org/File:CAM8000-P.jpg) The CAM8000-A module is designed for using on Devkit8000 Evaluation Board with standard 720*576 PAL resolution. It supports analog camera with BNC connector and connects to Devkit8000 board through an 30-pin FFC cable.

*   **USB WiFi Module** ([WF8000-U](http://www.armkits.com/product/WF8000-U.asp))

![WIFI8000-P.jpg](http://eLinux.org/File:WIFI8000-P.jpg) The WF8000-U is a USB based WiFi module relying on the WiFi IEEE 802.11 standards. It is applied to be used on all Embest products which shall have USB interface. This module is hgihly integrated with MAC/BBP and 2.4GHz RF chip and builds a wireless network between PCs or some other terminals.

*   **GPS Module** ([GPS8000-S](http://www.armkits.com/product/GPS8000-S.asp))

![GPS8000-P.jpg](http://eLinux.org/File:GPS8000-P.jpg) The GPS8000-S is an ARM based embedded GPS module which allows to connect to Devkit8000 board to get position and altitude. It is a high sensitivity module with low power consumption. Devkit8000's UART (the serial port) from the expansion connector is used to communicate with the GPS through a tiny patch board.

*   **GPRS Module** ([GPRS8000-S](http://www.armkits.com/product/GPRS8000-S.asp))

![GPRS8000-P.jpg](http://eLinux.org/File:GPRS8000-P.jpg) The GPRS8000-S is an ARM based embedded GPS module which allows to connect to Embest Devkit8000 board for GSM/GPRS solution. Devkit8000's UART (the serial port) from the expansion connector is used to communicate with the GPRS module.

*   **CDMA8000-U Module** ([CDMA8000-U](http://www.armkits.com/product/CDMA8000-U.asp))
*   **WCDMA8000-U Module** ([WCDMA8000-U](http://www.armkits.com/product/WCDMA8000-U.asp))
*   **Digital Camera Module** ([CAM8100-U](http://www.armkits.com/product/CAM8100-U.asp))

## JTAG Tool

![XDS100-P.jpg](http://eLinux.org/File:XDS100-P.jpg)

*   [XDS100v2](http://processors.wiki.ti.com/index.php/XDS100) - the second release of the XDS100 JTAG emulator technology supporting debug of a variety of TI devices.

Available from [Embest](http://www.armkits.com/product/xds100.asp)

# **Software**

## Software Features

### Linux and WinCE OS support

[Embest](http://www.armkits.com) [DevKit8000](http://www.armkits.com/Product/devkit8000.asp) supports for both Linux2.6.28 and WinCE6.0 operating systems.

| OS | Item | Features | Description |
| Linux | Boot | Version | x-load-1.41, u-boot 1.3.3 |
| Boot Mode | Boot Linux from SD card, NAND Flash or Ethernet |
| Image Update | Support updating image from SD card or Ethernet |
| Kernel and Drivers | Version | Linux 2.6.28 |
| Support file systems | ROM/CRAM/EXT2/EXT3/FAT/NFS/JFFS2/UBIFS |
| Drivers | Serial, RTC, NET, Nand, LCD, Touch Screen, SD, USB Host, USB OTG, DVI, Keypad, LED, Audio |
| File system | Format | Ramdisk, UBI |
| Characteristic | Provided Lib (ALSA -lib, tslib, glibc), udev support |
| Demo | Angstrom | Audio (XMMS), network (firefox), graphics editor (gimp) and document processing software (Abiword) |
| Android | Google developed a platform based on Linux open-source mobile phone operating system. |
| DVSDK | Support MPEG4, MPEG2, H264, mp3, aac audio/video formats and Codecs |
| WinCE | Boot | Version | x-load-1.41, Eboot |
| Boot Mode | Boot WinCE from SD card, NAND Flash or Ethernet |
| Image Update | Support updating image from SD card or Ethernet |
| System | Characteristic | KITL kernel debug, Reboot, Watchdog, RTC |
| Drivers | Display driver（DVI, TFT LCD） |
| SD card, Keyboard, McSPI, McBSP, Audio, NET, NLED, USB Host, USB OTG, WiFi, GPS, GPRS, CDMA |
| Function | Power Management (backlight drive, battery-driven, sleep/wake-up function) |
| Hive registry support |
| ROM file system support |
| Software features | Mediaplayer 9.0, Word and Internet Explorer 6.0 |
| .NET Compact Framework 3.5 |

Now Linux2.6.29 is ported. Source code download from [here](http://code.google.com/p/devkit8000/wiki/DVSDK_3_00_02_44_linux_2_6_29?ts=1264641072&updated=DVSDK_3_00_02_44_linux_2_6_29)

## Ubuntu on Devkit8000 (for reference)

Please refer to [Devkit8000 Ubuntu](http://eLinux.org/Devkit8000_Ubuntu "Devkit8000 Ubuntu").

## Port QT on Devkit8000 (for reference)

Please refer to [Devkit8000 QT](http://eLinux.org/Devkit8000_QT "Devkit8000 QT") on how to port QT on Devkit8000.

## Demo (Android/Angstrom/DVSDK)

### Android

![Devkit8000
android.jpg](http://eLinux.org/File:Devkit8000_android.jpg) The DevKit8000 can support Android which is a software platform and operating system for mobile devices, based on the Linux kernel, developed by Google and later the Open Handset Alliance. The board can run various applications based on Android. It supports 4.3" and 7" TFT LCD display and touch panel function. It can use the built-in audio player of Android to play kinds of audio files and transfer data through SD card or USB OTG. Please refer to [Devkit8000 Android](http://eLinux.org/Devkit8000_Android "Devkit8000 Android") on how to use and port.

### Angstrom

![DevKit8000
angstrom.jpg](http://eLinux.org/File:DevKit8000_angstrom.jpg) DevKit8000 can display Angstrom system on a DVI_D monitor running 720p videos at 30fps. DevKit8000 can use various software of Angsrtom to implement file editing, internet surfing, audio and video files playing and graphics editing and more other functions. User can use USB mouser to operate on Angstrom system. Please refer to [Devkit8000 Angstrom](http://eLinux.org/Devkit8000_Angstrom "Devkit8000 Angstrom") on how to use and port.

### DVSDK (DSP)

![Devkit8000
dsp.jpg](http://eLinux.org/File:Devkit8000_dsp.jpg) [DevKit8000](http://www.armkits.com/Product/devkit8000.asp) supports DVSDK package which includes following functions: Supports 2D/3D graphics acceleration; Supports DSP codec (Supports audio and video hardware decoding); Supports S-Video output. Please refer to [Devkit8000_DVSDK](http://eLinux.org/Devkit8000_DVSDK "Devkit8000 DVSDK") on how to use and port.

# **Devkit8000 Evaluation Kit Overview**

[Embest](http://www.armkits.com) [DevKit8000](http://www.armkits.com/Product/devkit8000.asp) Evaluation Kit includes the [DevKit8000](http://www.armkits.com/Product/devkit8000.asp) evaluation board and all necessary accessories to help users start their design of multimedia applications. The board is preloaded with Linux OS in NAND flash and WinCE OS in SD card. User can display the subsystem using a 4.3" TFT LCD and Touch screen or using a DVI-D monitor through an HDMI to DVI-D cable, or using TV for NTSC/PAL video out. The USB OTG interface can also be used as USB Host function with a Mini-A to Standard-A cable, or used as USB Device function with a Mini-B to Standard-A cable. Along with the kit, [Embest](http://www.armkits.com) provides user manual, schematic drawing and datasheet documents to help customers better understand and use the kit.

![Devkit8000suite.jpg](http://eLinux.org/File:Devkit8000suite.jpg)

## Configurations

[Embest](http://www.armkits.com) [DevKit8000](http://www.armkits.com/Product/devkit8000.asp) Evaluation Kit has two configurations:

### Standard Configuraiton

The standard configuration is focused on evaluating the basic functions of Devkit8000 board.

![Devkit8000standard.gif](http://eLinux.org/File:Devkit8000standard.gif)

### Complete Configuration

The complete configuration includes complete accessories for Devkit8000 which is convenient for special application development.

![Devkit8000access.gif](http://eLinux.org/File:Devkit8000access.gif)

## Product CD

The Devkit8000 product CD contains following contents:

*   Linux2.6.28 source code (including driver, kernel, startup code and file system)
*   WinCE6.0 BSP (including driver, kernel, startup code and file system all in source code)
*   Schematic in PDF format
*   Onboard chip datasheet
*   Linux cross-compile toolchains
*   User manual

## Optional accessories

*   [CAM8000-A](http://www.armkits.com/Product/camera8000.asp) analog camera module
*   [Analog camera](http://www.armkits.com/Product/camera8000.asp)
*   [VGA8000](http://www.armkits.com/Product/vga8000.asp) VGA module
*   [WF8000-U](http://www.armkits.com/Product/WF8000-U.asp) USB WiFi module
*   [CAM8100-U](http://www.armkits.com/Product/CAM8100-U.asp) digital camera module
*   [GPS8000-S](http://www.armkits.com/Product/GPS8000-S.asp) GPS module
*   [GPRS8000-S](http://www.armkits.com/Product/GPRS8000-S.asp) GPRS module
*   [CDMA8000-U](http://www.armkits.com/Product/CDMA8000-U.asp) USB 3G module (CDMA2000 standard)
*   [WCDMA8000-U](http://www.armkits.com/Product/WCDMA8000-U.asp) USB 3G module (WCDMA standard)
*   [XDS100v2](http://www.armkits.com/Product/xds100.asp) USB JTAG emulator

# **FAQ**

If you have got some problems when using Devkit8000, please refer to [Devkit8000 FAQ](http://eLinux.org/Devkit8000_FAQ "Devkit8000 FAQ").

# **Other [Embest](http://www.armkits.com) Products based on TI Processors**

[Embest](http://www.armkits.com) has designed several products based on TI's ARM9 and ARM Cortex-A8 processors. [Embest](http://www.armkits.com)also offers customer design service according to customer's requirements. Whether you need to reduce, add or modify to existing hardwares or generate a new solution, Embest will help customers with expert competence and rich experience.

*   [DevKit8500](http://eLinux.org/DevKit8500 "DevKit8500") Evalution Board based on TI's DM3730 or AM3715 ARM Cortex-A8 processor
*   [SBC8530](http://www.armkits.com/product/sbc8530.asp) Single Board Computer based on TI's DM3730 ARM Cortex-A8 processor
*   [SBC8100 Plus](http://www.armkits.com/product/sbc8100.asp) Single Board Computer based on TI's DM3730 ARM Cortex-A8 processor
*   [SBC8018](http://www.armkits.com/product/sbc8018.asp) Single Board Computer based on TI's AM1808 ARM926EJ-S processor
*   [SBC8100](http://www.armkits.com/product/sbc8100.asp) Single Board Computer based on TI's OMAP3530 ARM Cortex-A8 processor
*   [SOC8200](http://www.armkits.com/product/soc8200.asp) Single Board Computer based on TI's AM3517 Sitara ARM Cortex-A8 processor
*   [Mini8510](http://www.armkits.com/product/mini8510.asp) Processor Card based on TI's DM3730 ARM Cortex-A8 processor
*   [Mini8100](http://www.armkits.com/product/mini8100.asp) Processor Card based on TI's OMAP3530 ARM Cortex-A8 processor

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Development Boards](http://eLinux.org/Category:Development_Boards "Category:Development Boards")
*   [OMAP](http://eLinux.org/Category:OMAP "Category:OMAP")
*   [Linux](http://eLinux.org/Category:Linux "Category:Linux")
*   [Devkit8000](http://eLinux.org/Category:Devkit8000 "Category:Devkit8000")
*   [DevKit8500](http://eLinux.org/Category:DevKit8500 "Category:DevKit8500")

# Dragonboard

> From: [eLinux.org](http://eLinux.org/Dragonboard "http://eLinux.org/Dragonboard")

# Dragonboard

The **Dragonboard** is Qualcomm's publicly available development platform. As of spring 2014, there are four versions available based on three different systems-on-chip. The boards come pre-loaded with Android, but thanks to recent upstreaming work, it is increasingly possible to run the upstream Linux kernel on them.

| Board | SOC | CPU | Pre-Installed OS | Upstream Device Tree |
| [APQ8094](http://eLinux.org/index.php?title=Dragonboard/APQ8094&action=edit&redlink=1 "Dragonboard/APQ8094 (page does not exist)") | [Snapdragon 810 (Cortex-A53/A57)](http://eLinux.org/index.php?title=Snapdragon_810_(Cortex-A53/A57)&action=edit&redlink=1 "Snapdragon 810 (Cortex-A53/A57) (page does not exist)") | Octo-Core Cortex-A53/A57 big.LITTLE | Android 5.0 |  |  |
| [APQ8074](http://eLinux.org/Dragonboard/APQ8074 "Dragonboard/APQ8074") | [Snapdragon 800 (Krait)](http://eLinux.org/index.php?title=Snapdragon_800_(Krait)&action=edit&redlink=1 "Snapdragon 800 (Krait) (page does not exist)") | Quad-core Krait, 2.3 GHz | Android 4.2 | qcom-apq8074-dragonboard.dtb |
| [IFC6410](http://eLinux.org/Dragonboard/IFC6410 "Dragonboard/IFC6410") | [Snapdragon 600 (Krait)](http://eLinux.org/Snapdragon_600_(Krait) "Snapdragon 600 (Krait)") | Quad-core Krait, 1.7 GHz |  | qcom-apq8064-ifc6410.dtb |
| [SYS6440](http://eLinux.org/index.php?title=Dragonboard/SYS6440&action=edit&redlink=1 "Dragonboard/SYS6440 (page does not exist)") | [Snapdragon 600 (Krait)](http://eLinux.org/Snapdragon_600_(Krait) "Snapdragon 600 (Krait)") | Quad-core Krait, 1.7 GHz |  |  |
| [APQ8060A](http://eLinux.org/Dragonboard/APQ8060A "Dragonboard/APQ8060A") | [Snapdragon S4 (Krait)](http://eLinux.org/Snapdragon_S4_(Krait) "Snapdragon S4 (Krait)") | Dual-core Krait, 1.5 GHz |  | qcom-msm8660-surf.dtb |
| [APQ8060](http://eLinux.org/Dragonboard/APQ8060 "Dragonboard/APQ8060") | [Snapdragon S3 (Scorpion)](http://eLinux.org/Snapdragon_S3_(Scorpion) "Snapdragon S3 (Scorpion)") | Scorpion | Android 2.3 | qcom-msm8660-surf.dtb |

## References

*   [`www.mydragonboard.org/dragonboard-comparison/`](http://www.mydragonboard.org/dragonboard-comparison/)
*   [`developer.qualcomm.com/sites/default/files/dragonboard-datasheet.pdf`](https://developer.qualcomm.com/sites/default/files/dragonboard-datasheet.pdf)
*   [`www.df.lth.se/~triad/krad/dragonboard/`](http://www.df.lth.se/~triad/krad/dragonboard/)
*   [`www.labradoc.com/i/follower/p/notes-qualcomm-apq8060-dragonboard`](http://www.labradoc.com/i/follower/p/notes-qualcomm-apq8060-dragonboard)
*   [`www.codeaurora.org/contribute/projects/snapdragon-developer-platforms/`](https://www.codeaurora.org/contribute/projects/snapdragon-developer-platforms/)

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Dragonboard](http://eLinux.org/Category:Dragonboard "Category:Dragonboard")

# Embedded Open Modular Architecture/EOMA-68

> From: [eLinux.org](http://eLinux.org/EOMA-68 "http://eLinux.org/EOMA-68")

# Embedded Open Modular Architecture/EOMA-68

\< [Embedded Open Modular Architecture](http://eLinux.org/Embedded_Open_Modular_Architecture "Embedded Open Modular Architecture")

![EOMA68-CARD00.png](http://eLinux.org/File:EOMA68-CARD00.png)

## Contents

*   1 EOMA-68 Introduction
*   2 EOMA-68 Specification
    *   2.1 Background to Interface Selection
        *   2.1.1 Requirements for USB
        *   2.1.2 Requirements for Ethernet
        *   2.1.3 Requirements for RGB/TTL
        *   2.1.4 Requirements for I2C
        *   2.1.5 Requirements for UART
        *   2.1.6 Requirements for SD/MMC and SPI
*   3 Pinouts (version 1-0)
    *   3.1 Table of EOMA-68 pinouts
*   4 Start-up procedure
*   5 Future Versions
*   6 Deliberate Mechanical Non-interoperability
*   7 Physical Dimensions
    *   7.1 Type II
    *   7.2 Type III
*   8 Thermal Considerations
*   9 Header Connectors
*   10 Example Motherboards
*   11 Contact and Discussion
*   12 Slides
*   13 FAQ

# EOMA-68 Introduction

The purpose of the EOMA68 specification is to bring simple robust mass-produced CPU Cards to end-users. To make end-users lives easier, purchasing decision-making should be made not on technical interface capabilities, neither should they be expected to have significant technological expertise. This is the primary reason why EOMA specifications have no optional interfaces of any kind. For this reason, for the lifetime of the specification (anticipated to be at least a decade) *all* CPU Cards compliant with the EOMA68 specification will be compatible with *all* compliant "Chassis" *(Note: "chassis" is the term used to describe a product into which a CPU Card is plugged).*

The trade-off between choosing a single-board design or even another modular form-factor is as follows:

*   EOMA-68 products will not use all of the integrated functions of single-board designs, automatically resulting in minor cost increases for products.
*   However, single-board designs are typically throw-away products where the lifetime of the product is critically dependent on an extremely fast-changing market.
*   Single-board designs are typically throw-away hermetically-sealed products with neither user-serviceable nor user-replaceable parts
*   EOMA-68 products are user-upgradeable. The Chassis can be kept out of landfill - kept in useful service - for the lifetime of its components. Only the CPU Card need be upgraded at a much lower cost than a single-board design in order to continuously give the product a new lease of life.
*   EOMA-68 CPU Cards can be shared by the same end-user across multiple products, automatically resulting in a cost saving that far outweighs the minor overhead of a single EOMA68 system when compared to a single hermetically-sealed throw-away product.
*   Old Chassis and CPU Cards can be re-purposed instead of discarded as e-waste.
*   Q-Seven and other similar standards are not realistically user-upgradeable (not for the average person) because products require tools, technical knowledge in the selection of replacement parts, and expert knowledge in the handling of electronics before opening the case.
*   EOMA68 products are upgraded by pushing a button and popping out the module: it literally takes seconds to install a new CPU Card.

So the benefits for end-users are very clear: EOMA-68 is easily understandable long-term investment for its end-users with significant long-term cost savings and reductions in e-waste. The benefits for factories are very clear: CPU Cards aggregated across multiple products means much better bulk purchasing power, and Chassis can also continue to be produced *without* requiring redesigns pretty much until the components go end-of-life.

No other modular computing standard available today has been designed with these aims in mind.

# EOMA-68 Specification

This page describes the specification of EOMA-68\. The number of pins on the interface is 68; the physical form-factor is the legacy PCMCIA.

Re-purposing of the PCMCIA interface and form-factor has been chosen to create portable mass-volume (100 million units and above) Embedded Computing Modules (Computer on Module). Mass-volume "Lowest Common Denominator" interfaces have been chosen, all of which have existed for over a decade, but are low-power enough to be standard across virtually all mass-produced powerful Embedded CPUs.

The interfaces are:

*   24-pin RGB/TTL (for LCD Panels and DVI/VGA/HDMI or other display conversion ICs)
*   I2C
*   1st USB (Low Speed, Full Speed, optionally Hi Speed/480 Mbit/s and optionally USB3)
*   2nd USB (Low Speed, Full Speed, optionally Hi Speed/480 Mbit/s)
*   10/100 Ethernet (optionally 1,000 ethernet)
*   8 pins of General-purpose Digital I/O (GPIO) with multiplexing to SD/MMC and SPI on 6 pins
*   1 pin "External Interrupt" capable GPIO that will generate a fast hardware interrupt to the SoC
*   SD/MMC (and down-level compatibility to SPI) multiplexed with 6 of the GPIO pins.
*   TTL-compatible UART (Tx and Rx only).

These interfaces are **NOT OPTIONAL** for CPU Cards. All CPU Cards **MUST** provide **all** interfaces. I/O Boards on the other hand are free to implement whichever interfaces are required for the device. For example: whilst all CPU Cards **must** have an Ethernet interface, devices such as tablets or laptops into which CPU Cards are plugged are not *required* to have an ethernet port. The only exception is I2C (due to the EOMA-68 identification EEPROM): it is mandatory for all I/O Boards to provide an EOMA-68 identification EEPROM.

Exactly like legacy PCMCIA Cards, EOMA-68 CPU Cards may have absolutely any functions, any additional connectors, peripherals and so on *without* limitation, except for compliance with the EOMA-68 pinouts and physical size constraints. These additional functions, which may include access ports in the casework, may extend outwards from the user-facing end of the CPU Card to any practical extent, exactly as with legacy PCMCIA.

## Background to Interface Selection

The interfaces have been specifically chosen because they are either essential or they are multi-purpose buses, and surprisingly they are perfectly adequate despite being Lowest Common Denominator across a wide range of CPUs for at least a decade. The goal here is not to attain ultra-high-speed latest-and-greatest performance but to use proven, long-established interfaces that will be easy to find parts for mass-volume appliances in potentially hundreds of millions of units and above.

Also, some graceful degradation through negotiation at the *hardware* level is not only desirable but is an essential distinctive and unique feature of the EOMA68 standard, because it dramatically simplifies the "sales pitch" as well as the engineering design, user card selection ("just get one of these, plug it into any product, it will work") and so on whilst at the same time ensuring that the range of SoCs that can be used is significantly diverse and future-proof.

*   **I2C** - I2C is only two wires, is a global bus that can address multiple devices, and is a long-established proven Industry Standard with thousands of devices available.
*   **USB** - USB2 is only two wires; USB3 is six. USB, like I2C, is a global bus that can address multiple devices and is a long-established proven Industry Standard.
*   **Ethernet** - 10/100/1,000 Ethernet was chosen because it is prevalent on the majority of computing devices. In the case where chosen CPUs do not have Ethernet, a USB-to-Ethernet converter IC such as the SMSC [LAN9500](http://www.smsc.com/index.php?tid=292&pid=137) can be deployed.
*   **RGB/TTL** - 24-pin RGB/TTL was chosen over LVDS or MIPI so as to keep the cost down, and also to keep the signal speed down. Whilst LVDS seems initially to be a good candidate, Single-Channel LVDS is unsuitable for driving 1,920×1,080p60 LCD Panels: most 1,920×1,080 LCD panels require between 2 and 3 LVDS drivers. MIPI also requires multiple parallel channels to achieve higher data rates. Any low-cost CPU chosen which did not have LVDS or MIPI would be forced to add a converter chip, potentially on *both* sides of the interface (CPU card as well as motherboard). So it makes sense to choose the proven, lower-speed, reliable 24-pin interface, thus making the EOMA-68 Standard suitable for use even with ultra-low-cost 320×240 RGB/TTL LCD Panels, right the way up to HDTV screen sizes.
*   **SD/MMC** - SD/MMC has a 4-pin, 2-pin, 1-pin and SPI mode. Transfer speed negotiation is possible at the hardware level. SPI can even be implemented as ["bitbanging"](http://lxr.free-electrons.com/source/drivers/spi/spi-bitbang.c)

Note however in systems design that with the cost of mass-volume integrated SoCs dropping so significantly, the cost of deploying a SoC with USB-based (or other) peripheral ICs to make up for the lack of EOMA68-compliant interfaces (usually Ethernet or SATA) often *exceeds* the cost of competitor SoCs that *do* have the full complement of interfaces. An example is the Allwinner A20 (appx $7 in volume) vs e.g. a T.I $5 SoC or an Allwinner A13, neither of which have SATA or Ethernet. The addition of a USB-to-SATA Interface can add $1 to the BOM, whilst a USB-to-Ethernet IC can add $2\. Given that a 4-port Hub IC would be required as well (an extra $1.50), it becomes clear that the A20 would win against the low-cost T.I SoC as well as against Allwinner's own low-cost A13 SoC on price, performance, reliability and power consumption.

### Requirements for USB

All CPU Cards are required to support the full backwards-compatible auto-negotiation USB device capabilities and speeds of all former versions of the USB Interface, up to the maximum speed and capabilities chosen to be provided. Specifically:

*   Providing USB Low Speed (version 1.0 - 1.5 Mbit/s) is acceptable.
*   Providing USB Full Speed (version 1.1 - 12 Mbit/s) is acceptable if Low Speed is also provided.
*   Providing USB Hi Speed (version 2.0 - 480 Mbit/s) is acceptable if Full Speed and Low Speed are also provided.
*   Over the 1st USB port, providing USB Super Speed (version 3.0 - 5 Gbit/s) is acceptable if all lower speeds are also provided.
*   Providing a higher version **only** and supporting no lower speeds is **not** acceptable.
*   Providing no USB 3.0 is acceptable.

Chassis (devices) must support up to a maximum chosen USB specification and all speeds below. This guarantees that any CPU Card will work with any device, with any combination auto-negotiating to the maximum possible speed.

### Requirements for Ethernet

All CPU Cards are required to support the full auto-negotiation capabilities of Ethernet, up to the maximum speed chosen to be provided. Specifically:

*   Providing 10 Mbit/s Ethernet is acceptable
*   Providing 100 Mbit/s Ethernet and down-negotiation to 10 Mbit/s Ethernet is acceptable
*   Providing 100 Mbit/s Ethernet **only** is **not** acceptable
*   Providing 1,000 Mbit/s Ethernet is acceptable as long as down-level negotiation to both 100 Mbit/s and 10 Mbit/s is also provided
*   Providing 1,000 Mbit/s Ethernet **only** is **not** acceptable.

Chassis (devices) must also support up to a maximum chosen Ethernet specification and all speeds below. This guarantees that any CPU Card will work with any device, with any combination auto-negotiating to the maximum possible speed.

### Requirements for RGB/TTL

The RGB/TTL output is the one point where close attention has to be paid on the part of the CPU Card designers, because of the variance between devices in which the CPU Cards will be plugged. This will need careful monitoring and may warrant a "Certification Programme" to ensure that CPU Cards are compliant with a wide range of devices.

*   RGB/TTL is a parallel data bus, potentially running at up to 125 or even 150mhz. To ensure that the parallel signals are not skewed, *both* CPU Cards *and* I/O Boards **MUST** ensure that the length of the RGB/TTL tracks (data, HSYNC, VSYNC, CLK and DE) leading to the 68-pin connector - on either side of the 68-pin connector - are all of equal length. It is recommended that both the source (e.g the CPU) and the sink (e.g an LVDS IC) are placed as close to the 68-pin connector as possible.
*   CPU Cards **must** provide software-programmable support for anywhere between 190x120 RGB-TTL resolutions all the way up to the maximum that they are capable of, with the maximum resolution being clearly marked on both the CPU Card, as well as the retail packaging in which it is sold.
*   CPU Cards **should** support up to at least 1920x1080 at at least 50fps. However, some ultra-low-cost SoCs, especially those designed for mobile devices, only support up to XGA or WXGA resolutions. The use of such SoCs is not entirely recommended.
*   EOMA-68's RGB/TTL interface is 24-bit-wide. If a particular SoC only has e.g. 18-bit or 15-bit RGB/TTL then the LSB (lower) bits **MUST** be set to logic output level 0 when the LCD interface is enabled: they must **NOT** be left floating or tri-state. This ensures that devices which are expecting the full 24-bits do not receive noise on the lower bits of each of the R,G and B 8-bit inputs.

Although there is no reason why individual devices should not have more than one LCD screen, allowing them to be selected, the burden of complexity for screen selection is placed onto the CPU Card software, so any company planning such a multi-screen device should contact the authors of the EOMA-68 specification (lkcl@qimod.com). Realistically, multi-screen devices *should* consider instead using USB-based screen driver technology such as that from DisplayLink, or place any number of additional Display outputs onto the user-facing end of the CPU Card *(most CPU Cards will at least have a Micro-HDMI output)*.

### Requirements for I2C

These are the requirements for provision of I2C on an EOMA-68 interface. The summary is that the I2C bus must not be shared with any peripherals on the CPU Card, and the CPU Card must be able to read an on-board EEPROM (at address 0x51).

*   The I2C bus that is connected to the EOMA-68 interface will expect to have access to an EEPROM that is addressable (readable) at I2C address 0x51.
*   Additionally, there **MUST NOT** be *any* devices on the I2C bus on the CPU Card side. The reason is that all other addresses (other than 0x51) **must** be available for peripherals on the I/O Board.
*   If a CPU Card needs to connect internally to any I2C peripherals on the PCB inside the CPU Card, the CPU Card **MUST** use a completely separate I2C bus (internally), **NOT** the one that is connected to the EOMA-68 Interface. i.e. the I2C bus that is connected to the EOMA-68 interface **MUST** remain completely dedicated to EOMA-68, and **MUST NOT** be shared with any peripherals on the CPU Card itself.
*   The EEPROM **MUST NOT** be used for the storage of user data: it is reserved exclusively for EOMA-68.

Please note that there is considerable confusion over the definition of addresses in I2C. The [discussion](http://eLinux.org/Talk:Embedded_Open_Modular_Architecture/EOMA-68 "Talk:Embedded Open Modular Architecture/EOMA-68") page has some clarification over what consititutes an address (7-bit) and what goes into the first 8 bits (7-bit address plus 1 bit indicating read or write). Adding to the confusion it is extremely common to find datasheets even from respectable companies that directly contradict the I2C specification.

Below is an example circuit showing an AT24C64 with the address set appropriately to 0x51\. **PLEASE NOTE** that the AT24C64 datasheet **INCORRECTLY** misleads people to believe that the addresses are 0xA2 (for read) and 0xA3 (for write).

![EOMA68-I2C-EEPROM.png](http://eLinux.org/File:EOMA68-I2C-EEPROM.png)

### Requirements for UART

Strange as it may seem to have requirements for UART this section covers practical issues regarding protection of CPU Cards. When designing I/O Boards it is important to take into consideration that many embedded SoCs do not have proper UART buffering. Typically if the SoC is powered down but the I/O Board continues to be powered up such that it continues to provide a positive voltage to the UART "RX" line this can potentially result in power leakage through the SoC and on to other areas of the PCB. It is therefore critical that I/O Boards ensure that this does not happen.

As this problem is to be taken care of on the I/O Board it is worth observing that CPU Cards do not require UART buffering. They may however require level shifting: the signal levels are, like all other Digital I/O in EOMA68, expected to be 3.3v.

Below is an example circuit which can be used to protect the UART-RX line, using MOSFETs.

![EOMA68-UART-RX-PROTECT.gif](http://eLinux.org/File:EOMA68-UART-RX-PROTECT.gif)

Here is another example that uses schottky diodes. D1 is to reduce the voltage slightly so that it will be below the 3.3v level that is internally supplied to the CPU Card. The same effect could reasonably be achieved using a resistor-divider bridge.

![EOMA68-UART-RX-DIODE-PROTECT.png](http://eLinux.org/File:EOMA68-UART-RX-DIODE-PROTECT.png)

There are also other options such as the use of a MAX2322 RS232 buffer IC. Other options can be found [here](http://www.hobbytronics.co.uk/schottky-logic-level-conversion).

### Requirements for SD/MMC and SPI

SD/MMC is a little strange in that it has hardware backwards-compatibility down to SPI in most controllers, but even if a hardware controller does not it is still possible to emulate SPI using ["bitbanging"](http://lxr.free-electrons.com/source/drivers/spi/spi-bitbang.c). As bit-banging is quite CPU-intensive, and the transfer speed of SPI is 25mhz, designers of CPU Cards as well as designers of I/O Boards need to take this into consideration. It is therefore *recommended* that CPU Card designers either provide the full interoperable functionality (SD/MMC as well as SPI mode) or provide a means by which the hardware functionality is multiplex-routed to the 6 I/O pins whilst at the same time ensuring that the same 6 pins can be fully bi-directional as GPIO, (for example by using a small FPGA). As this latter option would be quite complex, it is best to provide the full functionality instead.

It is also critical to bear in mind that the pins **MUST** be shared (multiplexed) with bi-directional GPIO as noted in the EOMA-68 pinouts table. When designing the hardware, it must be taken into consideration that the option to switch all or any of the pins from GPIO to SD/MMC or SPI, including selecting 4-pin, 2-pin or 1-pin mode whilst the remaining unused pins are made available as GPIO, **MUST** be available at all times (i.e. not just as a boot-time option but dynamically at run-time).

For most SoCs these requirements are not burdensome: most SoCs already have multiplexed SD/MMC with bi-directional GPIO, where selection is programmable dynamically both at boot-time and run-time , and they support all modes of SD/MMC as well.

# Pinouts (version 1.0)

These pinouts make no attempt to be electrically or electronically compatible with the legacy PCMCIA standard. 8 GPIO pins, 24-pin RGB/TTL, USB2, I2C, 10/100/1000 Ethernet and SATA-III interfaces are included in the Version 1.0 specification. *Note: USB2, SATA-III and Ethernet MUST support auto-negotiation, and MUST support the lower capabilities (USB 1, USB 1.1, SATA-I, SATA-II, 10/100 Ethernet). Higher speeds and capabilities are optional*.

Four 5.0 V power inputs must be provided: all pins are rated at 0.5 A, so the maximum power dissipation is limited to 10 watts. *Design consideration: please note that to ensure that thermal dissipation in an enclosed fanless situation is not exceeded, a maximum of 3.5 watts should be respected, or the card must contain its own fan (not recommended). Most systems will **not** have active cooling.*

All High-speed signals (USB2, Ethernet, SATA-III) are balanced lines that are still separated using GND or Power pins. All other pins are low frequency, with the exception of the LCD Pixel Clock and Pixel Data pins, which could go as high as 125 MHz for 1,920×1,080 @ 60fps (not recommended). The eight GPIO pins are available, for general-purpose bi-directional use of digital data only.

The output from the 24-pin LCD RGB/TTL pins must be electrically compatible with a Texas Instruments SN75LVDS83B, which has electrical characteristics of 3.3 V TTL but requires 5 V TTL tolerance. Typical TTL high-level voltage is 2.0 volts; threshold is 1.4 V; low-level TTL voltage is 0.8 V.

Also, because the GPIO pins can be reconfigured individually bi-directional for any digital purposes, they **must** be made to be 5 V TTL tolerant and tri-state isolated, and Motherboards also must be 5.0 V TTL tolerant as well as tri-state isolated. Levels when any GPIO pin is used either as an input or as an output should again operate at nominal 3.3 V TTL levels, thus expect "high" voltage of 2.0 volts, threshold of 1.4 V and "low" voltage of 0.8 V, but must accept voltages from 0–5 V.

The option for a CPU Card to provide Gigabit Ethernet is also available, if a given system has it. If, however, a particular system does not have Gigabit Ethernet, the pins **must not** be used for other purposes, and **must** be left unconnected (floating). This is to ensure that automatic negotiation of 100/1000 Ethernet occurs correctly.

The option for a CPU Card to provide USB3 is also available, if a given system has it. If, however, a particular system does not have USB3, the pins **must not** be used for other purposes, and **must** be left unconnected (floating). Additionally, I/O Boards **must not** use the unused pins for any other purpose and must leave them unconnected (floating). This is to ensure that automatic down-negotiation of USB2 occurs correctly and that damage does not occur to USB3-capable CPU Cards when plugged into I/O Boards with only USB2 capability.

Pin 22 is available for implementations to use for any special non-EOMA68-compliant purpose. I/O Boards **MUST NOT** rely on any specific card implementation providing any specific functionality on pin

1.  Examples of appropriate uses for Pin 22 include start-up selection of a boot mode that is specific to a processor so that it is more convenient for a factory install to be able to re-flash and test an Operating System without needing to open up the case. Inappropriate uses are for example using Pin 22 as a 9th GPIO or as a One-Wire Bus, because not all I/O Boards will provide this exact same functionality.

Note also: for factory-install purposes, cards are of course permitted to use all and any pins, ports or methods required to carry out factory-installs and testing, as long as after factory-install the 68 pins are capable of EOMA-68 compliance. Examples of such uses would include a test-bench with an SD/MMC interface for first firmware boot, a JTAG interface and other diagnostics.

## Table of EOMA-68 pinouts

| Row 1 | Row 2 |
| --- | --- |
| * 1 GPIO (12) / SPI_MISO | * 35 GPIO (13) / SPI_MOSI |
| * 2 LCD Pixel Data bit 18 (Blue2) | * 36 LCD Pixel Data bit 19 (Blue3) |
| * 3 LCD Pixel Data bit 20 (Blue4) | * 37 LCD Pixel Data bit 21 (Blue5) |
| * 4 LCD Pixel Data bit 22 (Blue6) | * 38 LCD Pixel Data bit 23 (Blue7) |
| * 5 GPIO (14) / SPI_SCK | * 39 GPIO (15) / SPI_CS |
| * 6 LCD Pixel Data bit 10 (Green2) | * 40 LCD Pixel Data bit 11 (Green3) |
| * 7 LCD Pixel Data bit 12 (Green4) | * 41 LCD Pixel Data bit 13 (Green5) |
| * 8 LCD Pixel Data bit 14 (Green6) | * 42 LCD Pixel Data bit 15 (Green7) |
| * 9 GPIO (16) / EINT1 | * 43 POWER# |
| * 10 LCD Pixel Data bit 2 (Red2) | * 44 LCD Pixel Data bit 3 (Red3) |
| * 11 LCD Pixel Data bit 4 (Red4) | * 45 LCD Pixel Data bit 5 (Red5) |
| * 12 LCD Pixel Data bit 6 (Red6) | * 46 LCD Pixel Data bit 7 (Red7) |
| * 13 LCD Pixel Clock | * 47 LCD Vertical Synchronization |
| * 14 LCD Horizontal Synchronization | * 48 LCD Pixel data enable (TFT) output |
| * 15 I2C Clock (SCL) | * 49 I2C Data (SDA) |
| * 16 GPIO (0) / SDMMC-D3 | * 50 GPIO (1) / SDMMC-D2 |
| * 17 GPIO (2) | * 51 GPIO (3) |
| * 18 GPIO (4) / SDMMC-CMD | * 52 GPIO (5) / SDMMC-CLK |
| * 19 GPIO (6) / SDMMC-D0 | * 53 GPIO (7) / SDMMC-D1 |
| * 20 ---- not used ---- / USB3 StdA_SSRX- | * 54 ---- not used ---- / USB3 StdA_SSRX+ |
| * 21 ---- not used ---- / USB3 StdA_SSTX- | * 55 ---- not used ---- / USB3 StdA_SSTX+ |
| * 22 GPIO (10) / PWM | * 56 Ethernet Feedback (transformer mid-point) |
| * 23 GPIO (8) / UART_TX | * 57 GPIO (9) / UART_RX |
| * 24 PWR (5.0 V) | * 58 PWR (5.0 V) |
| * 25 ---- not used ---- / 1000 Eth BI_DD+ | * 59 ---- not used ---- / 1000 Eth BI_DD− |
| * 26 10/100 Ethernet (RX+) / 1000 Eth BI_DB+ | * 60 10/100 Ethernet (RX−) / 1000 Eth BI_DB− |
| * 27 10/100 Ethernet (TX+) / 1000 Eth BI_DA+ | * 61 10/100 Ethernet (TX−) / 1000 Eth BI_DA− |
| * 28 ---- not used ---- / 1000 Eth BI_DC+ | * 62 ---- not used ---- / 1000 Eth BI_DC− |
| * 29 PWR (5.0 V) | * 63 PWR (5.0 V) |
| * 30 1st USB2 (Data+) | * 64 1st USB2 (Data−) |
| * 31 GROUND | * 65 GROUND |
| * 32 GPIO (11) / EINT0 | * 66 VREF-TTL (GPIO TTL Voltage Reference) |
| * 33 GROUND | * 67 GROUND |
| * 34 2nd USB2 (Data+) | * 68 2nd USB2 (Data−) |

# Start-up procedure

It is required that all pins be disabled (floating tri-state) with the exception of the I2C Bus, the 5.0v Power and the Ground Pins. I2C Bus Master is then enabled, to search for an I2C EEPROM at address 0xA2. This EEPROM contains Linux Kernel "Device Tree" data, which specifies the devices available on the motherboard, as well as the actual pin-outs. The exact format of the EEPROM data is yet to be decided.

One important aspect of reading the I2C EEPROM is that the CPU card can then correctly access and initialise on-board devices. It also defines the purpose and use of the GPIO pins (if any are required). Also, the format of the LCD data is specified. For example, the pinout diagram on this page assumes 24-pin RGB TTL, but some motherboards may have LCD panels which only have an 18-pin RGB/TTL interface. The data in the I2C EEPROM therefore provides clear specifications on all the motherboard's peripherals.

Discussion of the startup procedure is here on [arm-netbooks](http://lists.phcomp.co.uk/pipermail/arm-netbook/2012-January/001787.html)

# Future Versions

All LCD and GPIO pins must be tri-state floating in order that future versions of this standard can provide faster (or merely alternative) interfaces. At the time of writing (2011), the interfaces in the 1.0 Specification are "Lowest Common Denominator" yet are still present across the majority of 2011's powerful embedded SoCs (OMAP4440, Enyxos4210, Tegra 3, iMX53, iMX6, Allwinner A10, A20 etc.) However, in the future, the "Lowest Common Denominator" could well comprise MIPI instead of RGB/TTL, 2 lane PCI-express (or its successor), and USB-3 instead of USB-2 (perhaps even a faster version of ULPI).

As of 2011 however, the total number of Embedded CPUs supporting all these newer interfaces and still keeping to a 1.5 watt budget is precisely zero. Support for these high-speed interfaces will therefore be re-evaluated in 2 to 3 years time, and a future version of this standard created when a large proportion of available embedded CPUs have these or other high-speed interfaces that are available at the time.

# Deliberate Mechanical Non-interoperability

The re-use of the PCMCIA standard pinouts with no electrical or electronic compatibility requires mechanical means to ensure that newer cards cannot be inserted into legacy sockets. The proposed solution is therefore to deploy a fascia plate on the EOMA-68 card that is both larger in width than the standard 55 mm as well as recessed by some 8 mm, along the length of one of the 85 mm edges. The exact dimensions are yet to be determined, as specific PCMCIA housings need to be examined to ensure that one side can take the recessed "edge stop". The following part, [PCMCIA Ejector Assembly](http://www.te.com/catalog/pn/en/1717121-1) from Tyco Electronics, is ideally suited: slimline and nothing at the left side.

# Physical Dimensions

There are two sets of acceptable dimensions: as with the legacy PCMCIA interface, these must be backwards-compatible.

## Type II

The physical dimensions are a maximum of "Type II" (i.e. 5mm maximum height). Cards should typically have all user-facing connectors "flush" with the standard PCMCIA size. This will ensure that when a Card is inserted into a device, the connectors of the CPU Card appear to be part of the actual device. However: devices should cater for the possibility that an EOMA-68 Card may have connectors sticking out of the end, to any practical height.

As the EOMA-68 pinouts have been designed to avoid matching the power lines of PCMCIA, there is no need for mechanical blocking.

## Type III

Type III Cards have a maximum height of 8mm: this is typically reserved for x86-based CPUs which require up to 10 watts to operate. Motherboards that take the Type III cards **must** also accept the Type II lower-power cards.

TBC: Type III Cards should not assume that there will be fans available in the devices in which the cards are inserted, and should make arrangements for the removal of heat.

# Thermal Considerations

In order to reduce the cost of Motherboards and system design, Type II Cards should not exceed an average of 3.5 watts power consumption for prolonged periods of time, despite there being provision for up to 10 watts on the EOMA-68 connector.

CPU Cards and Motherboards that support the Type III 8mm-high cards **must** be designed with a Thermal Dissipation capability that takes the 10 watt TDP into consideration, as well as taking into consideration the power consumption and heat generation of the devices used on the Motherboard as well. Whilst fan-based solutions are acceptable, the use of thermally-conductive copolymer plastics (some of which have thermal dissipation capabilities exceeding that of Aluminium) are recommended.

# Header Connectors

Within the physical dimensions, there is absolutely no restriction on the number of connectors, interfaces, headers, expansion headers or antenna protruding from the end of the device. For example: a PCMCIA CPU card may typically have, for best useability, a Micro-HDMI, a USB-OTG, a 5-pin Audio Jack and a Micro-SD Card Slot. These four interfaces fit neatly within the 54 mm × 5.5 mm fascia plate size limit, as long as mid-mount connectors are used.

Also, on the actual EOMA-68 CPU Card PCB itself, there is no restriction on the number of expansion headers (populated or unpopulated) - the only consideration being that the EOMA-68 CPU card clearly cannot have expansion headers except for Engineers and Embedded Device Designers, and also have a metal shield installed around the EOMA-68 CPU card at the same time. However, there is no reason why the expansion headers should be unpopulated, supplied without a metal shield to Embedded Engineers, yet the exact same device shipped in mass-volume with a metal shield installed, for the average user.

The only issue to note is that there is a maximum power budget of about 10 watts (although there are four 5.0V 0.5A pins) but also that there is a practical maximum power dissipation of EOMA-68 cards of about 4 watts. There is no provision in the standard for air-cooling (fans) in the cases: most devices will be a passive-cooled layout.

If however the EOMA-68 card is designed to operate "stand-alone", for example by being provided with a Power Connector on its user-facing edge or by making use of USB-OTG, then of course the designers are free to disregard these constraints. If however the CPU card is also expected to operate inside a conformant device, then it must adjust accordingly and stick within the 4 watt heat dissipation budget.

# Example Motherboards

Here is a list of example designs which conform the EOMA-68 Standard:

*   [Mini Engineering Board](http://eLinux.org/Embedded_Open_Modular_Architecture/EOMA-68/MiniEngineeringBoard "Embedded Open Modular Architecture/EOMA-68/MiniEngineeringBoard")
    *   suitable for Free Software Developers, ODM Development, SoC "Board Support Packages", Experimentation, Prototyping, Electrical Engineers, Training and R&D purposes.
*   [Monster Engineering Board](http://eLinux.org/Embedded_Open_Modular_Architecture/EOMA-68/EngineeringBoard "Embedded Open Modular Architecture/EOMA-68/EngineeringBoard")
    *   suitable for ODM Development "Demonstration" Purposes: designed to be "cut down to size", requiring the minimum amount of CAD/CAM Development effort and maximising return on investment.
*   [The Obligatory Tablet](http://eLinux.org/Embedded_Open_Modular_Architecture/EOMA-68/Tablet "Embedded Open Modular Architecture/EOMA-68/Tablet")
    *   a simple tablet motherboard which could potentially be developed as a very low cost single-sided 2-layer PCB. Components are chosen to reduce development cost and risk, as well as reduce manufacturing cost.
*   [Laptop](http://eLinux.org/Embedded_Open_Modular_Architecture/EOMA-68/Laptop "Embedded Open Modular Architecture/EOMA-68/Laptop")
    *   a laptop motherboard which could potentially be developed as a very low cost single-sided 2-layer PCB, through the use of modular and optional components for WIFI and 3G.
*   [LCD (TV)](http://eLinux.org/Embedded_Open_Modular_Architecture/EOMA-68/LCD-TV "Embedded Open Modular Architecture/EOMA-68/LCD-TV")
    *   an LCD Monitor (or Picture Frame) which can be upgraded into a TV or an All-in-One Computer or an Internet TV or Personal Video Recorder or Media Centre. very versatile yet simple to do.
*   [Passthrough or "Blank" Card](http://eLinux.org/Embedded_Open_Modular_Architecture/EOMA-68/Passthrough "Embedded Open Modular Architecture/EOMA-68/Passthrough")
    *   a special type of card which simply passes through the connectors, with little or no signal conversion.

# Contact and Discussion

For questions, comments and general discussion, please use [arm-netbook mailing list](http://lists.phcomp.co.uk/mailman/listinfo/arm-netbook)

# Slides

[Introduction of EOMA](http://eLinux.org/images/9/9e/Eoma68.pdf "Eoma68.pdf")

# FAQ

The [FAQ](http://eLinux.org/Embedded_Open_Modular_Architecture/EOMA-68/FAQ "Embedded Open Modular Architecture/EOMA-68/FAQ") is now on its own page.

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Embedded Open Modular Architecture](http://eLinux.org/Category:Embedded_Open_Modular_Architecture "Category:Embedded Open Modular Architecture")
*   [ARM processors](http://eLinux.org/Category:ARM_processors "Category:ARM processors")

# Flameman/routerboard-rb532

> From: [eLinux.org](http://eLinux.org/routerboard-rb532 "http://eLinux.org/routerboard-rb532")

# Flameman/routerboard-rb532

\< [Flameman](http://eLinux.org/Flameman "Flameman")

For more interesting projects done by Flameman, be sure to check out his [project index](http://eLinux.org/Flameman#master_index "Flameman")

## Contents

*   1 RouterBoard-rb532-Flameman
    *   1.1 Note
    *   1.2 Introduction
        *   1.2.1 People you could contact if you need help
        *   1.2.2 About the board
        *   1.2.3 features
        *   1.2.4 Overview
        *   1.2.5 Memory Locations
        *   1.2.6 Problems
        *   1.2.7 Images of the board
    *   1.3 Kernel
        *   1.3.1 status
        *   1.3.2 download
    *   1.4 rootfs
        *   1.4.1 dev
            *   1.4.1.1 cfa
    *   1.5 gpio
        *   1.5.1 sources
            *   1.5.1.1 gpio.c
    *   1.6 About Gentoo
        *   1.6.1 what/where
        *   1.6.2 dmesg
        *   1.6.3 About devtools
    *   1.7 Project
        *   1.7.1 Router 3 port ethernet

# RouterBoard-rb532-Flameman

## Note

i'm developing for this board, the wiki page will be improved soon

feel free to contact me (see the contact below)

## Introduction

The Target-goal of this page is

*   install gentoo-mipsel into microdrive
*   make the board able to boot from it
*   describe how to build a jtag cable (to debug and recover from "Brickage")
*   describe something useful with you can do with the board
*   describe other Operating Systems avalaible for the board

logical steps about installing gentoo

*   add the JTAG connector at J10 (you could skip it, it is suggested)
*   build the JTAG cable (you could skip it, it is suggested))
*   study the bootloader
*   make partitions on the microdrive
*   populate them
*   set the bootloader environment to boot from the microdrive

### People you could contact if you need help

*   flameman, i'm currently use this board for a project, email
    *   msn daredevil-coder@hotmail.it
    *   email flamemaniii@gmail.com
    *   irc.nick flameman (channel #edev, #gentoo-ppc)
*   you ... if you want ;-)

* * *

### About the board

rb532 is a shortened name for the routerboard

you could get your board from [`routerboard.com/rb500.html`](http://routerboard.com/rb500.html)

see the nearest reseller of the area where you live mind a brand new boards costs 140Euro + shipping and VAT cheaper way requires (fortune and) ebay searched for

### features

```
 * MIPS 32 4Kc based 266MHz (BIOS adjustable from 200 to 333 MHz; 400MHz processor factory option) embedded processor
   * 32MB DDR onboard memory
   * Boot loader, RouterBOOT, 1Mbit Flash chip
   * Data storage, 128MB onboard
   * CompactFlash type I/II slot (also supports IBM/Hitachi Microdrive)
   * Two VIA VT6105, One IDT Korina, 10/100 Mbit/s Fast Ethernet
   * Two MiniPCI Type IIIA/IIIB slots
   * Daughterboard connector Present
   * One DB9 RS232C asynchronous serial port
   * LEDs. Power, 2 LED pairs for MiniPCI slots, 1 user LED
   * Watchdog IDT internal SoC hardware watchdog timer
   * IEEE802.3af Power over Ethernet: 12V or 48V DC Power jack: 11..60V DC
   * Power jack/header 6..22V or 25..56V DC jumper selectable.
   * Dimensions. 14.0 cm x 14.0 cm (5.51 in x 5.51 in)
   * Temperature. Operational: -20°C to +70°C (-4°F to 158°F)
   * Humidity. Operational: 70% relative humidity (non-condensing)
   * Currently supported OS. RouterOS 2.9, Linux 2.4, Linux 2.6 
```

### Overview

The board consists of:

*   **CPU** IDT MIPS 79RC32434, a solid & smart implementation of the mipsel little endian MIPS 32 4Kcore CPU architecture, running at 400mhz (adjustable from 200 to 400MHz; 400MHz default and recommended)
*   **RAM** soldered 64MB DDR onboard memory chip
*   **LAN** On-chip 3 ethernet: One IDT Korina 10/100 Mbit/s Fast Ethernet port supporting Auto-MDI/X, Two VIA VT6105 10/100 Mbit/s Fast Ethernet ports supporting Auto-MDI/X.
*   **UART** One DB9 RS232C asynchronous serial port, speeds up to 230k, tested up to 115200bps
*   **miniPCI** Two MiniPCI Type IIIA/IIIB slots
*   **CF** support for IBM/Hitachi Microdrive ([`eLinux.org/dev/cfa`](http://eLinux.org/dev/cfa))
*   **ROM** 1Mbit NAND flash where it is stored the bootloader
*   **POWER** IEEE802.3af Power over Ethernet: 12V or 48V DC, Power jack/header 6..22V or 25..56V DC jumper selectable. PoE does not support power over datalines
*   **System PCB 14.0 cm x 14.0 cm**
*   **RTC** the real time clock chip is missing
*   **LED** Power, 2 LED pairs for MiniPCI slots, 1 user LED
*   **Watchdog** IDT internal SoC hardware watchdog timer

NOTE: from the base configuration of 3 Ethernet ports and 2 MiniPCI slots (for wireless cards) it can be extended by using daughterboards for four more MiniPCI slots, or even up to a total of 15 interfaces (9 Ethernet ports and 6 MiniPCI slots). A wide range of accepted input power means that you can connect to almost any direct current power source you already have on site. It also can be powered through an Ethernet port using Power-over-Ethernet technology (802.3af) or passive non-standard PoE.

NOTE2: there is a daughterboard for the RB532\. It is called RouterBOARD 564, and It attaches to the RB532 by means of special daughterboard connector and adds four more MiniPCI slots and six ethernet ports. You can not use more than two AR5414 chipset (e.g. R52) cards in RB/564\. If you want to use three or four miniPCI cards in RB/564, you should use other chipset based ones for those extra slots, like CM9\. For example, two R52 + two CM9 is OK, four CM9 is also OK, but not three or four R52.

### Memory Locations

memory map of the board will be added as soon as possible

| addr begin | addr end | area |
| --- | --- | --- |
| ... | ?? | ram, userspace |
| 400000 | ?? | ram, userspace |

Open questions

* * *

1) how/where is ram mapped ?

2) how/where is microdrive mapped ?

3) how/where is pci mapped ?

3) what is the bootstrap addr of the flash ?

...

### Problems

...

### Images of the board

![Rb532r5 s.jpg](http://eLinux.org/File:Rb532r5_s.jpg)

also see a detailed imate @ www routerboard.com/img/rb500_l.jpg

## Kernel

### status

Korina ethernet VIA Rhine

Rhine-I-VT86C100A x Rhine-II-VT6102 Rhine-III-VT6105

| version | host | target | toolchain | note |
| --- | --- | --- | --- | --- |
| 2.6.22 vanilla+patch | compiled on ppc-7410, minerva | arc=mips-el, target=mips-1 | gcc-4.1.2-glibc binutils-2.19 | rocks, 6 days uptime hardly compiling, korina sometime stalls, VIA works |
| 2.6.24 vanilla+patch | compiled on ppc-7410, minerva | arc=mips-el, target=mips-1 | gcc-4.1.2-glibc binutils-2.19 | korina is now working, VIA works (korina and VIA statically compiled) |
| 2.6.30.6 vanilla+patch --- REMOVED from kernel tree line --- | compiled on ppc-7410, minerva | arc=mips-el, target=mips-1 | gcc-4.1.2-glibc binutils-2.19 | korina is working, VIA is not working, name eth0 inversion, korina is not eth0, korina and VIA statically compiled, the suggestion looks like compiling the via-rhine driver as module and load it after the korina, this may works for 2.6.30.6,2.6.30.5,2.6.30.1 also with rc6 |
| 2.6.37 vanilla+patch | compiled on ppc-7550, vittoria | arc=mips-el, target=mips-1 | gcc-4.1.2-glibc binutils-2.19 | korina is working, VIA is working, intel-ipw2200(wifi minipci) is working (with an hack), cmdline patched, kernel-panik() has been patched |

### download

kernel 2.6.22 full tested and working [kernel-gentoo-rb532-2.6.22.gz](http://eLinux.org/index.php?title=Special:Upload&wpDestFile=Kernel-gentoo-rb532-2.6.22.gz "Kernel-gentoo-rb532-2.6.22.gz") (suggested for production)

## rootfs

### dev

#### cfa

mknod /dev/cfa b 13 0 mknod /dev/cfa1 b 13 1 mknod /dev/cfa2 b 13 2 mknod /dev/cfa3 b 13 3

## gpio

### sources

[`tomoyo.sourceforge.jp/cgi-bin/lxr/source/arch/mips/rb532/gpio.c`](http://tomoyo.sourceforge.jp/cgi-bin/lxr/source/arch/mips/rb532/gpio.c)

#### gpio.c

```
arch.mips.rb532.gpio

001 /*
002  *  Miscellaneous functions for IDT EB434 board
003  *
004  *  2004 IDT Inc. (rischelp@idt.com)
005  *  2006 Phil Sutter <n0-1@freewrt.org>
006  *  2007 Florian Fainelli <florian@openwrt.org>
007  *
027  */
028
029 #include <linux/kernel.h>
030 #include <linux/gpio.h>
031 #include <linux/init.h>
032 #include <linux/types.h>
033 #include <linux/pci.h>
034 #include <linux/spinlock.h>
035 #include <linux/io.h>
036 #include <linux/platform_device.h>
037
038 #include <asm/addrspace.h>
039
040 #include <asm/mach-rc32434/rb.h>
041
042 struct rb532_gpio_reg __iomem *rb532_gpio_reg0;
043 EXPORT_SYMBOL(rb532_gpio_reg0);
044
045 struct mpmc_device dev3;
046
047 static struct resource rb532_gpio_reg0_res[] = {
048         {
049                 .name   = "gpio_reg0",
050                 .start  = (u32)(IDT434_REG_BASE + GPIOBASE),
051                 .end    = (u32)(IDT434_REG_BASE + GPIOBASE + sizeof(struct rb532_gpio_reg)),
052                 .flags  = IORESOURCE_MEM,
053         }
054 };
055
056 static struct resource rb532_dev3_ctl_res[] = {
057         {
058                 .name   = "dev3_ctl",
059                 .start  = (u32)(IDT434_REG_BASE + DEV3BASE),
060                 .end    = (u32)(IDT434_REG_BASE + DEV3BASE + sizeof(struct dev_reg)),
061                 .flags  = IORESOURCE_MEM,
062         }
063 };
064
065 void set_434_reg(unsigned reg_offs, unsigned bit, unsigned len, unsigned val)
066 {
067         unsigned long flags;
068         unsigned data;
069         unsigned i = 0;
070
071         spin_lock_irqsave(&dev3.lock, flags);
072
073         data = *(volatile unsigned *) (IDT434_REG_BASE + reg_offs);
074         for (i = 0; i != len; ++i) {
075                 if (val & (1 << i))
076                         data |= (1 << (i + bit));
077                 else
078                         data &= ~(1 << (i + bit));
079         }
080         writel(data, (IDT434_REG_BASE + reg_offs));
081
082         spin_unlock_irqrestore(&dev3.lock, flags);
083 }
084 EXPORT_SYMBOL(set_434_reg);
085
086 unsigned get_434_reg(unsigned reg_offs)
087 {
088         return readl(IDT434_REG_BASE + reg_offs);
089 }
090 EXPORT_SYMBOL(get_434_reg);
091
092 void set_latch_u5(unsigned char or_mask, unsigned char nand_mask)
093 {
094         unsigned long flags;
095
096         spin_lock_irqsave(&dev3.lock, flags);
097
098         dev3.state = (dev3.state | or_mask) & ~nand_mask;
099         writel(dev3.state, &dev3.base);
100
101         spin_unlock_irqrestore(&dev3.lock, flags);
102 }
103 EXPORT_SYMBOL(set_latch_u5);
104
105 unsigned char get_latch_u5(void)
106 {
107         return dev3.state;
108 }
109 EXPORT_SYMBOL(get_latch_u5);
110
111 int rb532_gpio_get_value(unsigned gpio)
112 {
113         return readl(&rb532_gpio_reg0->gpiod) & (1 << gpio);
114 }
115 EXPORT_SYMBOL(rb532_gpio_get_value);
116
117 void rb532_gpio_set_value(unsigned gpio, int value)
118 {
119         unsigned tmp;
120
121         tmp = readl(&rb532_gpio_reg0->gpiod) & ~(1 << gpio);
122         if (value)
123                 tmp |= 1 << gpio;
124
125         writel(tmp, (void *)&rb532_gpio_reg0->gpiod);
126 }
127 EXPORT_SYMBOL(rb532_gpio_set_value);
128
129 int rb532_gpio_direction_input(unsigned gpio)
130 {
131         writel(readl(&rb532_gpio_reg0->gpiocfg) & ~(1 << gpio),
132                (void *)&rb532_gpio_reg0->gpiocfg);
133
134         return 0;
135 }
136 EXPORT_SYMBOL(rb532_gpio_direction_input);
137
138 int rb532_gpio_direction_output(unsigned gpio, int value)
139 {
140         gpio_set_value(gpio, value);
141         writel(readl(&rb532_gpio_reg0->gpiocfg) | (1 << gpio),
142                (void *)&rb532_gpio_reg0->gpiocfg);
143
144         return 0;
145 }
146 EXPORT_SYMBOL(rb532_gpio_direction_output);
147
148 void rb532_gpio_set_int_level(unsigned gpio, int value)
149 {
150         unsigned tmp;
151
152         tmp = readl(&rb532_gpio_reg0->gpioilevel) & ~(1 << gpio);
153         if (value)
154                 tmp |= 1 << gpio;
155         writel(tmp, (void *)&rb532_gpio_reg0->gpioilevel);
156 }
157 EXPORT_SYMBOL(rb532_gpio_set_int_level);
158
159 int rb532_gpio_get_int_level(unsigned gpio)
160 {
161         return readl(&rb532_gpio_reg0->gpioilevel) & (1 << gpio);
162 }
163 EXPORT_SYMBOL(rb532_gpio_get_int_level);
164
165 void rb532_gpio_set_int_status(unsigned gpio, int value)
166 {
167         unsigned tmp;
168
169         tmp = readl(&rb532_gpio_reg0->gpioistat);
170         if (value)
171                 tmp |= 1 << gpio;
172         writel(tmp, (void *)&rb532_gpio_reg0->gpioistat);
173 }
174 EXPORT_SYMBOL(rb532_gpio_set_int_status);
175
176 int rb532_gpio_get_int_status(unsigned gpio)
177 {
178         return readl(&rb532_gpio_reg0->gpioistat) & (1 << gpio);
179 }
180 EXPORT_SYMBOL(rb532_gpio_get_int_status);
181
182 void rb532_gpio_set_func(unsigned gpio, int value)
183 {
184         unsigned tmp;
185
186         tmp = readl(&rb532_gpio_reg0->gpiofunc);
187         if (value)
188                 tmp |= 1 << gpio;
189         writel(tmp, (void *)&rb532_gpio_reg0->gpiofunc);
190 }
191 EXPORT_SYMBOL(rb532_gpio_set_func);
192
193 int rb532_gpio_get_func(unsigned gpio)
194 {
195         return readl(&rb532_gpio_reg0->gpiofunc) & (1 << gpio);
196 }
197 EXPORT_SYMBOL(rb532_gpio_get_func);
198
199 int __init rb532_gpio_init(void)
200 {
201         rb532_gpio_reg0 = ioremap_nocache(rb532_gpio_reg0_res[0].start,
202                                 rb532_gpio_reg0_res[0].end -
203                                 rb532_gpio_reg0_res[0].start);
204
205         if (!rb532_gpio_reg0) {
206                 printk(KERN_ERR "rb532: cannot remap GPIO register 0\n");
207                 return -ENXIO;
208         }
209
210         dev3.base = ioremap_nocache(rb532_dev3_ctl_res[0].start,
211                                 rb532_dev3_ctl_res[0].end -
212                                 rb532_dev3_ctl_res[0].start);
213
214         if (!dev3.base) {
215                 printk(KERN_ERR "rb532: cannot remap device controller 3\n");
216                 return -ENXIO;
217         }
218
219         return 0;
220 }
221 arch_initcall(rb532_gpio_init); 
```

## About Gentoo

the kernel bootstrap from the micro drive

![Rb532 md.jpg](http://eLinux.org/File:Rb532_md.jpg)

#### what/where

*   **kernel 2.4.x** there is a port of linux 2.4.30/31 that has been tested and it is perfectly working: see [`routerboard.com/files/linux-2.4.30-yaffs2.patch.gz`](http://routerboard.com/files/linux-2.4.30-yaffs2.patch.gz) , [`routerboard.com/files/linux-2.4.31.patch.gz`](http://routerboard.com/files/linux-2.4.31.patch.gz)
*   **kernel 2.6.x**
    *   2.6.22: in use on my board with success, and has it has been tested for a very long uptime it is known to be very robust (suggested for production)
    *   2.6.23: is under porting, see the git @ [`www.linux-mips.org/git?p=linux-routerboard.git;a=summary`](http://www.linux-mips.org/git?p=linux-routerboard.git;a=summary) (actually i have an issue and it doesn't boot ... there is an issue with the firmware bootloader)
    *   2.6.24: no sup, repository romoved cause it still has the 2.6.23 issue
    *   2.6.26: interesting for the thickness feature, r3 is under development
    *   2.6.28: interesting for ext4, it's in my repository, r4 under development

#### dmesg

on 04-12-2007 i was able to compile a perfectly working kernel 2.6.22, here the dmesg

```
Version 2.6.22-manatnees-batman-mipsel-rb532 (root@queen-vittoria)
(gcc version 4.1.2 (Gentoo 4.1.2 p1.0.2)) #6 Tue Dec 4 17:12:23 CET 2007
CPU revision is: 0001800a
Determined physical RAM map:
 memory: 03fffa00 @ 00000400 (usable)
Wasting 32 bytes for tracking 1 unused pages
Initrd not found or empty - disabling initrd
On node 0 totalpages: 16383
  Normal zone: 127 pages used for memmap
  Normal zone: 0 pages reserved
  Normal zone: 16256 pages, LIFO batch:3
Built 1 zonelists.  Total pages: 16256
Kernel command line: root=/dev/cfa3 console=ttyS0,9600
gpio=8191 kmac=00:0C:42:0E:8F:01 board=500r5 boot=1
korina mac = 00:0C:42:0E:8F:01
Primary instruction cache 8kB, physically tagged, 4-way, linesize 16 bytes.
Primary data cache 8kB, 4-way, linesize 16 bytes.
Synthesized TLB refill handler (20 instructions).
Synthesized TLB load handler fastpath (32 instructions).
Synthesized TLB store handler fastpath (32 instructions).
Synthesized TLB modify handler fastpath (31 instructions).
Initializing IRQ's: 168 out of 256
PID hash table entries: 256 (order: 8, 1024 bytes)
calculating r4koff... 001e846c(1999980)
CPU frequency 400.00 MHz
Using 199.998 MHz high precision timer.
Dentry cache hash table entries: 8192 (order: 3, 32768 bytes)
Inode-cache hash table entries: 4096 (order: 2, 16384 bytes)
Memory: 61120k/65528k available
(2187k kernel code, 4348k reserved, 352k data, 120k init, 0k highmem)
Calibrating delay loop... 398.95 BogoMIPS (lpj=1994752)
Mount-cache hash table entries: 512
NET: Registered protocol family 16
PCI: Initializing PCI
registering PCI controller with io_map_base unset
NET: Registered protocol family 2
Time: MIPS clocksource has been installed.
IP route cache hash table entries: 1024 (order: 0, 4096 bytes)
TCP established hash table entries: 2048 (order: 2, 16384 bytes)
TCP bind hash table entries: 2048 (order: 1, 8192 bytes)
TCP: Hash tables configured (established 2048 bind 2048)
TCP reno registered
Registering mini_fo version $Id$
JFFS2 version 2.2\. (NAND) (SUMMARY)  Â© 2001-2006 Red Hat, Inc.
yaffs Dec  4 2007 17:07:52 Installing.
io scheduler noop registered
io scheduler deadline registered (default)
Serial: 8250/16550 driver $Revision: 1.90 $ 2 ports, IRQ sharing disabled
serial8250: ttyS0 at MMIO 0x0 (irq = 104) is a 16550A
cf-mips module loaded
cf-mips: resetting..
cf-mips: identify drive..
cf-mips: CF card detected, C/H/S=3968/16/63 sectors=3999744 (1953MB)
cf-mips: detecting block size
cf-mips: multiple sectors = 32
init done: cfa: cfa1 cfa2 cfa3
Using NAPI with weight 64
eth0: Rx IRQ 40, Tx IRQ 41, 00:0c:42:0e:8f:01
via-rhine.c:v1.10-LK1.4.3 2007-03-06 Written by Donald Becker
PCI: Enabling device 0000:00:02.0 (0080 -> 0083)
PCI: Setting latency timer of device 0000:00:02.0 to 64
io_map_base of root PCI bus 0000:00 unset.  Trying to continue but you better
fix this issue or report it to linux-mips@linux-mips.org or your vendor.
eth1: VIA Rhine III at 0xb8800000, 00:0c:42:0e:8f:02, IRQ 142.
eth1: MII PHY found at address 1, status 0x7849 advertising 05e1 Link 0000.
PCI: Enabling device 0000:00:03.0 (0080 -> 0083)
PCI: Setting latency timer of device 0000:00:03.0 to 64
eth2: VIA Rhine III at 0xb8800100, 00:0c:42:0e:8f:03, IRQ 143.
eth2: MII PHY found at address 1, status 0x7849 advertising 05e1 Link 0000.
block2mtd: version $Revision: 1.30 $
NAND device: Manufacturer ID: 0xad, Chip ID: 0xf1 (Hynix NAND 128MiB 3,3V 8-bit)
Scanning device for bad blocks
Bad eraseblock 92 at 0x00b80000
Creating 2 MTD partitions on "NAND 128MiB 3,3V 8-bit":
0x00000000-0x00400000 : "Routerboard NAND boot"
0x00400000-0x08000000 : "rootfs"
mtd: partition "rootfs" set to be root filesystem
split_squasfs: no squashfs found in "NAND 128MiB 3,3V 8-bit"
Registered led device: rb500led:amber
nf_conntrack version 0.5.0 (511 buckets, 4088 max)
ip_tables: (C) 2000-2006 Netfilter Core Team
TCP vegas registered
NET: Registered protocol family 1
NET: Registered protocol family 17
802.1Q VLAN Support v1.8 Ben Greear <greearb@candelatech.com>
All bugs added by David S. Miller <davem@redhat.com>
EXT3-fs: INFO: recovery required on readonly filesystem.
EXT3-fs: write access will be enabled during recovery.
kjournald starting.  Commit interval 5 seconds
EXT3-fs: recovery complete.
EXT3-fs: mounted filesystem with ordered data mode.
VFS: Mounted root (ext3 filesystem) readonly.
Freeing unused kernel memory: 120k freed
Algorithmics/MIPS FPU Emulator v1.5
EXT3 FS on cfa3, internal journal 
```

@15-02-2009 i have to update the kernel to 2.6.26/2.6.28 (still under proof status in my repositories) and i am looking for {miniPCI-sATA, miniPCI-netwifi}

### About devtools

@16-02-2009

you can ask me a working kernel tarball of the sources

## Project

### Router 3 port ethernet

coming soon

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Mips](http://eLinux.org/Category:Mips "Category:Mips")

# Freescale IMX53QSB

> From: [eLinux.org](http://eLinux.org/Freescale_IMX53QSB "http://eLinux.org/Freescale_IMX53QSB")

# Freescale IMX53QSB

## Contents

*   1 Topics
*   2 Hardware
*   3 Barebox
*   4 Kernel

## Topics

# Hardware

The i.MX53 Quick Start Board (aka LOCO) is a 1 GHz ARM Cortex-A8 embedded computer on a 3-inch by 3-inch board.

The loco boots from SD Card with the boot loader at the first sector of it.

You can use Barebox on it:

[`git.pengutronix.de/?p=barebox.git;a=summary`](http://git.pengutronix.de/?p=barebox.git;a=summary)

# Barebox

Barebox uses the same build (Kbuild) and configuration (Kconfig) tools as the Linux kernel.

1) First you need to clone the tree

```
git clone git://git.pengutronix.de/git/barebox.git 
```

Most probably you want to use a released Barebox version, by running 'git checkout \<versionu0005c class="calibre16">'. Check which versions are available with 'git tag -l' and use the latest one.</versionu0005c>

2) Then you need to configure it:

```
make freescale_mx53_loco_defconfig 
```

3) Compile it

```
make 
```

4) Now you need to generate your SD Card:

Plug the SD Card into your laptop and copy barebox.bin to it:

```
dd if=barebox.bin of=/dev/sdb bs=512
sync 
```

5) plug the SD card into the board and boot it (press the boot button)

Now that you have flash, you will see Barebox booting and trying to start the kernel from the SD card.

```
barebox 2011.09.0-00338-ga6d06f2 (Oct  9 2011 - 23:07:34)

Board: Freescale i.MX53 LOCO
registered netconsole as cs1
eth@eth0: got MAC address from EEPROM: 00:04:9F:01:AB:1D
Malloc space: 0x7df00000 -> 0x7ff00000 (size 32 MB)
Stack space : 0x7def8000 -> 0x7df00000 (size 32 kB)
envfs: wrong magic on /dev/env0
no valid environment found on /dev/env0\. Using default environment
running /env/bin/init...
barebox@Freescale i.MX53 LOCO:/ 
```

# Kernel

You can use the mainline kernel, but take into account that not all IP cores available in the MX53 are already supported there. It is also possible to use Freescale's kernel, which can be found here:

[`opensource.freescale.com/git?p=imx/linux-2.6-imx.git;a=summary`](http://opensource.freescale.com/git?p=imx/linux-2.6-imx.git;a=summary)

1) First you need to clone the tree:

a) Mainline

```
git clone git://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux-2.6.git 
```

Note that, like with Barebox, if you aim for stability, you should take a released kernel revision instead of some random version from git.

b) Freescale

```
git clone http://opensource.freescale.com/pub/scm/imx/linux-2.6-imx.git

git checkout -b work imx_2.6.38_11.09.01 
```

or

To speed up the clone, first clone the linus tree, then fetch freescale as this

or use any already cloned kernel

```
git clone git://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux-2.6.git

git remote add freescale http://opensource.freescale.com/pub/scm/imx/linux-2.6-imx.git

git fetch freescale

git checkout -b work freescale/imx_2.6.38_11.09.01 
```

2) Then you need to configure the kernel:

```
make imx5_defconfig 
```

3) Compile it

```
make 
```

If you have a machine with more than one core, add -j \<number-of-parallel-buildsu0005c class="calibre16">.</number-of-parallel-buildsu0005c>

4) now you need to generate your SD Card:

Plug the sd card on your laptop and copy barebox.bin on it

```
dd if=arch/arm/boot/uImage of=/dev/sdb bs=512 seek=768
sync 
```

5) Plug the SD card into the board and boot it (press the boot button)

Now that you have flashed everything, you will see barebox booting and trying to start the kernel from the SD card.

```
barebox 2011.09.0-00338-ga6d06f2 (Oct  9 2011 - 23:07:34)

Board: Freescale i.MX53 LOCO
registered netconsole as cs1
eth@eth0: got MAC address from EEPROM: 00:04:9F:01:AB:1D
Malloc space: 0x7df00000 -> 0x7ff00000 (size 32 MB)
Stack space : 0x7def8000 -> 0x7df00000 (size 32 kB)
envfs: wrong magic on /dev/env0
no valid environment found on /dev/env0\. Using default environment
running /env/bin/init...

Enter the Password within 3s to stop the boot
Password: booting kernel of type uimage from /dev/disk0.kernel
  Verifying Checksum ... OK
  Image Name:   Linux-2.6.35.3-00745-gce4c61a-di
  Created:      2011-10-09  13:43:29 UTC
  Image Type:   ARM Linux Multi-File Image (uncompressed)
  Data Size:    2885707 Bytes =  2.8 MB
  Load Address: 70008000
  Entry Point:  70008000
  Contents:
     Image 0: 2729640 Bytes =  2.6 MB
     Image 1: 156067 Bytes = 152.4 kB
      Offset = 0x7e5d0708
use initrd @1
initrd_start=0x72000000
OK

Starting kernel with initrd ...

commandline: console=ttymxc0,115200 ip=192.168.201.33:192.168.201.98:192.168.201.98:255.255.255.0::eth0: root=/dev/ram0 rdinit=/sbin/init
arch_number: 3273
Linux version 2.6.35.3-00745-gce4c61a-dirty (root@j-debian) (gcc version 4.5.1 (Sourcery G++ Lite 2010.09-50) ) #11 PREEMPT Sat Oct 8 21:35:40 CST 2011
CPU: ARMv7 Processor [412fc085] revision 5 (ARMv7), cr=10c53c7f
CPU: VIPT nonaliasing data cache, VIPT nonaliasing instruction cache
Machine: Freescale MX53 LOCO Board
Memory policy: ECC disabled, Data cache writeback
Built 1 zonelists in Zone order, mobility grouping on.  Total pages: 218112
Kernel command line: console=ttymxc0,115200 ip=192.168.201.33:192.168.201.98:192.168.201.98:255.255.255.0::eth0: root=/dev/ram0 rdinit=/sbin/init
PID hash table entries: 4096 (order: 2, 16384 bytes)
Dentry cache hash table entries: 131072 (order: 7, 524288 bytes)
Inode-cache hash table entries: 65536 (order: 6, 262144 bytes)
Memory: 352MB 512MB = 864MB total
Memory: 868548k/868548k available, 16188k reserved, 0K highmem
Virtual kernel memory layout:
   vector  : 0xffff0000 - 0xffff1000   (   4 kB)
   fixmap  : 0xfff00000 - 0xfffe0000   ( 896 kB)
   DMA     : 0xf9e00000 - 0xffe00000   (  96 MB)
   vmalloc : 0xe0800000 - 0xf4000000   ( 312 MB)
   lowmem  : 0x80000000 - 0xe0000000   (1536 MB)
   pkmap   : 0x7fe00000 - 0x80000000   (   2 MB)
   modules : 0x7f000000 - 0x7fe00000   (  14 MB)
     .init : 0x80008000 - 0x8002f000   ( 156 kB)
     .text : 0x8002f000 - 0x8078b000   (7536 kB)
     .data : 0x807ac000 - 0x807f3aa0   ( 287 kB)
SLUB: Genslabs=11, HWalign=32, Order=0-3, MinObjects=0, CPUs=1, Nodes=1
Hierarchical RCU implementation.
       RCU-based detection of stalled CPUs is disabled.
       Verbose stalled-CPUs detection is disabled.
NR_IRQS:368
MXC GPIO hardware
MXC IRQ initialized
MXC_Early serial console at MMIO 0x53fbc000 (options '115200')
bootconsole [ttymxc0] enabled
Console: colour dummy device 80x30
Calibrating delay loop... 999.42 BogoMIPS (lpj=4997120)
pid_max: default: 32768 minimum: 301
Mount-cache hash table entries: 512
CPU: Testing write buffer coherency: ok
devtmpfs: initialized
regulator: core version 0.5
NET: Registered protocol family 16
i.MX IRAM pool: 128 KB@0xe0840000
IRAM READY
CPU is i.MX0 Revision 0.0
Using SDMA I.API
MXC DMA API initialized
IMX usb wakeup probe
IMX usb wakeup probe
bio: create slab <bio-0> at 0
SCSI subsystem initialized
usbcore: registered new interface driver usbfs
usbcore: registered new interface driver hub
usbcore: registered new device driver usb
da9052_i2c_is_connected - i2c read success..............
regulator: DA9052_LDO1: 600 <--> 1800 mV at 1300 mV normal
regulator: DA9052_LDO2: 600 <--> 1800 mV at 1300 mV normal
regulator: DA9052_LDO3: 1725 <--> 3300 mV at 3300 mV normal
regulator: DA9052_LDO4: 1725 <--> 3300 mV at 2775 mV normal
regulator: DA9052_LDO5: 1200 <--> 3600 mV at 1300 mV normal
regulator: DA9052_LDO6: 1200 <--> 3600 mV at 1300 mV normal
regulator: DA9052_LDO7: 1200 <--> 3600 mV at 2750 mV normal
regulator: DA9052_LDO8: 1200 <--> 3600 mV at 1800 mV normal
regulator: DA9052_LDO9: 1250 <--> 3650 mV at 1500 mV normal
regulator: DA9052_LDO10: 1200 <--> 3600 mV at 1300 mV normal
regulator: DA9052_BUCK_CORE: 500 <--> 2075 mV at 1100 mV normal
regulator: DA9052_BUCK_PRO: 500 <--> 2075 mV at 1300 mV normal
regulator: DA9052_BUCK_MEM: 925 <--> 2500 mV at 1500 mV normal
regulator: DA9052_BUCK_PERI: 1800 <--> 3600 mV at 3600 mV normal
IPU DMFC NORMAL mode: 1(0~1), 5B(4,5), 5F(6,7)
Advanced Linux Sound Architecture Driver Version 1.0.23.
Bluetooth: Core ver 2.15
NET: Registered protocol family 31
Bluetooth: HCI device and connection manager initialized
Bluetooth: HCI socket layer initialized
Switching to clocksource mxc_timer1
NET: Registered protocol family 2
IP route cache hash table entries: 32768 (order: 5, 131072 bytes)
TCP established hash table entries: 131072 (order: 8, 1048576 bytes)
TCP bind hash table entries: 65536 (order: 6, 262144 bytes)
TCP: Hash tables configured (established 131072 bind 65536)
TCP reno registered
UDP hash table entries: 512 (order: 1, 8192 bytes)
UDP-Lite hash table entries: 512 (order: 1, 8192 bytes)
NET: Registered protocol family 1
RPC: Registered udp transport module.
RPC: Registered tcp transport module.
RPC: Registered tcp NFSv4.1 backchannel transport module.
Unpacking initramfs...
Freeing initrd memory: 152K
LPMode driver module loaded
Static Power Management for Freescale i.MX5
PM driver module loaded
sdram autogating driver module loaded
Bus freq driver module loaded
DI0 is primary
mxc_dvfs_core_probe
DVFS driver module loaded
i.MXC CPU frequency driver
DVFS PER driver module loaded
squashfs: version 4.0 (2009/01/31) Phillip Lougher
msgmni has been set to 1696
alg: No test for stdrng (krng)
cryptodev: driver loaded.
io scheduler noop registered
io scheduler deadline registered
io scheduler cfq registered (default)
mxc_ipu mxc_ipu: Channel already disabled 9
mxc_ipu mxc_ipu: Channel already uninitialized 9
Console: switching to colour frame buffer device 100x30
tve: probe of tve.0 failed with error -1
sii9022 1-0039: SII9022: cound not find device
Serial: MXC Internal UART driver
mxcintuart.0: ttymxc0 at MMIO 0x53fbc000 (irq = 31) is a Freescale i.MX
console [ttymxc0] enabled, bootconsole disabled
console [ttymxc0] enabled, bootconsole disabled
mxcintuart.1: ttymxc1 at MMIO 0x53fc0000 (irq = 32) is a Freescale i.MX
mxcintuart.2: ttymxc2 at MMIO 0x5000c000 (irq = 33) is a Freescale i.MX
mxcintuart.3: ttymxc3 at MMIO 0x53ff0000 (irq = 13) is a Freescale i.MX
mxcintuart.4: ttymxc4 at MMIO 0x63f90000 (irq = 86) is a Freescale i.MX
loop: module loaded
ahci: SSS flag set, parallel bus scan disabled
ahci ahci.0: AHCI 0001.0100 32 slots 1 ports 3 Gbps 0x1 impl platform mode
ahci ahci.0: flags: ncq sntf stag pm led clo only pmp pio slum part ccc
scsi0 : ahci
ata1: SATA max UDMA/133 mmio [mem 0x10000000-0x10000fff] port 0x100 irq 28
MXC MTD nand Driver 3.0
vcan: Virtual CAN interface driver
Freescale FlexCAN Driver
FEC Ethernet Driver
fec_enet_mii_bus: probed
ehci_hcd: USB 2.0 'Enhanced' Host Controller (EHCI) Driver
fsl-ehci fsl-ehci.0: Freescale On-Chip EHCI Host Controller
fsl-ehci fsl-ehci.0: new USB bus registered, assigned bus number 1
fsl-ehci fsl-ehci.0: irq 18, io base 0x53f80000
fsl-ehci fsl-ehci.0: USB 2.0 started, EHCI 1.00
hub 1-0:1.0: USB hub found
hub 1-0:1.0: 1 port detected
fsl-ehci fsl-ehci.1: Freescale On-Chip EHCI Host Controller
fsl-ehci fsl-ehci.1: new USB bus registered, assigned bus number 2
ata1: SATA link down (SStatus 0 SControl 300)
fsl-ehci fsl-ehci.1: irq 14, io base 0x53f80200
fsl-ehci fsl-ehci.1: USB 2.0 started, EHCI 1.00
hub 2-0:1.0: USB hub found
hub 2-0:1.0: 1 port detected
Initializing USB Mass Storage driver...
usbcore: registered new interface driver usb-storage
USB Mass Storage support registered.
usbcore: registered new interface driver usbserial
usbserial: USB Serial Driver core
USB Serial support registered for GSM modem (1-port)
usbcore: registered new interface driver option
option: v0.7.2:USB Driver for GSM modems
mice: PS/2 mouse device common for all mice
input: gpio-keys as /devices/platform/gpio-keys/input/input0
MXC keypad loaded
DA9052 TSI Device Driver, v1.0
input: da9052-tsi as /devices/virtual/input/input1
TSI Drv Successfully Inserted da9052-tsi
input: da9052-onkey as /devices/platform/imx-i2c.0/i2c-0/0-0048/da9052-onkey/input/input2
mxc_rtc mxc_rtc.0: rtc core: registered mxc_rtc as rtc0
i2c /dev entries driver
IR NEC protocol handler initialized
IR RC5(x) protocol handler initialized
IR RC6 protocol handler initialized
IR JVC protocol handler initialized
IR Sony protocol handler initialized
Linux video capture interface: v2.00
mxc_v4l2_output mxc_v4l2_output.0: Registered device video0
usbcore: registered new interface driver uvcvideo
USB Video Class driver (v0.1.0)
APM Battery Driver
check mma8450 chip ID
mma8450 0-001c: build time Oct  6 2011 02:19:40
input: mma8450 as /devices/platform/imx-i2c.0/i2c-0/0-001c/input/input3
add mma8450 i2c driver
add mma8451 i2c driver
MXC WatchDog Driver 2.0
MXC Watchdog # 0 Timer: initial timeout 60 sec
Bluetooth: Virtual HCI driver ver 1.3
Bluetooth: HCI UART driver ver 2.2
Bluetooth: HCIATH protocol initialized
Bluetooth: Generic Bluetooth USB driver ver 0.6
usbcore: registered new interface driver btusb
VPU initialized
mxsdhci: MXC Secure Digital Host Controller Interface driver
mxsdhci: MXC SDHCI Controller Driver.
mmc0: SDHCI detect irq 0 irq 1 INTERNAL DMA
mxsdhci: MXC SDHCI Controller Driver.
mmc1: SDHCI detect irq 203 irq 3 INTERNAL DMA
usbcore: registered new interface driver usbhid
usbhid: USB HID core driver
Cirrus Logic CS42888 ALSA SoC Codec Driver
sgtl5000-i2c 1-000a: SGTL5000 revision 17
No device for DAI imx-ssi-1-0
No device for DAI imx-ssi-1-1
No device for DAI imx-ssi-2-0
No device for DAI imx-ssi-2-1
DMA Sound Buffers Allocated:UseIram=1 buf->addr=f8002000 buf->area=e0842000 size=24576
DMA Sound Buffers Allocated:UseIram=1 buf->addr=cf480000 buf->area=fa310000 size=24576
asoc: SGTL5000 <-> imx-ssi-2-0 mapping ok
mmc0: new SDHC card at address f8a3
mmcblk0: mmc0:f8a3 SU04G 3.69 GiB
 mmcblk0: p1
ALSA device list:
 #0: imx-3stack (SGTL5000)
TCP cubic registered
NET: Registered protocol family 17
can: controller area network core (rev 20090105 abi 8)
NET: Registered protocol family 29
can: raw protocol (rev 20090105)
can: broadcast manager protocol (rev 20090105 t)
Bluetooth: L2CAP ver 2.14
Bluetooth: L2CAP socket layer initialized
Bluetooth: SCO (Voice Link) ver 0.6
Bluetooth: SCO socket layer initialized
Bluetooth: RFCOMM TTY layer initialized
Bluetooth: RFCOMM socket layer initialized
Bluetooth: RFCOMM ver 1.11
Bluetooth: BNEP (Ethernet Emulation) ver 1.3
Bluetooth: BNEP filters: protocol multicast
Bluetooth: HIDP (Human Interface Emulation) ver 1.2
VFP support v0.3: implementor 41 architecture 3 part 30 variant c rev 2
regulator_init_complete: incomplete constraints, leaving DA9052_BUCK_MEM on
regulator_init_complete: incomplete constraints, leaving DA9052_BUCK_PRO on
regulator_init_complete: incomplete constraints, leaving DA9052_BUCK_CORE on
regulator_init_complete: incomplete constraints, leaving DA9052_LDO10 on
regulator_init_complete: incomplete constraints, leaving DA9052_LDO8 on
regulator_init_complete: incomplete constraints, leaving DA9052_LDO7 on
regulator_init_complete: incomplete constraints, leaving DA9052_LDO6 on
regulator_init_complete: incomplete constraints, leaving DA9052_LDO4 on
regulator_init_complete: incomplete constraints, leaving DA9052_LDO3 on
regulator_init_complete: incomplete constraints, leaving DA9052_LDO2 on
regulator_init_complete: incomplete constraints, leaving DA9052_LDO1 on
mxc_rtc mxc_rtc.0: setting system clock to 1970-01-01 00:00:00 UTC (0)
eth0: Freescale FEC PHY driver [Generic PHY] (mii_bus:phy_addr=0:00, irq=-1)
IP-Config: Complete:
    device=eth0, addr=192.168.201.33, mask=255.255.255.0, gw=192.168.201.98,
    host=192.168.201.33, domain=, nis-domain=(none),
    bootserver=192.168.201.98, rootserver=192.168.201.98, rootpath=
Freeing init memory: 156K
Checking rootfs signature Success
Starting logging: OK
Starting mdev...
Starting portmap: done
Initializing random number generator... read-only file system detected...done
Starting network...
ip: RTNETLINK answers: File exists
Starting Network Interface Plugging Daemon: eth0.
Starting dropbear sshd: OK
Starting stunnel: Reading configuration from file /etc/stunnel/stunnel.conf
PRNG seeded successfully
stunnel.pem: No such file or directory (2)
OK
Starting NFS statd: done
Starting NFS services: exportfs: could not open /var/lib/nfs/.etab.lock for locking: errno 30 (Read-only file system)
exportfs: can't lock /var/lib/nfs/etab for writing
exportfs: could not open /var/lib/nfs/.xtab.lock for locking: errno 30 (Read-only file system)
exportfs: can't lock /var/lib/nfs/xtab for writing
done
Starting NFS daemon: rpc.nfsd: Unable to access /proc/fs/nfsd errno 2 (No such file or directory).
Please try, as root, 'mount -t nfsd nfsd /proc/fs/nfsd' and then restart rpc.nfsd to correct the problem
done
Starting NFS mountd: done
Starting domain name daemon: namedwarning: `named' uses 32-bit capabilities (legacy support in use)
failed
Welcome to Loco
loco login: 
```

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [ARM Development Boards](http://eLinux.org/Category:ARM_Development_Boards "Category:ARM Development Boards")

# Hammer Board

> From: [eLinux.org](http://eLinux.org/Hammer_Board "http://eLinux.org/Hammer_Board")

# Hammer Board

## Contents

*   1 Hammer Board Specifications
*   2 Interface Options
*   3 Resources
*   4 Hammer Details
*   5 Hammer Board Pinouts
*   6 Related Products
*   7 Hammer Project pages

## Hammer Board Specifications

![Hammer4.jpg](http://eLinux.org/File:Hammer4.jpg)

[TinCanTools Website](http://www.tincantools.com)

The Hammer CPU board from [TinCanTools](http://www.tincantools.com),is based upon Samsung’s S3C2410 ARM920T processor. It gives you the power of an ARM9 processor in an easy to use modular package. The Hammer CPU board fits into a standard 40 pin DIP socket. It is an ideal platform for code development and prototyping in an embedded environment. You can quickly interface to the Hammer using your standard prototyping tools that are based upon 0.1 inch centers.

```
 * 100 MIPS Microprocessor ( CPU ): S3C2410 - Samsung (200 MHz)
   * ARM 920T core with Cache (16K+16K) and MMU
   * Main Memory: 32MB SDRAM (16M x 16 bit, 100MHz)
   * FLASH : 16MB NOR Flash
   * Peripherals available:
         o 2 UART’s (also supports IrDA)
         o 1 I2C
         o 2 SPI’s
         o 2 16-bit Timers/PWM’s
         o 1 8-bit LCD Interface + control signals
         o 1 USB Host Port
         o 1 USB Slave Port
         o 2 ADC’s (10 bit )
         o 4 External Interrupt pins
         o 1 Up to 30 pins of GPIO’s
   * JTAG Interface: 2 x 7 Header – standard ARM JTAG interface
   * Size: 0.75 inches (width) X 2.25 inches (length)
   * Package: Fits a standard 40-pin DIP socket (0.1 inch lead spacing)
   * Power Requirements: +5VDC @ 120 mA (typical) 
```

## Interface Options

I want to use the Hammer with:

*   [Ethernet](http://eLinux.org/Hammer_Ethernet "Hammer Ethernet")
*   [BlueTooth](http://eLinux.org/Hammer_Bluetooth "Hammer Bluetooth")
*   Zigbee
*   [802.11b/g](http://eLinux.org/Hammer_WiFi "Hammer WiFi")
*   [WebCam](http://eLinux.org/Hammer_Webcam "Hammer Webcam")

## Resources

*   [HOWTOs and Tutorials](http://eLinux.org/Hammer_Board_HOWTOS "Hammer Board HOWTOS")
*   [Software](http://eLinux.org/Hammer_Board_Software "Hammer Board Software")
*   [Hardware](http://eLinux.org/Hammer_Board_Hardware "Hammer Board Hardware")
*   [Application Notes](http://eLinux.org/Hammer_Board_Application_Notes "Hammer Board Application Notes")

## Hammer Details

The Hammer comes preloaded with an open source bootloader, Linux 2.6 kernel, and a uClibc/Busybox based root file system. Board schematics, application notes, and source code are also included on the CD. The Hammer Board is a 40 pin DIP modules that can run full standard GNU/Linux.

The [Hammer Kit](http://eLinux.org/Hammer_Kit "Hammer Kit") comes with everything you will need to begin developing for the Hammer Board, and is **strongly recommended** for first time Hammer Board users. All development tools have been created for use with Linux, so you will need a working Linux system to use the Hammer Board and develop applications for it.

![Hammer1.jpg](http://eLinux.org/File:Hammer1.jpg)

![Hammer2.jpg](http://eLinux.org/File:Hammer2.jpg)

![Hammer3.jpg](http://eLinux.org/File:Hammer3.jpg)

## Hammer Board Pinouts

![Hammer-pinouts.jpg](http://eLinux.org/File:Hammer-pinouts.jpg)

Pinout with more explanations and links.

Pinout with more explanations and links.

| Pin number | Main Function | Note | Alt Function | Note |
| 1 | RXD0 | RS232 Receive | GPH3 | GPIO port H bit 3 |
| 2 | TXD0 | RS232 Transmit | GPH2 | GPIO port H bit 2 |
| 3 | IICSDA | I2C SDA [Wikipedia explains I2C](http://en.wikipedia.org/wiki/I2c) | GPE15 | GPIO port E bit 15 |
| 4 | IICSCL | I2C SCL | GPE14 | GPIO port E bit 14 |
| 5 | SPIMISO0 | SPI port 0 MISO [Wikipedia explains SPI](http://en.wikipedia.org/wiki/Spi) | GPE11 | GPIO port E bit 11 |
| 6 | SPIMOSI0 | SPI port 0 MOSI | GPE12 | GPIO port E bit 12 |
| 7 | SPICLK0 | SPI port 0 clock | GPE13 | GPIO port E bit 13 |
| 8 | nSS0 | SPI port 0 select | EINT10 | External Interrupt 10 (Wakeup capable?) |
| 9 | nRESET | CPU reset. |
| 10 | nRTS0 | RS232 RTS (Ready to send) | GPH1 | GPIO port H bit 1 |
| 11 | nCTS0 | RS232 CTS (Clear to send) | GPH0 | GPIO port H bit 0 |
| 12 | TOUT0 | PWM timer 0 out | GPB0 | GPIO port B bit 0 |
| 13 | TOUT2 | PWM timer 2 out | GPB2 | GPIO port B bit 2 |
| 14 | RXD2 | RS232 port 2 receive (Note, Port 1 isn't accessible) | GPH7 | GPIO port H bit 7 |
| 15 | TXD2 | RS232 port 2 transmit | GPH6 | GPIO port H bit 6 |
| 16 | VM | LCD AC bias | GPC4 | GPIO port C bit 4 |
| 17 | VFRAME | LCD Vertical sync | GPC3 | GPIO port C bit 3 |
| 18 | VLINE | LCD Horizontal sync | GPC2 | GPIO port C bit 2 |
| 19 | VCLK | LCD pixel clock | GPC1 | GPIO port C bit 1 |
| 20 | GND | Ground - supply voltage return. |
| 21 | LCD_VD0 | LCD data bit 0 | GPC8 | GPIO port C bit 8 |
| 22 | LCD_VD1 | LCD data bit 1 | GPC9 | GPIO port C bit 9 |
| 23 | LCD_VD2 | LCD data bit 2 | GPC10 | GPIO port C bit 10 |
| 24 | LCD_VD3 | LCD data bit 3 | GPC11 | GPIO port C bit 11 |
| 25 | LCD_VD4 | LCD data bit 4 | GPC12 | GPIO port C bit 12 |
| 26 | LCD_VD5 | LCD data bit 5 | GPC13 | GPIO port C bit 13 |
| 27 | LCD_VD6 | LCD data bit 6 | GPC14 | GPIO port C bit 14 |
| 28 | LCD_VD7 | LCD data bit 7 | GPC15 | GPIO port C bit 15 |
| 29 | EINT11 | External interrupt 11 | nSS 1 | SPI port 1 select |
| 30 | EINT15 | External interrupt 15 | SPICLK1 | SPI port 1 Clock |
| 31 | EINT14 | External interrupt 14 | SPIMOSI1 | SPI port 1 MOSI |
| 32 | EINT13 | External interrupt 13 | SPIMISO1 | SPI port 1 MISO |
| 33 | AIN1 | ADC input 1 |  | (Note - these ADCs are independant, and do not support differential mode) |
| 34 | AIN0 | ADC input 0 |
| 35 | DP1 | USB 1 Slave + |
| 36 | DN1 | USB 1 Slave - |
| 37 | DP0 | USB 0 Host + |
| 38 | DN0 | USB 0 Host - |
| 39 | +3.3VDC | Internal regulator output. Can supply 100mA(?) safely. Overloading this may cause irreparable damage. |
| 40 | +5V | 5V input. |

## Related Products

[Hammer Carrier Board](http://eLinux.org/Hammer_Board_Carrier "Hammer Board Carrier") - the original carrier board for Hammer

[Nail Kit](http://eLinux.org/Nail_Board "Nail Board") - Great development system for Hammer to take where ever you go.

[Hammer-RDP](http://eLinux.org/Hammer_RDP "Hammer RDP") - the Robotics Development Platform

## Hammer Project pages

[Christmas Lights Controller](http://eLinux.org/Xmas_Video "Xmas Video") [Audio Mixer Project](http://eLinux.org/Drink_Mixer "Drink Mixer")

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [TCT-Hammer](http://eLinux.org/Category:TCT-Hammer "Category:TCT-Hammer")
*   [TinCanTools](http://eLinux.org/Category:TinCanTools "Category:TinCanTools")
*   [ARM Development Boards](http://eLinux.org/Category:ARM_Development_Boards "Category:ARM Development Boards")

# Hawkboard

> From: [eLinux.org](http://eLinux.org/Hawkboard "http://eLinux.org/Hawkboard")

# Hawkboard

![Hawk
sticker1.JPG](http://eLinux.org/File:Hawk_sticker1.JPG)

Access Beginners Guide to Hawkboard if you are new to Development on Hawkboard [`elinux.org/Hawkboard/BeginnersGuide`](http://elinux.org/Hawkboard/BeginnersGuide)

## Contents

*   1 Hardware Details
*   2 Software Details
    *   2.1 Tools & Softwares Downloads
        *   2.1.1 Tools From Other Vendors
        *   2.1.2 JTAG emulators
    *   2.2 Misc Tools
    *   2.3 Sources
    *   2.4 Sample Rootfs
*   3 Getting Started
    *   3.1 Command prompts in this guide
*   4 Building & Booting Uboot images from source
    *   4.1 Setting up the Linux Environment
    *   4.2 Compiling u-boot (bootloader)
    *   4.3 Signing u-boot for UART boot
    *   4.4 Signing u-boot for NAND boot
    *   4.5 Booting
        *   4.5.1 Booting u-boot over UART
        *   4.5.2 Procedure to flash u-boot on NAND
        *   4.5.3 Booting u-boot over NAND
*   5 Building & Booting Kernel images from source
    *   5.1 Compiling Linux Kernel
    *   5.2 Booting
        *   5.2.1 Booting Linux Kernel and Mounting RAMDISK
        *   5.2.2 Booting Linux Kernel and Mounting NFS (Network File System)
            *   5.2.2.1 Setting NFS Server
            *   5.2.2.2 Booting Board using NFS
        *   5.2.3 Booting Linux Kernel from USB
        *   5.2.4 Booting Linux Kernel from SATA
        *   5.2.5 Booting Linux Kernel from SD OR MMC
        *   5.2.6 MISC
*   6 Custom RootFS
*   7 Making Use of the C6740 DSP Core
*   8 FAQs
*   9 Common Issues
*   10 Projects Based on HawkBoard
*   11 Live Links
*   12 Guide Links
*   13 Subpages

## Hardware Details

![Hawkboard
hw.jpg](http://eLinux.org/File:Hawkboard_hw.jpg)

*   [**HawkBoard User Manual**](http://hawkboard.googlecode.com/files/Hawkboard_UG_ver1.pdf)
*   [**HawkBoard Schematics**](http://hawkboard.googlecode.com/files/Hawkboard_schematics_v1.pdf)
*   Technical Reference Manual for OMAP L 138 Processor is [Here](http://focus.ti.com/docs/prod/folders/print/omap-l138.html)
*   Applications of OMAP L 138 are [Here](http://wiki.davincidsp.com/index.php/C674x/OMAPL1x_Introductory_Information)

## Software Details

### Tools & Softwares Downloads

*   **[ARM Cross Compiler - For Linux/U-boot](http://www.codesourcery.com/public/gnu_toolchain/arm-none-linux-gnueabi/arm-2009q3-67-arm-none-linux-gnueabi-i686-pc-linux-gnu.tar.bz2)**

*Note:*

1.Systems running "full" Linux, i.e., Linux on CPUs with an MMU. Use this to build both the Linux kernel and applications.

2.New Releases : [`www.codesourcery.com/sgpp/lite/arm/portal/release1039`](http://www.codesourcery.com/sgpp/lite/arm/portal/release1039)

*   **[DSP Cross Compiler -TI's Code Generation Tool (CGT)](http://software-dl.ti.com/dsps/dsps_public_sw/sdo_sb/targetcontent/omap_l138/1_00/latest/index_FDS.html) c674x via option -mv6740**

*   **[TI CCS 4 Plantinum](http://195.148.217.80/Oppilas/TI/setup_CCS_4_Platinum.zip)**

*   **[ARM Cross Compiler - Bare Metal](http://www.codesourcery.com/sgpp/lite/arm/portal/package5353/public/arm-none-eabi/arm-2009q3-68-arm-none-eabi-i686-pc-linux-gnu.tar.bz2)**

*Note:*

1.This is for RTOS systems or "bare metal" systems where no operating system is present. **These toolchains should not be used to build Linux kernels or Linux applications**.

2.New Releases : [`www.codesourcery.com/sgpp/lite/arm/portal/release1033`](http://www.codesourcery.com/sgpp/lite/arm/portal/release1033)

*   **[AIS Generator / UART Host Tool](http://www-s.ti.com/sc/techlit/sprab41.zip) ([Needs .NET Framework](http://download.microsoft.com/download/6/0/f/60fc5854-3cb8-4892-b6db-bd4f42510f28/dotnetfx35.exe))**

#### Tools From Other Vendors

*   [ARM Cross Compiler provided by impactlinux](http://impactlinux.com/fwl/downloads/binaries/cross-compiler-armv5l.tar.bz2)

*   [ARM Native Compiler (to be used directly on Hawkboard) provided by impactlinux](http://impactlinux.com/fwl/downloads/binaries/native-compiler-armv5l.tar.bz2)

*   [ARM Cross Compiler provided by Ridgerun](https://support.ridgerun.com/omapl138sdk/downloads/OMAPL138SDK-835802-Linux-x86-Install.bin)

*   [Fedora Cross Compiler](http://fedoraproject.org/wiki/Architectures/ARM/CrossToolchain)

#### JTAG emulators

*   [Application Note for using CCSv4 & XDS Emulator with Hawkboard](http://www.innovatesolutions.net/whitepapers/app-note-for-using-ccsv4-xds-emulator-with-hawkboard)

### Misc Tools

*   [VirtualBox -To run Linux/Windows simultaneously with Windows/Linux](http://www.virtualbox.org/wiki/Downloads)

*   [Tftp Server](http://tftpd32.jounin.net/download/Tftpd32-3.35-setup.exe)

*   [Teraterm-Tool to Access Serial Console(Alternative to Hyperterminal) + SSH Client](http://www.ayera.com/teraterm/ttpro313.zip)

### Sources

*   [Linux Kernel](http://hawkboard.googlecode.com/files/linux-omapl1_ver1.tar.bz2)
*   [u-boot](http://hawkboard.googlecode.com/files/u-boot-omapl1_v1.tar.bz2)

### Sample Rootfs

1.Ubuntu Jaunty [`hawktool.googlecode.com/files/RootFS_v1.tar.bz2`](http://hawktool.googlecode.com/files/RootFS_v1.tar.bz2) (username/password =hawk/password)

2.Fedora RootFS -[`ftp.linux.org.uk/pub/linux/arm/fedora/rootfs/rootfs-f12.tar.bz2`](http://ftp.linux.org.uk/pub/linux/arm/fedora/rootfs/rootfs-f12.tar.bz2) (username/password =root/fedoraarm)

3.Impactlinux [`impactlinux.com/fwl/downloads/binaries/root-filesystem-armv5l.tar.bz2`](http://impactlinux.com/fwl/downloads/binaries/root-filesystem-armv5l.tar.bz2)

## Getting Started

1.**Powering the Device**: Hawkboard can be powered through USB OTG port(mini USB) or Separate 5V Source. Since the USB port of a PC/laptop or hub are often limited to 500 mA, it is advisable to use a separate power supply of 5VDC that supplies at least 1 A of current.

**Note: It is recommended to use a separate 5VDC Power supply with at least a 1 Amps current rating instead of USB Power for Normal Operation of the Board**

2.**Connecting VGA Monitor**: Once the power supply has been attached, Hawkboard boots to Uboot Bootloader and will show Hawkboard Logo on Screen.

3.**Connecting UART**: To transfer images to Hawkboard and to set other parameters, the UART/serial cable needs to be attached to Hawkboard and PC. A NULL Modem(Crossed Cable i.e 2 and 3 Crossed) is needed for that. Run a terminal session (such as Minicom on Linux or TeraTerm on Windows) on the Host PC and configure it to connect to that serial port with the following characteristics:

Bits per Second: 115200

Data Bits: 8

Parity: None

Stop Bits: 1

Flow Control: None

Transmit delay: 0 msec/char, 10 msec/line

![Hawk Serial
Set.JPG](http://eLinux.org/File:Hawk_Serial_Set.JPG)

After powering the device you should be able to see the following:

![Hawk uboot
msg.JPG](http://eLinux.org/File:Hawk_uboot_msg.JPG) ![Hawk vga
logo.jpg](http://eLinux.org/File:Hawk_vga_logo.jpg)

*   On Hyperterminal (Any other Serial Console) (Left) On VGA Monitor you will see HawkBoard Logo (Right)

### Command prompts in this guide

In this guide, commands are preceded by prompts that indicate the environment where the command is to be typed. For example:

*   **host$**

Indicates command to be typed into the shell window of the host Linux workstation.

*   **Hawkboard.org>**

Indicates commands to be typed into the U-Boot shell in a console window connected to the Hawkboard's serial port.

*   **target$**

Indicates commands to be typed into the Linux shell in the terminal window connected to the Hawkboard's serial port or TTY..

## Building & Booting Uboot images from source

HawkBoard comes with pre-installed U-boot and normally you don't want to Compile and Load U-boot unless you have Bricked the Bootloader or want to change something.So You can Skip this Section and can go Directly to [Compiling Linux Kernel](http://elinux.org/Hawkboard#Compiling_Linux_Kernel) or [Booting](http://elinux.org/Hawkboard#Booting_2) Kernel Section.

### Setting up the Linux Environment

Most of the following instruction for UART booting are meant for Windows environment. For people who only have Linux on their machines the UART booting steps and creating the UART and NAND image from the ELF files seems impossible. But nothing is impossible on Linux. Hence the way out. The following instructions are Fedora specific. If you have a Debian based distro please make the corresponding changes with apt-get.

*   Installing WINE and MONO

```
 host# yum install wine mono* -y 
```

You need to install wine and mono(make sure your mono is v2.4 and above) packages. They will help you install and run the TI provided development tools.

*   Installing the TI development tools

```
 host$ wine AISgen_d800k002_Install_v1.3.exe 
```

These tools are installed in your wine/drive_C directory where-ever that is defined for your particular distribution. For Fedora the steps are as follows, from your home directory.

*   Using the actual tools

```
 host$ cd .wine/drive_c/Program Files/Texas Instruments/AISgen for D800K002/ 
```

*   Running the AISgen tool

```
 host$ mono AISgen_d800k002.exe 
```

*   Running the UartHost tool

```
 host$ cd UartHost
  host$ mono UartHost.exe 
```

*   Setting up your COMPORT

```
 host$ cd .wine/dosdevices
  host# ln -s /dev/ttyS1 com1 
```

Now you can follow all the instructions given below from your Linux machine.

### Compiling u-boot (bootloader)

1.  Issue compile commands with make:

```
 host$ make ARCH=arm CROSS_COMPILE=arm-none-linux-gnueabi- distclean
  host$ make ARCH=arm CROSS_COMPILE=arm-none-linux-gnueabi- omapl_hawkboard_config
  host$ make ARCH=arm CROSS_COMPILE=arm-none-linux-gnueabi- 
```

If you get an error while compiling, see the [FAQ](http://elinux.org/HawkboardFAQ#U-Boot)or [the mailing list thread](http://groups.google.com/group/hawkboard/browse_thread/thread/691955057ce958d0)

### Signing u-boot for UART boot

1.  Copy u-boot (elf) file to the host machine where AIS Generator is installed. Follow the below steps
2.  ![AIS gen
    uart1.JPG](http://eLinux.org/File:AIS_gen_uart1.JPG)
3.  ![AIS gen
    uart2.JPG](http://eLinux.org/File:AIS_gen_uart2.JPG)
4.  ![AIS gen
    uart3.JPG](http://eLinux.org/File:AIS_gen_uart3.JPG)
5.  ![AIS gen
    uart4.JPG](http://eLinux.org/File:AIS_gen_uart4.JPG)

### Signing u-boot for NAND boot

1.  Copy u-boot (elf) file to the host machine where AIS Generator is installed. Follow the below steps
2.  ![AIS gen
    nand1.JPG](http://eLinux.org/File:AIS_gen_nand1.JPG)
3.  Configure PLL0, PLL1, DDR tabs as shown above. The File name to generate remains as in the step above.

### Booting

#### Booting u-boot over UART

*   Power OFF the board
*   Close any previously running terminal programs
*   Connect the UART cable(Null/Cross Cable) to the Host machine.

Following process used on Windows family of Operating System:

*   User can use mono utility with dvflasher.ext program to load u-boot on Linux system.
*   Details To be updated

Following process used on Windows family of Operating System:

*   Configure the Boot Switches as 1-OFF 2-ON 3-OFF 4-ON
*   Start the UART Host Utility, should have been installed with [AIS Generator / UART Host Tool](http://www-s.ti.com/sc/techlit/sprab41.zip)
*   Select the AIS FILE Generated for UART

![UART HOST
BOOT.JPG](http://eLinux.org/File:UART_HOST_BOOT.JPG)

*   Click on the Start button
*   Power UP the Device
*   If you see errors click on stop and press start again and give a board reset.
*   Wait till you all the below messages and COM is closed:

```
 (File IO): Read 414964 bytes from file D:\hawk_release\u-boot_uart_ais.bin.
  (Serial Port): Opening COM1 at 115200 baud...
  (AIS Parse): Read magic word 0x41504954.
  (AIS Parse): Waiting for BOOTME...
  (AIS Parse): Performing Start-Word Sync...
  (AIS Parse): Performing Ping Opcode Sync...
  (AIS Parse): Processing command 0: 0x5853590D.
  (AIS Parse): Performing Opcode Sync...
  (AIS Parse): Executing function...
  (AIS Parse): Processing command 1: 0x5853590D.
  (AIS Parse): Loaded 1512-byte section to address 0xC10E4BEC.
  ...
  ...
  ...
  (AIS Parse): Processing command 15: 0x58535906.
  (AIS Parse): Performing Opcode Sync...
  (AIS Parse): Performing jump and close...
  (AIS Parse): AIS complete. Jump to address 0xC1080000.
  (AIS Parse): Waiting for DONE...
  (AIS Parse): Boot completed successfully.
  (Serial Port): Closing COM1. 
```

*   Now Start any standard UART Terminal and hit enter key, should see the u-boot prompt

#### Procedure to flash u-boot on NAND

After booting the u-boot over UART as mentioned above,

*   On the u-boot prompt in the terminal window
*   Configure the Ethernet server and Client IP addresses, For e.g.

```
 hawkboard.org > setenv serverip 172.24.156.199
  hawkboard.org > setenv ipaddr 172.24.190.58 
```

*   Download the u-boot generated for NAND

```
 hawkboard.org > tftpboot 0xc0700000 u-boot_nand_ais.bin

  TFTP from server 172.24.156.199; our IP address is 172.24.190.58
  Filename 'u-boot_nand_ais.bin'.
  Load address: 0xc0700000
  Loading: #################################################################
           #################
  done
  Bytes transferred = 414988 (6550c hex) 
```

*   Erase NAND Flash

```
 hawkboard.org > nand erase

  NAND erase: device 0 whole chip
  OK 
```

*   Flash the NAND with u-boot

```
 hawkboard.org > nand write.e 0xc0700000 0x20000 0x70000

  NAND write: device 0 offset 0x20000, size 0x70000
  458752 bytes written: OK
  hawkboard.org > 
```

*   Switch off the board
*   Change the DIP Switches for NAND boot 1-ON 2-OFF 3-OFF 4-OFF

#### Booting u-boot over NAND

Flash u-boot into NAND as mentioned above

*   Switch off the board
*   Change the DIP Switches for NAND boot 1-ON 2-OFF 3-OFF 4-OFF
*   Switch on the board

## Building & Booting Kernel images from source

### Compiling Linux Kernel

1.  Issue compile commands with make:

```
 make ARCH=arm CROSS_COMPILE=arm-none-linux-gnueabi- distclean
  make ARCH=arm CROSS_COMPILE=arm-none-linux-gnueabi- omapl138_hawkboard_defconfig
  make ARCH=arm CROSS_COMPILE=arm-none-linux-gnueabi- uImage 
```

If you get the *"mkimage" command not found - U-Boot images will not be built* error,build uboot from the source first and then copy the mkimage binary from ~u-boot-omapl1/tools to a directory in your PATH

### Booting

#### Booting Linux Kernel and Mounting RAMDISK

You should find a kernel and a ramdisk image if you haven't found already. You can download samples from [[1]](http://code.google.com/p/hawkboard/downloads/list) (uImage_v1 & ramdisk_v1.gz)). Then copy these files to your "/tftpboot" directory assuming you will use tftp for transferring files to your board. In order to do so you need to run a tftp server on your system. Under linux a good choice is atfptd, but you can also use others. Typically a linux tftp server exports the directory /tftpboot. Make sure before you continue that your ftp server is running. At the u-boot prompt:

Set ethernet connection:

```
$setenv serverip <PC ipaddress>
$setenv ipaddr <board ipaddress> 
```

\ <pc ipaddressu0005c="" class="calibre16">should be the address of the PC running the tftp server. \ <board ipaaddressu0005c="" class="calibre16">should be an address that is not in use on the same subnet as the tftp server. Transfer files to the board:</board></pc>

```
$tftp c0700000 uImage_v1
$tftp c1180000 ramdisk_v1.gz 
```

If you broke your bootargs previously then:

```
$setenv bootargs "mem=128M console=ttyS2,115200n8 root=/dev/ram0 rw initrd=0xc1180000,4M" 
```

And finally boot the images:

```
$bootm c0700000 
```

The TFTP transferred images can be written to the NAND Flash for future use to perform kernel upgrades and enable booting without network connection.

To do this erase the sections of the NAND containing the kernel and file system and write the images from RAM to the NAND.

```
$nand erase 200000 200000
$nand write.e 0xc0700000 0x200000 0x200000

$nand erase 0x400000 0x300000
$nand write.e 0xc1180000 0x400000 0x300000 
```

The written images can be read back using

```
$nand read.e 0xc0700000 0x200000 0x200000
$nand read.e 0xc1180000 0x400000 0x300000 
```

Set the bootcmd to read these images from NAND automatically and boot:

```
$setenv bootcmd 'nand read.e 0xc0700000 0x200000 0x200000;nand read.e 0xc1180000 0x400000 0x300000;bootm 0xc0700000' 
```

#### Booting Linux Kernel and Mounting NFS (Network File System)

Load the Kernel through NAND Flash or TFTP Method ,Once kernel has been loaded to RAM using tftp c0700000 uImage_v1 or similar Next. Follow following steps to Mount RootFS through NFS.(Ubuntu)

##### Setting NFS Server

1.  Install NFS Server

    host$ sudo apt-get install portmap nfs-kernel-server

2.  Share the Folder containing extracted RootFS (e.g /nfsroot contains RootFS)

Edit /etc/exports and add the shares:

```
/nfsroot <NETWROK_IP><SUBNET_MASK>(rw,sync,no_subtree_check,no_root_squash) 
```

e.g, /nfsroot 192.168.0.0/255.255.255.0(rw,sync,no_subtree_check,no_root_squash)

Assuming your network is is 192.168.0.0

NB:- no_root_squash might be necessary if you are getting sudo erros in Ubuntu Rootfs

3.After setting up /etc/exports, export the shares:

```
 host$ sudo exportfs -ra 
```

restart the nfs-server if required

```
 host$ sudo /etc/init.d/nfs-kernel-server restart 
```

##### Booting Board using NFS

Under Uboot prompt once the Kernel has been loaded through

```
 hawkboard.org> tftp c0700000 uImage_v1 
```

1.Set bootargs

Set boot arguments:

a)If Board uses Static IP

```
hawkboard.org> setenv bootargs 'console=ttyS2,115200n8 noinitrd rw ip=<HawkboardIP>:<server-ip>:<gateway-ip>:<netmask>::eth0: root=/dev/nfs nfsroot=<NFS Server ipaddress>:/nfsroot' 
```

e.g

```
 hawkboard.org> setenv bootargs 'console=ttyS2,115200n8 noinitrd rw ip=192.168.0.125:192.168.0.1:192.168.0.1:255.255.255.0::eth0: root=/dev/nfs nfsroot=<NFS Server ipaddress>:/nfsroot' 
```

where 192.168.0.125 is board IP & 192.168.0.1 is gateway IP& Router IP.

b)DHCP IP Board

```
 hawkboard.org> setenv bootargs "mem=128M console=ttyS2,115200n8 root=/dev/nfs nfsroot=<Server ipaddress>:/nfsroot ip=dhcp" 
```

2.And finally boot the image:

```
 hawkboard.org> bootm c0700000 
```

#### Booting Linux Kernel from USB

This steps work for USB Pendrive connected to Hub or Directly to USB Standard Port and rootfs is Ubuntu jaunty made through rootstock.Should work for other distribution too.

1.  Load uimage through tftp ( as usual)

    setenv serverip <pc ip="" class="calibre16">setenv ipaddr <board ip="" class="calibre16">tftp c0700000 uImage_v1</board></pc>

2.Sent environment variable

```
setenv bootargs console=ttyS2,115200n8 noinitrd root=/dev/sda1 rootwait rw init=/sbin/init 
```

3.bootm

```
bootm c0700000 
```

Here /dev/sda1 is USB Drive with only one ext2 partition and rootfs lying init.

#### Booting Linux Kernel from SATA

Currently the provided u-boot does not allow booting from either SATA. However, it is possible to boot from nand and have the root filesystem loaded from SATA. If you want to do so, you have to figure out the right partition for the root filesystem and add that to your bootargs.

E.g. in u-boot say something like:

```
setenv bootargs mem=128M console=ttyS2,115200n8 root=/dev/sda1 rootwait 
```

Where you replace /dev/sda1 with the name of the device that contains your root filesystem. /dev/sda1 is a good name for sata partition 1 if no usb or sd devices are present. Note that the rootwait argument is needed. It tells the kernel to wait until the disk has settled.

#### Booting Linux Kernel from SD OR MMC

Currently the provided u-boot does not allow direct booting from either SD or MMC However, it is possible to boot from nand and have the root filesystem loaded from SD If you want to do so, you have to figure out the right partition for the root filesystem and add that to your bootargs.

E.g. in u-boot say something like:

```
setenv bootargs console=ttyS2,115200n8 console=tty1 noinitrd root=/dev/mmcblk0p1 rootwait rw 
```

or

```
setenv bootargs console=ttyS2,115200n8 console=tty1 noinitrd root=/dev/mmcblk0p1 rootdelay = 2 rootfstype = ext2 rw 
```

Here p1 in mmcblk0p1 says that Rootfs is present in first partition of SD Card.

#### MISC

1.If you find screen broken, do this before bootm in u-boot, ideally this should go into kernel code

```
mw.l 0x01c14110 0x44442222 1;mw.l 0x01c14114 0x44400000 1;mw.l 0x01c14118 0x04604404 1; 
```

2.For booting android over MMC the bootargs should be

```
setenv bootargs mem=128M console=ttyS2,115200n8 noinitrd root=/dev/mmcblk0p1 rootwait ip=off init=/init androidboot.console=ttyS2 
```

3.You probably want to avoid that you have to retype these commands every time you want to boot. This can be achieved easily by issuing the following commands on the u-boot prompt:

```
setenv serverip <PC ipaddress>
setenv ipaddr <board ipaddress>
setenv bootargs_nfs mem=128M console=ttyS2,115200n8 root=/dev/nfs nfsroot=<PC ipaddress>:/nfsroot ip=dhcp
setenv bootcmd 'setenv bootargs $bootargs_nfs;tftp c0700000 uImage.v1; bootm c0700000'
saveenv 
```

Make sure to use single quotes in the last setenv command.

## Custom RootFS

1.Fedora [`fedoraproject.org/wiki/Architectures/ARM/RfsBuild`](http://fedoraproject.org/wiki/Architectures/ARM/RfsBuild)

2.[`arago-project.org`](http://arago-project.org)

3.Ubuntu Use Rootstock

4.Angstrom uses Openembedded [`www.angstrom-distribution.org/narcissus/`](http://www.angstrom-distribution.org/narcissus/)

## Making Use of the C6740 DSP Core

The C6740 DSP core inside the OMAP-L138 processor is extremely capable, providing fixed-point and full double-precision floating-point operations. Probably the simplest way to get started with the C6740 DSP core on the Hawkboard is the C6Run project. It provides a GCC-like front end for building applications, which, when executed from the Linux command prompt, run transparently on the DSP. See the [C6Run main page on the TI Embedded Processor wiki](http://processors.wiki.ti.com/index.php/C6Run) for more details and to get started.

## FAQs

For HawkBoard frequently asked questions (FAQ) see [community FAQ](http://eLinux.org/HawkboardFAQ "HawkboardFAQ").

## Common Issues

At this stage it appears that the latest (late 2010) batch of boards have serious problems many problems have been discussed on the mailing list regarding failure to boot linux and problems with tftp There has been a hardware fix posted on [www.innovatesolutions.net](http://www.innovatesolutions.net) and discussed [HERE](http://eLinux.org/Hawkboard_problem "Hawkboard problem"). Summary of the fix is either to send the faulty board to distributor who will send them on to innovate alternatively, the fix can also be done by customers without voiding guarantees. The fix is made up by removing two ferrite beads and shortening the pads afterwards. ![Hawkboard as
delivered](http://eLinux.org/File:Late_2010_Batch_Hawkboard_Before.jpg "Hawkboard as delivered")![Hawkboard
after the fix has been
applied](http://eLinux.org/File:Late_2010_Batch_Hawkboard_After.jpg "Hawkboard after the fix has been applied")

## Projects Based on HawkBoard

## Live Links

*   Blog : [`hawkboard.wordpress.com/`](http://hawkboard.wordpress.com/)
*   Portal : [`hawkboard.org`](http://hawkboard.org)
*   Join us : hawkboard on google groups
*   IRC : “#hawkboard” on Freenode
*   IRC logs : [`ibot.rikers.org/%23hawkboard/`](http://ibot.rikers.org/%23hawkboard/)
*   Twitter : [`twitter.com/hawkboard`](http://twitter.com/hawkboard)
*   Wikipedia : [`en.wikipedia.org/wiki/Hawk_Board`](http://en.wikipedia.org/wiki/Hawk_Board)
*   Photos(Flickr): [`www.flickr.com/photos/hawkboard`](http://www.flickr.com/photos/hawkboard)
*   Mails : hawkboard@googlegroups.com
*   Software : code.google.com/p/hawkboard
*   OMAP L 138 : [`focus.ti.com/docs/prod/folders/print/omap-l138.html`](http://focus.ti.com/docs/prod/folders/print/omap-l138.html)
*   Applications : [`wiki.davincidsp.com/index.php/C674x/OMAPL1x_Introductory_Information`](http://wiki.davincidsp.com/index.php/C674x/OMAPL1x_Introductory_Information)
*   More Details : [`wiki.davincidsp.com/index.php/Category:OMAPL1`](http://wiki.davincidsp.com/index.php/Category:OMAPL1)

## Guide Links

*   Ubunty Jaunty on the hawkboard : [`blog.binaerwelt.com/2010/02/ubuntu-on-the-hawkboard/`](http://blog.binaerwelt.com/2010/02/ubuntu-on-the-hawkboard/)
*   Android on the hawkboard : [`labs.embinux.org/index.php/Android_Porting_Guide_to_OMAP-L_138_HawkBoard`](http://labs.embinux.org/index.php/Android_Porting_Guide_to_OMAP-L_138_HawkBoard)

## Subpages

Updated List is here [`elinux.org/Category:Hawkboard`](http://elinux.org/Category:Hawkboard) \<splist

/>

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Linux](http://eLinux.org/Category:Linux "Category:Linux")
*   [OMAP](http://eLinux.org/Category:OMAP "Category:OMAP")
*   [DSP](http://eLinux.org/index.php?title=Category:DSP&action=edit&redlink=1 "Category:DSP (page does not exist)")
*   [Development Boards](http://eLinux.org/Category:Development_Boards "Category:Development Boards")
*   [Hawkboard](http://eLinux.org/Category:Hawkboard "Category:Hawkboard")

# ITSY

> From: [eLinux.org](http://eLinux.org/ITSY "http://eLinux.org/ITSY")

# ITSY

The Itsy pocket computer is a flexible research platform whose primary objective is to enable hardware and software research in pocket computing, including low-power hardware, power management, operating systems, wireless networking, user interfaces, and applications.

Itsy's CPU is a StrongARM SA-1100 processor (developed by Digital Equipment Corporation's Digital Semiconductor division, which became part of Intel in May 1998). Itsy contains 16 megabytes of DRAM and 4 megabytes of Flash memory. The main crystal frequency is 3.6864 MHz which, using the processor's phase-locked loop (PLL), results in a variable CPU core frequency from 59.0 MHz to 206.4 MHz.

[Article on the ITSY](http://www.linuxjournal.com/article/4205)

[Interview with Jim Getty About the ITSY](http://alllinuxdevices.com/news_story.php3?ltsn=2000-08-02-007-03-IN-LF-HH)

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [ARM Development Boards](http://eLinux.org/Category:ARM_Development_Boards "Category:ARM Development Boards")
*   [Historical Development](http://eLinux.org/Category:Historical_Development "Category:Historical Development")

# LART Project

> From: [eLinux.org](http://eLinux.org/LART_Project "http://eLinux.org/LART_Project")

# LART Project

The LART is a small yet powerful embedded computer capable of running Linux. Its performance is around 250 MIPS while consuming less than 1 Watt of power. In a standard configuration it holds 32MB DRAM and 4MB Flash ROM, which is sufficient for a Linux kernel and a sizeable ramdisk image.

Design summary

In 1998, the researchers of the MMC project found they had a need for a small, powerful computer board that could be used in experiments with wireless multimedia. The board would have to be low-power and inexpensive, as the project would need several of them. As no off-the-shelf solution that offered an acceptable compromise could be found, a new design was made. What's on the mainboard?

Here are the LART mainboard specs in short:

```
 * 220 MHz Digital SA-1100 StrongARM CPU
   * 32 Mbyte EDO RAM
   * 4 MB Intel Fast boot block Flash memory
   * Power usage < 1 W
   * Performance > 200 MIPS 
```

The board can run standalone, booting an OS from Flash. The 4 MB Flash is sufficient for a bootloader, a compressed kernel and a compressed ramdisk. The LART accepts an input voltage between 3.5 and 16 V; the on-board DC-DC converters have an efficiency between 90 and 95%.

[LART Project Page](http://www.lartmaker.nl/)

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [ARM Development Boards](http://eLinux.org/Category:ARM_Development_Boards "Category:ARM Development Boards")
*   [Historical Development](http://eLinux.org/Category:Historical_Development "Category:Historical Development")

# Launchpad

> From: [eLinux.org](http://eLinux.org/Launchpad "http://eLinux.org/Launchpad")

# Launchpad

A placeholder page for TI's Launchpad development kit.

![Launchpad-board1.jpg](http://eLinux.org/File:Launchpad-board1.jpg)

## Links

[HOWTO: Launchpad Programming With Linux](http://hackaday.com/2010/08/11/how-to-launchpad-programming-with-linux/)

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Development Boards](http://eLinux.org/Category:Development_Boards "Category:Development Boards")

# LeopardBoard

> From: [eLinux.org](http://eLinux.org/LeopardBoard "http://eLinux.org/LeopardBoard")

# LeopardBoard

The Leopard Board is a full featured, ultra low cost, small form factor, high performance development system which includes TMS320DM355 Processor board and a VGA camera board to provide VGA resolution video capture. The board is manufactured by Leopard Imaging and is available at [[1]](http://shop.leopardimaging.com/category.sc?categoryId=7). A community website gives access to documentation and community forum [leopardboard.org](http://www.leopardboard.org)

## Contents

*   1 Helpful Links
*   2 Hardware
*   3 Distributions
*   4 Production modules

## Helpful Links

*   [LeopardBoard FAQ](http://eLinux.org/LeopardBoard_FAQ "LeopardBoard FAQ")

## Hardware

*   Processor : TMS320DM355 Processor
*   NAND Flash : 2Gb Micron NAND Flash (256MB)
*   DDR2 SDRAM : 1Gb Micron DDR2 SDRAM (128MB)
*   Camera Interface :VGA CMOS Image Sensor by Default, Optional: 1.3M, 2M, 3M and 5 Megapixel CMOS Sensors supported
*   Audio In/Out :AIC3104I Audio chip, Stereo Audio In/Out, 2.5mm Stereo Plug connector
*   JTAG Port : JTAG Debugging Port
*   Serial Port : RS-232 UART Debugging Port, 2.5mm Stereo Plug connector
*   USB 2.0 Port : USB 2.0 HS (Device can be powered by USB port)
*   SD Card Slot : SD/MMC Slot
*   Power Management: TPS65053 Power management chip
*   Power Input : +5V Power Input, 2.1mm I.D. x 5.5mm O.D. x 12mm Female
*   Video Output Port : PAL/NTSC Output
*   Network Interface : 10/100 Ethernet
*   LCD/DVI Interface : LCD/DVI Interface through adapter board
*   Expansion Port (NotPopulated) : SD/MMC, I2C, UART, McBSP, GPIO, 3.3V power supply
*   PCB Board Mechanical : 3” x 2.5” (76.2mm x 63.5mm)

![Leopard
board.jpg](http://eLinux.org/File:Leopard_board.jpg)

## Distributions

*   [RidgeRun Free SDK](http://www.ridgerun.com/downloadcenter.shtml) customized for LeopardBoard. The are [RidgeRun LeopardBoard SDK Hints](http://eLinux.org/RidgeRun_LeopardBoard_SDK_Hints "RidgeRun LeopardBoard SDK Hints") available if you encounter a problem. A supported SDK is also available from RidgeRun that include hardware accelerated GStreamer audio / video support.

## Production modules

*   [Lionboard 368](http://www.lionboard.org) Low cost production ready SODIMM module 100% compatible with Leopardboard. Reduces TTM of video applications reusing preexisting distributions.

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [ARM Development Boards](http://eLinux.org/Category:ARM_Development_Boards "Category:ARM Development Boards")

# Micro2440

> From: [eLinux.org](http://eLinux.org/Micro2440 "http://eLinux.org/Micro2440")

# Micro2440

[Micro2440](http://www.1st-safety.com/arm/micro2440/) overviewFrom Rss feeds Soar so that you can: routing, lookup Subject matter [hide] A singleStamps Module 3 Specs: Seal of approval Unit 3 or more Specifications: SDK-Board Four Choosing the perfectSeal of approval Unit

FriendlyARM Micro 2440 Stamps Portion together with 4 hundred MHz New samsung S3C2440 ARM9 cpu.

[Micro2440](http://www.hycshop.com/micro2440-c-1_9/) Schematics

Standards: Stamp Segment

Dimensions: 63 back button Fifty two millimeter Pc: 600 MHz Samsung S3C2440A ARM920T (utmost freq. 533 MHz) RAM: Sixty-four MB SDRAM, 32 little bit Coach bus Thumb: Sixty-four MB 128 Megabytes 256 Megabytes Versus 1GB NAND Adobe flash and a pair of MB Neither of them Pen along with BIOS Successive, SPI, Universal serial bus, Liquid crystal, CMOS Digital camera Program Analog Knowledge as well as End result Consumer Outputs: 4 times Led lights Enlargement headers (2.Zero millimeter) Debug: Ten green JTAG (3.3 millimeter) OS Assist Home windows CE 5 various as well as Six A linux systemunix 3.Some Google android Specification: SDK-Board

[`www.china-pbx.cn/friendlyarm/Micro2440/`](http://www.china-pbx.cn/friendlyarm/Micro2440/)

[`www.voice-logger.com/arm/Micro2440/`](http://www.voice-logger.com/arm/Micro2440/)

# Mini210

> From: [eLinux.org](http://eLinux.org/Mini210 "http://eLinux.org/Mini210")

# Mini210

[mini210](http://www.hycshop.com/mini210210s-c-1_6/) : Equip Cortex-A8 S5PV210 1Ghz together with 5 " TFT Touchscreen display

Product or service Information and facts

[Mini210](http://www.1st-safety.com/arm/Mini210/) is really a Cortex-A8 high-performance advancement plank. The idea makes use of Samsung S5PV210 for the reason that key brand, jogging in up to 1GHz. PowerVR SGX540 S5PV210 a high-performance incorporated graphics website, help regarding 3D images operate correctly, and large smooth 1080P movie play back.

Mini210 utilize TFT Live view screen 5 " Resistive Touch-screen , 512M DDR2 memory space , 1GB SLC NAND Thumb, SD WiFi segment internal , Group Deb amplifier's WM8960 sound recording chip (can easily primary end result to helplecturer) . Mini210 likewise have miniHDMI HD end result, Browse Two.Zero, front and rear dslr camera, 8x8 matrix keyboard set user interface, assistance low-power life power signal power-saving function .

It is very suitable for establishing high-end MID, Android operating system Pc tablet , etc . Together with the Superboot , Person can easily super easy plus convenient to use just the micro sd card pertaining to replace or maybe use a various methods.

[`www.china-pbx.cn/friendlyarm/Mini210/`](http://www.china-pbx.cn/friendlyarm/Mini210/)

[`www.voice-logger.com/arm/Mini210/`](http://www.voice-logger.com/arm/Mini210/)

# MINI2440v2 developmentboard

> From: [eLinux.org](http://eLinux.org/MINI2440v2_developmentboard "http://eLinux.org/MINI2440v2_developmentboard")

# MINI2440v2 developmentboard

*( This page should probably be merged with [Mini2440](http://eLinux.org/Mini2440 "Mini2440") ? )*

*(Admin: Does the author of this page know anything about wikipedia markup? It doesn't appear so. I've fixed up what I can, but all these pages by Whhenyuan need a lot of cleanups)*

## Contents

*   1 **Development board**
    *   1.1 S3C2440
    *   1.2 S3C6410
*   2 Development Boards with MINI2440v2 with 3.5

## **Development board**

### S3C2440

1.ARM9

*   MINI2440v2
*   SKY2440v2

### S3C6410

2.ARM11

[MINI6410](http://www.hycshop.com/mini6410-c-1_8/)

The S3C2440 includes the following components:

*   separate 16 KB instruction and 16 KB data cache
*   MMU to handle virtual memory management
*   TFT& STN LCD controller
*   NAND flash boot loader, system manager (chip select logic and SDRAM controller)
*   3-ch UART
*   4-ch DMA
*   4-ch timers with PWM
*   I/O ports
*   RTC
*   8-ch 10-bit ADC and touch screen interface
*   camera interface
*   AC97 audiocodec interface
*   IIC-BUS interface
*   IIS-BUS interface
*   USB host, USB device
*   SD host & multimedia card interface
*   2-ch SPI and PLL for clock generation.

## Development Boards with MINI2440v2 with 3.5

**Development Boards with MINI2440V2**

[[1]](http://www.developmentboard.net/index.php/productdetail/Development+board/ARM9/SAMSUNG/S3C2440/MINI2440v2+with+MegaDisplay+3.5/info/1)

**Development Boards with MINI2440V2**

| Product Name | Company Name | Year Introduced | RAM MB | Flash MB | Processor | Source | Download Area |
| [[2]](http://www.developmentboard.net) | 2009 | up to 256 | up to 512 | i.MX27 400MHz + Spartan3a | [[3]](http://www.developmentboard.net/index.php/productdetail/Development+board/ARM9/SAMSUNG/S3C2440/MINI2440v2+with+MegaDisplay+3.5/info/1) | [Developer Site](http://www.developmentboard.net) |

Beside the powerful CPU module, The MINI2440 development board also features:

*   SDRAM
    *   64M SDRAM on board
    *   32 bit data bus
    *   SDRAM clock frequency can reach upto 100MHz
*   Flash Memory
    *   64M Nand Flash on board, nonvolatile
    *   2M Nor Flash on board, nonvolatile
*   LCD control
*   Interfaces and Resources
    *   One 10MM Ethernet RJ-45 interface (DM9000 ethernet chip adopted)
    *   3 serial ports
    *   One USB Host
    *   One USB Slave (B-type interface)
    *   One SD card interface
    *   One stereo audio output interface, one MIC interface
    *   One 10pin (2.0mm space) JTAG interface
    *   4 user LEDs
    *   6 user buttons
    *   One PWM control buzzer
    *   One adjustable resistance, used for AD conversion test
    *   One I2C bus AT24C08 chip, used for I2C bus test
    *   One 20pin (2.0mm space) camera interface
    *   RTC battery on board
    *   Power supply interface, with switch and indicator
*   System clock source
    *   12M passive crystal
*   RTC
    *   Internal real time clock, battery backed
*   Expansion interfaces
    *   One 34pin 2.0mm GPIO interface
    *   One 40pin 2.0mm system bus interface
*   Dimension
    *   100 x 100 (mm)
*   OS supported
    *   Linux 2.6.13
    *   WindowsCE.NET 5.0

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Development Boards](http://eLinux.org/Category:Development_Boards "Category:Development Boards")
*   [NeedsEditing](http://eLinux.org/Category:NeedsEditing "Category:NeedsEditing")

# NaviEngine

> From: [eLinux.org](http://eLinux.org/NaviEngine "http://eLinux.org/NaviEngine")

# NaviEngine

[NEC's](http://www.necel.com/micro/en/) [NaviEngine 1](http://www.nec.co.jp/techrep/en/journal/g07/n04/070409.html) is a SoC product based on [ARM's](http://www.arm.com/) [ARM11MPCore](http://www.arm.com/products/CPUs/ARM11MPCoreMultiprocessor.html). It's for car navigation systems that adopts the SMP (Symmetrical Multicore Processor). The chip delivers high-speed parallel processing performance of up to 1920MIPS at 400 MHz. In addition, NaviEngine1 has 2D and 3D graphics using the POWERVR SGX 535 graphics core by Imagination Technologies. Volume production is scheduled to begin in March 2009.

## Contents

*   1 Hardware
    *   1.1 Chip
    *   1.2 Eval board
*   2 Software
    *   2.1 Operating systems
    *   2.2 QEMU
*   3 Resources

# Hardware

## Chip

A [block diagram](http://www.nec.co.jp/techrep/en/journal/g07/n04/070409-130.html) shows the internals of [NaviEngine1 chip](http://www.fareastgizmos.com/entry_images/1007/04/NEC.jpg).

## Eval board

An [evaluation board](http://www.t-engine4u.com/pictures/mp_t-kernel_ne1_f.png) is available:

*   NEC uPD35001 System-on-chip (ARM11 MPCore x4)
*   DDR2 SDRAM (256MB)
*   NOR Flash memory (64MB)
*   NAND Flash memory (256MB)
*   Three on-chip UARTs
*   LAN9118 Ethernet adapter
*   On-chip LCD controller
*   USBH2.0, ATA6, PCI, CSI, SPDIF, I2S, etc

It's available from [Personal Media Corporation](http://www.personal-media.co.jp/index-e.html) for 312.900 Yen. See [specification page](http://translate.google.de/translate?js=y&prev=_t&hl=en&ie=UTF-8&u=http%3A%2F%2Fwww.t-engine4u.com%2Fproducts%2Fmp_t-kernel_ne1.html&sl=ja&tl=en&history_state0=) and (japanese) [product sheet](http://www.t-engine4u.com/archive/mp_t-kernel_ne1.pdf).

# Software

## Operating systems

The following operating systems are running on NaviEngine:

*   [eT-Kernel Multi-Core Edition](http://edageek.com/2007/10/03/esol-nec/)
*   [Symbian](http://www.flickr.com/photos/james_nash/2964240888/in/photostream/) (on multicore)
*   WinCE
*   Linux (?)

[Demo](http://www.youtube.com/watch?v=2oVwUHbMHsc) running eT-Kernel on one CPU and WinCE on the three other ARM11 cores. Demonstrates graphic performance, too.

## QEMU

QEMU emulation for NaviEngine is part of 2008.05 OpenSolaris. It emulates

*   DDR2 SDRAM (256MB)
*   NOR Flash memory (64MB)
*   Three on-chip UARTs

See OpenSolaris release note section [1.2 Architecture](http://www.opensolaris.org/os/project/osarm/200805/relnotes/) for details and OpenSolaris installation section [6.1 Setup QEMU](http://www.opensolaris.org/os/project/osarm/200805/installation/).

# Resources

*   [NaviEngine 1, System LSI for SMP-Based Car Navigation Systems](http://www.nec.co.jp/techrep/en/journal/g07/n04/070409.pdf)
*   [NaviEngine Multicore Platform and its role in the evolution of car navigation systems](http://www.necel.com/magazine/en/vol_0075/vol_0075.pdf)
*   [K2L MOST starter kit for NaviEngine](http://www.k2l.de/fileadmin/user_upload/downloads/k2l_MOST_Starter_Kit_NEC_new.pdf)

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Development Boards](http://eLinux.org/Category:Development_Boards "Category:Development Boards")

# Opensourcemid

> From: [eLinux.org](http://eLinux.org/Opensourcemid "http://eLinux.org/Opensourcemid")

# Opensourcemid

## Contents

*   1 Introduction
    *   1.1 K7
    *   1.2 K7 mainboard
    *   1.3 Optional module - E380
    *   1.4 Optional module - E300
    *   1.5 Optional module - W338
*   2 Android
    *   2.1 How to update the Android
    *   2.2 How to compile the Android source
    *   2.3 How to use the USB device port as the UART debug port
*   3 WinCE
    *   3.1 How to update the WinCE

# Introduction

OpenSourceMID.org is founded by a group of engineers enthusiastic in modern technologies and open source software development and sponsored by Timll Technic Inc. in China. It is an open community to provide support and discussions for K7 MID or any other open source MID projects through this website.

OpenSourceMID.org, itself, is an Open Source project. This means, first, that we offer not only a product but a process, and second, that we depend upon the contributions of developers and endusers to make that process happen. The easiest way for you to help us out is to join the overall OpenSourceMID.org project by join OpenSourceMID Community.

## K7

![Opensourcemidk7.jpg](http://eLinux.org/File:Opensourcemidk7.jpg)

K7 MID is a low-cost, high-performance handheld Mobile Internet Device featuring Texas Instruments' OMAP3530 ARM Cortex-A8 core processor with, wireless connectivity, touch screen control, GPS navigation systems and integrated power management with battery backup. It can support for both Android and WinCE operating systems and would be a complete solution that addresses all of the user's multimedia and communication needs on a single platform.

K7 schematic: [Click here to download](http://opensourcemid.googlecode.com/files/K7_schematic.pdf) K7 MID operation manual: [Click here to download (English)](http://opensourcemid.googlecode.com/files/K7_MID_Operation_Manual_EN.pdf) [Click here to download (Chinese)](http://www.elinux.org/images/f/f2/K7_Operation_Manual_cn.pdf)

## K7 mainboard

![K7PCB1.jpg](http://eLinux.org/File:K7PCB1.jpg) ![K7PCB.jpg](http://eLinux.org/File:K7PCB.jpg)

| **Number** | **Chip** | **Description** | **Datasheet** |
| 1 | OMAP3530 | The Processor | [File:OMAP3530-datasheet.pdf](http://elinux.org/File:OMAP3530-datasheet.pdf "File:OMAP3530-datasheet.pdf") |
| 2 | MT29C2G48MAKLCJA-6IT | 256MB NAND Flash + 256MB SDRAM | [File:MT29CxGxxMAxxxJA-6IT.pdf](http://elinux.org/File:MT29CxGxxMAxxxJA-6IT.pdf "File:MT29CxGxxMAxxxJA-6IT.pdf") |
| 3 | TPS65930 | Power Management | [File:TPS65930-datasheet.pdf](http://elinux.org/File:TPS65930-datasheet.pdf "File:TPS65930-datasheet.pdf") |
| 4 | GSC3f/LPx | GPS Chip | [File:GSC3f-datasheet.pdf](http://elinux.org/File:GSC3f-datasheet.pdf "File:GSC3f-datasheet.pdf") |
| 5 | USB3320 | High Speed USB Transceiver | [File:USB3320-datasheet.pdf](http://elinux.org/File:USB3320-datasheet.pdf "File:USB3320-datasheet.pdf") |
| 6 | FE1.1 | USB 2.0 High Speed 4-Port Hub Controller | [File:FE11-datasheet.pdf](http://elinux.org/File:FE11-datasheet.pdf "File:FE11-datasheet.pdf") |
| 7 | APW7093 | Step Down DC/DC Regulator | [File:APW7093-datasheet.pdf](http://elinux.org/File:APW7093-datasheet.pdf "File:APW7093-datasheet.pdf") |
| 8 | TPS61032 | Synchronous Boost Converter | [File:TPS61032-datasheet.pdf](http://elinux.org/File:TPS61032-datasheet.pdf "File:TPS61032-datasheet.pdf") |
| 9 | BQ24070 | Single-Chip Charge and System Power-Path Management IC | [File:BQ24070-datasheet.pdf](http://elinux.org/File:BQ24070-datasheet.pdf "File:BQ24070-datasheet.pdf") |
| 10 | MMA8450Q | 3-Axis, 8-bit/12-bit Digital Accelerometer | [File:MMA8450Q.pdf](http://elinux.org/File:MMA8450Q.pdf "File:MMA8450Q.pdf") |
| 11 | 74ALVC164245 | 16-bit Dual Supply Translating Transciever | [File:74ALVC164245-datasheet.pdf](http://elinux.org/File:74ALVC164245-datasheet.pdf "File:74ALVC164245-datasheet.pdf") |
| 12 | WG7310 | WLAN+BT+FM Module | [File:WG7310-datasheet.pdf](http://elinux.org/File:WG7310-datasheet.pdf "File:WG7310-datasheet.pdf") |
| 13 | TSC2046 | Touch Screen Controller | [File:TSC2046-datasheet.pdf](http://elinux.org/File:TSC2046-datasheet.pdf "File:TSC2046-datasheet.pdf") |
| 14 | LM4890 | 1 Watt Audio Power Amplifier | [File:LM4890-datasheet.pdf](http://elinux.org/File:LM4890-datasheet.pdf "File:LM4890-datasheet.pdf") |

## Optional module - E380

![OpentionalmoduleE380.JPG](http://eLinux.org/File:OpentionalmoduleE380.JPG)

E380 is a Mini PCI-E 3G wireless communication card based on EV-DO Rev.A standard，it is applicable to CDMA 2000 1x and EVDO network，it supports CDMA 800MHz and 1900MHz frequency band，it can achieve global roaming.

Product features: Size: 51mm(L)*30mm(W)*2.3mm(T) Working voltage: 3.3 - 3.8V DC Dual-antenna interface, support diversity antenna Support CDMA 2000 1x ，EV-DO Rev.0，EV-DO Rev.A Support CDMA 800/S1900 MHz

Performance parameters: Maximum output power: (Class III) BAND CLASS 0 (800/1900MHz)：+23dBm Minimum controlled output power: \<-50dBm Sensitivity: \<-104dBm (FER≤0.5％) Spurious maximum output power: 900kHz: \<-42dBc/30kHz 1.98MHz: \<-54dBc/30kHz Support high-speed data services CDMA 1x UL：153.6kbit/s(Peak) DL：153.6kbit/s(Peak) EVDO Rev.0 UL：153.6kbit/s(Peak) DL：2.4Mbit/s(Peak) EVDO Rev.A UL：1.8Mbit/s(Peak) DL：3.1Mbit/s(Peak)

Main functions: Support the China Telecom standard AT command set Support the connection speed and traffic statistics Support OTA function Fast-connect Support 8K EVRC Voice Code Embedded 3G wireless communication protocol stack

## Optional module - E300

![OptionalmoduleE300.jpg](http://eLinux.org/File:OptionalmoduleE300.jpg)

E300 is a CDMA2000 Internet card using USB port.

Product features: Size: 81*25.4*12mm Weight: 25.5g Dual-antenna interface, support diversity antenna Support CDMA 2000 1x ，EV-DO Rev.0，EV-DO Rev.A Support CDMA 800/1900 MHz

Performance parameters: CDMA 1x UL：153.6kbit/s(Peak) DL：153.6kbit/s(Peak) EVDO Rev.0 UL：153.6kbit/s(Peak) DL：2.4Mbit/s(Peak) EVDO Rev.A UL：1.8Mbit/s(Peak) DL：3.1Mbit/s(Peak)

Main functions: Support Micro-SD card(up to 16GB) USB 2.0 high-speed transmission

Environmental parameter: Working temperature: -20~55℃ Storage temperature: -30~80℃

## Optional module - W338

![OpentionalmoduleW338.JPG](http://eLinux.org/File:OpentionalmoduleW338.JPG)

W338 is a HSDPA Internet card using USB port.

Product features: Size: 87.9mm(L)*27mm(W)*12.05mm(T) Weight: 23g Chipset: Qualcomm MSM6280

Performance parameters: 3G frequency band: UMTS 2100MHz 2G frequency band: GSM/GPRS/EDGE 850/900/1800/1900 MHz

Main functions: Support Micro-SD card(up to 8GB)、USIM card management USB 2.0 high-speed transmission Single color LED can display a variety of state: real-time network state, working mode, error warning.

Environmental parameter: Working temperature: -20~60℃ Storage temperature: -30~85℃ Humidity≤93% Shake: 15g(Peak), 10~500Hz

# Android

## How to update the Android

1.Please backup your TF data.

2 Use [HP USB Disk Storage Format Tool(Click here to download)](http://www.embedinfo.com/english/download/SP27213.exe) to format TF card.

3.Download the system image files from your backup data or website [OpensourceMID](http://www.opensourcemid.org).

![How to flash
android2.JPG](http://eLinux.org/File:How_to_flash_android2.JPG)

4.You should insert the TF card before K7 is turned on.

![How to flash
android1.JPG](http://eLinux.org/File:How_to_flash_android1.JPG)

5.Connect the 5V power supply, press the **Power key** and **Down key**, the LCD will display the interface below:

![How to flash
android3.JPG](http://eLinux.org/File:How_to_flash_android3.JPG)

Press the enter key to select the "update system", the system updating will start.

6.Select the "exit", the system will reboot.

## How to compile the Android source

Please download the pdf from [K7_Android_Development_Manual](http://opensourcemid.googlecode.com/files/K7_Android_Development_Manual_101103.pdf), you can find the details on the pdf. Chinese version pdf：[Click here to download](http://opensourcemid.googlecode.com/files/K7_Android%E5%BC%80%E5%8F%91%E6%89%8B%E5%86%8C_101103.pdf).

[Opensourcemid Googlecode](http://code.google.com/p/opensourcemid/downloads/list)

## How to use the USB device port as the UART debug port

1.  Download the USB driver for Windows ["Littleton USB Driver for Windows.rar"](http://opensourcemid.googlecode.com/files/Littleton_USB_Driver_for_Windows.rar) and extract it.

    1.  Connect K7 to your computer's USB port. Windows will detect the device and launch the Found New Hardware wizard. Vista/7 users need to cancel the automatic driver update.
    2.  Select "Locate and install driver software."
    3.  Select "Browse my computer for driver software."
    4.  Click "Browse..." and locate the folder where you extracted the driver. As long as you specified the exact location of the installation package, you may leave "Include subfolders" checked or unchecked—it doesn't matter.
    5.  Click "Next." Vista/7 may prompt you to confirm the privilege elevation required for driver installation. Confirm it. The driver will be installed.
    6.  Download the Android SDK for Windows ["android-sdk_r07-windows.zip"](http://dl.google.com/android/android-sdk_r07-windows.zip) and extract it.
    7.  Run the cmd in Windows.
    8.  Enter the commands below:

        D: cd D:\android-sdk-windows\tools adb.exe shell

Now the USB device port is working as the UART debug port. You can install applications from computer. Enter the command below:

```
 adb.exe install D:\AdobeReaderv10.0.0.apk 
```

# WinCE

## How to update the WinCE

1.Please backup your TF data.

2.Use [HP USB Disk Storage Format Tool(Click here to download)](http://www.embedinfo.com/english/download/SP27213.exe) to format TF card.

3.Copy the following files in the backup data[\wince_6_R3\image] to the root directory of the TF card.

```
 MLO
 EBOOTNAND.nb0
 NK.bin
 XLDRNAND.nb0 
```

Then change the EBOOTNAND.nb0 name to EBOOTSD.nb0 in the TF card.

4.Insert the TF card to K7 TF slot before power on.

![K7 wince4.jpg](http://eLinux.org/File:K7_wince4.jpg)

1.  long press Power Button and Esc Button, system will enter the update menu. ![K7 wince5.jpg](http://eLinux.org/File:K7_wince5.jpg)

    6.Follow the instruction, and long press Esc Button, system will update automatically.

    7.When finish updating, system will boot automatically.

# OSK

> From: [eLinux.org](http://eLinux.org/OSK "http://eLinux.org/OSK")

# OSK

## Contents

*   1 OMAP 5912 Starter Kit
*   2 LCD Modules
    *   2.1 Q-VGA from Mistral
    *   2.2 Aditec Graphic LCD Module(AGLM)
*   3 Files
*   4 Links
*   5 Hardware Features
*   6 Software Features
*   7 What's Included
*   8 Flash Recovery Utility
*   9 HOWTOs and FAQs
*   10 TODO list

## OMAP 5912 Starter Kit

![Osk.jpg](http://eLinux.org/File:Osk.jpg) ![Osk-back.jpg](http://eLinux.org/File:Osk-back.jpg)

[OMAP5912 Starter Kit](http://www.spectrumdigital.com/cgi/catalog.cgi?show_product=701875) is a development board available from [Spectrum Digital](http://eLinux.org/Spectrum_Digital "Spectrum Digital") for $US295\. It does not include a display but there is a Q-VGA LCD Module (below) and a [Wire Wrap Prototyping Module](http://www.spectrumdigital.com/cgi/catalog.cgi?show_product=701837)

## LCD Modules

### Q-VGA from Mistral

![Qvga.jpg](http://eLinux.org/File:Qvga.jpg) ![Qvga-back.jpg](http://eLinux.org/File:Qvga-back.jpg)

Mistral Software [Q-VGA LCD Module](http://www.mistralsoftware.com/html/product/omap_products/products-omap5912_starterkit.php) for OMAP5912 Starter Kit.

Note: a [hardware modification](http://eLinux.org/OSK_Mistral_wakeup_button_mod "OSK Mistral wakeup button mod") is required to use the wakeup button.

### Aditec Graphic LCD Module(AGLM)

Aditec Graphic [LCD Module](http://www.aditec.co.kr/ADITEC/e-html/product-3.htm) (AGLM)

From the website:

*   CMOS Sensor Input, LCD Output
*   Touch Screen, Navigation Switch
*   Camera Input(2 Channel), TV Output

## Files

The Angstrom distribution provides a replacement kernel and root file system for the OSK, based on the 2.6 kernel.

[`www.angstrom-distribution.org/releases/2007.12/images/omap5912osk/`](http://www.angstrom-distribution.org/releases/2007.12/images/omap5912osk/)

Instructions for flashing these files:

[`ossie.wireless.vt.edu/trac/wiki/OSKNotes`](http://ossie.wireless.vt.edu/trac/wiki/OSKNotes)

Please report bugs to: [`bugs.openembedded.org/`](http://bugs.openembedded.org/) and include omap5912osk in the bug report.

Contact philip at balister dot org with questions.

## Links

*   [`www.ti.com/omap5912osk`](http://www.ti.com/omap5912osk)
    *   [purchase](http://www.ti-estore.com/Merchant2/merchant.mvc?Screen=PROD&Product_Code=TMDXOSK5912) from TI for $US295
    *   [Purchase](http://www.spectrumdigital.com/product_info.php?cPath=27&products_id=39) from Spectrum Digital for $US295
    *   [Wire Wrap Prototyping Module](http://www.spectrumdigital.com/product_info.php?cPath=33_78&products_id=98)
        *   for $US99
    *   [USB gender-bender](http://www.microcenter.com/single_product_results.phtml?product_id=0151901)
        *   get one of these to use the USB client mode, or a different nonstandard part: a USB A-to-A cable
    *   [Q-VGA Module](http://mistralsoftware.com/html/product/omap_products/products-omap5912_starterkit.php) from [Mistral Software](http://mistralsoftware.com/) - for $US799
*   [`omap.spectrumdigital.com/`](http://omap.spectrumdigital.com/)
*   [`focus.ti.com/docs/general/splashdsp.jhtml?&path=templatedata/cm/splashdsp/data/linux_com_downloads`](http://focus.ti.com/docs/general/splashdsp.jhtml?&path=templatedata/cm/splashdsp/data/linux_com_downloads)
*   [MontaVista Linux Preview Kit](http://www.mvista.com/previewkit/) - sign up and download (Linux 2.4)
*   [TI's OMAP Linux website](http://linux.omap.com) has goodies including:
    *   [2.6.8-rc3_080804.tar.bz2](http://linux.omap.com/pub/kernel/osk/2.6.8-rc3_080804.tar.bz2)
        *   a relatively old snapshot of the 2.6 OMAP kernel (warning: ~150MB download)
    *   [u-boot](http://linux.omap.com/pub/bootloader/osk/) binaries and source - note that old versions use the Innovator-1510 board id, but U-Boot 1.1.2 should is used with 2.6
    *   [rootfsosk.tar.bz2](http://linux.omap.com/pub/filesystem/rootfsosk.tar.bz2)
    *   [toolchain](http://linux.omap.com/pub/toolchain/)
    *   [omap5912osk_2.6.pdf](http://linux.omap.com/pub/documentation/osk/omap5912osk_2.6.pdf)
        *   How to Build Linux for the OMAP5912 Processor
*   For [current code](http://source.mvista.com/git/gitweb.cgi?p=linux-omap-2.6.git;a=log) (2.6.13-rc1-omap1 at this edit) install GIT and run the following command:

    *   *   `git clone git://source.mvista.com/git/linux-omap-2.6.git`
            *   (This might take a while, the tree is big)
        *   or just get [OMAP-Linux patches](http://www.muru.com/linux/omap) less current than the linux-omap GIT tree, against various older [`kernel.org`](http://kernel.org) kernels
        *   you might be able to use kernel.org kernels directly, but some important drivers haven't yet made it upstream
*   Use [buildroot](http://buildroot.uclibc.org/) to quickly make a toolchain and rootfs

*   [`oskfordummies.hp.infoseek.co.jp/`](http://oskfordummies.hp.infoseek.co.jp/)
    *   helpful OSK info
*   [`oskfordummies.hp.infoseek.co.jp/howto/audio.html`](http://oskfordummies.hp.infoseek.co.jp/howto/audio.html)
    *   audio help
*   `#OL` on irc.freenode.net is an omap-linux dedicated IRC channel, and has some OSK developers. See [`irchelp.org/`](http://irchelp.org/) for information on IRC.

## Hardware Features

*   Texas Instruments TMS320C55xx DSP core operating at 192 Mhz.
*   ARM926EJ-S core operating at 192 Mhz.
*   TLV320AIC23 codec with mic-in, line-in, and headphone jacks
*   32 Mbyte mobile DDR RAM
*   32 Mbyte on board NOR Flash ROM
*   4 Expansion connectors (bottom side)
    *   Compatible with Mistral's Q-VGA LCD/touchscreen card
    *   Compatible with Spectrum Digital's OSK wire Wrap Prototype Card
*   RS-232 serial port
*   10 MBPS Ethernet port
*   USB host port (usable as peripheral, with nonstandard cabling)
*   CompactFlash socket (type I or II), for storage ONLY (no WLAN etc)
*   On board IEEE 1149.1 JTAG connector for optional emulation
*   +5 Volt operation, power supply included
*   Size: 5.55" x 3.54" (141 x 90 mm), 0.062 thick, 8 layers

## Software Features

*   Compatible with [Monta Vista](http://eLinux.org/Monta_Vista "Monta Vista") Linux for OSK5912
*   Compatible with OMAP Code Composer Studio from Texas Instruments
*   Runs Linux 2.6 quite nicely
    *   Current development is focused on the 2.6 kernels
    *   Note that you should first install u-boot-1.1.2.

## What's Included

*   OMAP5912 OSK board
*   [Monta Vista](http://eLinux.org/Monta_Vista "Monta Vista") Linux 2.4 for OMAP5912 OSK
*   Documentation CD
*   RS-232 cable
*   Ethernet cable
*   Audio cable
*   AC Power cord(s) and Power supply
*   Quick Start Guide

## Flash Recovery Utility

*   (free as in water) [Flash Recovery Utility](http://eLinux.org/Flash_Recovery_Utility "Flash Recovery Utility") for the OSK5912 allows reflashing over USB - works with revision C boards
*   (free as in speech, GPL) OMAP Flash Loader - link on bottom of [Flash Recovery Utility](http://eLinux.org/Flash_Recovery_Utility "Flash Recovery Utility")
*   ($79/$89 USD, supported product) [FlashRecoveryUtility](http://www.softwaredesignsolutions.com/) for OSK5912 from SDS Inc - works with revision C and D boards

## HOWTOs and FAQs

This section tries to summarize various HOWTOs and FAQs existing for OMAP Linux and/or OSK.

*   [General OMAP Linux readme](http://source.mvista.com/git/gitweb.cgi?p=linux-omap-2.6.git;a=blob_plain;h=f8ffb68e8588c5ad43a72c3534c5f963aa7c91af;f=Documentation/arm/OMAP/README), also available in each kernel tree in Documentation/arm/OMAP/README
*   [OMAP GPIO usage HOWTO](http://source.mvista.com/git/gitweb.cgi?p=linux-omap-2.6.git;a=blob;h=fd6363cd7f54d292d51428f3d12f2e5d2fce00b1;hb=1eee43329dbdbf86a1af43fa18ce563bced4e6fb;f=Documentation/arm/OMAP/gpio), also available in each kernel tree in Documentation/arm/OMAP/gpio
*   [Collection of OSK HOWTOs](http://oskfordummies.hp.infoseek.co.jp/howto.html)
*   [UBoot for OSK](http://tree.celinuxforum.org/CelfPubWiki/OSK_2fuboot)
*   [Spectrum digital OSK5912 FAQ](http://omap.spectrumdigital.com/osk5912/osk5912_faq.html)
*   [OSK5912 Audio driver](http://oskfordummies.hp.infoseek.co.jp/howto/audio.html)
*   [USB Camera HOWTO](http://oskfordummies.hp.infoseek.co.jp/howto/usb_camera.html)
*   [X on OMAP tutorial](http://marc.info/?l=linux-omap&m=119634411325523&w=2)
*   [OSK for dummies](http://oskfordummies.hp.infoseek.co.jp/)
*   [Building Linux for the Innovator Development Kit for OMAP Platform](http://focus.ti.com/docs/apps/catalog/resources/appnoteabstract.jhtml?abstractName=swpa011)
*   [Building Linux for the OMAP5912 OSK](http://linux.omap.com/pub/documentation/osk/omap5912osk_2.6.pdf)
*   [OSK5912 Newbie Guide](http://www.capgo.com/Resources/SoftwareDev/osk-newbie-guide.pdf)
*   [Readme GIT for OMAP](http://www.muru.com/linux/omap/README_OMAP_GIT)
*   [Submitting OMAP patches](http://www.muru.com/linux/omap/README_OMAP_PATCHES)
*   [Linux OMAP Open Source Mailing List](http://vger.kernel.org/vger-lists.html#linux-omap), the searchable archive is available at [`marc.info/?l=linux-omap`](http://marc.info/?l=linux-omap).
*   [LCD output from decompressor](http://marc.info/?l=linux-omap&m=119634447930300&w=2): If you care about the first impression your kernel makes :-) , or your device has no serial ports, you might want to have the decompressor output its messages through LCD, like on a VGA.
*   [Flash u-boot using USB OTG on H3](http://marc.info/?l=linux-omap&m=119634448730363&w=2) (sorry, not OSK, but H3 related ;) )
*   Suspend To Disk For ARM
*   Execute kernel in place (XIP) from flash Kernel XIP

## TODO list

*   Flash Recovery Utility (FRU) available above is uses an undocumented usb interface and is only for windows
    *   Zach Welch wants the protocol specs so a scriptable version can be created for Linux
    *   GPL'd OMAP Flash Loader listed above duplicates the protocol, but does not document it.
*   u-boot sources with correct arch number (515 as listed on [`www.arm.linux.org.uk/developer/machines/`](http://www.arm.linux.org.uk/developer/machines/)) should be available from [`u-boot.sourceforge.net`](http://u-boot.sourceforge.net); or use u-boot 1.1.1 with [Media:u-boot-1.1.1-osk.diff](http://eLinux.org/images/f/f5/U-boot-1.1.1-osk.diff "U-boot-1.1.1-osk.diff")
*   [OE](http://openembedded.org/) should build complete flash image
*   [uClibc](http://uClibc.org/) rootfs should be available
*   find/post patch info for 2.4 (2.6 is listed above)
*   [Tim Riker](http://eLinux.org/User:TimRiker "User:TimRiker") thinks it would be nice to have a uclibc/tuxscreen style buildroot too. ;))

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Development Boards](http://eLinux.org/Category:Development_Boards "Category:Development Boards")
*   [OMAP](http://eLinux.org/Category:OMAP "Category:OMAP")

# PandaBoard

> From: [eLinux.org](http://eLinux.org/PandaBoard "http://eLinux.org/PandaBoard")

# PandaBoard

The [PandaBoard](http://www.pandaboard.org) is an [OMAP4430](http://eLinux.org/OMAP4430 "OMAP4430") ([Cortex](http://eLinux.org/Cortex "Cortex")-A9) based low cost development platform.

## Contents

*   1 Hardware
*   2 Availability
    *   2.1 Rev A3
    *   2.2 Rev A1/A2
    *   2.3 Rev EA1/EA2
    *   2.4 Rev ES
*   3 Accessories
*   4 Recommended Reading Material
*   5 How To's
    *   5.1 Older How To's
*   6 Community

# Hardware

*   OMAP4 (Cortex-A9) CPU based open development platform.
    *   OMAP4430 Application processor
    *   1GB low-power DDR2
    *   Display HDMI v1.3 Connector (Type A) to drive HD displays, DVI-D Connector (can drive a 2nd display, simultaneous display; requires HDMI to DVI-D adapter), LCD expansion header
    *   3.5" audio in/out and HDMI Audio out
    *   Full size SD/MMC card
    *   Built in 802.11 & Bluetooth v2.1+EDR
    *   Onboard 10/100 Ethernet
    *   Expansion: 1xUSB OTG, 2xUSB HS host ports, General purpose expansion header (I2C, GPMC, USB, MMC, DSS, ETM)
    *   JTAG, UART/RS-232, 2 status LEDs, 1GPIO button

More details can be found [here](http://pandaboard.org/content/platform)

*   PandaBoard EA1 Front

![PandaBoard
front.png](http://eLinux.org/File:PandaBoard_front.png)

A hi resolution picture of the PandaBoard EA1 front is available here: [`elinux.org/images/d/d4/Panda_front.jpg`](http://elinux.org/images/d/d4/Panda_front.jpg)

*   PandaBoard EA1 Back

![Panda
back.jpg](http://eLinux.org/File:Panda_back.jpg)

# Availability

PandaBoard are in production and can be ordered from [Worldwide distributors](http://pandaboard.org/content/buy). You can also easily identify the board you have using [Board revision id](http://omappedia.org/wiki/PandaBoard_Revisions)

## Rev A3

Latest version of the board.

## Rev A1/A2

[Details](http://omappedia.org/wiki/PandaBoard_Revisions#Rev_A2)

## Rev EA1/EA2

These were limited number of 'Early Adopter' boards that built prior to production versions. [more details](http://omappedia.org/wiki/PandaBoard_Revisions#Rev_EA1)

## Rev ES

There is now a [PandaBoard-ES](http://pandaboard.org/content/pandaboard-es) which includes an OMAP 4460 at up to 1.2GHz. Several important differences make it important (at the present time) that the MLO/u-boot/kernel be specifically crafted for the 4460\. The thermal management is not in the mainline 4430 code as yet and could cause unwanted thermal problems. So BEWARE of running any code built for the non -ES PandaBoard on the -ES model.

# Accessories

*   [Bamboo Board](http://eLinux.org/Panda_Bamboo "Panda Bamboo")
*   [Trainer Board](http://eLinux.org/BeagleBoard_Trainer "BeagleBoard Trainer")
*   [Acrylic case](https://specialcomp.com/pandaboard/order.htm)
*   [10" LCD LVDS plug-and-play bundle with capacitance touchscreen and ambient light sensor](http://bb-lvds.blogspot.com)
*   ![](http://eLinux.org/File:Beadaframe.jpg) BeadaFrame [BeadaFrame](http://www.nxelec.com/products/hmi/beadaframe-pandaboard) 7" LCD display kit
    *   7" 800x480 TFT LCD screen
    *   PWM Backlight control
    *   Resistive touch panel
    *   RTC time keeper
    *   Plastic frame

*   ![](http://eLinux.org/File:IM-001a-kit1.jpg) Inti Media for Pandaboard [Inti Media](http://www.inti-innovations.co.uk/products/inti-media) an expansion board with 10" LCD - watch in action [here (multipoint capacitive touch screen)](http://www.youtube.com/watch?v=L9IN68DeEDQ) or [here (resistive touch screen)](http://www.youtube.com/watch?v=f5n0lesLyRQ)
    *   10.1 WXGA LCD with multipoint project capacitive touch panel
    *   10.1 WSVGA LCD with resistive touch panel
    *   4 additional USB ports
    *   5 user controlled LEDs
    *   5 user controlled push buttons
    *   expansion ports with 3V3 I2C, SPI, Serial

# Recommended Reading Material

*   [Embedded_Linux_System_Design_and_Development](http://eLinux.org/Embedded_Linux_System_Design_and_Development "Embedded Linux System Design and Development")
*   [Embedded_linux_primer](http://eLinux.org/Embedded_linux_primer "Embedded linux primer")
*   [Building_Embedded_Linux_Systems](http://eLinux.org/Building_Embedded_Linux_Systems "Building Embedded Linux Systems")
*   [Essential_Linux_Device_Drivers](http://eLinux.org/Essential_Linux_Device_Drivers "Essential Linux Device Drivers")
*   [Linux_Device_Drivers](http://eLinux.org/Linux_Device_Drivers "Linux Device Drivers")

# How To's

*   [Build SDR for Pandaboard](http://eLinux.org/Panda_How_to_build_SDR "Panda How to build SDR")
*   [Add a GPIO Button](http://eLinux.org/PandaBoard_Button "PandaBoard Button")
*   [How to build MLO and u-boot](http://eLinux.org/Panda_How_to_MLO_%26_u-boot "Panda How to MLO & u-boot") for the PandaBoard **-->> Updated 7/23/2011**
*   [How to build Barebox](http://eLinux.org/Panda_How_to_Barebox "Panda How to Barebox") for the PandaBoard **-->> Updated 11/12/2011**
*   [How to build u-boot and SPL](http://eLinux.org/PandaBoard_ES_uboot_howto "PandaBoard ES uboot howto") for PandaBoard and PandaBoard ES **-->> Updated 12/27/2011**
*   [How to build 3.2 kernel](http://eLinux.org/Panda_How_to_kernel_3_2_rel "Panda How to kernel 3 2 rel") for the PandaBoard **-->> Updated 2/18/2012**
*   [How to build 3.3-rcx kernel](http://eLinux.org/Panda_How_to_kernel_3_3_rcx "Panda How to kernel 3 3 rcx") for the PandaBoard **-->> Updated 2/18/2012**
*   [How to build 3.3 kernel](http://eLinux.org/Panda_How_to_kernel_3_3_rel "Panda How to kernel 3 3 rel") for the PandaBoard **-->> Updated 3/19/2012**
*   [How to build 3.4 kernel](http://eLinux.org/Panda_How_to_kernel_3_4_rel "Panda How to kernel 3 4 rel") for the PandaBoard **-->> NEW 6/3/2012**
*   [How to build 3.5-rcx kernel](http://eLinux.org/Panda_How_to_kernel_3_5_rcx "Panda How to kernel 3 5 rcx") for the PandaBoard **-->> Updated 7/16/2012**
*   [How to add two additional USB connections](http://eLinux.org/Panda_How_to_add_2_USBs "Panda How to add 2 USBs") to the PandaBoard
*   [How to add a power switch](http://eLinux.org/Panda_How_to_add_Power_Switch "Panda How to add Power Switch") to the PandaBoard **-->> WIP**
*   [PandaBoard Power Measurements](http://eLinux.org/PandaBoard_Power_Measurements "PandaBoard Power Measurements")
*   [Miscellaneous Tips for using the Pandaboard under Ubuntu](http://eLinux.org/PandaBoard/Ubuntu_Tips "PandaBoard/Ubuntu Tips")
*   [Build the latest kernel and run it on Pandaboard](http://eewiki.net/display/linuxonarm/PandaBoard)

## Older How To's

*   [How to build a minimal file system using buildroot](http://eLinux.org/Panda_How_to_buildroot "Panda How to buildroot") for the PandaBoard
*   [How to build a kernel using the buildroot toolchain from above](http://eLinux.org/Panda_How_to_kernel "Panda How to kernel") for the PandaBoard
*   [How to build 2.6.38-rcx kernels](http://eLinux.org/Panda_How_to_kernel_new "Panda How to kernel new") for the PandaBoard **-->> Updated 3/15/2011**
*   [How to build 2.6.38 kernel](http://eLinux.org/Panda_How_to_kernel_2_6_38 "Panda How to kernel 2 6 38") for the PandaBoard **-->> Updated 3/16/2011**
*   [How to build 2.6.39-rcx kernel](http://eLinux.org/Panda_How_to_kernel_2_6_39 "Panda How to kernel 2 6 39") for the PandaBoard **-->> Updated 5/12/2011**
*   [How to build 2.6.39 kernel](http://eLinux.org/Panda_How_to_kernel_2_6_39rel "Panda How to kernel 2 6 39rel") for the PandaBoard **-->> Updated 5/27/2011**
*   [How to build 3.0 kernel](http://eLinux.org/Panda_How_to_kernel_3_0_rel "Panda How to kernel 3 0 rel") for the PandaBoard **-->> Updated 7/29/2011**
*   [How to build 3.0-rcx kernel](http://eLinux.org/Panda_How_to_kernel_3_0_rcx "Panda How to kernel 3 0 rcx") for the PandaBoard **-->> Updated 7/11/2011**
*   [How to build 3.1-rcx kernel](http://eLinux.org/Panda_How_to_kernel_3_1_rcx "Panda How to kernel 3 1 rcx") for the PandaBoard **-->> Updated 10/5/2011**
*   [How to build 3.1 kernel](http://eLinux.org/Panda_How_to_kernel_3_1_rel "Panda How to kernel 3 1 rel") for the PandaBoard **-->> Updated 10/31/2011**
*   [How to build 3.2-rcx kernel](http://eLinux.org/Panda_How_to_kernel_3_2_rcx "Panda How to kernel 3 2 rcx") for the PandaBoard **-->> Updated 2/18/2012**

# Community

*   Website: [`pandaboard.org`](http://pandaboard.org)
*   IRC: #pandaboard @irc.freenode.net
*   Mailing List: [pandaboard@googlegroups.com](http://groups.google.com/group/pandaboard)
*   [panda on linux-omap@vger.kernel.org](http://www.mail-archive.com/search?a=1&l=linux-omap%40vger.kernel.org&haswords=panda&date=&order=datenewest&search=Search)

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [OMAP](http://eLinux.org/Category:OMAP "Category:OMAP")
*   [Omap4430](http://eLinux.org/Category:Omap4430 "Category:Omap4430")
*   [PandaBoard](http://eLinux.org/Category:PandaBoard "Category:PandaBoard")
*   [Development Boards](http://eLinux.org/Category:Development_Boards "Category:Development Boards")

# RaspberryPi

> From: [eLinux.org](http://eLinux.org/RaspberryPi "http://eLinux.org/RaspberryPi")

# R-Pi Hub

(Redirected from [RaspberryPi](http://eLinux.org/index.php?title=RaspberryPi&redirect=no "RaspberryPi")) Redirect page

Redirect to:

[RPi Hub](http://eLinux.org/index.php?title=RPi_Hub&redirect=no "RPi Hub")

# RaspberryPiBoard

> From: [eLinux.org](http://eLinux.org/RaspberryPiBoard "http://eLinux.org/RaspberryPiBoard")

# RPi Hub

(Redirected from [RaspberryPiBoard](http://eLinux.org/index.php?title=RaspberryPiBoard&redirect=no "RaspberryPiBoard"))

***Notice:** The Raspberry Pi Wiki pages on this site is collaborative work - the Raspberry Pi Foundation is **not** responsible for content on these pages.*

|  
## Contents

*   1 Now shipping to customers
*   2 About
    *   2.1 History
*   3 Getting Started
    *   3.1 Buying Guide
    *   3.2 Basic Setup
    *   3.3 Beginners Guide
*   4 Resources
    *   4.1 Hardware & Peripherals
    *   4.2 Software & OS Distributions
    *   4.3 Documentation
    *   4.4 Datasheets
    *   4.5 Troubleshooting
    *   4.6 Bugs
    *   4.7 RPi Model B 3D CAD files
    *   4.8 RPi Model B+ 3D CAD files
    *   4.9 Education Material
    *   4.10 Books
    *   4.11 Education Material
*   5 Community
    *   5.1 Projects, Guides & Tutorials
    *   5.2 Schools, Universities, Clubs & Groups
    *   5.3 Supporting Communities
*   6 About the RPi Wiki
    *   6.1 Translations
*   7 References

 |

| ![Raspberry Pi Logo.svg](http://elinux.org/RPi_Hub "RPi Hub") | **Raspberry Pi Wiki Hub** [deu](http://elinux.org/DE:RPi_Hub "DE:RPi Hub") &#124; [eng](http://elinux.org/Rpi_Hub "Rpi Hub") &#124; [fra](http://elinux.org/FR:RPi_Hub "FR:RPi Hub") &#124; [pt-br](http://elinux.org/Pt-BR:R-Pi_Hub "Pt-BR:R-Pi Hub") |

## Now shipping to customers

See the [Buying Guide](http://eLinux.org/RPi_Buying_Guide "RPi Buying Guide") on how to order one, or visit the [Raspberry Pi Foundation Home Page](http://www.raspberrypi.org)

## About

![](http://eLinux.org/File:RpiFront.jpg)

The Raspberry Pi production board (model B Rev 2.0)

The [Raspberry Pi](http://www.hycshop.com/raspberry-pi-c-2_17/) (short: RPi or RasPi) is an ultra-low-cost ($20-$35) credit-card sized Linux computer which was conceived with the primary goal of teaching computer programming to children. It was developed by the [Raspberry Pi Foundation](http://www.raspberrypi.org), which is a UK registered charity (Registration Number [1129409](http://www.charity-commission.gov.uk/Showcharity/RegisterOfCharities/CharityWithoutPartB.aspx?RegisteredCharityNumber=1129409&SubsidiaryNumber=0)). The foundation exists to promote the study of computer science and related topics, especially at school level, and to put the fun back into learning computing. The device is expected to have many other applications both in the developed and the developing world ([Read more](http://eLinux.org/RPi_Philosophy "RPi Philosophy")).

Raspberry Pi is manufactured and sold in partnership with the worldwide industrial distributors [Premier Farnell/Element 14](http://www.farnell.com/) and [RS Components](http://rswww.com/), and the Chinese distributor [Egoman Technology Corp](http://www.egoman.com.cn/)^([[1]](#cite_note-1)).

*   You can get the latest news from the [Foundation Home Page](http://www.raspberrypi.org), the [Twitter Feed](http://twitter.com/intent/user?screen_name=Raspberry_Pi) or in the [forums](http://www.raspberrypi.org/forums).
*   For Raspberry Pi frequently asked questions see the [FAQ section](http://eLinux.org/RPi_FAQ "RPi FAQ") or the [Raspberry Pi Foundation's FAQ](http://www.raspberrypi.org/?page_id=8) page.
*   Both manufacturing partners provide community areas for more technically focused discussions, articles, FAQs and related information:

*   Premier Farnell: [Element 14 Raspberry Pi Group](http://www.element14.com/community/groups/raspberry-pi?view=discussions)

*   RS-Components: [DesignSpark - Raspberry Pi](http://www.designspark.com/theme/raspberrypi)

*   Products are RoHS, CE, FCC, CTick, CSA and WEEE compliant^([[2]](#cite_note-2)). In common with all Electronic and Electrical products the Raspberry Pi should not be disposed of in household waste. Please contact the distributor from whom you purchased your Raspberry Pi device for details regarding WEEE in your country.

*   Price: 20USD Model A+, 35USD for Model B+, excluding taxes, postage and packaging. For information about availability and shipping see the [Buying Guide](http://eLinux.org/RPi_Buying_Guide "RPi Buying Guide").

### History

If you are interested in why the Raspberry Pi was created, and why it is what it is, check the [General History](http://eLinux.org/RPi_General_History "RPi General History") page, which highlights relevant events in its history. It is not intended to be a detailed history, so it can be read quickly. You could also check the [design changes](http://eLinux.org/Rpi_HardwareHistory "Rpi HardwareHistory") page for how the Raspberry Pi has evolved, and the [manufacturing differences](http://eLinux.org/RaspberryPi_Boards "RaspberryPi Boards") page that may help if you are having problems with your board.

## Getting Started

|  
### [Buying Guide](http://elinux.org/Buying_RPi "Buying RPi")

* * *

Where can I get one and for how much?

*   Base price is $20 for the model A+ and $35 for the Raspberry Pi 2\. This price excludes local taxes and shipping.

*   The Raspberry Pi's official worldwide distribution partners are [Premier Farnell/Element 14](http://www.farnell.com/) and [RS Components](http://rswww.com/)
*   Detailed information and other resellers can be found on the [Buying Guide](http://elinux.org/RPi_Buying "RPi Buying") page.

*   You can find out which peripherals and such are tested to work with the Pi in the [Verified Peripherals](http://elinux.org/RPi_VerifiedPeripherals "RPi VerifiedPeripherals") section

 |  
### [Basic Setup](http://elinux.org/RPi_Hardware_Basic_Setup "RPi Hardware Basic Setup")

* * *

First little Raspberry Pi Steps...

*   Ensure you have all the [equipment](http://elinux.org/RPi_Hardware_Basic_Setup#Typical_Hardware_You_Will_Need "RPi Hardware Basic Setup") you need to go with your Raspberry Pi.
*   Become familiar with the [board layout and connect](http://elinux.org/RPi_Hardware_Basic_Setup#Connecting_Together "RPi Hardware Basic Setup") it ready for power up.
*   If you have not been provided with a pre-setup SD card you will need to prepare one with your chosen [Operating System distribution](http://elinux.org/RPi_Easy_SD_Card_Setup "RPi Easy SD Card Setup")
*   If you are not using a HDMI monitor you may need to set up the correct video mode by editing the [RPiconfig](http://elinux.org/RPiconfig "RPiconfig") text file on the SD-card.
*   Note: On the Debian OS after you log in you need to type **startx** at the prompt to get a graphic desktop.
*   Particularly after first boot its important to do a clean shutdown with the command **sudo halt**

*   **Having problems? Try the [Troubleshooting](http://elinux.org/R-Pi_Troubleshooting "R-Pi Troubleshooting") page.**

 |  
### [Beginners Guide](http://elinux.org/RPi_Beginners "RPi Beginners")

* * *

You've just got your new Raspberry Pi device - what now?

*   [Beginners Guide](http://elinux.org/RPi_Beginners "RPi Beginners")

*   Learn about the basics with the [H2G2 - Introducing the Raspberry Pi](http://h2g2.com/dna/h2g2/A13735596) entry.

*   Read a small book for the Raspberry Pi Beginner [[1]](http://bitkistl.blogspot.co.at/2013/01/raspberry-pi-e-book.html)

*   Get started with some basic projects and tutorials:
    *   [Raspberry Pi YouTube Tutorials](http://www.youtube.com/user/RaspberryPiTutorials)

    *   [Raspberry Pi IV Beginners](http://www.pibeginners.com)

    *   [My First Raspberry Pi Game](http://www.youtube.com/playlist?list=PLgyU3jNA6VjS3ij6ZXbb2x4GdEP3bAWzO)
    *   [Guides, tutorials, tools and distribution downloads](http://files.nathanbookham.com/raspberry-pi)

*   [Easy GPIO Hardware & Software](http://elinux.org/RPi_Tutorial_Easy_GPIO_Hardware_%26_Software "RPi Tutorial Easy GPIO Hardware & Software") - in-progress at the moment

*   Take a look through the Community section, which contains a range of beginner and advanced tutorials and guides, as well as groups to help you find like-minded developers.

*   Pick up a copy of [the Raspberry Pi Handbook](http://www.pi-supply.com/product/raspberry-pi-handbook/) to get you started on some fantastic projects
*   Get started with Linux: [Linux Basics](http://raspberrywebserver.com/linux-basics/)

 |

## Resources

|  
### [Hardware](http://elinux.org/RPi_Hardware "RPi Hardware") & [Peripherals](http://elinux.org/RPi_VerifiedPeripherals "RPi VerifiedPeripherals")

* * *

*   The Model B is more advanced than the Model A - see [RPi Hardware](http://elinux.org/RPi_Hardware "RPi Hardware").
*   The RPi can be plugged into a [suitable TV or monitor](http://elinux.org/RPi_Screens "RPi Screens").
*   The unit will support a range of [devices, peripherals and accessories](http://elinux.org/RPi_VerifiedPeripherals "RPi VerifiedPeripherals").
*   The [Low-level interfaces](http://elinux.org/Rpi_Low-level_peripherals "Rpi Low-level peripherals") allow the use of optional [Expansion Boards](http://elinux.org/RPi_Expansion_Boards "RPi Expansion Boards") in a wide range of projects.
*   The Foundation has launched a [camera module](http://elinux.org/Rpi_Camera_Module "Rpi Camera Module") with a 5MPixel sensor capable of capturing video at 30fps at 1080p
*   [Serial port](http://elinux.org/RPi_Serial_Connection "RPi Serial Connection") connection instructions
*   [GPIO interface circuits](http://elinux.org/RPi_GPIO_Interface_Circuits "RPi GPIO Interface Circuits") for connecting switches, relays, etc
*   For more advanced issues including see [Advanced Setup](http://elinux.org/RPi_Advanced_Setup "RPi Advanced Setup").
*   [Setting up peripherals - examples/HowTos](http://elinux.org/RPi_Peripherals "RPi Peripherals")
*   [List of boards and user feedback](http://elinux.org/RaspberryPi_Boards "RaspberryPi Boards")
*   [Power Supply construction - HowTo](http://elinux.org/RPi_5V_PSU_construction "RPi 5V PSU construction")
*   [Comparison](http://elinux.org/RaspberryPi_Comparison "RaspberryPi Comparison") to other hardware

 |  
### [Software](http://elinux.org/Rpi_Software "Rpi Software") & [OS Distributions](http://elinux.org/RPi_Distributions "RPi Distributions")

* * *

The Raspberry Pi will run a range of OS Distributions and run a variety of software.

*   See [Software](http://elinux.org/RPi_Software "RPi Software") for an overview, and [OS Distributions](http://elinux.org/RPi_Distributions "RPi Distributions") for supported operating system and pre-configured 'images'.
*   Officially supported OS distributions include [Raspbian](http://elinux.org/RPi_Distributions#Raspbian "RPi Distributions"), [Arch Linux](http://elinux.org/RPi_Distributions#Arch "RPi Distributions") and [RISC OS Open](http://elinux.org/RPi_Distributions#RISC_OS "RPi Distributions").
*   Many unofficial distributions are available on the [Distributions page](http://elinux.org/RPi_Distributions "RPi Distributions").
*   Advice is also available if you want to [compile a kernel](http://elinux.org/Rpi_kernel_compilation "Rpi kernel compilation"), [boot from the network using U-Boot](http://elinux.org/RPi_U-Boot "RPi U-Boot"), or [test the Pi's performance](http://elinux.org/RPi_Performance "RPi Performance").
*   The Raspberry Pi supports a wide range of [programming languages](http://elinux.org/RPi_Programming "RPi Programming"), with many tutorials available.
*   Information about installing. specific [applications](http://elinux.org/RPi_applications "RPi applications") is available through the link.
*   Extensive (boot) configuration info (config.txt) is available [here](http://elinux.org/RPi_config.txt "RPi config.txt").
*   Information about various utilities that can be used with your Raspberry Pi can be found [here](http://elinux.org/RPi_Utilities "RPi Utilities").

 |  
### [Documentation](http://elinux.org/RPi_Documentation "RPi Documentation")

* * *

### Datasheets

[IC Datasheets and schematics](http://elinux.org/RPi_Documentation "RPi Documentation") links page.[Datasheets organised by category](http://elinux.org/RPi_DatasheetCategories "RPi DatasheetCategories") from the Frambozenier.org project.

### Troubleshooting

Head over to the [troubleshooting page](http://elinux.org/R-Pi_Troubleshooting "R-Pi Troubleshooting") for help fixing common problems.

### Bugs

Head over to the [bugs page](http://elinux.org/RPi_Bugs "RPi Bugs") for a list of known bugs.

### RPi Model B 3D CAD files

Theses are various 3D CAD Versions in both RAR and ZIP.

*   CATIA V5 RAR [`sdrv.ms/JqdhMb`](http://sdrv.ms/JqdhMb)
*   CATIA V5 ZIP [`sdrv.ms/LjyLGD`](http://sdrv.ms/LjyLGD)
*   ProE RAR [`sdrv.ms/KCv1hZ`](http://sdrv.ms/KCv1hZ)
*   ProE ZIP [`sdrv.ms/KCvhxq`](http://sdrv.ms/KCvhxq)
*   STEP RAR [`sdrv.ms/KCvv7T`](http://sdrv.ms/KCvv7T)
*   STEP ZIP [`sdrv.ms/JMhv18`](http://sdrv.ms/JMhv18)
*   SketchUp [`scc.jezmckean.com/item/581`](http://scc.jezmckean.com/item/581)
*   SketchUp8 [`sketchup.google.com/3dwarehouse/details?mid=327d6b1d8bd6130d6fbd6b70c7f1d3e0`](http://sketchup.google.com/3dwarehouse/details?mid=327d6b1d8bd6130d6fbd6b70c7f1d3e0)
*   Eagle 5 [`www.raspberrypi.org/phpBB3/viewtopic.php?f=41&t=4457`](http://www.raspberrypi.org/phpBB3/viewtopic.php?f=41&t=4457)
*   STEP and various formats at [tracepartsonline](http://www.tracepartsonline.net/%28S%28czkwmf55urqpe2n0xbjcc5qs%29%29/partdetails.aspx?CFSUB=1&CF=3&ExportCADModel=1)
*   [`www.tronetix.com/joomla/index.php/projects`](http://www.tronetix.com/joomla/index.php/projects)
*   [`www.hycshop.com/raspberry-pi-c-2_17/`](http://www.hycshop.com/raspberry-pi-c-2_17/)
*   Maya, Autodesk FBX, Wavefront ZIP [`www.raspberryconnect.com/idonethat/item/166-raspberry-pi-3d-model-download}`](http://www.raspberryconnect.com/idonethat/item/166-raspberry-pi-3d-model-download})

### RPi Model B+ 3D CAD files

*   STEP ZIP [`www.inti-innovations.co.uk/products/inti-media/inti-media-raspberrypi.html`](http://www.inti-innovations.co.uk/products/inti-media/inti-media-raspberrypi.html) (Docs and downloads section)

### Education Material

*   The Raspberry Pi Education Manual(PDF) [`downloads.raspberrypi.org/Raspberry_Pi_Education_Manual.pdf`](http://downloads.raspberrypi.org/Raspberry_Pi_Education_Manual.pdf)
*   Raspberry Pi GPIO Pin Worksheet for free (re)use (Multi Format) [`raspberry.tips/raspberrypi-tutorials/raspberry-pi-modell-b-plus-gpio-pins-worksheet/`](http://raspberry.tips/raspberrypi-tutorials/raspberry-pi-modell-b-plus-gpio-pins-worksheet/)

 |

### Books

*   Heitz, Ryan. Hello! Raspberry Pi. Manning Publications (2015). pp.
    1.  [ISBN 9781617292453](http://eLinux.org/Special:BookSources/9781617292453)

### Education Material

*   The Raspberry Pi Education Manual(PDF) [`downloads.raspberrypi.org/Raspberry_Pi_Education_Manual.pdf`](http://downloads.raspberrypi.org/Raspberry_Pi_Education_Manual.pdf)
*   RAspberry Pi GPIO Pin Worksheet for free use (Multi Format) [`raspberry.tips/raspberrypi-tutorials/raspberry-pi-modell-b-plus-gpio-pins-worksheet/`](http://raspberry.tips/raspberrypi-tutorials/raspberry-pi-modell-b-plus-gpio-pins-worksheet/)

## Community

|  
### [Projects](http://elinux.org/RPi_Projects "RPi Projects"), [Guides](http://elinux.org/RPi_Guides "RPi Guides") & [Tutorials](http://elinux.org/RPi_Tutorials "RPi Tutorials")

* * *

*   An important source of information and guides is the [Official Forum](http://www.raspberrypi.org/forum).
*   Get started by following some of the many [Tutorials](http://elinux.org/RPi_Tutorials "RPi Tutorials").
*   Common tasks and useful tips are available through the [Guides page](http://elinux.org/RPi_Guides "RPi Guides").
*   Projects can be found, and added to, on the [Projects page](http://elinux.org/RPi_Projects "RPi Projects").
*   Raspberry Pi Datasheets can be found on the [DataSheets page](http://elinux.org/RPi_DatasheetCategories "RPi DatasheetCategories").
*   Knowledgeable users may want to review and help out with project wishlist items on the [Tasks page](http://elinux.org/RPi_Tasks "RPi Tasks").
*   There are many tutorials, example projects and guides in [The MagPi Magazine](http://www.themagpi.com) - which is available free online or to purchase in printed form.
*   Some more great projects and setup guides in [the Raspberry Pi Handbook](http://www.pi-supply.com/product/raspberry-pi-handbook/)

 |  
### [Schools, Universities, Clubs & Groups](http://elinux.org/RPi_Education "RPi Education")

* * *

*   The Raspberry Pi Foundation's aims include encouraging education. Several groups including [Computing At School](http://www.computingatschool.org.uk/) aim to bring Computing Science back into schools.
*   Go to the [Education Page](http://elinux.org/Rpi_Education "Rpi Education") to add your project and find helpful links.
*   Raspberry Jams are a great way to meet other Raspberry Pi users, share ideas and tips and learn more. To find a Raspberry Jam near you, see the [Raspberry Jam](http://raspberryjam.org.uk/) page.

 |  
### [Supporting Communities](http://elinux.org/RPi_Community "RPi Community")

* * *

The [Raspberry Pi Community](http://elinux.org/RPi_Community "RPi Community") is steadily growing:

*   [The Official Raspberry Pi Forum](http://www.raspberrypi.org/forum)
*   [Element 14 Raspberry Pi Group](http://www.element14.com/community/groups/raspberry-pi?view=discussions), community site of Premier Farnell
*   [DesignSpark](http://www.designspark.com/theme/raspberrypi), community site of RS-Components
*   ['Frambozenbier' (Raspberry Pi Homebrew)](http://www.frambozenbier.org/index.php/)
*   [Stack Exchange Forum](http://raspberrypi.stackexchange.com/)
*   [Non-official community of Raspberry Pi in spanish language](http://www.raspberrypi-spanish.es)
*   [World Of Pi](http://www.worldofpi.com/) A forum based on all things Raspberry Pi.
*   [The MagPi Magazine](http://elinux.org/TheMagPi "TheMagPi") - Community based, free eMagazine, get involved!
*   [RaspberryPi Osdev](http://elinux.org/RaspberryPi_Osdev "RaspberryPi Osdev") - Hardware specific OS-development community, sitting in freenode.net#raspberrypi-osdev.
*   news:comp.sys.raspberry-pi - Usenet newsgroup

 |

## About the RPi Wiki

**Do not be afraid to add your bit, content is vital for the wiki to function.**

![](http://eLinux.org/File:Rasp_turn_around.gif)

A 3D rendering of the Raspberry Pi logo

### Translations

The wiki is being translated into several languages, some of which can be seen on the hub banner above. Current languages include:

*   English: [R-Pi Hub](http://eLinux.org/R-Pi_Hub "R-Pi Hub")
*   Français: [FR:R-Pi Hub](http://eLinux.org/FR:R-Pi_Hub "FR:R-Pi Hub")
*   Português: [Pt-BR:R-Pi Hub](http://eLinux.org/Pt-BR:R-Pi_Hub "Pt-BR:R-Pi Hub")
*   简体中文: [Zh-CN:RPi_ 信息中心](http://eLinux.org/Zh-CN:RPi_%E4%BF%A1%E6%81%AF%E4%B8%AD%E5%BF%83 "Zh-CN:RPi 信息中心")
*   Deutsch: [DE:R-Pi_Hub](http://eLinux.org/DE:R-Pi_Hub "DE:R-Pi Hub")
*   മലയാളം: [Ml:R-Pi Hub](http://eLinux.org/index.php?title=Ml:R-Pi_Hub&action=edit&redlink=1 "Ml:R-Pi Hub (page does not exist)")

Any help translating would be greatly appreciated. Thank you to those who have already contributed!

# References

1.  ↑ [`www.raspberrypi.org/archives/3195`](http://www.raspberrypi.org/archives/3195)
2.  ↑ [`www.element14.com/community/docs/DOC-44828/l/raspberry-pi-safety-data-sheet`](http://www.element14.com/community/docs/DOC-44828/l/raspberry-pi-safety-data-sheet)

3.  [v](http://eLinux.org/Template:Raspberry_Pi "Template:Raspberry Pi")

4.  [t](http://eLinux.org/Template_talk:Raspberry_Pi "Template talk:Raspberry Pi")
5.  [e](http://elinux.org/index.php?title=Template:Raspberry_Pi&action=edit)

[Raspberry Pi](http://eLinux.org/R-Pi_Hub "R-Pi Hub")

**Startup**

[Buying Guide](http://eLinux.org/RPi_Buying_Guide "RPi Buying Guide") - [SD Card Setup](http://eLinux.org/RPi_Easy_SD_Card_Setup "RPi Easy SD Card Setup") - [Basic Setup](http://eLinux.org/RPi_Hardware_Basic_Setup "RPi Hardware Basic Setup") - [Advanced Setup](http://eLinux.org/RPi_Advanced_Setup "RPi Advanced Setup") - [Beginners Guide](http://eLinux.org/RPi_Beginners "RPi Beginners") - [Troubleshooting](http://eLinux.org/R-Pi_Troubleshooting "R-Pi Troubleshooting")

![RpiFront.jpg](http://eLinux.org/File:RpiFront.jpg)

**Hardware**

[Hardware](http://eLinux.org/RPi_Hardware "RPi Hardware") - [Hardware History](http://eLinux.org/RPi_HardwareHistory "RPi HardwareHistory") - [Low-level peripherals](http://eLinux.org/RPi_Low-level_peripherals "RPi Low-level peripherals") - [Expansion Boards](http://eLinux.org/RPi_Expansion_Boards "RPi Expansion Boards")

**Peripherals**

[Screens](http://eLinux.org/RPi_Screens "RPi Screens") - [Cases](http://eLinux.org/RPi_Cases "RPi Cases")

*   [Other Peripherals (Keyboard, mouse, hub, wifi...)](http://eLinux.org/RPi_VerifiedPeripherals "RPi VerifiedPeripherals")

**Software**

[Software](http://eLinux.org/RPi_Software "RPi Software") - [Distributions](http://eLinux.org/RPi_Distributions "RPi Distributions") - [Kernel](http://eLinux.org/RPi_Kernel_Compilation "RPi Kernel Compilation") - [Performance](http://eLinux.org/RPi_Performance "RPi Performance") - [Programming](http://eLinux.org/RPi_Programming "RPi Programming") - [VideoCore APIs](http://eLinux.org/RPi_VideoCore_APIs "RPi VideoCore APIs") - [Utilities](http://eLinux.org/RPi_Utilities "RPi Utilities")

**Projects**

[Tutorials](http://eLinux.org/RPi_Tutorials "RPi Tutorials") - [Guides](http://eLinux.org/RPi_Guides "RPi Guides") - [Projects](http://eLinux.org/RPi_Projects "RPi Projects") - [Tasks](http://eLinux.org/RPi_Tasks "RPi Tasks") - [DataSheets](http://eLinux.org/RPi_DatasheetCategories "RPi DatasheetCategories") - [Education](http://eLinux.org/RPi_Education "RPi Education") - [Communities](http://eLinux.org/RPi_Community "RPi Community")

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [RaspberryPi](http://eLinux.org/Category:RaspberryPi "Category:RaspberryPi")

# S3C2410

> From: [eLinux.org](http://eLinux.org/S3C2410 "http://eLinux.org/S3C2410")

# S3C2410

The S3C2410 is developed using an [ARM920T](http://eLinux.org/ARM920T "ARM920T") core, 0.18um CMOS standard cells and a memory complier. Its low-power, simple, elegant and fully static design is particularly suitable for cost and power sensitive applications. Also, the S3C2410 adopts a new bus architecture, AMBA (Advanced Microcontroller Bus Architecture) An outstanding feature of the S3C2410 is its CPU core, a 16/32-bit [ARM920T](http://eLinux.org/ARM920T "ARM920T") RISC processor designed by Advanced RISC Machines, Ltd. By providing a complete set of common system peripherals, the S3C2410 minimizes overall system costs and eliminates the need to configure additional components.

To reduce total system cost, the S3C2410 also provides the following features:

*   separate 16KB Instruction and 16KB Data Cache
*   MMU to handle virtual memory management
*   LCD controller (STN & TFT)
*   NAND Flash Boot loader
*   System Manager (chip select logic, SDRAM controller)
*   3-ch UART with handshake
*   4-ch DMA
*   4-ch Timers with PWM
*   I/O Ports
*   RTC
*   8- ch 10-bit ADC and touch screen interface
*   IIC-BUS interface
*   IIS-BUS interface
*   USB Host
*   USB Device
*   SD Host & Multimedia Card Interface
*   2-ch SPI
*   PLL for clock generation.
*   Clocked up to 203MHz

[S3C2410 Users Manual](http://eLinux.org/images/7/77/Um_s3c2410.pdf "Um s3c2410.pdf")

[Product Page](http://www.samsung.com/global/business/semiconductor/productInfo.do?fmly_id=229&partnum=S3C2410)

*   [SBC2410-III Single Board Computer](http://www.armkits.com/Product/sbc2410III.asp) based on Samsung **S3C2410** from [Embest](http://www.armkits.com)
*   [Mini2410-II Processor Card](http://www.armkits.com/Product/mini2410_II.asp) based on Samsung **S3C2410** from [Embest](http://www.armkits.com)

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [ARM processors](http://eLinux.org/Category:ARM_processors "Category:ARM processors")

# SBC3530

> From: [eLinux.org](http://eLinux.org/SBC3530 "http://eLinux.org/SBC3530")

# SBC3530

![EMA logo
1.png](http://eLinux.org/File:EMA_logo_1.png)

* * *

**[EMA SBC3530](http://www.ema-tech.com/home/shownews.php?a_id=108)——[`www.ema-tech.com`](http://www.ema-tech.com)**

## Contents

*   1 **EMA SBC3530**
    *   1.1 **Overview**
    *   1.2 **Specifications**
        *   1.2.1 **Hardware**
        *   1.2.2 **Operating conditions**

# **EMA SBC3530**

![](http://eLinux.org/File:EMA-SBC3530-1.jpg)

EMA SBC3530

## **Overview**

1.[SBC3530](http://www.ema-tech.com/home/shownews.php?a_id=108) from [EMA](http://www.ema-tech.com) is a Low-power, high-performance single board computer based on TI’s [OMAP35x](http://focus.ti.com/general/docs/gencontent.tsp?contentId=36915&DCMP=OMAP_Feb27_2008&HQS=Other+PR+omap3503pr) multimedia applications processor. Designed with EPIC Standard and extendable architecture . [SBC3530](http://www.ema-tech.com/home/shownews.php?a_id=108) helps users leverage the benefits of [OMAP35x](http://focus.ti.com/general/docs/gencontent.tsp?contentId=36915&DCMP=OMAP_Feb27_2008&HQS=Other+PR+omap3503pr) processor comprising of advanced Superscalar ARM Cortex-A8 RISC core with NEON co-processing, IVA2.2 subsystem with a C64x+ digital signal processor (DSP) core and SGX subsystem for 2D and 3D graphics acceleration (PowerVR). 2.The [SBC3530](http://www.ema-tech.com/home/shownews.php?a_id=108) helps users building their products around the [OMAP35x](http://focus.ti.com/general/docs/gencontent.tsp?contentId=36915&DCMP=OMAP_Feb27_2008&HQS=Other+PR+omap3503pr) enjoy the benefits of faster user interfaces, faster data access and multi-standard encode/decode. Resolution up to 1920 * 1080, Supports multiple display output, such as VGA, LCD, S-Video and AV composite video output. Supports multi-standard encode/decode at D4 (1280×720p/60Hz) 30 fps. Supports multiple embedded operation system, such as Android, Embedded Linux, WinCE. Supports 4-channel video input, maximum support 4-way CVBS. Built-in hardware encryption and hardware authentication mechanism to better protect the user's application software. 3.[SBC3530](http://www.ema-tech.com/home/shownews.php?a_id=108) comes with X-Loader、U-Boot、Linux Kernel（V2.6.30） and JFFS2 File system for Linux. The PSP Software Release from [TI](http://focus.ti.com/general/docs/gencontent.tsp?contentId=36915&DCMP=OMAP_Feb27_2008&HQS=Other+PR+omap3503pr) includes the Code Sourcery tool chain and the required source code and utilities. 4.It is an ideal platform for users to develop their applications.Present [SBC3530](http://www.ema-tech.com/home/shownews.php?a_id=108) has been applied to mobile Internet devices, Global Positioning System (GPS), 2D/3D Game Station, medical equipment, Image Capture Machine, HMI, etc.

## **Specifications**

![EMA-3530 框图.jpg](http://eLinux.org/File:EMA-3530%E6%A1%86%E5%9B%BE.jpg)

### **Hardware**

**CPU**

TI OMAP3530 Multi-Core CPU

uperscalar ARM Cortex-A8 RISC core NEON™ SIMD co-processing 430MHz TMS320 C64x+ (DSP) core POWERVR SG™ 2D/3D graphics acceleration

**RAM**

128MByte/256MByte/512MByte DDR

**Flash**

128MByte/256MByte/512MByte/1GByte Nand Flash

**Ethernet**

1x 10M/100M High performance Ethernet, RJ45 interface

**COM Port**

1x RS232(5 Lines: TX,RX,CTS,RTS,GND)

2x 3.3V UART(5 Lines: TX,RX,CTS,RTS,GND)

**USB Host**

4x USB 2.0 high speed host(each provide 500mA current)

**USB OTG**

1x USB 2.0 high speed OTG（Device option）

**Audio**

1x 3.5mm stereo audio phone jack

1x 3.5mm microphone jac

**VGA**

Standard VGA, support all VESA standard resolution

**AV/S-Video Video Output**

Support mode list：

NTSC-J, M

PAL-B, D, G, H, I

PAL-M

CGMS-A

**Video Input**

4 channel video input

Support up to:

4 CVBS

Or 1 CVBS + 1 YPbPr/RGB(embedded sync)

Or 1 CVBS + 1 YPbPr/RGB(embedded sync)

Or 2 CVBS + 1 S-Video

Or 2 S-Video

CVBS supports NTSC/PAL/SECAM

**SD Slot**

MMC/SD/SDIO/SDHC slot, support up to 32GByte

**FRAM**

64KBit high speed F-RAM with virtually unlimited writing cycle

**Security**

Hardware security-dog for hardware & software protection

**RTC**

CR1220 RTC battery socket

**Button**

1x Side button (user interrupt)

1x Reset button (inside)

1x PowerON button (inside)

**LED**

2x Power LED

2x Power management unit LED

2x GPIO LED

**Boot switch**

1x 6Bit boot mode switch

**Power**

1x 5V 4A DC Jack

1x 5V 4A TJC3 connector

1x Battery module connector

1x Power management signal connector

**Expansion connectors**

1x 3.3V I2C port

1x 3.3V LCD interface with touch screen support

1x 1.8V SPI port

1x 1.8V SDIO expansion for WIFI module

1x 1.8V 6x6 scanning keypad connector

1x 1.8V GPIO expansion

1x 1.8V GPMC High speed bus expansion

1x 1.8V Digital camera interface

### **Operating conditions**

| **Conditions** | **Min** | **Normal** | **Max** |
| Power supply | 5V 0.3A | 5V 0.5A（mark 1） | 5V 4A（mark 2） |
| power consumption | 1.5W | 2.5W（mark 1） | 20W（mark 2） |
| Temperature(Commercial) | 0°C | / | 70°C |
| Temperature(Industrial) | -40°C | / | 0°C |

Mark 1：The value is the average detected in the condition that CPU running at full speed in 600MHz working condition, other circuit in a working conditon, and does not access other modules, USB interface don’t in working condition. Mark 2：The value is the average detected in the condition that 4 USB interface supply Power, and the board connected to the LCD module, digital camera, WIFI and other cases, etc.

Loading...

* * *

![EMA
logo.png](http://eLinux.org/File:EMA_logo.png)

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Linux](http://eLinux.org/Category:Linux "Category:Linux")
*   [OMAP](http://eLinux.org/Category:OMAP "Category:OMAP")
*   [Development Boards](http://eLinux.org/Category:Development_Boards "Category:Development Boards")

# SBC8100

> From: [eLinux.org](http://eLinux.org/SBC8100 "http://eLinux.org/SBC8100")

# SBC8100

**OMAP3530 多功能开发板-SBC8100**

**深圳市天漠科技有限公司在 11 月 12 日推出一批 256MB DDR SDRAM 256MB Nand Flash 配置升级版 [DevKit8000 评估套件](http://www.timll.com/chinese/omap/Devkit8000.asp)，限量 100PCS，欢迎来电咨询选购。**

[SBC8100 单板机](http://www.timll.com/chinese/omap/SBC8100.asp)是深圳市[天漠科技](http://www.timll.com)有限公司继 DevKit8000 后基于德州仪器(TI) OMAP35x 系列处理器推出的又一款功能强大的多功能单板计算机。

SBC8100 采用德州仪器（TI）OMAP3530 处理器作为 CPU。OMAP3530 处理器集成了 600MHz 的 ARM Cortex™-A8 内核及 430MHz 的具有高级数字信号处理算法的 DSP 核，并提供了丰富的外设接口。SBC8100 扩展出了 网口、 SD/MMC 接口、串口、Audio IN/OUT、Camera、S-Video/AV OUT、VGA、WiFi、Bluetooth、GPS、TTL LCD、高速 USB HOST、USB OTG、电源、keyboard、扩展接口、4 个自定义 Button 及总线接口。为了适应多种场合下的应用，本产品采用了核心板 Mini8100 加扩展板 SBC8100 的分离式结构进行开发，其性能可靠，稳定性高，易于扩展。

* * *

此工程的建立主要是为用户介绍[SBC8100](http://www.timll.com/chinese/omap/SBC8100.asp)的硬件软件资源及在开发[OMAP35x](http://focus.ti.com/general/docs/gencontent.tsp?contentId=36915&DCMP=OMAP_Feb27_2008&HQS=Other+PR+omap3503pr)时提供一个交流分享平台，可使用户快速的对[SBC8100](http://www.timll.com/chinese/omap/SBC8100.asp)单板机进行全面的了解，并对开发的常见问题进行总结归纳。

## Contents

*   1 **特性概述**
*   2 **硬件特性**
    *   2.1 接口图
    *   2.2 硬件特性描述
    *   2.3 芯片介绍
    *   2.4 接口介绍
        *   2.4.1 扩展板
        *   2.4.2 显示方式
        *   2.4.3 摄像头接口
        *   2.4.4 扩展接口
    *   2.5 LAYOUT
    *   2.6 主板特性图
*   3 **软件应用开发**
    *   3.1 软件特性
    *   3.2 linux 开发
        *   3.2.1 LINUX 系统快速操作
        *   3.2.2 LINUX 系统开发
*   4 **Demo 方案展示**
    *   4.1 Android
    *   4.2 DVSDK（DSP）
*   5 Wince 系统
*   6 **套件概述**
    *   6.1 产品特性
    *   6.2 光盘特性
*   7 **FAQ 总结**
*   8 Links
*   9 Translate

# **特性概述**

![SBC8100-board-S.jpg](http://eLinux.org/File:SBC8100-board-S.jpg)

![SBC8100-andriod.jpg](http://eLinux.org/File:SBC8100-andriod.jpg)

SBC8100 单机版主板

SBC8100 andriod+4.3"LCD 屏

*   [SBC8100 单板机](http://www.timll.com/chinese/omap/SBC81000.asp)采用德州仪器（TI）OMAP35x 通用处理器作为 CPU。OMAP35x 处理器集成了 600MHz 的 ARM Cortex™-A8 内核及 430MHz 的具有高级数字信号处理算法的 DSP 核，并提供了丰富的外设接口。[SBC8100 单板机](http://www.timll.com/chinese/omap/SBC8100.asp)外扩了**网口、SD/MMC 接口、串口、音频输入输出接口、Camera、S-Video/AV OUT、VGA、WiFi、Bluetooth、GPS、TTL LCD、USB HOST、USB OTG、电源、keyboard、扩展接口、4 个自定义 Button 及总线接口**。
*   [SBC8100](http://www.timll.com/chinese/omap/SBC8100.asp)为开发者使用 OMAP3530 处理器提供了完善的软件开发平台，支持 linux-2.6.22 及 WinCE 6.0 操作系统，并包含完善的底层驱动程序，方便用户体验 OMAP35x 处理器强大的处理功能、设计系统驱动及其定制应用软件，并提供有成熟的操作系统 Google Android 及 DVSDK Demo。完善的产品用户手册、驱动及芯片数据手册使用户更快的基于此主板对 OMAP3530 进行开发。

# **硬件特性**

OMAP3530 处理器集成了 600MHz 的 ARM Cortex™-A8 内核及 412MHz 的具有高级数字信号处理算法的 DSP 核，SBC8100 单板机扩展了 OMA3530 的多种性能，具体的硬件接口特性如下所示。

## 接口图

![SBC8100-interface.jpg](http://eLinux.org/File:SBC8100-interface.jpg)

## 硬件特性描述

*   处理器
    *   OMAP3530 处理器（Pin to Pin 兼容 OMAP3503，OMAP3515,OMAP3525 处理器）
    *   600-MHz ARM Cortex™-A8 Core
    *   430-MHz TMS320C64x+™ DSP Core
    *   集成存储器用于 ARM CPU (16kB I-Cache, 16kB D-Cache, 256kB L2) 和片上存储 (64kB SRAM, 112kB ROM)
*   存储器
    *   128MByte DDR SDRAM
    *   128MByte NAND Flash
*   音频/视频接口
    *   一个 S-VIDEO 接口
    *   一个 VGA 输出接口
    *   一个 TV OUT 接口
    *   24bit 真彩色 LCD 接口（含 4 线触摸屏接口,分辨率可支持 2048x2048）
    *   一个音频输入接口
    *   一个 2 声道音频输出接口
*   传输接口
    *   3 x 5 线串行接口，RS232 电平
    *   USB 接口：1 x USB2.0 OTG， High-speed， 480Mbps，4 x USB2.0 HOST， High-speed， 480Mbps
    *   2 路 SD/MMC 接口，支持 3.3V 及 1.8V 逻辑电压
    *   网络接口：10/100Mbps，RJ45 connector
    *   2 路 McBSP 接口（多功能串行接口）
    *   1 路 ULPI
    *   1 路 IIC
*   输入接口
    *   1 个 CAMERA 接口（可外接 CCD 和 CMOS 的摄像头）
    *   4 X 5 键盘接口
    *   1 个启动引导按键
    *   1 个 Reset 按键
*   电气特性
    *   核心板尺寸 : 59 mm x 37 mm
    *   主板尺寸：114.1mm x 114.9mm
    *   输入电压 : +5V
    *   功 耗 : 0.3.4A @ 5V
    *   工作温度 : -0 to 70℃(芯片支持)
    *   操作湿度 : 20% ~ 90%

## 芯片介绍

| SBC8100 单板机 | 芯片名称 | 备注 |
| 处理器芯片: | OMAP3530CUS | 0.65mm 的 CUS 封装 |
| 存储器芯片: | MT29C1G24MADLAJA-6IT | 128MB mDDR/128MB NAND，Flash 和 SDRAM 封装在同一个芯片 |
| 电源芯片: | TPS65930BZCH | 外扩电源管理，RTC，USB OTG，音频，6X6 键盘 |
| DVI-D 芯片 | TFP410 | S-VIDEO 输出,输出 DVI-D 信号 |
| 网口芯片 | DM9000 | RJ45 接口，10M/100M 自适应，目前实测速度可达 36M |
| 串口芯片 | MAX3232 CSE | RS232 电平 |

## 接口介绍

### 扩展板

**成品**：

*   模拟摄像头输入模块 CAM8000-A

标准 720*576PAL 制式分辨率；通过 30PIN FFC 排线连接 Devkit8000，另一边通过 BNC 连接头连接摄像头设备，实现通过摄像头输入信息的功能。

*   VGA 高清视频输出模块 VGA8000

基于 PHILIPS 74alvc164245 芯片，专为 Devkit8000 设计的可选配套液晶显示模块，240MHz 的最大采样速度，可以输出标准的液晶显示屏信号，在分辨率高达 1024*768 下可以流畅显示

*   USB WiFi 无线模块 WF8000-U

基于 USB 接口的 WIFi 无线通讯模块，适用于天漠所有带 USB 接口产品。该模块采用一种可以将个人电脑等终端以无线方式互相连接的技术，基于 IEEE 802.11 标准的无线网路通讯协议，高度集成 MAC / BBP 和 2.4GHz 射频单芯片。它完全适应 IEEE 802.11 b/g 的高标准，无线连接范围大，有庞大的吞吐量。凭着优越的射频架构和优化算法，构建了 WF8000-U WIFi 模块良好的性能和低功耗消费

*   GPS 定位系统模块 GPS8000-S

该模块采用最新表面贴片和先进的集成电路技术，以取得产品的最佳性能，同时也减小产品体积并将功耗减低到最小。综合硬件的高性能和软件的高智能度使模块具有更强的兼容性，并广泛应用于各种导航设备与导航产品中。

*   GPRS 通讯系统模块 GPRS8000-S

基于 GPRS 的 GSM/GPRS 解决方案，使用工业标准界面，使其具备小尺寸、低功耗等诸多优点，可以实现语音、SMS、数据和传真信息的高速传输，可广泛用于 WLL，M2M 和各种手持设备。

### 显示方式

**S-Video 显示**

S-video 四线接口，可输出视频信号，不包括音频信号，可外界 S-Video 接口的显示器。

**VGA 高清显示** 可输出标准的液晶显示屏信号，在分辨率高达 1024*768 下可以流畅显示 **TV OUT 输出显示** 可输入高清视频信号。

**LCD 屏接口** 24bitLCD 屏接口，可输出真彩色 RGB 信号，R:B:G=8:8:8,分辨率最大支持 2048*2048. 接口为 50-pin FPC 连接器，间距 0.5mm。 接口信号类型：

| RGB data 信号 | LCD 控制信号 | SPI 信号 | IIC 信号 | 触摸屏信号 | 电压输出 |
| 24bit | 6bit | 4bit | 2bit | 4bit | 5bit |
| R:G:B=8:8:8 | 行列等控制信号 | 标准 spi 信号 | 2 位 IIC 信号 | 4 线触摸屏 | 输出电压 5V，3.3V，1.8V |

### 摄像头接口

![DevKit8000
cam.jpg](http://eLinux.org/File:DevKit8000_cam.jpg)

### 扩展接口

40PIn 接口，间距 2.0mm 特性如下所示：

| 引脚 | 信号定义 | 功能描述 |
| 1 | GND | GND |
| 2 | BSP1_DX | Transmitted serial data 1 |
| 3 | BSP1_DR | Received serial data 1 |
| 4 | BSP1_CLKR | Received clock 1 |
| 5 | BSP1_FSX | Transmit frame synchronization 1 |
| 6 | BSP1_CLKX | Transmit clock 1 |
| 7 | BSP1_CLKS | External clock input 1 |
| 8 | BSP1_FSR | Receive frame synchronization 1 |
| 9 | UART1_CTS | UART1 clear to send |
| 10 | UART1_RTS | UART1 request to send |
| 11 | UART1_RX | UART1 receive data |
| 12 | UART1_TX | UART1 transmit data |
| 13 | GND | GND |
| 14 | MMC2_CLK | MMC2 card clock |
| 15 | MMC2_CMD | GND |
| 16 | MMC2_D0 | MMC2 card data 0 |
| 17 | MMC2_D1 | MMC2 card data 1 |
| 18 | MMC2_D2 | MMC2 card data 2 |
| 19 | MMC2_D3 | MMC2 card data 3 |
| 20 | MMC2_D4 | MMC2 card data 4 |
| 21 | MMC2_D5 | MMC2 card data 5 |
| 22 | MMC2_D6 | MMC2 card data 6 |
| 23 | MMC2_D7 | MMC2 card data 7 |
| 24 | BSP3_DX | Transmitted serial data 3 |
| 25 | BSP3_DR | Received serial data 3 |
| 26 | BSP3_CLKX | Transmit clock 3 |
| 27 | BSP3_FSX | Transmit frame synchronization 3 |
| 28 | GND | GND |
| 29 | IIC3_SCL | IIC3 master serial clock |
| 30 | IIC3_SDA | IIC3 serial bidirectional data |
| 31 | SPI1_SIMO | Slave data in, master data out |
| 32 | SPI1_SOMI | Slave data out, master data in |
| 33 | SPI1_CLK | SPI1 clock |
| 34 | SPI1_CS0 | SPI enable 0 |
| 35 | SPI1_CS3 | SPI enable 3 |
| 36 | HDQ_SIO | Bidirectional HDQ |
| 37 | VDD33 | 3.3V |
| 38 | VDD18 | 1.8V |
| 39 | VDD50 | 5V |
| 40 | VDD50 | 5V |

## LAYOUT

核心板采用六层设计，其中每层分布情况如下

| 1 | 2 | 3 | 4 | 5 | 6 |
| 表层 | 地层 | 信号 | 电源 | 地层 | 底层 |

核心板尺寸图如下所示

![Mini8100-chicun.jpg](http://eLinux.org/File:Mini8100-chicun.jpg) 底板尺寸图如下所示

![SBC8100-chicun.jpg](http://eLinux.org/File:SBC8100-chicun.jpg)

## 主板特性图

![SBC8100-texing.jpg](http://eLinux.org/File:SBC8100-texing.jpg)

# **软件应用开发**

## 软件特性

SBC8100 多功能单板机支持 WinCE6.0 及 linux2.6.22 操作系统，具体软件特性请参考下表。

| 系统 | 项目 | 特性 | 描述 |
| Linux | 启动代码 | 版本 | x-load-1.41，u-boot 1.3.3 |
| 启动方式 | 支持网络、SD 卡或 NAND Flash 中启动引导 Linux 系统 |
| 映像更新 | 支持网络或 SD 卡更新映像 |
| 内核与驱动 | 版本 | Linux 2.6.22 |
| 支持文件系统格式 | ROM/CRAM/EXT2/EXT3/FAT/NFS/ JFFS2/UBIFS file systems |
| 驱动支持 | Serial, RTC, Net, Flash, LCD, Touch screen, S-Video, TV out, VGA, Audio In/Out, SD, USB Host, USB OTG, Keypad, WiFi, GPS, LED |
| 文件系统 | 文件系统格式 | Ramdisk 文件系统、UBI 文件系统 |
| 系统特性 | 库支持（ALSA -lib, tslib, glibc）,udev 设备管理支持 |
| Demo | Angstrom | 音频（XMMS），网络（Firefox），图形编辑器（gimp）及文档处理软件( Abiword) |
| Android | Google 开发的基于 Linux 平台的开源手机操作系统 |
| DVSDK 软件 | 支持 MPEG4，MPEG2，H264，mp3，aac 音\视频格式解码 |
| WinCE | 启动代码 | 版本 | x-load-1.41、Eboot |
| 启动方式 | 支持网络、SD 卡或 NAND Flash 中启动引导 wince 系统 |
| 映像更新 | 支持网络或 SD 卡更新映像 |
| 系统特性 | 内核特性 | KITL 内核调试, Reboot, Watchdog, RTC |
| 驱动支持 | 显示驱动（S-Video,AV, TFT LCD） |
| Serial, RTC, Net, Flash, LCD, Touch screen, S-Video, TV out, VGA, Audio In/Out, SD, USB OTG, USB Host, Keypad, WiFi/BT, GPS, LED, VRFB, DSPLINKK/CMEMK, PWM, ADC, GPIO/I2C/SPI/MCBSP |
| 系统功能 | 电源管理（背光驱动、电池驱动、休眠\唤醒功能） |
| HIVE 注册表支持 |
| ROM 文件系统支持 |
| 软件特性 | Media play 9.0, Word 编辑工具及 Internet Explorer 6.0 |
| .NET Compact Framework 3.5 |

## linux 开发

### LINUX 系统快速操作

1.  系统启动方法
2.  显示方式选择

### LINUX 系统开发

1.  开发环境搭建
2.  系统编译
3.  系统定制
4.  源码分析

# **Demo 方案展示**

## Android

| SBC8100 已成功移植 Android 系统。 

*   SBC8100 可运行基于 Android 系统的各种应用程序。
*   SBC8100 支持 4.3”LCD，5.6"LCD 及 7“LCD 图形界面交互及触摸屏功能.

*   可使用 Android 系统内置的音频播放器播放各种音频文件

*   可通过 SD 卡或 USB OTG 接口传输数据。

*   播放音频，浏览图片及一些基本的功能。

更详细的使用及移植 DVSDK 的方法，请参考[SBC8100_Android](http://elinux.org/index.php?title=SBC8100_Android&action=edit&redlink=1 "SBC8100 Android (page does not exist)") | ![SBC8100-andriod-S.jpg](http://elinux.org/File:SBC8100-andriod-S.jpg) |

## DVSDK（DSP）

| SBC8100 在 linux 下可基本运行 TI 提供的 DVSDK 包。 SBC8100 支持的 DVSDK 包具有如下功能：

*   支持 2D/3D 图像加速功能

*   支持 DSP 编解码（可支持音频视频硬件解码）

*   支持 s-video 视频输出

*   可播放 3D 视频
*   硬件解码播放音频文件，格式支持：mp3，aac
*   硬件解码播放视频文件，格式支持 MPEG4，MPEG2，H264

更详细的使用及移植 DVSDK 的方法，请参考[SBC8100_DVSDK](http://elinux.org/index.php?title=SBC8100_DVSDK&action=edit&redlink=1 "SBC8100 DVSDK (page does not exist)") | ![SBC8100-DSP.jpg](http://elinux.org/File:SBC8100-DSP.jpg) |

# Wince 系统

# **套件概述**

## 产品特性

SBC8100 单板机是一个多功能开发平台，为嵌入式设计人员提供快捷简单的实践方式来体验 OMAP3530 处理器强大的处理和运算能力。该单板机提供了一个完整的开发平台，包括一个 4.3”LCD 屏（分辨率为 480x272）、SD 卡、电源及各种接口转接线（串口，S-Video）等。该产品使设计者能够基于 SBC8100 的板载系统快速开发出基于 OMAP3530 芯片的相关产品。

SBC8100 多功能单板机为开发者使用 OMAP3530 处理器提供了完善的软件开发平台，支持 linux-2.6.22 及 WinCE 6.0 操作系统，并包含完善的底层驱动程序，方便用户快速体验 OMAP35x 处理器、设计系统驱动及其定制应用软件，并提供有成熟的操作系统 Google Android 及 DVSDK Demo。完善的产品用户手册、电路原理图及芯片数据手册使用户更快的基于此主板对 OMAP35x 进行开发。 SBC8100 多功能单板机的配件如下所示：

![SBC8100-peijian.jpg](http://eLinux.org/File:SBC8100-peijian.jpg)

SBC8100 单板机分两种配置：标准配置和可选配置。

标准配置：包含完善的接口配件的支持，具备了、S-Viode 线、USB 线等相关配件，该配置主要针对特定应用的专业产品开发人员。 完全配置：包含模拟摄像头输入模块 CAM8000-A

| 产品型号 | 配件清单 |
| SBC8100 标准配置 标准配置 | •SBC8100 单板机 *1 •SD 卡（512MByte） *1
•交叉串口线 *1
•网线 *1
•5V 2A 电源 *1
•Mini USB B 线转 USB A 型公头 *1
•S-Video 线 *1
•光盘(Linux 源码驱动、WinCE BSP 源码、底板原理图、WinCE 应用原代码、接口驱动等) *1 |
| SBC8100 单板机可选配件  | •7"LCD 屏（LCD8000-70T，分辨率为 800*480） •5.6"LCD 屏（LCD8000-56T，分辨率为 640*480）
•4.3"LCD 屏（LCD8000-43T，分辨率为 480*272）
•模拟摄像头模块 CAM8000-A
•模拟摄像头模块 CAM8000-A

## 光盘特性

光盘中包含如下内容，

*   软件

linux 驱动：Serial、RTC、Net、Flash、TV OUT、LCD、音频、触摸屏控制器、MMC/SD 卡、USB Host、USB OTG、VGA、S-Video、Keypad、WiFi、Led
wince 驱动：NLED、GPIO/I2C/SPI/MCBSP、TV OUT、串口、6*6 键盘、音频、Nand、LCD、VGA、TOUCH、SD/MMC/SDIO、DM9000 网卡、WiFi、USB OTG、USB EHCI、VRFB、DSPLINKK/CMEMK、GPIO、PWM、ADC、ONENAND

*   硬件

原理图（pdf 方式提供）
板载芯片数据手册

*   开发工具

linux 交叉编译工具

*   开发文档

用户手册(包括硬件特性，linux 用户指导及 wince 用户指导)

# **FAQ 总结**

关于使用 SBC8100 开发过程中所遇到的问题及解决方法，请访问[SBC8100_FAQ](http://elinux.org/SBC8100_FAQ "SBC8100 FAQ")

# Links

*   [Chinese homepage](http://www.timll.com/chinese/omap/SBC8100.asp) ([translate](http://translate.google.de/translate?js=n&prev=_t&hl=en&ie=UTF-8&u=http%3A%2F%2Fwww.timll.com%2Fproducts%2FDevkit8000.asp&sl=zh-CN&tl=en&history_state0=))

# Translate

[Translate this page to english](http://72.14.221.132/translate_c?hl=en&ie=UTF-8&sl=zh-CN&tl=en&u=http://elinux.org/DevKit8000&prev=_t&usg=ALkJrhiKbRZpb3HvcLdE-Q3nPrjPgeG5bw) |

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Linux](http://eLinux.org/Category:Linux "Category:Linux")
*   [OMAP](http://eLinux.org/Category:OMAP "Category:OMAP")
*   [Development Boards](http://eLinux.org/Category:Development_Boards "Category:Development Boards")

# SFFSDR

> From: [eLinux.org](http://eLinux.org/SFFSDR "http://eLinux.org/SFFSDR")

# SFFSDR

This page is for the [Lyrtech](http://www.lyrtech.com/) **S**mall **F**orm **F**actor [**S**oftware **D**efined **R**adio](http://en.wikipedia.org/wiki/Software_defined_radio) (SFFSDR) Board based on [DaVinci](http://eLinux.org/DaVinci "DaVinci") DM6446 SoC from Texas Instruments.

*   Lyrtech information about [small form factor SDR development platforms](http://www.lyrtech.com/index.php?act=view&pv=SFF%20SDR%20development%20platforms)
*   Original page [`opensdr.com/node/6`](http://opensdr.com/node/6)

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Development Boards](http://eLinux.org/Category:Development_Boards "Category:Development Boards")

# SheevaPlug

> From: [eLinux.org](http://eLinux.org/SheevaPlug "http://eLinux.org/SheevaPlug")

# SheevaPlug

## Contents

*   1 Introduction
*   2 Hardware
*   3 Software
*   4 Purchasing and more info
*   5 Similar products
    *   5.1 PogoPlug
    *   5.2 highseclabs sheeva plug
    *   5.3 ctera CloudPlug
    *   5.4 Further reading

# Introduction

From [`www.marvell.com/products/embedded_processors/developer/kirkwood/sheevaplug.jsp`](http://www.marvell.com/products/embedded_processors/developer/kirkwood/sheevaplug.jsp):

The SheevaPlug is a development platform, targeted for use as a plug computer, and designed to run network-based software services. It features a Kirkwood Series SoC with an embedded Marvell Sheeva™ CPU core running at 1.2 GHz. This device connects to the network using GbE, offers desktop class performance, and can be used to replace a PC-based home server for many applications. Peripherals connect using the included USB 2.0 port.

The development kit is enclosed in a plastic case that also contains a universal power supply. For developers a USB-based debug connection is included to enable simple debugging and reprogramming.

# Hardware

*   1.2 Ghz ARM CPU (88F6281 aka kirkwood) (L1 Cache: 16K Instruction + 16K Data, L2 Cache: 256KB)
*   512 MB RAM
*   512 MB NAND flash
*   1 GBit ethernet
*   USB host port
*   Real Time Clock with batter
*   JTAG and console interface via USB
*   SDIO interface

Pictures of the internals can be found at [`www.cyrius.com/debian/kirkwood/sheevaplug/gallery.html`](http://www.cyrius.com/debian/kirkwood/sheevaplug/gallery.html)

# Software

Linux variants supported or in the works:

*   Ubunto
*   gentoo
*   debian
*   fedora
*   openembedded

# Purchasing and more info

You can order a sheevaplug for USD 99 from [`www.globalscaletechnologies.com/p-22-sheevaplug-dev-kit.aspx`](http://www.globalscaletechnologies.com/p-22-sheevaplug-dev-kit.aspx)

Documentation can be found at [`www.marvell.com/files/products/embedded_processors/developer/kirkwood/SheevaPlug_DocumentationPackage.zip`](http://www.marvell.com/files/products/embedded_processors/developer/kirkwood/SheevaPlug_DocumentationPackage.zip)

"Its hardware design is completely open -- everything from schematics to Gerber files will be available on a website ... volume pricing could fall to $50" ^([[1]](#cite_note-1)).

# Similar products

## PogoPlug

[`www.pogoplug.com/`](http://www.pogoplug.com/)

Specification is not clear, No JTAG/SDIO

Preorder: USD 79, retail price: USD 99.

## highseclabs sheeva plug

[`www.highseclabs.com/sheeva_plug_sp1100.html`](http://www.highseclabs.com/sheeva_plug_sp1100.html)

Only 128 MB RAM, no JTAG/SDIO

## ctera CloudPlug

[`www.ctera.com/home/ctera-cloudplug.html`](http://www.ctera.com/home/ctera-cloudplug.html)

No further information available

## Further reading

1.  ↑ [Linuxdevices.com "$100 Linux wall-wart launches"](http://linuxdevices.com/news/NS9634061300.html)

2.  [`www.plugcomputer.org/`](http://www.plugcomputer.org/)

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Development Boards](http://eLinux.org/Category:Development_Boards "Category:Development Boards")

# StalkerBoard

> From: [eLinux.org](http://eLinux.org/StalkerBoard "http://eLinux.org/StalkerBoard")

# StalkerBoard

**EMA OMAP3530 EV A2** [EMA OMAP3530 EV A2](http://www.ema-tech.com/home/shownews.php?a_id=77)评估板是[广州英码信息科技有限公司](http://www.ema-tech.com/)自主研发的一款基于 TI[OMAP3530](http://focus.ti.com/general/docs/gencontent.tsp?contentId=36915&DCMP=OMAP_Feb27_2008&HQS=Other+PR+omap3503pr)处理器的开发板。

方便用户快速体验[OMAP3530](http://focus.ti.com/general/docs/gencontent.tsp?contentId=36915&DCMP=OMAP_Feb27_2008&HQS=Other+PR+omap3503pr)处理器的强大的数据运算处理能力，降低产品开发周期，实现面向消费电子、医疗仪器、多媒体处理、视频监控、工业控制等领域的产品快速上市。

该开发板为方案商、软件商、集成商提供了一个完善的[OMAP3530](http://focus.ti.com/general/docs/gencontent.tsp?contentId=36915&DCMP=OMAP_Feb27_2008&HQS=Other+PR+omap3503pr)评估/开发平台。

* * *

此工程的建立主要是为用户介绍[EMA OMAP3530 EV A2](http://www.ema-tech.com/home/shownews.php?a_id=77)的硬件软件资源及在开发[OMAP3530](http://focus.ti.com/general/docs/gencontent.tsp?contentId=36915&DCMP=OMAP_Feb27_2008&HQS=Other+PR+omap3503pr)时提供一个交流分享平台，可使用户快速的对[EMA OMAP3530 EV A2](http://www.ema-tech.com/home/shownews.php?a_id=77)评估套件进行全面的了解，并对开发的常见问题进行总结归纳。

## Contents

*   1 **评估板简介**
    *   1.1 **评估板概述**
    *   1.2 **评估板特点**
    *   1.3 **评估板、接口图片**
    *   1.4 **评估板接口详述**
    *   1.5 **评估板特性**
    *   1.6 **应用领域**
    *   1.7 **核心板硬件资源特性**
*   2 **以评估板为核心的计算机系统**
*   3 **评估板系统配件**
    *   3.1 **标准配件**
    *   3.2 **扩展配件**
*   4 **nandflash 启动教程**
*   5 **光盘内容**
*   6 **Demo 系统运行效果**

# **评估板简介**

![OMAP3530.jpg](http://eLinux.org/File:OMAP3530.jpg)

EMA OMAP3530 EV A2 评估主板

## **评估板概述**

该开发板分为核心板与底板两部分。它的设计思路的核心是：以 TI 最新的处理器[OMAP3530](http://focus.ti.com/general/docs/gencontent.tsp?contentId=36915&DCMP=OMAP_Feb27_2008&HQS=Other+PR+omap3503pr)为核心形成一个精简而完备的计算机系统。[OMAP3530](http://focus.ti.com/general/docs/gencontent.tsp?contentId=36915&DCMP=OMAP_Feb27_2008&HQS=Other+PR+omap3503pr)处理器基于性能四倍于 AMR9 内核的 ARM Cortex-A8 内核。[OMAP3530](http://focus.ti.com/general/docs/gencontent.tsp?contentId=36915&DCMP=OMAP_Feb27_2008&HQS=Other+PR+omap3503pr)在单一的芯片上集成了 ARM Cortex-A8 内核、DSP、图形引擎以及提供丰富的外设资源，提供了业界最佳的通用多媒体和图形处理单芯片组合。[EMA OMAP3530 EV A2](http://www.ema-tech.com/home/shownews.php?a_id=77)评估板采用[OMAP3530](http://focus.ti.com/general/docs/gencontent.tsp?contentId=36915&DCMP=OMAP_Feb27_2008&HQS=Other+PR+omap3503pr)作为其处理器，为开发者使用[OMAP3530](http://focus.ti.com/general/docs/gencontent.tsp?contentId=36915&DCMP=OMAP_Feb27_2008&HQS=Other+PR+omap3503pr)处理器提供了完善的软件开发平台，支持 Linux 及 WinCE 6.0 操作系统。[OMAP3530](http://focus.ti.com/general/docs/gencontent.tsp?contentId=36915&DCMP=OMAP_Feb27_2008&HQS=Other+PR+omap3503pr)提供超过 1200 Dhrystone MIPS 的高性能，可运行带桌面窗口管理器的 Linux 操作系统与办公应用，此外集成了兼容 OpenGL ES 2.0 的图形引擎，可针对游戏与 3D 用户界面加速实现照片般逼真的实时图形加速。时钟频率高达 430 MHz 的 DSP 内核为诸如家庭媒体中心、机器人系统、WEB 信息站以及数字指示牌、高清视频(720p)等应用提供强大的运算能力。底板则在核心板的基础上提供一个全接口的评估/开发平台。

## **评估板特点**

**核心板硬件特性**

| 处理器 | OMAP3530 主频 600MHz 、CortexA8NEON SIMD 协处理、430MHz TMS320C64x+ DSP 协处理、POWERVR SG™ 2D/3D 加速引擎。 |
| 存储器 | 1Gbit(128MByte) 低电压 DDR @ 166MHz。 |
| Flash | 1Gbit(128MByte) 高速低电压 SLC NandFlash。 |
| JTAG | 14Pin 1.8V JTAG。 |
| 指示灯 | 供电指示，电源管理模块指示。 |

**底板特性**

| 电源插座 | 直流+5V 电源输入。 |
| 电源开关 | 开关往下拨时，电源接通。开关往上拨时，电源关闭。 |
| 音频插座 | 立体声音频输入、立体声输出。 |
| 网络接口 | 标准 RJ45 10/100M 自适应以太网接口，带有链路灯、数据灯。 |
| 用户输入 | 复位按钮，一个 4*4 矩阵扫描键盘（最大支持到 6*6）。 |
| 显示接口 | 1 个数字视频 DVI-D（支持 EDID）、1 个 AV 端口（复合视频接口）、1 个 SVIDEO OUT 接口。 |
| 拨码开关 | 1 个拨码开关设置启动设备顺序。 |
| USB 接口 | 高速 USB 2.0 接口，符合 OTG（On The Go）、HOST 两种标准。 |
| 串口通信口插座 | 2 个标准的 RS232 型插座 |
| SD/SDIO/SDHC 插座 | SD/SDIO/SDHC 卡（也支持 TF、MiniSD 卡） |
| 扩展接口 | 2*30 插针扩展口 6*6 矩阵扫描键盘扩展口 LCD 扩展口 |

**软件资源**

| 系统 | 项目 | 特性 | 描述 |
| Linux | 启动代码 | 版本 | x-load-1.42，U-Boot 2009.06-svn14 |
| 启动方式 | 支持网络、SD 卡或 NAND Flash 中启动引导 Linux 系统 |
| 映像更新 | 支持网络或 SD 卡更新映像 |
| 内核与驱动 | 版本 | Linux 2.6.29 |
| 支持文件系统格式 | ROM/CRAM/EXT2/EXT3/FAT/NFS/JFFS2/UBIFS |
| 驱动支持 | Serial, RTC, NET, NAND, LCD, Touch Screen, MMD/SD,USB OTG, DVI, Keypad |
| 文件系统 | 文件系统格式 | Ramdisk 文件系统、UBI 文件系统 |
| 系统特性 | 库支持（ALSA -lib, tslib, glibc）,udev 设备管理支持 |
| Demo | Angstrom | 音频（XMMS），网络（Firefox），图形编辑器（gimp）及文档处理软件( Abiword) |
| Android | Google 开发的基于 Linux 平台的开源手机操作系统 |
| DVSDK 软件 | 支持 MPEG4，MPEG2，H264，mp3，aac 音\视频格式解码 |
| WinCE | 启动代码 | 版本 | x-load-1.42、Eboot |
| 启动方式 | 支持网络、SD 卡或 NAND Flash 中启动引导 wince 系统 |
| 映像更新 | 支持网络或 SD 卡更新映像 |
| 系统特性 | 内核特性 | KITL 内核调试, Reboot, Watchdog, RTC |
| 驱动支持 | 显示驱动（DVI, TFT LCD） |
| SD 卡, 键盘, McSPI, McBSP, 音频,网络, NLED, USB OTG |
| 系统功能 | 电源管理（背光驱动、电池驱动、休眠\唤醒功能） |
| HIVE 注册表支持 |
| ROM 文件系统支持 |
| 软件特性 | Media play 9.0, Word 编辑工具及 Internet Explorer 6.0 |
| .NET Compact Framework 3.5 |

## **评估板、接口图片**

![OMAP3530-1.jpg](http://eLinux.org/File:OMAP3530-1.jpg)

OMAP3530 处理器

主频 600MHz 、CortexA8 with NEON SIMD 协处理、430MHz TMS320C64x+ DSP 协处理、POWERVR SG™ 2D/3D 加速引擎。

![OMAP3530-2.jpg](http://eLinux.org/File:OMAP3530-2.jpg)

存储器+NandFlash

1Gbit(128MByte) 低电压 DDR @ 166MHz，1Gbit(128MByte) 高速低电压 SLC NandFlash。

![OMAP3530-3.jpg](http://eLinux.org/File:OMAP3530-3.jpg)

SD 卡接口 、UART 串行口

可接入标准 SD/SDIO/SDHC 卡（也支持 TF、MiniSD 卡）卡。系统可从此插座插入的 MMC/SD 卡启动。 2 路 UART 串行口，波特率可高达 115200bps，并具有 RS232 电平转换电路。

![OMAP3530-4.jpg](http://eLinux.org/File:OMAP3530-4.jpg)

100M 以太网接口、拨码开关

标准 RJ45 10/100M 自适应以太网接口，带有链路灯、数据灯。

![OMAP3530-5.jpg](http://eLinux.org/File:OMAP3530-5.jpg)

音频输入、音频输出和复位按钮

支持音频输入和音频输出，音频模块由 S3C2440 的 IIS 音频总线接口和 UDA1341 音频编码解码器组成。

![OMAP3530-6.jpg](http://eLinux.org/File:OMAP3530-6.jpg)

数字视频 DVI

[EMA OMAP3530 EV A2](http://www.ema-tech.com/home/shownews.php?a_id=77)评估板可通过此端口驱动一个 DVI-D 输入接口液晶显示器。

通过此座，该板输出 24 位的数字彩色显示信号。此接口提供的 I2C 通讯了实现对显示器的识别与通信。

![OMAP3530-7.jpg](http://eLinux.org/File:OMAP3530-7.jpg)

AV 端子（CVBS）、SVIDEO OUT 插座、MiniUSB 接口

![OMAP3530-8.jpg](http://eLinux.org/File:OMAP3530-8.jpg)

4*4 矩阵扫描键盘

![OMAP3530-9.jpg](http://eLinux.org/File:OMAP3530-9.jpg)

LCD 接口插座如图

![OMAP3530-10.jpg](http://eLinux.org/File:OMAP3530-10.jpg)

扩展外设插座

## **评估板接口详述**

**（1）+5V 直流电源输入插座 J9**

```
 J9 为+5V 直流电源输入座.注意输入电源插头的中芯为 DC+5V，插头外壳为直流电源地，输入电源最小 800mA（推荐为 1A）。 
```

**（2）电源开关插座 SW20**

```
 当往下拨时，电源处于接通状态。往上拨时，电源处于关闭。 
```

**（3）网络接口插座 J10**

```
 此接口为标准 RJ45 10/100M 自适应以太网接口，带有链路灯、数据灯。 
```

**（4）拨码开关 J12**（备注：1： 开关向上拨 0：开关向下拨）

```
 通过拨码开关设置 OMAP3530 启动设备的顺序。 
```

**（5）耳机输出插座 J6**

```
 提供立体声（双声道）音频信号输出，请在此端口连接有源音箱的音频输入插头或者立体声耳机/耳塞。 
```

**（6）麦克风输入插座 J5**

```
 提供立体声（双声道）音频信号的输入，请在此端口连接标准的立体声麦克风音频输入插头。 
```

**（7）复位开关 SW5**

```
 当按下并释放时，会使 EMA OMAP3530 EV A2 评估板进入上电复位状态，可以使开发板重新启动。 
```

**（8）SD 卡插座 J21**

```
 可接标准 SD/SDIO/SDHC 卡。
    系统可以从此插座插入 SD/SDIO 卡启动。 
```

**（9）串口通信插座 UART1 、UART3**

```
 串口插座提供标准的 RS232 通讯信号到其他设备。使用标准串口（直通）电缆连接开发板和其他标准串口接口的设备（如通用的 PC 机）。UART3 是 Linux 与 WinCE 系统的默认 TTY。 
```

**（10）数字视频 DVI 插座 J1**

```
 EMA OMAP3530 EV A2 评估板可通过此端口连接一个 DVI-D 输入接口液晶显示器。通过此接口，标准 TMDS 数字彩色显示信号。此接口提供的 I2C 通讯了实现对显示器的识别与通信。
    在连接评估板和显示器的 DVI-D 接口时，要选用 DVI-D 型视频连接线。在选配液晶显示器时，除了要兼容 DVI-D 接口，还建议选用能够支持 1280*720 或以上分辨率的显示器。 
```

**（11）液晶接口插座**

```
 该接口包含 24 位真彩色 CMOS 显示信号与触摸屏接口，所接液晶屏显示的分辨率可达到 1920*1080。 
```

**（12）AV 端子（CVBS）**

```
 复合视频端子也叫 AV 端子或者 Video 端子，是目前最普遍的一种视屏接口。EMA OMAP3530 EV A2 评估板选用 AV 接口，用来连接混合视频信号，为黄色插座。 
```

**（13）SVIDEO OUT 插座 J20**

```
 此插座可用视频线连接标准电视设备，实现复合视频信号的输出。EMA OMAP3530 EV A2 评估板可同时分别输出此复合信号和 DVI-D 信号，从而实现不同的显示输出。 
```

**（14）MiniUSB 接口 P3**

```
 此接口为 Mini 型 USB 主从复用插座，可连接标准的 USB 从设备。支持 OTG、HOST 两种模式（配用不同标准的接线）。
   当需要将此接口当作从口使用时，可选择标准 MiniUSB 转 USB 接口电缆。当需要将此口当作主口使用时，请使用 MiniUSB 转 USB A 转接插件，再连接一只有源的 USB 集线器使用。 
```

（15）4*4 矩阵扫描键盘

| 列\行 | 0 | 1 | 2 | 3 |
| 3 | SW16 | SW11 | SW6 | SW1 |
| 2 | SW17 | SW12 | SW7 | SW2 |
| 1 | SW18 | SW13 | SW8 | SW3 |
| 0 | SW19 | SW14 | SW9 | SW4 |

**（16）扩展外设插座 J11**

```
 扩展插座提供部分可外接的扩展信号，用户在需要使用这些信号时，可用相应的插座取得这些信号来利用。
请注意：J11 中 VBAT 提供 4.2V 的输出。其他提供的信号均为 1.8V 标准，用户在连接信号的时候，需要注意其电平限制，否之容易导致评估板上芯片损坏。 
```

**(17) 电源指示灯**

```
 当 EVA OMAP3530 EV A2 评估板，正确输入 DC+5V 电源后，此指示灯会亮起来，提示供电正常。如果供电后指示灯不亮，请立即断开电源并查找故障原因。 
```

## **评估板特性**

提供了完善的软件开发环境，支持 Linux 操作系统及 WinCE 6.0 操作系统

性能强劲：[OMAP3530](http://focus.ti.com/general/docs/gencontent.tsp?contentId=36915&DCMP=OMAP_Feb27_2008&HQS=Other+PR+omap3503pr)处理器采用 600MHz 主频的 ARM Cortex-A8 内核，配合 NEON technology，可满足大部分中高端多媒体应用需求 内置 DSP：内置 430MHz 的 TMS320C64x+ DSP 核，可支持 H.264 的硬件编码/解码加速 2D/3D 硬件加速：内置 POWERVR SG™ 2D/3D 图形硬件加速引擎 低功耗：核心板在全速情况下不超过 2.5W 功耗 采用最小系统分离式的设计：该产品的核心板提供了一个基于 TI [OMAP3530](http://focus.ti.com/general/docs/gencontent.tsp?contentId=36915&DCMP=OMAP_Feb27_2008&HQS=Other+PR+omap3503pr)处理器的最小系统。整块核心板体积细小但功能完善, 并提供[OMAP3530](http://focus.ti.com/general/docs/gencontent.tsp?contentId=36915&DCMP=OMAP_Feb27_2008&HQS=Other+PR+omap3503pr)处理器的全部接口。根据不同的客户需要，只需要替换底板即可满足不同的应用场合。

硬件研发难度低、成本低：硬件可基于核心板直接进行研发，一般情况下只需要设置个简单的双层电路板设计即可完成硬件研发。

方便用户快速体验[OMAP3530](http://focus.ti.com/general/docs/gencontent.tsp?contentId=36915&DCMP=OMAP_Feb27_2008&HQS=Other+PR+omap3503pr)处理器的强大的数据运算处理能力，降低产品开发周期，实现面向消费电子、医疗仪器、多媒体处理、视频监控、工业控制等领域的产品快速上市。

## **应用领域**

**低功耗平板电脑**：使用核心板的基础上设计一块简单的底板，再搭配一块 8 寸 LCD 即可满足应用要求。[OMAP3530](http://focus.ti.com/general/docs/gencontent.tsp?contentId=36915&DCMP=OMAP_Feb27_2008&HQS=Other+PR+omap3503pr)可支持 Linux、Windows CE 系统，内建 600MHz ARM Cortex-A8 内核的处理能力完全满足低功耗平板电脑的要求。

**高性能手持设备**：使用核心板的基础上设计一块简单的底板，再搭配一块小尺寸 LCD 即可满足应用要求。低功耗的核心板设计提供更高的设备续航能力。例如智能手机、GPS 系统。

**IP 视频监控终端**：使用核心板的基础上设计一块简单的底板，再搭配一个监控摄像头即可满足应用要求。[OMAP3530](http://focus.ti.com/general/docs/gencontent.tsp?contentId=36915&DCMP=OMAP_Feb27_2008&HQS=Other+PR+omap3503pr)内置的 TMS320C64x+ DSP 核可进行硬件 H.264 编码，使得监控视频流在最小带宽占用下稳定传输。

**大型游戏机**：使用核心板的基础上设计一块简单的底板，再搭配各种大型游戏机的输入设备即可满足应用要求。[OMAP3530](http://focus.ti.com/general/docs/gencontent.tsp?contentId=36915&DCMP=OMAP_Feb27_2008&HQS=Other+PR+omap3503pr)内置的 POWERVR SG™ 2D/3D 图形硬件加速引擎可以完全满足大型游戏的 3D 性能要求。

**医疗仪器**：使用核心板的基础上设计一块简单的底板，通过 VGA 显示即可满足应用要求。

**工业控制**：使用核心板的基础上设计一块简单的底板，再搭配工业用的、CAN 总线、网口等接口即可满足应用要求。[OMAP3530](http://focus.ti.com/general/docs/gencontent.tsp?contentId=36915&DCMP=OMAP_Feb27_2008&HQS=Other+PR+omap3503pr)内置的 430MHz 的 TMS320C64x+ DSP 核，可满足工业控制的应用开发要求。

## **核心板硬件资源特性**

**[EMA OMAP3530 EV A2](http://www.ema-tech.com/home/shownews.php?a_id=77)核心板硬件配置**

| OMAP 3530 | 600MHz ARM Cortex-A8 processor with NEON technology |
| 430MHz TMS320C64x+ DSP 协处理器 |
| POWERVR SG™ 2D/3D 加速引擎 |
| RAM | 1Gbit(128MByte)/ 2Gbit(256MByte) 低电压 DDR @ 166MHz |
| Flash | 1Gbit(128MByte)/ 2Gbit(256MByte) 高速低电压 SLC NandFlash |
| 指示灯 | 供电指示，电源管理模块指示 |
| JTAG | 14Pin 1.8V JTAG |
| 电源输入 | 4.2V DC 输入 |
| 电源输出 | 1.8V DC 输出（配给其他接口器件用） |
| I/O 电压 | 1.8V LVCMOS |

# **以评估板为核心的计算机系统**

| ![OMAP3530 1.jpg](http://elinux.org/File:OMAP3530_1.jpg) |

# **评估板系统配件**

## **标准配件**

1、 [EMA OMAP3530 EV A2](http://www.ema-tech.com/home/shownews.php?a_id=77)评估板一块 2、 直流+5v 的电源一只 3、 RS232 串口线 1 条。直通线，两端均为母头。 4、 2G SD 卡一块 5、 USB2.0 Mini B 转 USB2.0 A 线 6、 软件光盘 1 张 DVD

## **扩展配件**

1、 USB 键盘 2、 USB 鼠标 3、 音频连接线（双声道）1 条 4、 4 口 USB 集成器 5、 网线

# **nandflash 启动教程**

EMA OMAP3530 EV A2 评估板已成功从 nandflash 启动。更详细的教程，请参考[`code.google.com/p/ema3530/wiki/NandBooting`](http://code.google.com/p/ema3530/wiki/NandBooting)

# **光盘内容**

[OMAP3530](http://focus.ti.com/general/docs/gencontent.tsp?contentId=36915&DCMP=OMAP_Feb27_2008&HQS=Other+PR+omap3503pr)开发板用户手册

[OMAP3530](http://focus.ti.com/general/docs/gencontent.tsp?contentId=36915&DCMP=OMAP_Feb27_2008&HQS=Other+PR+omap3503pr)核心板用户手册 OMAP35X 技术参考手册

[OMAP3530](http://focus.ti.com/general/docs/gencontent.tsp?contentId=36915&DCMP=OMAP_Feb27_2008&HQS=Other+PR+omap3503pr)数据手册

[OMAP3530](http://focus.ti.com/general/docs/gencontent.tsp?contentId=36915&DCMP=OMAP_Feb27_2008&HQS=Other+PR+omap3503pr)底板 A2 版芯片数据手册

Linux 镜像文件(MLO、u-boot.bin、uImage) X-Loader 二进制程序 U-Boot 二进制程序 Linux 内核镜像文件 Demo 文件系统 X-Loader 源代码 U-Boot 源代码 Linux kernel 源代码 Linux 交叉编译工具链 Ubuntu 虚拟机系统压缩版

EMA [OMAP3530](http://focus.ti.com/general/docs/gencontent.tsp?contentId=36915&DCMP=OMAP_Feb27_2008&HQS=Other+PR+omap3503pr)核心板 A3 版管脚原理图 EMA [OMAP3530](http://focus.ti.com/general/docs/gencontent.tsp?contentId=36915&DCMP=OMAP_Feb27_2008&HQS=Other+PR+omap3503pr)底板 A2 版原理图

Tftpd 下载工具 虚拟机安装包

# **Demo 系统运行效果**

本系统提供的 Demo 程序为基于 Angstrom 的 Linux 桌面系统。 透过 DVI-D 信号输出的界面(分辨可达 1080p)。 可使用 Angstrom 系统中的各种软件，包括文档编辑，上网浏览，音频视频播放及图形编辑等功能，并可用 USB 键盘鼠标对此系统进行操作控制。

| ![Demo1.jpg](http://elinux.org/File:Demo1.jpg) |

| ![Demo2.jpg](http://elinux.org/File:Demo2.jpg) |

| ![Demo3.jpg](http://elinux.org/File:Demo3.jpg) |

| ![Demo4.jpg](http://elinux.org/File:Demo4.jpg) |

| ![Demo5.jpg](http://elinux.org/File:Demo5.jpg) |

| ![Demo6.jpg](http://elinux.org/File:Demo6.jpg) |

| ![Demo7.jpg](http://elinux.org/File:Demo7.jpg) |

| ![Demo8.jpg](http://elinux.org/File:Demo8.jpg) |

| ![Demo9.jpg](http://elinux.org/File:Demo9.jpg) |

| ![Demo10.jpg](http://elinux.org/File:Demo10.jpg) |

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Linux](http://eLinux.org/Category:Linux "Category:Linux")
*   [OMAP](http://eLinux.org/Category:OMAP "Category:OMAP")
*   [Development Boards](http://eLinux.org/Category:Development_Boards "Category:Development Boards")

# TechnologicSystems

> From: [eLinux.org](http://eLinux.org/TechnologicSystems "http://eLinux.org/TechnologicSystems")

# TechnologicSystems

# Technologic Systems

Technologic Systems ( [`www.embeddedarm.com`](http://www.embeddedarm.com)) offers some nice boards that are usable as development boards but also as OEM modules to integrate into your products.

Especially the TS-7300 is a very nice board build around the Cirrus Logic [EP9312 SoC](http://www.google.com/url?sa=U&start=2&q=http://www.cirrus.com/en/pubs/proDatasheet/EP9312_PP7.pdf&ei=lKHaSayGAaiEtAORo_3NBg&usg=AFQjCNECAA5mFXS_jAAXEpw49NMujvAsOw) to experiment with FPGA technology. This board contains a completely unoccupied FPGA that can be programmed from the main CPU.

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Companies](http://eLinux.org/Category:Companies "Category:Companies")

# Tegra2

> From: [eLinux.org](http://eLinux.org/Tegra2 "http://eLinux.org/Tegra2")

# Tegra2

Tegra 2 is a system-on-a-chip (SoC) created by [NVIDIA](http://www.nvidia.com). The SoC comprises a dual-core ARM Cortex-A9 with FPU per core, an NVIDIA ultra low power (ULP) GPU, an embedded ARM7TDMI and five other processing cores for audio and video processing.

The [NVIDIA developer zone](http://developer.nvidia.com/tegra/) has more information on Tegra.

There are [forums for software developers](http://developer.nvidia.com/tegra/forum) and the like.

## Topics

*   Hardware
    *   [Tegra 2 Chip](http://www.nvidia.com/object/tegra_250.html)
    *   [Tegra 200/250 Development Board](http://developer.nvidia.com/tegra/tegra-devkit-features)
    *   [Colibri T20 Computer Module](http://www.toradex.com/products/colibri-arm-computer-modules)
    *   Devices
        *   Rumored
        *   Announced
*   Operating Systems
    *   [Android](http://eLinux.org/index.php?title=Tegra_Android&action=edit&redlink=1 "Tegra Android (page does not exist)")
    *   [Linux](http://eLinux.org/Tegra_Linux "Tegra Linux")
    *   [Debian](http://eLinux.org/Tegra_2 "Tegra 2")
    *   Windows RT
    *   Windows CE, Windows Compact
*   OpenGL Information and Development

## Hardware

[TODO: Add information about dev kit hardware]

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [ARM processors](http://eLinux.org/Category:ARM_processors "Category:ARM processors")

# Tegra/Mainline SW/U-Boot

> From: [eLinux.org](http://eLinux.org/U-Boot "http://eLinux.org/U-Boot")

# Tegra/Mainline SW/U-Boot

\< [Tegra](http://eLinux.org/Tegra "Tegra")‎ | [Mainline SW](http://eLinux.org/Tegra/Mainline_SW "Tegra/Mainline SW")

NVIDIA Tegra SoCs are well supported by mainline U-Boot.

U-Boot releases may be obtained from:

*   ftp://ftp.denx.de/pub/u-boot/ releases, via download.
*   [`git.denx.de/?p=u-boot.git;a=summary`](http://git.denx.de/?p=u-boot.git;a=summary) releases and overall development code, via git.
*   [`git.denx.de/?p=u-boot/u-boot-tegra.git;a=summary`](http://git.denx.de/?p=u-boot/u-boot-tegra.git;a=summary) Tegra-specific latest development code, via git.

Features that already work are:

*   It boots!
*   Serial console.
*   SD/eMMC.
*   USB2 Host:
    *   USB networking for network booting.
    *   USB keyboard enabled on some boards.
*   Display controller, for some SoCs and boards - mainly Tegra20/30.
*   `bootz`, `sysboot`, `pxe` commands, shell, and scripting available for easy distro booting support.
*   Extremely basic PMIC support necessary to boot the main CPUs.
*   I2C master.
*   SPI master (e.g. for boot flash programming).
*   NAND (Tegra20 only, for boot flash programming).
*   I2C slave (Toshiba AC100 specific NVEC keyboard support).

A probably-incomplete list of features that are not yet implemented is:

*   Advanced (high-speed) transfer modes for SD and eMMC. IO voltage scaling.
*   PCIe (e.g. for PCIe-based network devices on some boards).
*   USB2 device mode and OTG. (device mode support is work-in-progress, and nearly complete).
*   USB3 controller.
*   SATA.
*   SKU awareness (SKU-specific clock and thermal limits).
*   POR (Plan Of Record) clocks.
*   HDMI display.
*   LCD panel support on many boards (especially Tegra114 and later).

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [NVIDIA](http://eLinux.org/index.php?title=Category:NVIDIA&action=edit&redlink=1 "Category:NVIDIA (page does not exist)")
*   [Tegra](http://eLinux.org/index.php?title=Category:Tegra&action=edit&redlink=1 "Category:Tegra (page does not exist)")
*   [U-Boot](http://eLinux.org/Category:U-Boot "Category:U-Boot")

# Tiny210

> From: [eLinux.org](http://eLinux.org/Tiny210 "http://eLinux.org/Tiny210")

# Tiny210

*   [Mini210S](http://www.hycshop.com/mini210210s-c-1_6/) Dark colored Release

*   [Mini210S](http://www.1st-safety.com/arm/Tiny210/) African american Release

    *   -- 1GHz Central processing unit
    *   1GB SLC / 512MB Ram memory
    *   2.0 Or Android operating system

Apart from the masterdom to become dark colored, and also declaring "ARMWorks", it possesses a great few additional features:

Make of this description what you will...

1st, this micro, ADC analyze cooking pot, as well as the piezo buzzer can easily all be eradicated (unsoldered : they're by ditch parts) plus a 6 flag outlet provides admission to those signs. You can see the idea while in the decrease still left listed here, from the customer switches. OEMs might sequence planks without worrying about a couple of sections and also the GPIO as well as coach bus extendable headers unpopulated. Oh yea, and 1G SLC NAND to make certain you will find free owners.

## Links

*   [`www.china-pbx.cn/friendlyarm/Tiny210/`](http://www.china-pbx.cn/friendlyarm/Tiny210/)
*   [`www.voice-logger.com/arm/Tiny210/`](http://www.voice-logger.com/arm/Tiny210/)

# VIA APC 8750

> From: [eLinux.org](http://eLinux.org/VIA_APC_8750 "http://eLinux.org/VIA_APC_8750")

# VIA APC 8750

![Apc-angle.jpg](http://eLinux.org/File:Apc-angle.jpg)

## Introduction

APC runs a custom Android system, built for keyboard and mouse input. A basic selection of applications is preinstalled. Also included is a full set of consumer I/O ports, enabling APC to connect to your PC monitor or TV.

More info on [`apc.io/`](http://apc.io/)

## Specifications

| Item | Description |
| --- | --- |
| Model | APC 8750 |
| Software | Android 2.3 (PC System) |
| Chip | VIA 800MHz Processor |
| Memory | DDR3 512MB Memory 2GB NAND Flash |
| Graphics | Built-in 2D/3D Graphic Resolution up to 720p |
| Input and Output | HDMI / VGA / USB 2.0 (x4) / Audio out / Mic in microSD Slot |
| Network | 10/100 Ethernet |
| Size | 170 x 85mm (W x H) Neo-ITX Standard* |

* Neo-ITX is form factor compatible with [Mini-ITX](http://en.wikipedia.org/wiki/Mini-ITX) and [MicroATX](http://en.wikipedia.org/wiki/MicroATX)

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [VIA APC](http://eLinux.org/Category:VIA_APC "Category:VIA APC")

# WandBoard

> From: [eLinux.org](http://eLinux.org/WandBoard "http://eLinux.org/WandBoard")

# WandBoard

| ![Merge-arrows.png](http://elinux.org/File:Merge-arrows.png) | This page is may need to be merged with other page(s) including [Wandboard](http://elinux.org/Wandboard "Wandboard"). Please help to merge the articles, or discuss the issue on the talk page. |

The [[WandBoard](http://wandboard.org)] is a very low-cost development platform based on the Freescale i.MX6 processor.

## Contents

*   1 Hardware
    *   1.1 EDM module
    *   1.2 Motherboard
*   2 Availability
*   3 Community

# Hardware

There are currently two versions of WandBoard, "Solo" and "Dual". The WandBoard itself is a System-On-Module of the [EDM](http://eLinux.org/EDM "EDM") standard that comes with a matching motherboard. The motherboard is quite trivial and is the same for both versions of the WandBoard.

![WandBoard
front.jpg](http://eLinux.org/File:WandBoard_front.jpg) ![WandBoard
back.jpg](http://eLinux.org/File:WandBoard_back.jpg)

## EDM module

*   [Freescale](http://eLinux.org/index.php?title=Freescale&action=edit&redlink=1 "Freescale (page does not exist)") [i.MX6](http://eLinux.org/index.php?title=I.MX6&action=edit&redlink=1 "I.MX6 (page does not exist)") [CPU](http://eLinux.org/index.php?title=CPU&action=edit&redlink=1 "CPU (page does not exist)") ([ARM](http://eLinux.org/index.php?title=ARM&action=edit&redlink=1 "ARM (page does not exist)") Cortex A9)
    *   i.MX6 Solo (single core) on "Solo" version
    *   i.MX6 Dual Lite (dual core) on "Dual" version
    *   [Vivante](http://eLinux.org/index.php?title=Vivante&action=edit&redlink=1 "Vivante (page does not exist)") GPU:
        *   3D core: GC880 @ @ 533MHz, 1 shader core 4.8 GFLOPS
        *   2D core: GC320 composition engine
*   DDR3 RAM
    *   512 MB on "Solo" version (two 2Gbit chips)
    *   1 Gigabyte on "Dual" version (four 2Gbit chips)
*   MicroSD card slot (bootable, at SD3 of the CPU)
*   AR8031 Gigabit LAN
*   BCM4329 Wi-Fi+Bluetooth (at SD2, UART3, AUD5; unpopulated on "Solo" version)
*   Flat cable connector for camera (CSI, I2C2, GPIO)
*   Power circuit (5V input)

## Motherboard

*   Gigabit LAN connector
*   HDMI connector
*   USB host connector (USB3 for future use but currently in USB2 mode only)
*   USB OTG connector
*   MicroSD card slot (at SD1)
*   UART DB9 connector (at UART1 via ADM3202)
*   Audio I/O (at AUD3 via SGTL5000) and SPDIF (3.5mm jacks and optical)
*   5VDC power barrel connector
*   SATA connector (probably unpopulated, reserved for future use; no SATA on i.MX6 Solo and Dual Lite)
*   Four 1.27mm 2x10 expansion headers:
    *   LVDS0 (4 signal pairs + clock), +3V3
    *   Flat panel display data lines (24 bit total); no power or GND at this header
    *   Rest of FPD data lines, FPD control lines, +3V3, three I2C interfaces
    *   One SPI (with two CS), 8 GPIO lines, +5V

# Availability

As of Jan 17, 2013 preorder only. Prices are 69 USD for Solo and 89 USD for Dual. First boards seem to be shipped to partner developers.

# Community

*   Website: [`wandboard.org`](http://wandboard.org)

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [NeedsMerge](http://eLinux.org/Category:NeedsMerge "Category:NeedsMerge")
*   [Development Boards](http://eLinux.org/Category:Development_Boards "Category:Development Boards")
*   [Hardware](http://eLinux.org/Category:Hardware "Category:Hardware")
*   [SBC](http://eLinux.org/index.php?title=Category:SBC&action=edit&redlink=1 "Category:SBC (page does not exist)")
*   [ARM](http://eLinux.org/index.php?title=Category:ARM&action=edit&redlink=1 "Category:ARM (page does not exist)")

# 贡献内核补丁

> 原文：[eLinux.org](http://elinux.org/Kernel_Mainlining)
> 翻译：[@DecJude](https://github.com/DecJude)
> 校订：[@lzufalcon](https://github.com/lzufalcon)

# 贡献内核补丁（Kernel Mainlining）

本文为嵌入式开发者介绍了如何往 Linux 内核主线贡献补丁。

## 目录

*   1 通用资源
    *   1.1 相关演讲
        *   1.1.1 演讲列表
    *   1.2 训练，指导和挑战
*   2 具体项目
*   3 最佳行动说明
    *   3.1 来自 Andrew Morton
    *   3.2 来自 Deepak Saxena
    *   3.3 来自 Jonathan Corbet
    *   3.4 来自 Arnd Bergmann
    *   3.5 来自 David Arlie
*   4 克服 Mainlining 遇到的障碍

## 通用资源

*   [Documentation/HOWTO](https://www.kernel.org/doc/Documentation/HOWTO)
    *   说明了如何为 Linux 内核编写并贡献代码
*   [Documentation/development-process](https://www.kernel.org/doc/Documentation/development-process/)
    *   讲述了内核开发流程

### 相关演讲

Greg KH 曾做过一次伟大的演讲，主题是关于 Linux 社区是如何工作的，下面是演讲内容的链接，可以参考用以入门:

*   [Linux 内核开发（PDF）](https://github.com/gregkh/kernel-development/blob/master/kernel-development.pdf?raw=true)

更早的时候（2008 年），Andrew Morton 在一次演讲中谈到了往 Linux 内核贡献的原因，以及往内核社区贡献代码的最佳方法：

*   kernel.org 开发和嵌入式世界
    *   在 2008 年的这次开创性的演讲中，Andrew 勾勒出了嵌入式企业参与内核开发的情景。他讲解了整个开发流程，更为重要的是，他讲到了开发者们很期待的内容，即在一步步 Mainlining（往内核贡献补丁）的过程中，要做什么，不要做什么，以及如何组建团队，以便可以和内核社区高效地协同工作。

#### 演讲列表

下面是之前提到的 Linux 会议中的关于 Mainlining 和社区参与的一系列演讲:

*   [如何参与内核开发过程（PDF）](http://eLinux.org/images/0/00/Corbet-dev-process.pdf "Corbet-dev-process.pdf")
    *   2007 年嵌入式 Linux 会议，举办于 2007 年 4 月，由 Jonathan Corbet 报告
    *   这次演讲旨在厘清那些取得成功和导致失败的因素，这将在某种程度上帮助到那些意图将代码合入内核主线的人。
*   2008 年 Andrew Motion 的演讲 （同上）
*   适当的社区做法: 社会和技术咨询 - 2008 年嵌入式 Linux 会议，举办于 2008 年 4 月，由 Deepak Saxena 报告
    *   摘要：随着 Linux 在嵌入式领域越来越受欢迎，硬件厂商们都在跃跃欲试，想要为他们的设备/芯片/SoC 添加对 Linux 内核的支持。在社区内，我们不断看到同样的错误在重演（包括技术和交流方面）。参与内核社区我们可以得到一些益处，并且可以借鉴一些 Linux 开发生态系统中失败的例子，来适当加以练习，从而提高代码被收录到 kernel.org 的几率;
*   [嵌入式 Linux 维护者：社区和嵌入式 Linux](http://eLinux.org/images/c/c5/Dwmw2-community_and_embedded_linux.pdf "Dwmw2-community and embedded linux.pdf") - 在 2008 年欧洲嵌入式 Linux 会议上，由 David Woodhouse 报告
    *   这次演讲介绍并讨论了关于"嵌入式内核维护者" 的新的社区规则，和 David 主席的一些构想，并且在寻求大家的意见。即"嵌入式内核维护者"这个工作实际上应该意味着什么？
    *   内核社区迫切需要更加凝聚 - 不仅仅是希望大公司和我们关系融洽，也是因为到目前为止我们还没有建立起一个围绕嵌入式 Linux 的社区。他们本应该协同工作，但即使在少数的项目中也没有做到。"嵌入式内核维护者"的角色和其他内核模块的维护者不一样 - 我们甚至没有自己的特定的整块代码，只是扮演了看门人和权威人士（arbiter of taste）的角色。所以更多的是需要把开发者聚在一起，让大家更好的合作。
*   [嵌入式 Linux 和主线内核](http://eLinux.org/images/c/c5/Dwmw2-ELC-2009-04.pdf "Dwmw2-ELC-2009-04.pdf")
    *   2009 年嵌入式 Linux 会议，举办于 2009 年 4 月，由 David Woodhouse 报告
    *   在技术层面，嵌入式 Linux 和其他的 Linux 应用领域的共性，比嵌入式开发者意识到的要多得多。在这次演讲中，David 将会阐述嵌入式开发者们所关心的功能与那些企业和桌面级系统需求之间的许多重要的交叉领域。那些关于嵌入式开发者不需要和更大 Linux 社区进行互动交流的陈辞滥调是站不住脚的。David 不但讲解了应对不断增加的社区内协同工作的技术原理，也为嵌入式开发者更好的参与进来提供了一些建议。
    *   Notes: 从嵌入式领域外找寻其他有相同需求的第三方。 虚拟化系统是一个很值得去了解的地方，因为他们经常会有资源方面的约束。
*   [社区内的合作与发展](http://eLinux.org/images/5/50/CommunityDevelopment.pdf "CommunityDevelopment.pdf") - 在 2009 年嵌入式 Linux 会议上，由 Jeff Osier-Mixon 报告
    *   这次演讲介绍了 MELD （MontaVista 主办的嵌入式 Linux 社区）
*   [成为内核社区的一部分](http://eLinux.org/images/6/63/Elc2011_bergmann_keynote.pdf "Elc2011 bergmann keynote.pdf") - 在 2011 年嵌入式 Linux 会议上，由 Arnd Bergmann 报告
    *   这次演讲介绍了被整合进 Linux 社区的好处（嬉皮士风格的演讲）。
*   [开发者日记：去推动进程](http://eLinux.org/images/f/fe/Elc2011_sang.pdf "Elc2011 sang.pdf") 2011 年嵌入式 Linux 会议，举办于 2011 年 4 月，由 Wolfram Sang 报告
    *   包括了往内核主线贡献代码的最佳做法的记录。
*   为社区做贡献？你的经理支持你吗？ - 在 2011 年欧洲嵌入式 Linux 会议上，由 Satoru Ueda 报告
    *   这是一场关于"如何说服你的上司"的演讲。
*   ELC-2013 rose
*   ELC-2013 chalmers
*   ELC-2014 maupin
*   [两年的 Mainlining ARM Soc 支持的经验与教训](http://eLinux.org/images/d/dc/Petazzoni-soc-mainlining-lessons-learned.pdf "Petazzoni-soc-mainlining-lessons-learned.pdf") - 2014 年嵌入式 Linux 会议，举办于 2014 年 4 月，由 Thomas Petazzoni 报告
    *   给出了很多好的技巧，包括社群方面的。

### 训练，指导和挑战

*   [内核新手网站](http://kernelnewbies.org/) 是一个专注于帮助开发者学习如何往 Linux 内核做贡献的网站

    *   该网站有一个"待做" 列表，上面是一些小的开发任务，地址在[`kernelnewbies.org/KernelJanitors/Todo`](http://kernelnewbies.org/KernelJanitors/Todo)
    *   他们有个非常好的 [上游合并指南](http://kernelnewbies.org/UpstreamMerge) 板块，那里有很多技术以及社群方面的技巧。
*   The Outreach Program For Women（女性推广项目）有一个非常好的指导步骤，是关于如何贡献你的第一个补丁到内核

    *   [OPFW 第一个内核补丁教程](http://kernelnewbies.org/OPWfirstpatch)
*   [Eudyptula 挑战](http://eudyptula-challenge.org/)

    *   这是一个通过邮件来管理的一系列任务，总共 20 个， 用以帮助开发者学习如何开发内核并提交补丁。
    *   LWN.net 的文章：[`lwn.net/Articles/599231/`](http://lwn.net/Articles/599231/)
*   [Linux 内核骇客新手指南](http://www.tuxradar.com/content/newbies-guide-hacking-linux-kernel)

## 具体项目

*   CE 工作组设备 Mailining 项目
*   高通 SOC Mainlining 的项目
*   [全志 Mainlining 的努力](http://linux-sunxi.org/Linux_mainlining_effort)
    *   这是一个相当好的网站，上面更新了已经合入各内核分支的补丁的状态，以及哪些些任务仍在进行中。

## 最佳行动说明

### 来自 Andrew Morton

*   工业界应当有一个嵌入式内核维护者
*   向内核社区上报问题和需求
*   参与社区论坛
*   企业应该贡献出几位工程师，独立于产品开发团队
*   基于最新的内核主线开发产品，产品开发结束时冻结它（译者注：不再和主线保持同步）。
    *   从我所了解的看：目前 Android 相关模块和板级支持不在此列（译者注：主流 Android 设备都会不定时获得系统更新，包括了 Linux 内核)。
*   向社区（Andrew）寻求帮助

### 来自 Deepak Saxena

*   不要傲慢 - 不要试图把你在特定领域开发的经验照搬到开源领域
    *   保持谦逊并听取其他人的想法
*   早点发布，频繁发布
    *   不这样做的话，以后会浪费很多时间在实现的推翻和重写上面
*   个人练习
    *   看看那些 Linux 内核已经实现了的部分，看它是否可以扩展来支持你的案子。
    *   把实现加入到现有的抽象层，而不是用你自己的新潮的方案 (愿意去舍弃你自己的部分代码，只要最终你的相关模块可以得到社区支持)
*   不要添加 OS 层面的抽象实现（或者是来自其他操作系统的 HAL 层）
    *   驱动程序必须是位于 Linux 内核层面 - 位于其他层和复杂的驱动程序没有办法被 Linux 内核开发者所维护
*   添加抽象实现 - 不要仅仅只解决你眼前的问题
    *   实现支持多个相关硬件的系统方案
    *   有意愿去推广普及
*   个人练习
    *   使用 Mainlining 资源
    *   提出有见解的问题
*   和社区协同工作，把他们看作是你自己的团队
    *   把来自外部的开发者当作你的团队成员
    *   尊重他们

### 来自 Jonathan Corbet

*   原因 <查看演讲稿>
*   专有软件和开源软件的差异
    *   专有软件 = 产品驱动，自上而下的需求，短期，内部品控，层层决策，私有代码库，完全控制
    *   开源软件 = 流程驱动，自下而上的需求，长期，外部品控，一致决策，公共代码库，轻度控制
*   理解补丁的生命周期
    *   尽早发出来，通过社区解决问题
    *   进入 staging 目录
    *   被内核主线接纳
*   尽早发布，频繁发布
*   提交补丁
    *   发送变更，即使不被接受也可以影响相关方向
    *   不要有一对多的补丁， 把每个补丁做到简单和独立
    *   做出一分为二的补丁系列
    *   遵循提交规则
        *   使用 `diff -u`，不带媒体信息，格式正确，添加署名行（Signed-off-by），避免自动换行 watch word-wrapping
    *   发送到正确的地方: MAINTAINERS（维护人员），可通过 get-maintainer.pl 工具自动获得
    *   听取审核人的意见，要有礼貌，不要忽略他们的反馈
*   看开点
    *   你的代码或许要重写或者被替换
*   写代码
    *   遵循代码风格规范
        *   不要太多 (HAL 层，没有用到的参数，只有一行代码的函数)
            *   不要有支持多个 OS 的代码
        *   不要太少 - 如果相关实现已经有了，应当推广之
    *   不要破坏 API
        *   只有在理由充分时才可以破坏内核的 API，但是你也必须把整个内核的相关部分都修复
        *   永远不要破坏用户空间的 API
    *   不要引发衰退

### 来自 Arnd Bergmann

*   朋友，支持者和不速之客
*   不要（通过下述方式之一）骚扰你的内核维护者
    *   公开你所有的代码，包括设备驱动
    *   他们会很喜欢开源的 3D 嵌入式图形驱动
*   成为社区的一份子
*   付出和回报
    *   分步解决
        *   使用公开的源代码
        *   修改源代码 - 给每个功能做一个 git 分支
        *   每个分支都应该有机会向社区提交
    *   跨越浪潮
        *   尽可能的多去重构（译者注：应该是指 `git rebase` 来重构内核补丁，确保准备提交往内核的补丁足够逻辑清晰、代码干净）
    *   把产品的代码树和开发的代码树分开
        *   把开发一直放在单独的分支进行
    *   审核
        *   提供学习经验
        *   新来的人也可以评审，并且在这个过程中学习
    *   尊重
        *   审核人 - 要认可开发者的努力工作，即使你不得不打回他们的提交
        *   提交人 - 应当尊重审核人的经验和知识，按他们的建议来做，即使你可能并不认同
    *   拒绝
        *   维护者 - 拒绝差的代码比接受好的代码更为重要
    *   责任
        *   不要仅仅只复制这些基础的部分，还要扩展它，推广它

### 来自 David Arlie

[`airlied.livejournal.com/80112.html`](http://airlied.livejournal.com/80112.html)

* * *

你有很长的一段路要走，但首先你要从家里离开

或是为什么公开代码才是 STEP ZERO.

如果你已经在内部开发好了准备往内核贡献的代码，你也许有很多原因不能一开始就默认选择开源，你也许不是在像 Red Hat 这样的默认支持开源政策的公司工作，或者是你可能害怕恐怖的内核社区，想自己成为一块闪亮的宝石。

如果你的公司正在遭受代码合法性评审等等之类的痛苦，可能你已经花费/浪费了好几个月的工程时间在内部评审和相关事项上，所以你还有什么理由不去考虑这些问题呢？你都已经浪费了这么多的时间在这些事上了，这绝对是个问题

所以如果你都有了优雅的代码库，那么内核维护者们有什么理由不喜欢去合入它们呢？！

然后，你就公开了你的代码。

看吧，你才离开你的屋子。而合入你的代码还有数英里远的距离，你才刚刚踏上路途，是从现在开始算起，不是在你开始写代码的时候，不是在你开始做代码合法性评审的时候，也不是当你私底下第四次重写代码的时候。 你只是从现在开始。

也许你不得不公开重写的你代码多达 6 次， 也许你永远没有机会让它合入进去，也许你的竞争对手也在进行这方面的工作，内核维护者更希望你去跟他人合作，"操纵民意"的做法只会让他们大发雷霆，这就是内核开发的过程。

STEP ZERO: 公开你的代码。离开屋子。

（最近我看到这样的问题越来越多，所以我决定把它写出来，这真的不是针对特定的任何人，因为我想大部分的厂商都会犯这样的问题）。

* * *

\< 文章是关于为何你应该立即公开你的代码>

*   这引发了这些问题:
    *   为何要尽早开源？ 因为如果不这样的话，后续的工作量可能会加倍
    *   立即开源代码的障碍是什么:
        *   依赖关系!!! （大部分是版本之间的差异）

## 克服 Mainlining 遇到的障碍

Tim Bird 为 2014 年欧洲嵌入式 Linux 会议准备了一篇关于 克服 Mainlining 障碍 的演讲。那篇文章里头有演讲信息和演讲稿的下载链接。

[类别](http://eLinux.org/Special:Categories "Special:Categories"):

*   [内核](http://eLinux.org/Category:Kernel "Category:Kernel")

# CE Workgroup Device Mainlining Project

> From: [eLinux.org](http://eLinux.org/CE_Workgroup_Device_Mainlining_Project "http://eLinux.org/CE_Workgroup_Device_Mainlining_Project")

# CE Workgroup Device Mainlining Project

This page describes the "Device Mainlining" project of the CE Workgroup.

This purpose of this project is to decrease the amount of out-of-mainline patches for the Linux kernel, in modern consumer electronics products.

This project was proposed at the CE Workgroup Steering Committee meeting in Tokyo, Japan, in June of 2014.

## Contents

*   1 Activities
    *   1.1 Communicate and meet to make plans and carry forth objectives
    *   1.2 Identify problems
    *   1.3 Implement solutions
    *   1.4 Train and Educate participants
*   2 Meetings
    *   2.1 Device Mainlining BOF - October 16, 2015
    *   2.2 Device Mainlining meeting - March 24, 2015
    *   2.3 Calls and meetings - April and May 2015
*   3 Obstacles (or problems to overcome)
*   4 Tools
    *   4.1 Upstream Analysis Tools
*   5 Resources
    *   5.1 Source code repositories

## Activities

In terms of overall strategy, the actions being performed for this project fall into 4 categories:

*   communicate and meet to make plans and carry forth objectives
*   identify problems
*   implement solutions
*   train and educate participants

### Communicate and meet to make plans and carry forth objectives

*   see meetings section below

### Identify problems

*   Survey
    *   Conduct a survey to identify obstacles to mainlining - Done, September 2014
*   Present results from survey:
    *   Presented ["Overcoming Obstacles to Mainlining"](http://eLinux.org/images/8/8f/Overcoming_Obstacles_to_Mainlining-ELCE-2014-with-notes.pdf "Overcoming Obstacles to Mainlining-ELCE-2014-with-notes.pdf") talk at ELCE 2014
    *   Presented ["Overcoming Obstacles to Contributing to Linux"](http://eLinux.org/images/3/36/Overcoming_Obstacles_to_Contributing_to_Linux.pdf "Overcoming Obstacles to Contributing to Linux.pdf") talk at ELC 2015
*   Identify most-out-of-mainline areas
    *   Analyse source tree from multiple vendors (covering multiple SOCs) for actual products, to see what the delta is in different areas
        *   Initial analysis is done, and was presented at BOF in March, 2015
        *   More detailed analysis is under way
*   Create white paper describing obstacles
    *   ["Overcoming Obstacles to Mainlining White Paper (v0.9)](http://eLinux.org/images/e/ed/Overcoming-Obstacles-to-Mainlining-White-Paper-version-0.9.pdf "Overcoming-Obstacles-to-Mainlining-White-Paper-version-0.9.pdf")
        *   June 3, 2015

### Implement solutions

*   Decide on specific projects
    *   Identify kernel sub-systems that are the most out-of-tree
    *   Identify what the problems are
*   Push patches to mainline to address problem areas found
    *   Assist weary maintainers

### Train and Educate participants

*   Collect resource for mainlinining training
    *   See Kernel Mainlining
*   Convince management to provide funding and/or resources for this work
    *   Produce a white paper on obstacles (see above)
    *   Determine cost of out-of-tree code, and publish information for managers

## Meetings

### Device Mainlining BOF - October 16, 2015

[should list attendees and notes here]

### Device Mainlining meeting - March 24, 2015

This meeting will be held Tuesday, March 24, at 11:00 am in the Guadalupe meeting room at the San Jose Marriott.

Attendees: [should list attendees here]

Topics:

Some of the issues I want to discuss are:

*   Tim reports on his SOC research
*   Where are we, really, with product-grade mainline support for SOCs?
    *   Based on recent work on my part, I've come to believe we're not nearly as close to mainline support for many, many processors, as we should be. I'm in the middle of doing some research on multiple SOCs used in mobile phones, and it appears that there are all kinds of fundamental problems that make using a mainline kernel on a production phone a fleeting dream.
*   What sub-systems have weakest support in mainline?
    *   For each sub-system, is the poor support because of:
        *   framework deficiencies
        *   DT blockage
        *   dependencies on out-of-tree code
        *   lack of documentation
        *   maintainer bandwidth, or
        *   something else?
*   Are there things the Linux Foundation, other industry groups, or companies can do to make interacting with the community easier?
    *   Would it be helpful to produce a scorecard, for evaluating where each SOC is
        *   Scorecard would have: what subsystems have been mainlined, what's outstanding, etc.
    *   Can git tools be developed to automate this analysis?
    *   Can Linaro and LF work together on some things?
    *   keep a list of "maintainer quirks" - what things individual maintainers like/dislike, insist on, what timing they like (when to submit relative to merge window).

### Calls and meetings - April and May 2015

*   Tim Bird held a Birds-of-a-Feather meeting to discuss issues with this during Linux Plumbers in Dusseldorf, Germany, on October 16, 2014
    *   Kevin Hillman attended, and provided some good insights into SOC mainline efforts in the past
*   Tim held another meeting Special Interest Group meeting at ELC, to identify areas that need work (and could use CEWG/LF funding)
    *   Tim prepared some information about the out-of-tree status of various SOC and discussed this in the meeting
*   April 21, 2015 - Tim presented Obstacles to Mainlining talk at Genivi All-Members-Meeting
*   April 28, 2015 - Conference call was held with Linaro (Tim Bird, Kate Stewart and Mark Brown)
    *   different items were discussed, with main goal to be publication of upstream analysis tools
*   Tim Bird met with Ibrahim Hadad on April 28, 2015 in San Jose
    *   presented basic goals, got information about Samsung and their practices
*   May 12, 2015 - Conference call with Linaro (Kate Stewart and Mark Brown)
    *   had not published upstream-analysis-tools, but discussed possible names, and other topics

## Obstacles (or problems to overcome)

*   Version gap
*   Dependency on out-of-tree code
*   Inability to test (inability to generalize)
*   Low-quality code
*   Specialized code
*   Immature upstream frameworks
*   No time allocated by management
*   Difficult (or missing) internal approval process
*   Overloaded (or slow) maintainers
*   Lack of perceived business value
*   Rate of hardware churn greater than resources allocated to upstream effort
*   Difficult upstream process
*   Lack of English proficiency
*   Fear of rejection
*   Suppliers providing out-of-tree code

Categories:

*   intrinsic delays in the product pipeline
*   lack of corporate will
*   skill deficiency
*   sourcing woes??

## Tools

This section has information about tools provided by this project:

### Upstream Analysis Tools

Some tools that have been developed are available at: [`github.com/tbird20d/upstream-analysis-tools`](https://github.com/tbird20d/upstream-analysis-tools) The purpose of these tools is multiple:

*   to allow a company to analyze their own upstream status (check their own out-of-tree-ness)
*   to allow a company to score the source from potential suppliers
*   to try to identify areas where multiple companies have code for the same hardware or feature out-of-tree
    *   this is intended to help identify where shared work makes sense
    *   also, it might help identify a sub-system or framework weakness that needs addressing upstream

Some tools (also part of the release above) can be used for the following:

*   to track the status of contributions from different parties to the Linux kernel over time
    *   this is intended to allow an organization to monitor the progress of their mainlining activities
*   to identify what their code is dependent on (commit-dep.py)
    *   this is to assess the potential difficulty of mainlining a particular patch, to help in prioritizing mainlining work
    *   also, this should help to identify dependencies between commits, to help in prioritizing individual patches

## Resources

[put here links to training or other resources that this project develops (or should develop)]

### Source code repositories

See [Phones Processors and Download Sites](http://eLinux.org/Phones_Processors_and_Download_Sites "Phones Processors and Download Sites")

# Overcoming Obstacles to Mainlining

> From: [eLinux.org](http://eLinux.org/Overcoming_Obstacles_to_Mainlining "http://eLinux.org/Overcoming_Obstacles_to_Mainlining")

# Overcoming Obstacles to Mainlining

Information about overcoming obstacles to mainlining.

Tim Bird gave a presentation about overcoming obstacles to mainlining, at ELC Europe 2014 in Düsseldorf, Germany.

Here are the slides for the talk: [Media:Overcoming_Obstacles_to_Mainlining-ELCE-2014-with-notes.pdf](http://eLinux.org/images/8/8f/Overcoming_Obstacles_to_Mainlining-ELCE-2014-with-notes.pdf "Overcoming Obstacles to Mainlining-ELCE-2014-with-notes.pdf")

Please note that a few cosmetic errors were fixed, as well as 2 pages were added at the end with notes or suggestions from people I talked to at the event.

## Abstract

Here is the abstract for the talk:

Many companies struggle with contributing to Open Source projects. This talk will identify key difficulties that many large companies face in making contributions, and provide tips and lessons learned for overcoming these obstacles. Some of the difficulties discussed will be: version gap, expertise problems (an example of which is the "proxy problem"), wrongly-abstracted code, process mismatch, and social and attitudinal barriers. This will not be yet another talk on CodingStyle, but a more high-level look at structural problems inside companies and the industry that prevent meaningful engagement within the open source community.

The goal of this talk is to help individual developers and companies identify and implement practices that will accelerate their participation in open source, so that they can enjoy more of the value of open source besides just the open code base.

## Outline

*   Intro
    *   Anna Karenina Principle
        *   "Happy families are all alike; every unhappy family is unhappy in its own way"
        *   There are lots of ways to fail, but only a few ways to succeed

```
1\. Identify obstacles
2\. ???
3\. Profit
(replace step 2 with "overcome obstacles" 
```

*   Obstacles
    *   no recognition of upstream at all
        *   waterfall and squirtgun metaphor
    *   Version Gap
        *   You can't actually help if you're working on the wrong thing
        *   The kernel changes more quickly than you think
    *   Expertise problems
    *   Quick Hacks
        *   It takes longer to write good code
        *   Good code might not be better for you!
    *   Bad abstractions
    *   Process mismatch
        *   Not using git - you're doomed
        *   SubmittingPatches - death by a thousand cuts
    *   Social barriers
        *   misunderstanding the currency - see "And then there were none"
        *   fear of failure
    *   Lack of support
        *   Middle managers don't get it, Execs won't prioritize it.
*   Survey results
*   Overcoming them
*   Words from the sages
*   Summary of Best Practices

## Key Points

# Qualcomm SOC Mainlining Project

> From: [eLinux.org](http://eLinux.org/Qualcomm_SOC_Mainlining_Project "http://eLinux.org/Qualcomm_SOC_Mainlining_Project")

# Qualcomm SOC Mainlining Project

Here is some information about the Qualcomm SOC mainlining project.

[ this page is currently a stub ]

## Contents

*   1 Project List
*   2 Project Table
*   3 Specific Hardware
    *   3.1 IP blocks on the 8974
        *   3.1.1 Features
        *   3.1.2 Dependencies
*   4 Resources
    *   4.1 mailing list
    *   4.2 IRC channel
    *   4.3 git trees
    *   4.4 Other resources
*   5 Stakeholders
    *   5.1 Table of phones, processors and download sites
*   6 Status

## Project List

List of items that need to be mainlined, or are "in flight" (as of June, 2014):

*   regulators - Josh Cartwright?, Bjorn Andersson?
*   clocks - Stephen Boyd
*   RPM
*   SD Card Controller - Srinivas Kandagatla
*   8084 clock controller - Georgi Djakov
*   dma engine - Andy Gross
*   SOC-specific
    *   8084
    *   8974
*   SOC DT file? - Kumar Gala?
*   USB support
    *   USB host mode for HS port - Tim Bird
    *   dwc3 (superspeed) USB driver
*   spmi - ??

## Project Table

This might be too time-consuming to maintain?

| **Feature or Item** | **Person** | **Notes** | **Link** | **Last activity** |
| USB - msm_otg host mode | Tim Bird | I'm currently working on the pmic_id_irq, which require spmi support.I got stuck on the DT EPROBE_DEFER support issue. | <no links yet> | none yet |
| SD card controller | Srinivas Kandagatla | This patch series adds Qualcomm SD Card Controller support in pl180 mmcidriver. QCom SDCC is basically a pl180, but bit more customized, some of the register layouts and offsets are different to the ones mentioned in pl180 datasheet. The plan is to totally remove the standalone SDCC driver drivers/mmc/host/msm_sdcc.* and start using generic mmci driver for all Qualcomm parts, as we get chance to test on other Qcom boards. | [`thread.gmane.org/gmane.linux.ports.arm.msm/7706`](http://thread.gmane.org/gmane.linux.ports.arm.msm/7706)[`www.mail-archive.com/linux-arm-msm@vger.kernel.org/msg09059.html`](https://www.mail-archive.com/linux-arm-msm@vger.kernel.org/msg09059.html) | 2014-06-02 |
| DT stuff for 8084 | Georgi Djakov | Adds DT nodes for the APQ8084 global clock controller and serial port. | [`www.mail-archive.com/linux-arm-msm@vger.kernel.org/msg09096.html`](https://www.mail-archive.com/linux-arm-msm@vger.kernel.org/msg09096.html) | 2014-06-03 |

[ add links to most recently posted patches] [ add person who is working on each part ]

## Specific Hardware

*   8074 ([Dragonboard/APQ8074](http://eLinux.org/Dragonboard/APQ8074 "Dragonboard/APQ8074"))
*   8064 ([Dragonboard/IFC6410](http://eLinux.org/Dragonboard/IFC6410 "Dragonboard/IFC6410"), [Dragonboard/SYS6440](http://eLinux.org/index.php?title=Dragonboard/SYS6440&action=edit&redlink=1 "Dragonboard/SYS6440 (page does not exist)"))

### IP blocks on the 8974

*   KRAIT - arm processor - **(DONE)**
*   SAW - SPM AVS wrapper - adaptive wakup, sleep, voltage
    *   AVS - adaptive voltage scaler
    *   SPM - subsystem power manager - **(DONE)**
*   RPM - Resource power manager - regulator voting thingy - **(in progress)** - *Bjorn, AGross*
*   PM8941 - power management IC (PMIC) - see sub-parts for status
    *   WLED - **(DONE)** - *Courtney*
    *   PWM - pulse width modulator outputs - **(in progress)** - *Courtney*
    *   LPG - (RGB LEDS) - **(in progress)** - *Courtney*
    *   VIB - vibrator drivers
    *   GPIO - **(DONE)**
    *   MPP - **(DONE)**
    *   Charger - **(in progress)** - *Courtney, Bjorn*
    *   IADC - **(DONE)**
    *   BMS - battery monitoring system **(not done)**
    *   PON - power on thingy - **(DONE)**
    *   RTC - realtime clock - **(DONE)**
    *   coincell - **(in progress)** - *Tim*
    *   regulators - **(in progress)** (see RPM) - *Bjorn, AGross*
    *   PMIC clocks - **(not done)**
    *   VADC - **(DONE?)** - *Ivan*
*   PM8841 - analog regulators - **(not done)**
*   MODEM - **(not done)** (but see RemoteProc)
*   TLMM - top level mode manager **(DONE)**
    *   PINCTRL - **(DONE)**
*   QUP - configurable serial blocks
    *   I2C - **(DONE)**
    *   SPI - **(DONE)**
*   BLSP - UART - **(DONE)** **(could use high speed improvements)**
*   SDHCI - SD Card/emmc/EMMC controller - **(DONE - but needs regulator for HPM mode)** - *Bjorn*
*   GCC - global clocks - **(DONE)**
*   MMCC - multimedia clocks - **(DONE)**
*   LCC - LPASS (audio) clocks - **(DONE)**
*   LPASS - Audio - **(not done)** - *some 3rd party??*
*   MDP - 2d display stuff - **(DONE)** - *Rob*
*   SATA - **(DONE)**
*   DSP - **(in progress)** - *Bjorn* - (see ??? RemoteProc??) - can send audio via slimbus, and handles sensor stuff
*   SPMI - **(DONE)**
*   QGIC - interrupt controller - **(DONE)**
*   MPM - power manager - **(not done)**
*   OCMEM - multimedia memory = **(not done)**
*   USB 2.0 controller - chipidea - **(Done, but needs more)** - *Tim*
*   USB 2.0 PHY - **(DONE, but needs more)** - *Tim* - needs regulator support
*   HSIC PHY - **(not done)**
*   USB 3.0 PHY - **(not done)**
*   USB 3.0 controller - dwc3 - **(not done)**
*   slimbus - peripheral bus - **(not done)**
*   MI2S - multi-channel audio - **(not done)** - *Kenneth?*
*   I2S - sound thingy - **(not done)**
*   QCRYPTO - **(DONE)**
*   PRND - random number generator - **(DONE)**
*   RIVA - radio controller - **(Done, but needs major rewrite)**
*   HDMI - **(DONE)**
*   DSI - **(not done)**
*   eDP - display port - **(not done)**
*   VENUS - video codec thingy - **(not done)**
*   VFE - video front end - **(not done)**
*   VPE - video processing engine - **(not done)**
*   CSI - camera high speed serial interface (mipi spec) - **(not done)**
*   CCI - camera i2c interface (mipi spec) - **(not done)**
*   TCSR - **(not done)**
    *   hardware mutex - hwspinlock - **(DONE)**
        *   hwspinlock DT support - **(DONE)**
    *   halt control
*   QFPROM - fuses - **(not done)**
*   BAM - dma stuff - **(DONE - but missing utilization by individual drivers)**
*   TSENSE - thermal sensing - **(in progress)**

#### Features

Here is a list of features (related to IP blocks) for an 8974 processor:

*   charger (see charger IP block) - *Courtney*
*   regulators (depends on RPM) - *Bjorn*
*   remoteproc-tz - loading firmware through trustzone
*   USB 2.0 gadget - **(DONE - but needs regulators)** - *Tim*
*   USB 2.0 host - **(not done)**
*   USB 2.0 OTG - **(in progress)** - *Tim*
*   SMEM - provides an inter-processor heap - **(in progress)** - *Bjorn*
*   SMD - inter-processor ring buffers - **(in-progress)** - *Bjorn*
*   SMP2P - interprocessor state signaling - **(in progress)** - *Bjorn*
*   SMSM - interprocessor state signaling - **(in progress)** - *Bjorn*
*   Bluetooth
*   FM radio
*   WiFi - wcn36xx - **(in progress)** - *Bjorn*
*   MHL
*   NFC
*   Vibrator
*   Audio Codec
*   IRDA
*   irq_read_line - **(DONE)**
*   ipcrouter - **(in progress)** - *Courtney*

#### Dependencies

Dependencies: '->' = "depends on"

*   Regulators -> RPM -> SMD -> SMEM -> tcsr-mutex
*   SMP2P -> SMEM
*   SMSM -> SMEM
*   SMD -> SMEM -> tcsr-mutex
*   DSI -> regulators -> RPM -> SMD -> SMEM -> tcsr-mutex
*   USB 2.0 controller -> charger PMIC ID -> irq_read_line
*   USB 2.0 phy -> regulators -> RPM -> SMD -> SMEM -> tcsr-mutex
*   USB 2.0 controller -> charger OTG switch -> charger
*   charger -> irq_read_line

## Resources

### mailing list

*   Web site: [`vger.kernel.org/vger-lists.html#linux-arm-msm`](http://vger.kernel.org/vger-lists.html#linux-arm-msm)
    *   subscribe or unsubscribe via e-mail, by following links on the above page
*   Archives
    *   mail-archive.com: [`www.mail-archive.com/linux-arm-msm@vger.kernel.org/`](https://www.mail-archive.com/linux-arm-msm@vger.kernel.org/)
    *   gmain: [`dir.gmane.org/gmane.linux.ports.arm.msm`](http://dir.gmane.org/gmane.linux.ports.arm.msm)

### IRC channel

*   Server: freenode (chat.freenode.net)
*   Channel ##linux-msm
*   Link: [`webchat.freenode.net/`](http://webchat.freenode.net/)

You can access the IRC channel from inside a corporate firewall using the web interface.

### git trees

*   git trees:
    *   Sony github integration ("next") tree: [`github.com/andersson/kernel/tree/next`](https://github.com/andersson/kernel/tree/next)
        *   Sony maintains this tree by keeping patch sets for individual technology areas or features in separate git branches. We have an internal tool called 'splash', that is used to integrate the separate branches into a single integration branch (the "next" branch). This tool is available upon request, if you want to use the same workflow as Sony.
    *   Code Aurora git trees: [`www.codeaurora.org/cgit/quic/kernel`](https://www.codeaurora.org/cgit/quic/kernel)
    *   Linaro Qualcomm integration tree: [`git.linaro.org/landing-teams/working/qualcomm/kernel.git/shortlog/refs/heads/integration-linux-qcomlt`](https://git.linaro.org/landing-teams/working/qualcomm/kernel.git/shortlog/refs/heads/integration-linux-qcomlt)

### Other resources

*   Linaro patch queue for msm (??): [`patches.linaro.org/project/linux-arm-msm/`](https://patches.linaro.org/project/linux-arm-msm/)
*   Linaro mainline patch queue: [`patches.linaro.org/team/linaro-landing-team-qualcomm/`](https://patches.linaro.org/team/linaro-landing-team-qualcomm/)

## Stakeholders

This is a list of parties who are (or should be) interested in the progress of this work:

*   Qualcomm
*   Code Aurora Forum
*   Linaro
*   Qualcomm Innovation Center
*   Sony
*   Samsung
*   LG
*   HTC
*   Lenovo/Motorola
*   Xiaomi

### Table of phones, processors and download sites

For links to different download sites, see [Phones Processors and Download Sites](http://eLinux.org/Phones_Processors_and_Download_Sites "Phones Processors and Download Sites")

## Status

[Figure out a metric for what remains to be done]

*   brainstorming ideas for metric to measure:
    *   # of features out of tree (should be going down)
    *   size of diff between latest msm tree and server it was based on? (should be going down)
    *   linaro uses patch queue length (outstanding vs. already mainlined)

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Snapdragon](http://eLinux.org/Category:Snapdragon "Category:Snapdragon")

# Session:kernel.org development and the embedded world

> From: [eLinux.org](http://eLinux.org/Session:kernel.org_development_and_the_embedded_world "http://eLinux.org/Session:kernel.org_development_and_the_embedded_world")

# Session:kernel.org development and the embedded world

## Contents

*   1 Session Details
    *   1.1 Abstract
    *   1.2 Biography
    *   1.3 Notes
*   2 Transcript

## Session Details

Event ELC 2008 (Mountain View)

Date April 16 2008

Presenter Andrew Morton

Organization Google

Slides [Media:Morton-elc-08.ppt](http://eLinux.org/images/c/ce/Morton-elc-08.ppt "Morton-elc-08.ppt"), [Media:Morton-elc-08.pdf](http://eLinux.org/images/b/bf/Morton-elc-08.pdf "Morton-elc-08.pdf")

Video [`free-electrons.com/pub/video/2008/elc/elc2008-andrew-morton-keynote.ogg`](http://free-electrons.com/pub/video/2008/elc/elc2008-andrew-morton-keynote.ogg)

Duration 55 minutes

### Abstract

Andrew will summarize the kernel.org development and decision-making processes. Special focus will be placed upon how they impact the developers of Linux for embedded products, including the economics of using a modern kernel versus staying on a frozen older kernel version, and the economics of maintaining private patchsets versus merging work back into the public kernel. For those who choose to work with the kernel.org team, Andrew will look at how that can most effectively be done. Andrew works with Linus Torvalds and other members of the Linux development community (including open source developers and distribution vendors and industry contributors) to shepherd new features and quality improvements into the Linux kernel.

### Biography

Andrew has worked at Nortel Networks' R&D labs, and Digeo Interactive, a maker of digital home entertainment products. He is currently employed by Google, working fulltime on the Linux kernel. His long experience with Linux development, and experience in the embedded realm, give Andrew a unique and valuable perspective on the issues facing embedded Liux developers.

### Notes

Reports on this talk are at: [`lwn.net/Articles/278647/`](http://lwn.net/Articles/278647/) and [`www.linuxfordevices.com/c/a/News/Linux-kernel-maintainer-calls-for-embedded-specialist/`](http://www.linuxfordevices.com/c/a/News/Linux-kernel-maintainer-calls-for-embedded-specialist/)

## Transcript

Transcribed by Tim Bird

Verified by 1 -

0:00 - 1:00:

[Introduction by Tim Bird]

1:00 - 2:00:

[Introduction continues...]

2:00 - 3:00:

[Introduction continues...]

Thanks, Tim. Yeah I actually go back in embedded a long way. I started my career as a hardware designer and I'm actually an electrical engineer.

3:00 - 4:00:

I used to do a lot of board level design, and do the operating system, the firmware, and the bringup, and device drivers, and all that sort of stuff. And it was sort-of mid-career that I started actually seriously programming these big machines.

Anybody here who was at the Monta Vista conference last year will find what I have to say today eerily familiar. And I'm sorry about that, but it bears repeating. I know my kids need to be told the same thing more than once before they'll do it.

[Slide 1 Overview] So what I was going to talk about today - I'm going to assume that the audience here are people who don't actually work on Linux for Linux' sake, per se. You in fact use Linux as part of developing some other product. It's just a tool which you use to deliver something to your customers.

What I won't be addressing today is the ongoing day-to-day interaction which contributors such as yourselves should make with the kernel.org team.

4:00 - 5:00:

That's the subject of another presentation, that I won't be covering that topic.

Certainly, we can get on with that during question and answer session. How long do we have in here, is it a full 60 minutes? ... 50 minutes. OK. There's probably about 35 or 40 minutes worth of material. I would encourage people to think of, and save up questions at the end. Generally I don't like these things to be a me-to-you. It's important that they're also you-to-me, because I am here to serve you people. You are my customers. You need to tell me how I'm going.

I'll do a bit of amateur economics about what I believe to be the economics which is unique to embedded development, and how and why that impacts the interaction that embedded developers have with the kernel.org team;

5:00 - 6:00:

Discuss what we'd like to call "patch hoarding", sitting on a pile of patches and why this can be a bad thing to do; Look at the reasons why you might be ... to merge your features into the upstream kernel rather than maintain them yourself; Look at which kernel version you might choose to use in your product development; Discuss what level of support the public kernel developers can give to you, and why they will support you in your product development; and then I'll spend a bit of time talking about how we, or more specifically I, make decisions about what things should be merged into the upstream kernel, and what the criteria are for making that decision.

[Slide 2 - The economics of Linux-for-embedded]

So looking at the economics of Linux on embedded systems, I think the key difference with embedded is that usually there is no plan to upgrade the version of the kernel running on the product.

6:00 - 7:00:

You develop the product, you build the software, the application stack, the kernel. And you bundle it all together, and mostly push it out. You may, maybe will update the kernel sometimes, but you don't expect your customer to do it. It's an embedded product.

This is radically different from the desktop and server world where upgrades are expected. In fact you don't even know what kernel your customer will be running in the first place. He might be running a RedHat Enterprise kernel, or an OpenSuse kernel, or Mandriva or anything. And also the kernel will be upgraded across the lifetime of the hardware. That's a critical difference because then you need to plan for that upgrade.

Another difference between embedded and the server/desktop world is that the software for embedded is delivered directly from the hardware manufacturer.

7:00 - 8:00: It doesn't come from some other 3rd party.

Now one exceptional case in all of this thinking is the case of the hardware manufacturer. ... that's the Intel, ARM, Atmel, Analog, people like that, who make hardware which they then sell to other customers, and those customers will then deliver embedded products using that hardware.

Those companies are in a similar position to the desktop and server hardware manufacturers, in that they are motivated to make Linux run as well as possible on their particular hardware, so that they'll pick up more customers.

So what we're seeing at present in the kernel world is a lot of contributions coming from companies such as those, who sell hardware into embedded developers, rather than actually developing embedded products themselves.

8:00 - 9:00: So that is for similar logic as you would see with the desktop and server world.

Another thing we see - and I don't really know why it is - the embedded segment just doesn't seem to have as much money. They tend to be smaller companies, with shorter time to market, and quicker turn-around times. So they can't really afford the luxury of having people who are dedicated to working on the open source software. They have to get product out the door.

The net effect of all this is that, I believe, that the embedded segment is under-represented in the development of the kernel.org kernel, compared to the overall importance of embedded in the Linux world. It's still the case that most of the people who are paid to work on Linux are really keyed towards the server products.

9:00 - 10:00:

Things have improved, mainly from the contributions from the embedded chip manufacturers. And sometimes that's indirect. For example, two of our entire embedded architectures are in fact maintained by David Howels, who's at RedHat. I expect that's on a contract basis with the companies who actually make those chips.

[Slide 4 - Effects of embedded's under-representation]

Now if my theory is correct, and embedded is in fact under-represented in kernel.org development, that will obviously have a few effects.

One is, that there will be a risk that it will tilt development to be excessively focused on the server and desktop side, and not sufficiently focused on the embedded side. And we regularly get accused of being excessively focused on servers, and not focused enough on desktop. Which, there's some truth to that, but not as much as one might think.

10:00 - 11:00:

The fact is that the people who work on kernel.org - particularly those people who you might like to call the leaders of the project - we do care a lot about Linux on the embedded system, even though we really don't have a business case for doing so. We want Linux to run as well as possible on embedded. We think it's cool. So we care about it a lot.

So a strong part of kernel development culture is any change which comes into the kernel does need to be scrutinized for its impact on small systems. That's laptops down to very small embedded devices. And if we decide a feature is too heavily oriented towards multi-processor systems, or uses too much memory, or whatever, it will need to be re-worked.

Now, we generally do this by code inspection. We don't actually do it by testing and measuring its memory footprint effects. Things can and do slip through. We could always do with some help there, reviewing and testing changes to make sure that their impact upon embedded is either zero or beneficial.

11:00 - 12:00: But, as I say, we mainly - most of the work we do looking after embedded is making sure that the work which is really geared towards server doesn't damage embedded too much. We don't actually spend much of our time overtly trying to improve embedded systems. It's just, "Let's work on server stuff, and not damage embedded too much".

And that's unfortunate.

I can't really identify anybody who sits there and works on the Linux kernel specifically to make it better for embedded systems. There're a lot of people who work down in the architecture code, and devices drivers, and all sorts of things, that are keyed towards embedded. But there is no single person I can go to who is *the* embedded maintainer.

12:00 - 13:00: Now a number of the embedded guys do work on embedded peripherally. David Howells who looks after two of the embedded architectures, for example, does a bit of work on the no-MMU port, and on various executable file formats, and things. But there's no single person sitting there on top of the Linux kernel who is the go-to person to look after embedded, to add new embedded features to the core kernel, etc.

Matt Mackall was doing it for a while, I believe under contract with CELF. But that's certainly not a full-time effort.

So, I think if we did have one person who was the embedded top level person, not oriented towards any particular architecture, that person would be pretty effective. There's a lot of work they could do to make significant benefit for the overall embedded users of the kernel.

13:00 - 14:00: [Slide 5 - How you can help kernel.org development]

Now if you are, for example, a person who is developing an embedded product for a company, that's based on Linux; If you're generally interested that Linux will run as well as possible on your product - We need your help.

And generally people think help means sitting down until 2:00 o'clock in the morning writing kernel patches and sending them to Andrew. But that's not necessarily the case. There are a lot of things that people can do which are [???] than sitting down and writing patches.

One is simply telling us what your pain points are - what the Linux kernel is not doing for you as well as you would like it to do. Often we just don't know. Some people know, for example, that boot-up time is a problem.

14:00 - 15:00: But people don't really think about it a lot while they're coding. Nobody actually sits there and tries to optimize bootup time.

We know about memory footprint - always careful about that. But we're not particularly sophisticated in addressing the needs of embedded. So it would really help if we had some people - some more senior, sophisticated people - who have experience in the embedded world, simply to tell us when we're doing things wrong. To tell us what features are important to them and what aren't. Simply so we can prioritize our work in a way that optimizes the kernel for embedded platforms.

Tell us what we're missing - I mean, I don't think I've seen anybody come up and say, "Look WindRiver, or PSOS or whatever does this, that and that, and Linux doesn't. And it's a gap."

If you think there are things that Linux should do which competitive operating systems do, well, let us know. We might not do anything about it, but at least we'd know about it and over time, people will help prioritize people's work.

15:00 - 16:00:

And, help people understand what things are beneficial to the most number of users as they work on the Linux kernel.

I find there are a lot of people who are monitoring the mailing lists, the websites, the release announcements and that sort of thing. And often I come to conferences and people tell me things I didn't know.

That's bad.

I shouldn't not know anything. If you know something which is potentially of use to the kernel team, to help guide in their development, for heaven's sake tell us. And a way to tell us is by sending an e-mail to you-know-which mailing list.

Tell us what you need.

Because there's no way that we can do it if we don't know that it's a need.

Another way in which a person can contribute to kernel.org development is to review the patches as they go past.

16:00 - 17:00:

You can help us to check that a change will not damaging to embedded in any way. You may see a feature which is close to what you need, but it needs a few tweaks to be more useful. Please tell us!

Reviewing the patches, checking them for correctness and suitability for your application is direct contribution and it's not a lot of work.

"The Squeaky gate get the oil" is an old English phrase in that the person who makes the most noise, is the one who gets the most attention. And I'm afraid that's how kernel work happens.

There's historically been a group of people who were very good at making a lot of fuss about, for example, latency on the desktop. And as a consequence, quite a lot of developers and resources have been devoted to improving latency on desktops for multimedia applications and gaming.

17:00 - 18:00:

And that wouldn't have happened if those people hadn't come on the mailing list and made us look bad. So if you want something done, come on the mailing list and make us look bad. Chances are, it will happen.

[Slide 7 - Patch hoarding]

What I see quite frequently is embedded groups and others mainly at companies working on embedded products, will tend to sit - and probably you all do this, you tend to sit on your own little pile of patches which you think are only relevant to your product, and you will maintain them out of tree. Consequently, those patches get larger and larger and uglier and uglier and older and older and they become harder and harder to merge up, and they basically never get merged into the mainline tree.

18:00 - 19:00:

It's quite a bit of work to merge a patch to into the mainline tree. I hope the main reason why people sit on their work without sending it upstream is because it's quite a lot of work to get it upstream. But I've also heard of companies who like to keep the patches to themselves because they believe they will be beneficial to their competitors.

Sorry, that's not a good reason.

This is an open source product. Yes, it will potentially be some small damage if your software becomes available to your competitors. But I think you have to see that as the price of admission to using Linux. It's an open source product. Everybody else is contributing into it. You have at the very least a moral, if not a legal obligation to contribute to it yourself.

Another problem of course with patch hoarding is that it gets increasingly expensive over time, particularly as you roll forward through kernel versions.

19:00 - 20:00: And so I would encourage people to make a big effort to get these patches merged up. And I'll be talking about that quite a bit, later on.

[Slide 8 - Why merge upstream, The pros]

Now look at the logic for what might be your reasons for merging you code up in the kernel.

We do have - it's variable, but normally we do have very strong review, integration, testing, and releasing process. So your code will be gone through with a tooth comb, and as a consequence of that, the code will be better, by the time we merge it - unless it was already very good.

A big advantage, of course, is once your code is merged with the public kernel your cost for maintaining that code falls close to zero. You no longer have to maintain a patch set. You no longer have to re-merge it and re-test it each time you have to roll forward to a new kernel version.

20:00 - 21:00:

You will find that others will add new features to it, and they will improve its performance. Other will fix bugs in it. Others will test it, and it will generally improve as time goes by. And of course when people make changes to the core kernel, rather than breaking your code, they will fix it on the fly and you will never see a difference.

A major reason for merging, particularly if it's a significant feature - another reason for merging with the mainline kernel, is that once you've merged you have won. If there are any other competing implementations of a similar feature out there, they will die. Because if you have, say, it's a particular block-based filesystem, or something like that, if you merge that, and it's a good enough block based file system, all the other ones are eventually going to wither.

21:00 - 22:00:

Now if you happen to not merge your code upstream, and somebody else merges their code, then it's your code that going to wither as well. So you're then looking at either having to maintain your alternative implementation for all time, or you'll need to migrate your existing users and applications, from your own implementation over to the one which is in the kernel, which can be quite expensive in terms of re-work and migration costs, backporting, etc.

It's not a thing which people normally think about when considering merging upstream - but being the first to merge a feature can make it easier for yourself, and harder for your competitor.

[Slide 9 - Why merge upstream? The cons]

On the other hand.

22:00 - 23:00: Just going back to that. One thing I like to do when I see somebody merging a feature is to sort of run around the industry and find out who else is interested in this feature. Who are the other stakeholders? You may find that if you and another company have a feature which do pretty similar things, but in a different way, I will try to identify that other guy. And get them to comment on your work, and find out what their take on it is. Get their input. And as a result, that feature may become more generalized, so it will address their requirements as well. That way we can possibly get them working on it also.

This has happened a number of times in the past.

Now, what might be the problems with merging your code upstream?

Obviously, it does require work. It requires a considerable body of work. Often what we see is some company will sit there in cathedral mode, and they'll develop their feature and it's all beautiful and it's ready and they'll send it off to Andrew.

23:00 - 24:00: Then the world comes tumbling down, because all sorts of things are found wrong with it. Large amounts of re-work need to be done. That's because they made the mistake of not releasing it sufficiently early - trying to get it too complete before they released it.

You should solicit feedback at the earliest possible stage so that you can get some estimate of how much work will need to be done - whether it's just completely un-viable or unacceptable, find out if somebody else has another implementation coming down the pike, etc. When looking to merge upstream you should, even if the code is not ready, get it out there for people to look at and comment on and provide you some guidance.

What can happen, I think, is people have a certain time and dollar amount set towards merging the code upstream. They budget it. They send the code, and then suddenly find that they have a couple months more work to do.

24:00 - 25:00: And they haven't budgeted for that, because it was unexpected. But, code doesn't have to be complete before we'll look at it. So get it out earlier please. It will help all parties.

Another problem with merging the code upstream can be that significant changes might be asked, or you might be asked to make significant changes to it. One thing we particularly look closely at is the user-space to kernel interfaces. We really care about interfaces. Because, the internals, you know, we can change them. We can do absolutely anything we like with the internals of the implementation. But once we've released it, one thing we cannot change is the kernel/user-space interfaces. We have to get that right.

Consequently, you may find that when you submit a significant feature into the public kernel, people will zoom in on the kernel/user interface and request that it be changed.

25:00 - 26:00: Of course this is rather nasty if you're already running that code with the particular user interface. Because you've already got all sorts of migration added to all your other problems.

Sorry. There's no real fix for that. Except for getting your code out as early as possible, so you're not too far committed to existing code before you submit ...

Another downside is, of course, a feature becomes more easily available to your competitors. I don't have a fix for that. Sorry. Except to say that's just part of the cost of doing business with Linux. It is not BSD. It's a GPL product. And, view that contribution as the price of admission.

26:00 - 27:00: [Slide 10 -

27:00 - 28:00:

28:00 - 29:00:

29:00 - 30:00:

30:00 - 31:00:

31:00 - 32:00:

32:00 - 33:00:

33:00 - 34:00:

34:00 - 35:00:

35:00 - 36:00:

36:00 - 37:00:

37:00 - 38:00:

38:00 - 39:00:

39:00 - 40:00:

40:00 - 41:00:

41:00 - 42:00:

42:00 - 43:00:

43:00 - 44:00:

44:00 - 45:00:

45:00 - 46:00:

46:00 - 47:00:

47:00 - 48:00:

48:00 - 49:00:

49:00 - 50:00:

50:00 - 51:00:

51:00 - 52:00:

52:00 - 53:00:

53:00 - 54:00:

54:00 - 55:00:

55:00 - 56:00:

56:00 - 57:00:

57:00 - 58:00:

58:00 - 59:00:

59:00 - 60:00:

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Event Session](http://eLinux.org/index.php?title=Category:Event_Session&action=edit&redlink=1 "Category:Event Session (page does not exist)")

# 法律问题

> 书籍：[嵌入式 Linux 知识库](http://tinylab.gitbooks.io/elinux) 原文：[eLinux.org](http://eLinux.org/Legal_Issues "http://eLinux.org/Legal_Issues") 翻译：[@zxqhbd](https://github.com/zxqhbd) 校订：[@lzufalcon](https://github.com/lzufalcon)

# 法律问题

## 嵌入式中使用 Linux 的法律问题

使用 GPL 许可证的复杂性已经在很多其他论坛中被多次的讨论过了。 以下是几个突出问题：

### 内核只被 GPL V2 许可

Linux 内核只在 GNU 通用公共许可协议 2.0 版本下被许可！

这个与许多其他项目不同，它们使用的默认用词允许 GPL V2 或者后期版本。这意味着 Linux 内核不会切换到 GPL V3 版本。

2006 年 9 月，当 GPL V3 起草时，一群内核开发者签署了一个立场声明，表明他们反对 GPL V3 。这更加表明了内核不可能改用 GPL V3 协议。

### 署名行 (signed-off-by) 和原创开发者证书 (DCO)

当开发者为内核贡献代码时，他们必须提供一个署名行 (signed-off-by)，表明他们承认那份开源协议并声明他们所做工作（据他们所知）为原创或者是兼容 GPL V2 许可的某些内容的衍生品。

查看[原创开发者证书](http://elinux.org/Developer_Certificate_Of_Origin "原创开发者证书")，包含在内核的 [Documentation/SubmittingPatches](http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/tree/Documentation/SubmittingPatches "SubmittingPatches") 文件中。

### 有关法律分析和合规的资源

*   自由软件法律中心针对 GPL 有一份合规指南，很有用：

    *   [`www.softwarefreedom.org/resources/2014/SFLC-Guide_to_GPL_Compliance_2d_ed.pdf`](http://www.softwarefreedom.org/resources/2014/SFLC-Guide_to_GPL_Compliance_2d_ed.pdf) -2014 年 10 月

    *   注意不是所有人都同意这份文件中的所有法律解释，但总体而言，这是一份很好的资源

*   有关 copyleft 和 GNU 的通用公共许可协议的一份全面教程和指南：

    *   [`www.copyleft.org/guide/comprehensive-gpl-guide.html#comprehensive-gpl-guidepa1.html`](http://www.copyleft.org/guide/comprehensive-gpl-guide.html#comprehensive-gpl-guidepa1.html)

## EXPORT_SYMBOL_GPL

### 针对内核 USB API 的 EXPORT_SYMBOL_GPL

在 2008 年的 1 月，Greg Kroah Hartman 提交了一个补丁将核心 USB API 改变为 `EXPORT_SYMBOL_GPL`。这里是一些关于这个补丁的信息：

*   [USB：将 USB 驱动标记为只被 GPL 许可 (LWN.net)](http://lwn.net/Articles/266724/ "USB")

*   [Linux 2.6.25 版本没有 USB 闭源驱动 (Linux 杂志)](http://www.linux-magazine.com/Online/News/Linux-2.6.25-without-Closed-Source-USB-Drivers "Linux magazine")

*   [在内核版本 2.6.25 中的 USB 驱动只受 GPL 许可 (Linux 世界)](http://www.networkworld.com/category/opensource-subnet/?q=taxonomy/term/24 "Linux world")

*   [实际的 git commit](http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=782e70c6fc2290a0395850e8e02583b8b62264d8 "actual commit")

## 二进制专有的内核模块

在嵌入式 Linux 领域中一个很重要的，也是比较显著的一个法律问题就是二进制（非 GPL）内核模块是否违反 Linux 内核 GPL 协议。关于这个话题有不同的观点。 下面有一篇文章，包含了一些有趣的信息：

*   [支持闭源模块之第一部分：版权和软件](http://www.networkworld.com/article/2301697/smb/encouraging-closed-source-modules-part-1--copyright-and-software.html "part 1")

*   [支持闭源模块之第二部分：法律和模块接口](http://www.networkworld.com/article/2301698/smb/encouraging-closed-source-modules-part-2--law-and-the-module-interface.html "part 2")

*   [支持闭源模块之第三部分：消除 API 更新税](http://www.networkworld.com/article/2301701/smb/encouraging-closed-source-modules-part-3--elimating-the--api-update-tax-.html "part 3")

## 在用户空间中使用内核头文件

允许用户空间使用内核头文件是为了方便用户空间程序通过普通的系统调用与内核进行交互。这个被许可并且不会导致用户空间成为内核的衍生品并受限于 GPL 协议。

一般情况下，头文件的使用不会产生衍生品，尽管也会有例外。过去对于头文件中包含了多少代码量（例如代码行数）有投入很多的关注，但是现如今大家都不太关心这个问题了，并且几乎从来不是一个问题。理查德．斯托曼曾表示，针对数据结构，常量还有枚举类型(甚至小内联)的头文件的使用都不会产生衍生品。请看： [`lkml.indiana.edu/hypermail/linux/kernel/0301.1/0362.html`](http://lkml.indiana.edu/hypermail/linux/kernel/0301.1/0362.html)

用户空间中内核头文件的使用是预料中的也是常见的。它明确的说明了非 GPL 软件使用这些文件，不会受 GPL 协议的影响。为了安抚直接使用头文件的担心，还有防止内核内部信息泄露给用户空间(可能会被滥用)，主线内核开发者给内核构建系统增加了一个选项，专门提供了一个“净化过的”头文件，这些头文件被认为可以安全用于用户空间程序，不会产生许可问题。

这些是在内核构建系统中 `make headers_check` 和 `make headers_install` 的目标。

一般使用下，使用这些被净化过的头文件是合法安全的(也就是说，头文件被特别地去除了大内联宏或者任何用户空间不需要的内容)。 这篇文章解释了如何用内核构建系统来创建净化过的内核头文件： [`darmawan-salihun.blogspot.jp/2008/03/sanitizing-linux-kernel-headers-strange.html`](http://darmawan-salihun.blogspot.jp/2008/03/sanitizing-linux-kernel-headers-strange.html)

需要注意的是，Android 操作系统开发者是使用不同的过程来为他们的系统净化 bionic 头文件。他们的过程与主线头文件净化特性差不多同时开始。

## 其它链接

*   [`gpl-violations.org/`](http://gpl-violations.org/) — 这个 gpl-violations.org 项目试图解决 GPL 违规和增强 GPL 合规性的公共意识

*   [`www.softwarefreedom.org/`](http://www.softwarefreedom.org/) — 自由软件法律中心为开源项目提供法律代表并发布围绕开源相关的法律问题信息

*   [`www.linuxfoundation.org/programs/legal/compliance`](http://www.linuxfoundation.org/programs/legal/compliance) — Linux 基金会的开放合规计划

*   [`www.binaryanalysis.org/`](http://www.binaryanalysis.org/) — 一个针对二进制进行分析的工具，用于调查 GPL 合规性

*   [`lwn.net/Articles/386280/`](http://lwn.net/Articles/386280/) — LWN.net 上一篇关于二进制分析工具的文章（发表于 2010/05/06）

*   [`fossology.org/`](http://fossology.org/) —fossology 是一个框架用来扫描开源代码：它目前扫描版权和许可证信息，并能够很容易的进行扩展

[分类](http://eLinux.org/Special:Categories "Special:Categories"):

*   [开放源码许可](http://eLinux.org/Category:OpenSource_Licensing "Category:OpenSource Licensing")

# Developer Certificate Of Origin

> From: [eLinux.org](http://eLinux.org/Developer_Certificate_Of_Origin "http://eLinux.org/Developer_Certificate_Of_Origin")

# Developer Certificate Of Origin

In May 2004, the kernel development community decided to standardize on a requirement to adhere to a Developer Certificate of Origin for contributions to the Linux kernel.

The text of the DCO is located in the file [Documentation/SubmittingPatches](http://git.kernel.org/?p=linux/kernel/git/torvalds/linux-2.6.git;a=blob;f=Documentation/SubmittingPatches) in the Linux kernel source tree.

The full text of the DCO version 1.1 (the current version as of 2011) is:

```
 Developer's Certificate of Origin 1.1

        By making a contribution to this project, I certify that:

        (a) The contribution was created in whole or in part by me and I
            have the right to submit it under the open source license
            indicated in the file; or

        (b) The contribution is based upon previous work that, to the best
            of my knowledge, is covered under an appropriate open source
            license and I have the right under that license to submit that
            work with modifications, whether created in whole or in part
            by me, under the same open source license (unless I am
            permitted to submit under a different license), as indicated
            in the file; or

        (c) The contribution was provided directly to me by some other
            person who certified (a), (b) or (c) and I have not modified
            it.

        (d) I understand and agree that this project and the contribution
            are public and that a record of the contribution (including all
            personal information I submit with it, including my sign-off) is
            maintained indefinitely and may be redistributed consistent with
            this project or the open source license(s) involved. 
```

There is a kernel thread discussing the original proposal from Linus [here (google groups).](http://groups.google.com/groups?hl=en&lr=&ie=UTF-8&threadm=1YUY7-6fF-11%40gated-at.bofh.it&rnum=1&prev=/groups%3Fq%3Dg:thl3436074442d%26dq%3D%26hl%3Den%26lr%3D%26ie%3DUTF-8%26selm%3D1YUY7-6fF-11%2540gated-at.bofh.it) And [here (aimsgroup).](http://marc.theaimsgroup.com/?l=linux-kernel&m=108529494402563&w=2)

Here is another article describing rationale for the 1.1 version: [Clarifying the Developer's Certificate of Origin](http://kerneltrap.org/node/5277) KernelTrap, June 14, 2005

## Example

Here is an example Signed-off-by line, that indicates the submitter accepts the DCO:

```
Signed-off-by: John Doe <john.doe@hisdomain.com> 
```

## Older versions

The original DCO, version 1.0, read:

```
 Developer's Certificate of Origin 1.0

    By making a contribution to this project, I certify that:

    (a) The contribution was created in whole or in part by me and I have the right
    to submit it under the open source license indicated in the file; or

    (b) The contribution is based upon previous work that, to the best of my knowledge,
    is covered under an appropriate open source license and I have the right under that
    license to submit that work with modifications, whether created in whole or in part
    by me, under the same open source license (unless I am permitted to submit under a
    different license), as indicated in the file; or

    (c) The contribution was provided directly to me by some other person who
    certified (a), (b) or (c) and I have not modified it. 
```

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Categories](http://eLinux.org/Category:Categories "Category:Categories")

# 事件/会议

> 原文：[eLinux.org](http://eLinux.org/Events "http://eLinux.org/Events")
> 翻译：[@lzufalcon](https://github.com/lzufalcon)
> 校订：[@ibrother](https://github.com/ibrother)

# 事件/会议

这里介绍了嵌入式 Linux 开发者可能会感兴趣的各类事件（会议）。

**译者注**

*   部分区域会议内容因为采用非国际语言，不方便阅读，所以被移除。如果很需要，请访问[原文](http://eLinux.org/Events)。
*   会议主要有如下几大类（部分区域性会议没有列出）
    *   [Kernel Summit](http://events.linuxfoundation.org/events/linux-kernel-summit)
        *   内核峰会
        *   面向全球核心内核开发者，讨论当前内核状态，并计划下一个开发周期的工作
    *   [LinuxCon](http://events.linuxfoundation.org/events/linuxcon)
        *   Linux 会议（分区域）
    *   [Embedded Linux Conference](http://events.linuxfoundation.org/events/embedded-linux-conference)
        *   ELC（嵌入式 Linux 会议）
    *   [Embedded Linux Conference Europe](http://events.linuxfoundation.org/events/embedded-linux-conference-europe)
        *   ELCE，嵌入式 Linux 会议（欧洲）
    *   [渥太华 Linux Symposium](http://linuxsymposium.org/)
        *   OLS，每年在加拿大举办的一个 Linux 和开源的年度会议
    *   [Linaro Developer Summit](https://wiki.linaro.org/Events/)
        *   Linaro 是一个 ARM 技术开源联盟
    *   [Android Builders Summit](http://events.linuxfoundation.org/events/android-builders-summit)
        *   面向 OEMs, 设备制作商，集成商，客制化用户和 不断增长的 Android 和 Linux 用户
    *   [FOSDEM](https://fosdem.org/)
        *   由社区组织的自由和非商业会议

## 目录

*   1 即将举办的会议
*   2 2015 年
    *   2.1 2015 年 10 月
*   3 已举办的会议
*   4 2015 年
    *   4.1 2015 年 6 月
    *   4.3 2015 年 3 月
*   5 2014 年
    *   5.2 2014 年 10 月
    *   5.3 2014 年 9 月
    *   5.5 2014 年 5 月
    *   5.6 2014 年 4 月
*   6 2013 年
    *   6.2 2013 年 10 月
    *   6.7 2013 年 5 月
    *   6.9 2013 年 2 月
*   7 2012 年以及 2012 年之前
    *   7.2 2012 年 11 月
    *   7.3 2012 年 9 月
    *   7.4 2012 年 8 月
    *   7.5 2012 年 7 月
    *   7.6 2012 年 6 月
    *   7.7 2012 年 4 月
    *   7.9 2012 年 2 月
    *   7.10 2011 年
    *   7.11 2010 年
    *   7.12 2009 年
    *   7.13 2008 年
    *   7.14 2007 年
    *   7.15 2006 年
    *   7.16 2005 年
    *   7.17 2004 年
*   8 来自其他事件的论文集
    *   8.1 来自内核峰会的演讲稿
*   9 事件计划
*   10 ELC 会议演讲稿

## 即将举办会议

### 2015 年

#### 2015 年 10 月

*   [嵌入式 Linux 会议（欧洲），即 ELCE](http://events.linuxfoundation.org/events/embedded-linux-conference-europe) - 爱尔兰，都柏林，2005 年 10 月 5 日 ～7 号,

## 已举办的事件

有些信息放在 嵌入式 Linux 事件/会议 一文。

下面是以往举办过的跟嵌入式相关的会议清单：

### 2015 年

#### 2015 年 6 月

*   Linux 会议（日本） -日本东京，2015 年 6 月 3 日～5 日
    *   [`events.linuxfoundation.jp/events/linuxcon-japan`](http://events.linuxfoundation.jp/events/linuxcon-japan)
    *   [Linux 基金会存档](http://events.linuxfoundation.org/events/archive/2014/linuxcon-japan)
    *   消费电子工作组项目 - 2015 年 Linux 会议

#### 2015 年 3 月

*   嵌入式 Linux 会议（美国） - 加利福尼亚，圣若泽，2015 年 3 月 23 日～25 日
    *   [`events.linuxfoundation.org/events/embedded-linux-conference`](http://events.linuxfoundation.org/events/embedded-linux-conference)
    *   [Linux 基金会存档](http://events.linuxfoundation.org/events/archive/2015/embedded-linux-conference)
    *   演讲稿
    *   演讲视频：[YouTube](https://www.youtube.com/playlist?list=PLGeM09tlguZTPUxEvsQiDgX0XDjfOL6oR)

### 2014 年

#### 2014 年 10 月

*   嵌入式 Linux 会议（欧洲） - 德国，杜塞尔多夫，2014 年 10 月 13 日～15 日
    *   [`events.linuxfoundation.org/events/embedded-linux-conference-europe`](http://events.linuxfoundation.org/events/embedded-linux-conference-europe)
    *   [Linux 基金会存档](http://events.linuxfoundation.org/events/archive/2014/embedded-linux-conference-europe)
    *   演讲稿

#### 2014 年 9 月

*   Fossetcon 2014 - 自由和开放源码软件博览会和技术会议, 奥兰多，佛罗里达州，2014 年 9 月 11 日～13 日
    *   [`fossetcon.org`](http://fossetcon.org)

#### 2014 年 5 月

*   Linux 会议（日本）, 东京，2014 年 5 月 20 日～22 日
    *   [`events.linuxfoundation.org/events/linuxcon-japan`](http://events.linuxfoundation.org/events/linuxcon-japan)
    *   [Linux 基金会存档](http://events.linuxfoundation.org/events/archive/2014/linuxcon-japan)

#### 2014 年 4 月

*   嵌入式 Linux 会议, 圣若泽，加利福尼亚，2014 年 4 月 29 日到 5 月 1 日
    *   [`events.linuxfoundation.org/events/embedded-linux-conference`](http://events.linuxfoundation.org/events/embedded-linux-conference)
    *   [Linux 基金会存档](http://events.linuxfoundation.org/events/archive/2014/embedded-linux-conference)
    *   演讲稿
    *   演讲视频

### 2013 年

#### 2013 年 10 月

*   嵌入式 Linux 会议（欧洲）, 英国爱丁堡，2013 年 10 月 24 日～25 日
    *   [`events.linuxfoundation.org/events/embedded-linux-conference-europe`](http://events.linuxfoundation.org/events/embedded-linux-conference-europe)
    *   [Linux 基金会存档](http://events.linuxfoundation.org/events/archive/2013/embedded-linux-conference-europe)
    *   演讲稿

#### 2013 年 5 月

*   Linux 会议（日本）- 2013 年 5 月 29 日～31 日, Chinzan-so 酒店和会议中心
    *   [LinuxCon Japan 2013](http://events.linuxfoundation.org/events/linuxcon-japan)
    *   [Linux 基金会存档](http://events.linuxfoundation.org/events/archive/2013/linuxcon-japan)

#### 2013 年 2 月

*   [FOSDEM](http://www.fosdem.org) - 2 月 2 日～3 日，比利时，布鲁塞尔

*   [Buildroot 开发者日](http://elinux.org/Buildroot:DeveloperDaysFOSDEM2013) - 2 月 4 日～5 日，比利时，布鲁塞尔

*   [Android 建设者峰会](https://events.linuxfoundation.org/events/android-builders-summit)，2013 年 2 月 18 日～19 日，旧金山

    *   [Linux 基金会存档](http://events.linuxfoundation.org/events/archive/2013/android-builders-summit)
*   嵌入式 Linux 会议 - 旧金山，加利福尼亚，2013 年 2 月 20 日～22 日

    *   [`events.linuxfoundation.org/events/embedded-linux-conference`](http://events.linuxfoundation.org/events/embedded-linux-conference)
    *   [Linux 基金会存档](http://events.linuxfoundation.org/events/archive/2013/embedded-linux-conference)
    *   演讲稿
    *   [由 Free Electrons 提供的演讲视频](http://free-electrons.com/blog/elc-2013-videos/)

### 2012 年

#### 2012 年 11 月

*   嵌入式 Linux 会议（欧洲） - 西班牙，巴塞罗那，2012 年 11 月 5 日～7 日
    *   [`events.linuxfoundation.org/events/embedded-linux-conference-europe`](http://events.linuxfoundation.org/events/embedded-linux-conference-europe)
    *   演讲稿
    *   [视频](http://free-electrons.com/blog/elce-2012-videos/)
*   Linux 会议（欧洲）- 西班牙，巴塞罗那，2012 年 11 月 5 日～7 日
    *   [`events.linuxfoundation.org/events/linuxcon-europe`](http://events.linuxfoundation.org/events/linuxcon-europe)

#### 2012 年 9 月

*   [汽车 Linux 峰会](https://events.linuxfoundation.org/events/automotive-linux-summit) - 沃里克郡，英格兰，2012 年 9 月 19 日～20 日

#### 2012 年 8 月

*   Linux 会议（北美）- 加利福尼亚，圣迭戈，2012 年 8 月 26 日～28 日
    *   [`events.linuxfoundation.org/events/linuxcon`](http://events.linuxfoundation.org/events/linuxcon)

#### 2012 年 7 月

*   O'Reilly 开放源码大会 ([OSCON](http://www.oscon.com/)) 波特兰，俄勒冈州会议中心，2012 年 7 月 16 日～20 日。
*   [RMLL](http://2012.rmll.info) - 瑞士日内瓦，2012 年 7 月 7 日～12 日
*   嵌入式 Linux 周 - 德国维尔，2012 年 7 月 9 日～13 日- [`www.linux4embedded.de/de`](http://www.linux4embedded.de/de)

### 2012 年 6 月

*   Linux 会议（日本）-日本横滨，2012 年 6 月 6 日～8 日
    *   [`events.linuxfoundation.org/events/linuxcon-japan`](http://events.linuxfoundation.org/events/linuxcon-japan)

### 2012 年 4 月

*   Linux 合作峰会 - 旧金山，加州，2012 年 4 月 3 日～5 日
    *   [`events.linuxfoundation.org/events/collaboration-summit`](http://events.linuxfoundation.org/events/collaboration-summit)

### 2012 年 2 月

*   [Fosdem](http://fosdem.org/2012/embedded-devroom-cfp) - 比利时，布鲁塞尔，2012 年 2 月 4 日～5 日
*   [Linaro 开发者峰会](https://wiki.linaro.org/Events/) - 红木海岸，加利福尼亚州，2012 年 2 月 6 日～10 日
*   [Android 建设者峰会](http://events.linuxfoundation.org/events/android-builders-summit) - 红木海岸，加利福尼亚州，2012 年 2 月 13 日～14 日
*   [嵌入式 Linux 会议](http://events.linuxfoundation.org/events/embedded-linux-conference) - 红木海岸，加利福尼亚州，2012 年 2 月 15 日～17 日
    *   [演讲稿](http://elinux.org/ELC_2012_Presentations)

### 2011 年

*   Linux 会议 - 圣保罗，巴西，2011 年 11 月 17 日～18 日
*   [2011 年内核峰会](http://events.linuxfoundation.org/archive/2011/linux-kernel-summit)
    *   Prague, Czech Republic, 2011 年 10 月 23 日～25 日
    *   ARM 子架构维护者研讨会
*   嵌入式 Linux 会议（欧洲） - 布拉格，捷克，2011 年 26 日～28 日
    *   [Linux 基金会存档](http://events.linuxfoundation.org/archive/2011/embedded-linux-conference-europe)
    *   演讲稿
    *   技术展示
    *   [视频](http://free-electrons.com/blog/elce-2011-videos/) - 由 Free Electrons 录制
    *   长期支持内核（LTSK）会议
        *   这是一个讨论 Linux 长期支持项目的私人会议
*   Linux 会议（欧洲）- 布拉格，捷克，2011 年 10 月 26 日～28 日
    *   [`events.linuxfoundation.org/events/linuxcon-europe`](http://events.linuxfoundation.org/events/linuxcon-europe)
*   [Linux 会议（北美）](http://events.linuxfoundation.org/archive/2011/linuxcon/) - Vancouver, Canada, 2011 年 8 月 17 日～19 日
*   Linux 会议（日本）-日本横滨，2011 年 6 月 1 日~ 3 日
    *   [`events.linuxfoundation.org/events/linuxcon-japan`](http://events.linuxfoundation.org/events/linuxcon-japan)
*   [Android 建设者峰会](https://events.linuxfoundation.org/archive/2011/android-builders-summit) (ABS) - San Francisco, 2011 年 4 月 13 日～14 日
    *   [演讲稿](http://events.linuxfoundation.org/archive/2011/android-builders-summit/slides)
    *   [视频](http://free-electrons.com/blog/abs-2011-videos/)
*   嵌入式 Linux 会议 (ELC) - 旧金山，2011 年 4 月 11 日～13 日

    *   [Linux 基金会存档](https://events.linuxfoundation.org/archive/2011/embedded-linux-conference)
    *   演讲稿
    *   [视频](http://free-electrons.com/blog/elc-2011-videos/)
*   [linux.org.au 会议](http://followtheflow.org/) -- 布里斯班，昆士兰，澳大利亚。2010 年 1 月 16 日～22 日

*   南加州 Linux 世博会 (SCALE), 2011 年 2 月 18 日～20 日

*   [RMLL](http://2011.rmll.info) - 法国，斯特拉斯堡，2011 年 7 月 9 日～14 日
    *   [嵌入式系统和开放硬件](http://2011.rmll.info/-Systemes-Embarques-et-Materiel-Libre-)

### 2010 年

*   [Linux 管道工会议](http://www.linuxplumbersconf.org/2010) - 剑桥，2010 年 11 月 3 日～5 日
*   嵌入式 Linux 会议（欧洲） - 英国剑桥，2010 年 10 月 27 日～28 日
    *   [ELC-Europe](http://www.embeddedlinuxconference.com/elc_europe10/)
    *   演讲稿
*   [Linux 会议（日本）](http://events.linuxfoundation.org/archive/2010/linuxcon-japan) -日本东京，2010 年 9 月 27 日～29 日
    *   嵌入式 Linux 开发者专题会议
        *   2010 年 9 月 28 日
*   [Linux 会议（北美）](http://events.linuxfoundation.org/events/linuxcon/) - 美国，马萨诸塞州，波士顿，2010 年 8 月 10 日～12 日
*   [嵌入式系统会议（印度）](http://www.esc-india.com) - 班加罗尔，印度，2010 年 7 月 21 日～23 日
    *   [首页](http://www.esc-india.com)
    *   会场 - NIMHANS 会议中心，班加罗尔
*   [第 12 届 渥太华 Linux 研讨会](http://www.linuxsymposium.org/2010/) - 渥太华，加拿大，2010 年 7 月 13 日～16 日
*   [RMLL](http://www.rmll.info) - 法国，波尔多，2010 年 7 月 6 日～11 日
    *   [嵌入式系统和开放硬件](http://2010.rmll.info/-Systemes-Embarques-et-Materiel-Libre-.html)
*   [嵌入式 Linux 会议](http://www.embeddedlinuxconference.com/elc_2010/index.html) - 旧金山，加利福尼亚州，美国， 2010 年 4 月 12 日～14 日
    *   [首页](http://www.embeddedlinuxconference.com/elc_2010/index.html)
    *   幻灯片
    *   [视频](http://free-electrons.com/blog/elc-2010-videos/)
*   [嵌入式世界（Embedded World）](http://www.embedded-world.de) - 德国，纽伦堡，2010 年 3 月 2 日～4 日
*   GStreamer 演讲稿
*   嵌入式 Linux 峰会
*   嵌入式 Linux 会议（欧洲）技术展示

### 2009 年

*   Linux 研讨会 -日本东京，2009 年 10 月 21 日～23 日
    *   [首页](http://events.linuxfoundation.org/events/japan-linux-symposium)
        *   嵌入式系统专题会议
*   CE Linux 论坛项目专题会议和全体会议 -日本东京，2009 年 10 月 22 日
*   嵌入式 Linux 会议（欧洲） 2009 - 法国，格勒诺布尔，2009 年 10 月 15 日～16 日
    *   [首页](http://www.embeddedlinuxconference.com/elc_europe09/index.html)
    *   [视频](http://free-electrons.com/blog/elce-2009-videos/)
    *   演讲稿
*   Linux 研讨会 - Montreal, Canada, 2009 年 7 月 15 日～18 日
    *   [首页](http://www.linuxsymposium.org/2009/)
    *   [用 Ftrace 测量函数执行时间](http://eLinux.org/images/d/d6/Measuring-function-duration-with-ftrace.pdf "Measuring-function-duration-with-ftrace.pdf")（由 Tim Bird 报告）
        *   Ftrace Function Graph ARM
            *   包含了这次演讲的演讲稿，论文，补丁和 FTD 工具
    *   [嵌入式 Linux 状态演讲稿](http://eLinux.org/images/4/43/Embedded-Linux-Status-OLS2009.pdf "Embedded-Linux-Status-OLS2009.pdf")
*   [RMLL](http://2009.rmll.info/?lang=en)，法国，南特，7 月 7 日～11 日
    *   [视频和论文集](http://free-electrons.com/fr/blog/videos-rmll-2009/)
*   [FreedomHEC Taipei](http://freedomhectaipei.pbworks.com/) - 台北，2009 年 6 月 10 日～11 日
*   嵌入式 Linux 会议
    *   旧金山，加利福尼亚，2009 年 4 月 6 日～8 日
    *   [首页](http://www.embeddedlinuxconference.com/elc_2009/)
    *   演讲稿
*   自由开放的嵌入式 Linux 培训（印度）- 2009 年 2 月 20 日～21 日
    *   首页 - [beagleboard.org 培训](http://code.google.com/p/beagleboard/wiki/Trainings?updated=Trainings&ts=1220250913)

### 2008 年

*   [FreedomHEC Taipei 2008](http://freedomhectaipei.pbwiki.com/), 台北，2008 年 11 月 20 日～21 日
*   嵌入式 Linux 会议（欧洲） - Ede, 荷兰， 2008 年 11 月 6 日～7 日
    *   [首页](http://www.embeddedlinuxconference.com/elc_europe08/index.html)
    *   演讲稿
    *   [视频](http://free-electrons.com/blog/elce-2008-videos/)
*   开源 DLNA 峰会 - Ede，荷兰，2008 年 11 月 8 日
*   BarCamp Bangalore - 班加罗尔，印度，2008 年 9 月 13 日
    *   首页 - [`barcampbangalore.org/wiki/BCB7_Demos`](http://barcampbangalore.org/wiki/BCB7_Demos)
*   IEEE SP Connect 2 - NITK Suratkal，印度，2008 年 8 月 30 日
    *   [首页](http://www.nitkieee.com/site/sp-connect2/schedule)
*   渥太华 Linux 研讨会 - 渥太华，加拿大，7 月 23 日～26 日
    *   [首页](http://www.linuxsymposium.org/2008/)
    *   [嵌入式 Linux 专题报告](http://eLinux.org/images/d/d0/Embedded-Linux-BOF-OLS2008.ppt "Embedded-Linux-BOF-OLS2008.ppt")
    *   OLS CELF 嵌入式开发者专题会议
*   [嵌入式 Linux 会议](http://www.embeddedlinuxconference.com/elc2008/index.html) - 美国，加利福尼亚州，山景，2008 年 4 月 15 日～17 日
    *   演讲稿
    *   [视频](http://free-electrons.com/blog/fosdem-elc-2008-videos)
*   [RMLL](http://2008.rmll.info/)，马桑，法国，2008 年 7 月 1 日～6 日
    *   [视频](http://free-electrons.com/fr/blog/videos-rmll-2008/)

### 2007 年

*   [嵌入式 Linux 会议（欧洲）](http://www.celinux.org/elc_europe07/elc_europe_index.html) - 奥地利，林茨，2007 年 11 月 2 日～4 日
    *   演讲稿
*   渥太华 Linux 研讨会 - 渥太华，加拿大，2007 年 6 月 27 日～30 日
    *   渥太华 Linux 研讨会
    *   嵌入式 Linux 专题会议
        *   6 月 27 日
    *   嵌入式 Linux 维基专题会议
        *   6 月 27 日
    *   OLS 2007 CELF 专题会议 - 6 月 29 日下午 7 点 ～9 点，威斯汀酒店
*   嵌入式的系统博览会暨会议 in Japan -日本东京，5 月 16 日～18 日
*   嵌入式 Linux 会议 - 圣若泽，加利福尼亚，2007 年 4 月 17 日～19 日
    *   [ELC 2007](http://www.celinux.org/elc2007/index.html)
    *   演讲稿

### 2006 年

*   嵌入式技术 -日本横滨，11 月 15 日～17 日
*   GNOME 嵌入式和移动 (GMAE) 论坛，首次会议，在维拉诺瓦，西班牙。可以看以下报告： [Gmae Report for CELF 2006](http://eLinux.org/images/3/3d/Gmae-report-for-celf-2006-08-10.pdf "Gmae-report-for-celf-2006-08-10.pdf")
*   渥太华 Linux 研讨会 - 渥太华，加拿大，2006 年 7 月 19 日～22 日
    *   渥太华 Linux 研讨会
    *   [现场演示](http://tree.celinuxforum.org/CelfPubWiki/OLS2006Demos)
*   嵌入式的系统博览会暨会议 -日本东京，2006 年 6 月 28 日～30 日
*   [CELF 嵌入式 Linux 会议](http://www.celinux.org/elc2006/index.html) - 美国，加利福尼亚州，圣若泽，2006 年 4 月 11 日～12 日
    *   演讲稿
    *   演讲人员履历
*   [RMLL](http://2006.rmll.info/) : 2006 年 7 月 4 日～8 日, 法国，南锡
    *   [视频](http://free-electrons.com/fr/blog/videos-rmll-2006/)

### 2005 年

*   渥太华 Linux 研讨会 - 渥太华，加拿大，7 月 20 日～23 日- [OLS](http://www.linuxsymposium.org/)
    *   CELF 今年又是 OLS 的赞助商，我们被允许在会议上做了一些演示。CELF 还搞了一个嵌入式 Linux 专题（BOF，兴趣小组）会议，CELF 在最后还颁发了奖品。
*   国际技术会议 -日本横滨， 2005 年 6 月，国际技术盛会
*   Linux 会议（澳大利亚） - 堪培拉，2005 年 4 月 18 日
    *   只有少数几个人参加，Tim 通过一张海报展示了启动时间优化的结果
*   CELF 国际技术会议 - 圣若泽，美国，2015 年 1 月 25 日～26 日
    *   [CELF 技术会议](http://tree.celinuxforum.org/CelfPubWiki/TechnicalConference2005)
    *   上述会议内容的本地拷贝
    *   [演讲稿](http://tree.celinuxforum.org/CelfPubWiki/TechConference2005Docs)
*   RMLL : 7 月，法国，第戎
    *   [视频和论文](http://free-electrons.com/fr/blog/videos-rmll-2005/)

### 2004 年

*   极客巡游（Geek Cruises）
*   渥太华 Linux 研讨会, 2004 年 7 月，Tim 做了一个报告，CELF 组织了一个专题小组会议并颁发了奖品

## 来自其他事件的论文集

*   Fosdem 2005 嵌入式内核论文集 - [FOSDEM](http://www.embedded-kernel-track.org/2005/papers.html)
*   渥太华 Linux 研讨会论文集 - [OLS](http://www.linuxsymposium.org/proceedings.php)
    *   OLS 2007 - [被拆开展示的所有文件](https://ols2006.108.redhat.com/2007/Reprints/)
*   存放在 kernel.org 上的 OLS 论文集- [`kernel.org/doc/ols/`](http://kernel.org/doc/ols/)

### 内核峰会上的演讲稿

*   2009 年内核峰会

## 事件计划

*   事件计划

## 嵌入式 Linux 会议演讲稿

*   嵌入式 Linux 会议（ELC）演讲稿

[分类](http://eLinux.org/Special:Categories "Special:Categories"):

*   [事件](http://eLinux.org/Category:Events "Category:Events")

# CELF BOF and Plenary 2009

> From: [eLinux.org](http://eLinux.org/CELF_BOF_and_Plenary_2009 "http://eLinux.org/CELF_BOF_and_Plenary_2009")

# CELF BOF and Plenary 2009

This page describes the CELF Bird's-of-a-Feather meeting and Plenary meeting.

This meeting will consist of a reception, lightning discussions, and general mingling, followed by a formal CELF Plenary meeting.

Members of the public are welcome to attend the BOF and reception, while members of the forum (employees of CELF members companies) may attend the Plenary meeting.

## Contents

*   1 Meeting Details
*   2 Agenda
    *   2.1 Birds-of-a-Feather
    *   2.2 CELF Plenary
*   3 Directions to Meeting-place Hotel
*   4 More pictures from the event

## Meeting Details

|  
*   Date: October 22nd
*   Time: 19:00 - 21:00
*   Location: [Ochanomizu Hotel Juraku](http://www.juraku.com/ocha/english1/index.html)
*   Flier: (pdf file) [Media:projectBoFflyer.pdf](http://elinux.org/images/8/85/ProjectBoFflyer.pdf "ProjectBoFflyer.pdf")

![BOF P 2009 1.JPG](http://elinux.org/File:BOF_P_2009_1.JPG)

*   The Bof meeting scene

![BOF P 2009 2.JPG](http://elinux.org/File:BOF_P_2009_2.JPG)

*   Thomas Gleixner to present about the latest situation of real-time preempt patches to the mainline.

 | ![ProjectBoFflyer.jpg](http://elinux.org/File:ProjectBoFflyer.jpg) |

## Agenda

### Birds-of-a-Feather

The BOF and reception starts at 19:00 (7:00 pm) and runs to 20:30\. There will be light snacks and drinks served, and an opportunity to present lightning talks.

Lightning talks are short (5 minutes or less) presentations or discussions on any subject of interest. At previous BOFs, these have been descriptions of project status, or demonstrations of interesting technology.

### CELF Plenary

The Plenary meeting will consist of presentations about the status of the CE Linux Forum, with the Chair of the Architecture Group (Tim Bird) and the Director of the Forum Office (Paul Lanning) reporting.

This meeting is limited to members of the CE Linux Forum only. You do not need to have registered with the forum to attend. If you are employed by a member company, or are a Special Supporting Member, or Contractor of the forum or other forum-affiliated party, you may attend this meeting.

For a list of member companies, please see: [`www.celinux.org/membership_list/`](http://www.celinux.org/membership_list/)

## Directions to Meeting-place Hotel

A map of access to the hotel is available at:

*   [`www.juraku.com/ocha/english/access.htm`](http://www.juraku.com/ocha/english/access.htm)
*   [File:Print HotelJyurakuMap LRs.pdf](http://eLinux.org/File:Print_HotelJyurakuMap_LRs.pdf "File:Print HotelJyurakuMap LRs.pdf") (From main venue of Japan Linux Symposium)

**From Narita:**

*   Take JR Line for Tokyo (Narita Express), then...
*   transfer to Yamanote or Keihin-Tohoku line north bound to Akihabara Station, *OR*
*   transfer to Chuo line to Ochanomizu station

both are just few minutes ride.

If it is commuter time (7am to 10am / 5pm to 8pm) I highly recommend you to take taxi from Tokyo station which may cost around 1000 Yen.

*   Take Keisei Line for Keisei-Ueno (Skyliner), then...
*   Transfer at Nippori station to south bound of Yamanote or Keihin-Tohoku line to Akihabara station. It is just few minutes ride, *OR*
*   Take taxi at Keisei-Ueno Station, the final stop. It may cost about 1000 Yen.

**From Haneda:**

*   Take monorail to Hamamatsucho station and transfer to Yamanote or Keihintohoku line north bound to Akihabara Station. It is about 10 minutes ride.

## More pictures from the event

| ![BOF P 2009 ueda.JPG](http://elinux.org/File:BOF_P_2009_ueda.JPG) 
*   Ueda-san talking about Linus

![BOF P 2009 kuma.JPG](http://elinux.org/File:BOF_P_2009_kuma.JPG)

*   Kumagai-san, of Sharp

![BOF P 2009 Gleixner.JPG](http://elinux.org/File:BOF_P_2009_Gleixner.JPG)

*   Another picture of Thomas Gleixner

 |

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Events](http://eLinux.org/Category:Events "Category:Events")
*   [2009](http://eLinux.org/Category:2009 "Category:2009")

# CE Workgroup Projects - LinuxCon Japan 2015

> From: [eLinux.org](http://eLinux.org/CE_Workgroup_Projects_-_LinuxCon_Japan_2015 "http://eLinux.org/CE_Workgroup_Projects_-_LinuxCon_Japan_2015")

# CE Workgroup Projects - LinuxCon Japan 2015

The following projects are being presented by the CE Workgroup at LinuxCon Japan 2015

Please come by our booth to talk to CE Workgroup representatives about these projects. Our booth is located just outside the keynote hall.

## Contents

*   1 LTSI Test Project
*   2 Shared Embedded Linux Distribution
*   3 Device Mainlining Project
*   4 Linux in Infrastructure
*   5 eLinux wiki

## LTSI Test Project

*   An Open-source test framework for the LTSI kernel
*   See the presentation ["LTSI: Latest Status and Kernel Testing"](http://eLinux.org/images/c/c8/LTSI-_Latest_Status_and_Kernel_Testing.pdf "LTSI- Latest Status and Kernel Testing.pdf") from ELC 2015
*   See project details at: [`ltsi.linuxfoundation.org/ltsi-test-project`](http://ltsi.linuxfoundation.org/ltsi-test-project)
*   Code for the test framework can be downloaded from: [`bitbucket.org/cogentembedded/jta-public/`](https://bitbucket.org/cogentembedded/jta-public/)

## Shared Embedded Linux Distribution

*   This is a project to use Debian packages with the Yocto Project
    *   Goal is to share the work of maintaining long-term support for an embedded distribution, by leveraging the work of the Debian project
    *   The elinux page for this project is: [Shared Embedded Linux Distribution](http://eLinux.org/Shared_Embedded_Linux_Distribution "Shared Embedded Linux Distribution")
*   See ["Poky meets Debian: Understanding How to Make an Embedded Linux by Using an Existing Distribution's Source Code"](http://eLinux.org/images/1/1b/Poky_meets_Debian_Understanding_How_to_Make_an_Embedded_Linux_by_Using_an_Existing_Distribution%27s_Source_Code.pdf "Poky meets Debian Understanding How to Make an Embedded Linux by Using an Existing Distribution's Source Code.pdf") talk at ELC 2015 by Yoshitake Kobayashi

## Device Mainlining Project

*   This project aims to reduce the amount of out-of-tree code for Consumer Electronics projects (particularly mobile devices)
    *   Research shows that, on average, a mobile product based on Linux and Android has about 2 million lines of code out-of-mainline
    *   The main web page for this project is: CE Workgroup Device Mainlining Project
    *   Key activities include:
        *   Promotion of best practices for corporate guidance (e.g. the white paper)
        *   Collection and organization of links to mainlining tutorials and training materials
        *   Development of tools and information to assist companies with mainlining-related tasks
        *   Mainlining status analysis tools (see [`github.com/tbird20d/upstream-analysis-tools`](https://github.com/tbird20d/upstream-analysis-tools))
        *   Quantification of costs associated with out-of-tree code
        *   Providing assistance for upstream maintainers
*   The new ["Overcoming Obstacles to Mainlining" white paper](http://eLinux.org/images/e/ed/Overcoming-Obstacles-to-Mainlining-White-Paper-version-0.9.pdf "Overcoming-Obstacles-to-Mainlining-White-Paper-version-0.9.pdf") is published at LinuxCon Japan 2015 (June 3, 2015)
    *   Based on the presentation ["Overcoming Obstacles to Contributing to Linux"](http://eLinux.org/images/3/36/Overcoming_Obstacles_to_Contributing_to_Linux.pdf "Overcoming Obstacles to Contributing to Linux.pdf") presented at ELC 2015 by Tim Bird

## Linux in Infrastructure

*   This project aims to address requiremens for using Linux in civil and societal infrastructure projects
*   Presentation material is available at the following.
    *   ["Applying Linux to the Civil Infrastructure"](http://eLinux.org/images/7/74/Applying_Linux_to_the_Civil_Infrastructure-LinuxCon_Japan_2015.pdf "Applying Linux to the Civil Infrastructure-LinuxCon Japan 2015.pdf")

## eLinux wiki

*   The CE Workgroup continues to support this wiki, which has lots of information valuable to embedded Linux developers
    *   This includes technical presentations from the last 10 years of Embedded Linux Conference events, as well as wiki pages for lots of technical areas and CEWG's projects

# DLNA Summit 2008

> From: [eLinux.org](http://eLinux.org/DLNA_Summit_2008 "http://eLinux.org/DLNA_Summit_2008")

# DLNA Summit 2008

## Contents

*   1 Introduction
*   2 Slides from the Event
*   3 Purpose
*   4 Overview
*   5 Agenda
*   6 Attendees
*   7 Venue/Hotel Information
*   8 Link to more resources

## Introduction

The CE Linux Forum is hosting the second Open Source DLNA Summit, in Ede Netherlands, November 8 2008.

This summit is co-located at the same venue as [Embedded Linux Conference Europe](http://www.embeddedlinuxconference.com/elc_europe08/index.html).

```
(Note that registration in Embedded Linux Conference is not required for attending the DLNA Summit) 
```

## Slides from the Event

[CELF Coherence Talk](http://coherence.beebits.net/download/CELF-E%202008%20slides.pdf)

[Coherence-Jabber/XMPP](http://coherence.beebits.net/download/coherence-jabber.pdf)

[GUPnP Presentation](http://github.com/zeenix/gupnp-presentation-2008/zipball/os-dlna-conf)

## Purpose

The primary purpose of this conference is to facilitate the meeting and sharing of information among several parties interested in open source implementations of the DLNA specifications. These includes open source developers, product developers who might use these implementations, representatives from the DLNA organization or from related companies (certification and testing labs), and from members of the CE Linux Forum who are interested in this work.

We shall also be conducting a DLNA plug-fest during this summit. Particpants interested in the plugfest are invited to bring their DLNA devices to test for interoperability with other devices.

This page has information about the summit. It will be updated as more information becomes available.

The CE Linux Forum is interested in promoting and supporting work in this area, for eventual use in Linux-based CE products. It is hoped that by collaborating we can avoid duplication of effort, strengthen interoperability between implementations, and help accelerate the development of robust and feature-full solutions. During this summit we also want to gauge the interest level for holding such events in the future and discuss ideas for making them more productive.

## Overview

*   Location: Ede, Netherlands
*   Date: November 8 (Saturday), 2008
*   Times: 10 am to 5 pm
*   Venue: This summit is co-located at the same venue as [Embedded Linux Conference Europe](http://www.embeddedlinuxconference.com/elc_europe08/index.html).
*   Price: Free
*   Attendees: Attendance is by invitation. If you are interested in attending, please contact Rahul Saxena: rahul dot saxena at intel.com or Tim Bird: tim dot bird at am.sony.com

## Agenda

List of *possible* presentation and discussion topics:

*   Specification Roadmap

*   Status of DLNA OSS Projects

*   Industry input on DLNA stack feature priorities and problem areas

*   CELF sponsorship and support of OSS projects, contract work etc

*   Open sourcing of DLNA stacks from CE companies

*   Ideas on collaboration: Code sharing, partitioning problem space etc

*   Certification Processes and Tools

*   Hardware availability: Development and Test hardware

*   DLNA Plug Fest

*   Share compliance experiences e.g. PS3 war stories

*   Future Summit discussion: Need for such a summit, agenda Ideas, mail lists, new invitees etc

Short (up to 30 minutes) presentations on above or similar topics are welcome and encouraged. Though Pre-submission of presentations is not required, please inform Rahul Saxena (rahul dot saxena at intel.com) if you plan to present.

## Attendees

Attendees: Attendance is by invitation. If you are interested in attending, please contact Rahul Saxena: rahul dot saxena at intel dot com

Current List of Attendees

| Attendee | Company | Email |
| Tim Bird | Sony, Chair of CE Linux Forum Architecture Group | Tim dot Bird (at) am dot Sony dot com |
| Rahul Saxena | Intel | Rahul dot Saxena (at) Intel dot com |
| Frank Scholz | Beebits | fs (at) beebits dot net |
| Olivier Carmona | AWOX, Chair of the DLNA Certification and Test Committee | ocarmona (at) awox dot com |  |
| Philippe Normad | Fluendo | philippe (at) fluendo dot com |
| Gustavo Sverzut Barbieri | Profusion Embedded Systems | barbieri (at) profusion dot mobi |
| Christian Schaller | Collabora | christian dot schaller (at) collabora dot co dot uk |
| Zeeshan Ali | Nokia | zeeshan dot ali (at) nokia dot com |
| Jussi Kukkonen | Intel | jku (at) linux dot intel dot com |
| Ruud Derwig | NXP | ruud dot derwig (at) nxp dot com |
| Armijn Hemel | Loohuis Consulting | armijn (at) uulug dot nl |
| Young Sun Park | LG Electronics | yspark (at) lge dot com |

## Venue/Hotel Information

This summit is co-located at the same venue as Embedded Linux Conference Europe (ELCE). The summit will be located in:

```
Hotel en Congrescentrum De Reehorst
Bennekomseweg 24
6717 LM EDE
0318-75030
http://www.reehorst.nl 
```

## Link to more resources

More information about open source DLNA projects is available on the eLinux wiki at:

[DLNA_Open_Source_Projects](http://eLinux.org/DLNA_Open_Source_Projects "DLNA Open Source Projects")

[DLNA_Hardware_Sharing_List](http://eLinux.org/DLNA_Hardware_Sharing_List "DLNA Hardware Sharing List")

Link to 2007 DLNA Summit website:

[`tree.celinuxforum.org/CelfPubWiki/DLNASummit`](http://tree.celinuxforum.org/CelfPubWiki/DLNASummit)

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Events](http://eLinux.org/Category:Events "Category:Events")
*   [2008](http://eLinux.org/Category:2008 "Category:2008")

# CELF 2005

> 原文：[eLinux.org](http://eLinux.org/Tech_Conference_2005Docs.md)
> 翻译：[@lzz5235](https://github.com/lzz5235)
> 校订：[@lzufalcon](https://github.com/lzufalcon)

# 2005 年技术会议文档

主讲人，演示人，演讲嘉宾和参会人员：非常感谢您参加 2005 年 CELF 技术大会。我真的很喜欢这次会议，并希望你也是如此。

**主讲人**： 请将您的技术会议演讲文档发布在这个页面上。（请参阅下表说明）

## 演示文档

| **主讲人** | **主题介绍** | **演示文档** |
| Greg Ungerer, SnapGear | uCLinux | [演示文档 (pdf)](http://elinux.org/images/b/bb/Uclinux.pdf "Uclinux.pdf") |
| Tohru Nojiri, Hitachi / Hirohisa Iijima, Lineo Solutions | Linux Kernel State Tracer (LKST) 技术 | [演示文档 第一部分(pdf)](http://elinux.org/images/8/85/CELF_LKST_SH_Presen.pdf "CELF LKST SH Presen.pdf"), [演示文档 第二部分(pdf)](http://elinux.org/images/6/6d/CELF_LKST_SH_Lineo.pdf "CELF LKST SH Lineo.pdf") |
| Todd Poynor, [Monta Vista](http://elinux.org/Monta_Vista "Monta Vista") | 动态电源管理 | [演示文档 (pdf)](http://elinux.org/images/4/40/DPM-CELF-Plenary2005.pdf "DPM-CELF-Plenary2005.pdf"), [笔记](http://elinux.org/images/2/2f/DPM-CELF-Plenary2005-Notes.txt "DPM-CELF-Plenary2005-Notes.txt") |
| Philippe Robin, ARM | ARM 核心上的开发与优化 | [演示文档 (PDF)](http://elinux.org/images/1/1e/Optimizing_Linux_ARM.pdf "Optimizing Linux ARM.pdf") |
| Ed Plowman | OpenGL ES, Open VG and Open MAX | [演示文档 (PDF)](http://elinux.org/images/1/1d/Khronos-CELF.pdf "Khronos-CELF.pdf") |
| Matt Mackall | Linux-tiny and Directions for Small Systems | [演示文档 (Open Office)](http://elinux.org/images/1/16/Linux-tiny.sxi "Linux-tiny.sxi") [(pdf)](http://elinux.org/images/9/9b/Linux-tiny.pdf "Linux-tiny.pdf") |
| Erik Andersen | uClibc | [演示文档 (pdf)](http://elinux.org/images/2/2b/UClibc_CELF.pdf "UClibc CELF.pdf") |
| John Vugts & Jeroen Brouwer, Philips | [UHAPI](http://www.uhapi.org/) 指导 | [介绍 (pdf)](http://elinux.org/images/9/9b/UHAPI-Forum-Introduction-CELF-20050126.pdf "UHAPI-Forum-Introduction-CELF-20050126.pdf"), [指导 (pdf)](http://elinux.org/images/3/38/UHAPI-Forum-Technical-CELF-20050126.pdf "UHAPI-Forum-Technical-CELF-20050126.pdf") |
| Pieter van der Meulen, Philips | 音频，视频，图形工作组的讨论 | [(Acrobat: pdf)](http://elinux.org/images/e/ed/AVGWG-20050126.pdf "AVGWG-20050126.pdf"), [(Power Point: ppt)](http://elinux.org/images/2/28/AVGWG-20050126.ppt "AVGWG-20050126.ppt"), [(Open Office: sxi)](http://elinux.org/images/1/16/AVGWG-20050126.sxi "AVGWG-20050126.sxi") |
| Dongjun Shin, Samsung | 闪存工作组的讨论 | [(PDF)](http://elinux.org/images/d/df/FM-SIG-discussion.pdf "FM-SIG-discussion.pdf") |
| Scott Preece, Motorola | 移动电话配置工作组- 介绍与工作会话 | [Plenary 演示文档](http://elinux.org/images/2/29/Plenary-Meeting-2005-MPPWG-report.pdf "Plenary-Meeting-2005-MPPWG-report.pdf"),[技术主题演示](http://elinux.org/images/7/76/CELF-Technical-Meeting-2005-MPPWG-session.pdf "CELF-Technical-Meeting-2005-MPPWG-session.pdf"),[API 状态的演示](http://elinux.org/images/7/7a/APIstatus_report.pdf "APIstatus report.pdf") |
| Mark Orvek, [Monta Vista](http://elinux.org/Monta_Vista "Monta Vista") | 电源管理工作组的讨论 - 挂起到闪存中的技术，等。 | 无 |
| Manas Saksena, [Time Sys](http://elinux.org/Time_Sys "Time Sys") | 实时工作组的讨论 | 无 |
| Hiroo Suyama, NEC | 系统裁剪工作组的讨论 | [演示文档 (pdf)](http://elinux.org/images/8/84/SZWG_2005_Plenary.pdf "SZWG 2005 Plenary.pdf") |
| Matsubara & Hagiwara & Hisao Munakata, Renesas | Linux 上的图形 API （包括 [DirectFB](http://elinux.org/DirectFB "DirectFB") 和 3D) | [演示文档 _3D(ppt)](http://elinux.org/images/9/96/3DG050126rev12.ppt "3DG050126rev12.ppt"), [presentation_DirectFB(ppt)](http://elinux.org/images/7/76/Celf0501dfbexp_final.ppt "Celf0501dfbexp final.ppt") |
| Nigel Cunningham, Cyclades | Linux 2.6 电源管理 | [演示文档 (Open Office)](http://elinux.org/images/5/54/Linux_2.6_Power_Management.sxi "Linux 2.6 Power Management.sxi"), [(pdf)](http://elinux.org/images/e/ef/Linux_2.6_Power_Management.pdf "Linux 2.6 Power Management.pdf") |
| [Emmanuel Fleury](http://www.cs.aau.dk/~fleury) & [Kristian S�rensen](http://www.cs.aau.dk/~ks), [Aalborg University](http://www.aau.dk) | [Umbrella 安全框架](http://umbrella.sf.net) | 无 |
| Stephen Johnson, Panasonic | 安全工作组的讨论 | [演示文档 (pdf)](http://elinux.org/images/b/b1/SECWG-Discussion-Plenary2005.pdf "SECWG-Discussion-Plenary2005.pdf") |
| Dennis Oliver Kropp | DirectFB | [Media:CELF_2005_DFB_Slides.pdf](http://elinux.org/images/d/d4/CELF_2005_DFB_Slides.pdf "CELF 2005 DFB Slides.pdf") |
| Michael Hunold | [Linux DVB API v4](http://www.linuxtv.org) | [pdf](http://elinux.org/images/1/13/Celf_linux_dvb_v4.pdf "Celf linux dvb v4.pdf") |
| Markku Ursin, Movial | 创建嵌入式设备上的 GTK+ 的界面 | [pdf](http://elinux.org/images/0/03/20050126-gtk.pdf "20050126-gtk.pdf") |
| Manas Saksena, [Time Sys](http://elinux.org/Time_Sys "Time Sys") | 2.6 实时抢占补丁 | [演示文档 (pdf)](http://elinux.org/images/4/4e/Real-Time-Preemption-Patchset.pdf "Real-Time-Preemption-Patchset.pdf") |
| Seiji Munetoh, IBM & Nicholas Szeto, Sony | Linux 集成 TCG (可信计算集群) 技术 | [TCGOverview PDF](http://elinux.org/images/4/4d/TCG_CELF_050125.pdf "TCG CELF 050125.pdf") |
| Tim Bird, Sony | 启动时优化工作组的讨论 - 当前进行中的启动时优化相关项目 | [演示文档 (pdf)](http://elinux.org/images/7/74/BTWG-Discussion-Plenary2005.pdf "BTWG-Discussion-Plenary2005.pdf"), [(ppt)](http://elinux.org/images/3/38/BTWG-Discussion-Plenary2005.ppt "BTWG-Discussion-Plenary2005.ppt") |
| Andrew Morton, Lead kernel developerHisao Munakata, RenesasMark Orvek, [Monta Vista](http://elinux.org/Monta_Vista "Monta Vista")Ruud Derwig, PhilipsModerated by Tim Bird, Sony | 提升 Linux 在商用消费者电子中的使用程度 | 无 |

## 介绍

下面是要遵循的步骤（请在读它们之前点击）：

*   推荐 PDF 格式。如果可以将您的演示文档转化为 PDF 格式。
*   请删除所有在您演示文档中的保密信息。
    *   如果您使用了含有 "CELF" 保密的页脚，那么请您上传演示文档，以让我们删除这些页脚，或者您可以通过编辑主页面页脚信息自己删除这些页脚。
*   请检查您上传文件名中是否包含空格
*   检查本文中的附件链接
    *   在表格中，输入您演示文档文件名 (或者通过浏览查找)
    *   点击"添加链接到本文中".
    *   点击"上传" (您的文件被添加上传到本文中)
    *   点击"显示文本" 再次查看本文。

如果你想让演示变得更好，你可以在你的表格中添加适当的 "媒体：" 通过点击在页面底部的 EditText，并从页面底部复制文本到你的媒体行中（目前它说： "不可用")。

参见的例子 Tim Bird（倒数第二的表），举一个语法要求的例子。每个表行是一个长行，尽管它在您的浏览器可能会换行（在保存此页面之前，删除行中的所有换行符。 ）不要担心 - 如果你不这样做，或造成了内容的混乱，我将稍后到来，并为您修复该表。

谢谢

## 附件

参见下面这行附件列表：

* * *

[Media:BTWG-Discussion-Plenary2005.ppt](http://eLinux.org/images/3/38/BTWG-Discussion-Plenary2005.ppt "BTWG-Discussion-Plenary2005.ppt")

[Media:BTWG-Discussion-Plenary2005.pdf](http://eLinux.org/images/7/74/BTWG-Discussion-Plenary2005.pdf "BTWG-Discussion-Plenary2005.pdf")

[Media:TCG_CELF_050125.pdf](http://eLinux.org/images/4/4d/TCG_CELF_050125.pdf "TCG CELF 050125.pdf")

[Media:CELF_Plenary_Meeting_2005_demo_posters.pdf](http://eLinux.org/images/0/08/CELF_Plenary_Meeting_2005_demo_posters.pdf "CELF Plenary Meeting 2005 demo posters.pdf")

[Media:20050125c-CELF_TPod.pdf](http://eLinux.org/images/1/17/20050125c-CELF_TPod.pdf "20050125c-CELF TPod.pdf")

[Media:DPM-CELF-Plenary2005.pdf](http://eLinux.org/images/4/40/DPM-CELF-Plenary2005.pdf "DPM-CELF-Plenary2005.pdf")

[Media:DPM-CELF-Plenary2005-Notes.txt](http://eLinux.org/images/2/2f/DPM-CELF-Plenary2005-Notes.txt "DPM-CELF-Plenary2005-Notes.txt")

[Media:SZWG_2005_Plenary.pdf](http://eLinux.org/images/8/84/SZWG_2005_Plenary.pdf "SZWG 2005 Plenary.pdf")

[Media:uclinux.pdf](http://eLinux.org/images/b/bb/Uclinux.pdf "Uclinux.pdf")

[Media:celf_linux_dvb_v4.pdf](http://eLinux.org/images/1/13/Celf_linux_dvb_v4.pdf "Celf linux dvb v4.pdf")

[Media:uClibc_CELF.pdf](http://eLinux.org/images/2/2b/UClibc_CELF.pdf "UClibc CELF.pdf")

[Media:AVGWG-20050126.pdf](http://eLinux.org/images/e/ed/AVGWG-20050126.pdf "AVGWG-20050126.pdf")

[Media:AVGWG-20050126.ppt](http://eLinux.org/images/2/28/AVGWG-20050126.ppt "AVGWG-20050126.ppt")

[Media:20050126-gtk.pdf](http://eLinux.org/images/0/03/20050126-gtk.pdf "20050126-gtk.pdf")

[Media:CELF-Technical-Meeting-2005-MPPWG-session.pdf](http://eLinux.org/images/7/76/CELF-Technical-Meeting-2005-MPPWG-session.pdf "CELF-Technical-Meeting-2005-MPPWG-session.pdf")

[Media:Plenary-Meeting-2005-MPPWG-report.pdf](http://eLinux.org/images/2/29/Plenary-Meeting-2005-MPPWG-report.pdf "Plenary-Meeting-2005-MPPWG-report.pdf")

[Media:APIstatus_report.pdf](http://eLinux.org/images/7/7a/APIstatus_report.pdf "APIstatus report.pdf")

[Media:SECWG-Discussion-Plenary2005.pdf](http://eLinux.org/images/b/b1/SECWG-Discussion-Plenary2005.pdf "SECWG-Discussion-Plenary2005.pdf")

[Media:UHAPI-Forum-Introduction-CELF-20050126.pdf](http://eLinux.org/images/9/9b/UHAPI-Forum-Introduction-CELF-20050126.pdf "UHAPI-Forum-Introduction-CELF-20050126.pdf")

[Media:UHAPI-Forum-Technical-CELF-20050126.pdf](http://eLinux.org/images/3/38/UHAPI-Forum-Technical-CELF-20050126.pdf "UHAPI-Forum-Technical-CELF-20050126.pdf")

[Media:Optimizing_Linux_ARM.pdf](http://eLinux.org/images/1/1e/Optimizing_Linux_ARM.pdf "Optimizing Linux ARM.pdf")

[Media:Khronos-CELF.pdf](http://eLinux.org/images/1/1d/Khronos-CELF.pdf "Khronos-CELF.pdf")

[Media:3DG050126rev12.ppt](http://eLinux.org/images/9/96/3DG050126rev12.ppt "3DG050126rev12.ppt")

[Media:celf0501dfbexp_final.ppt](http://eLinux.org/images/7/76/Celf0501dfbexp_final.ppt "Celf0501dfbexp final.ppt")

[Media:Real-Time-Preemption-Patchset.pdf](http://eLinux.org/images/4/4e/Real-Time-Preemption-Patchset.pdf "Real-Time-Preemption-Patchset.pdf")

[Media:Linux_2.6_Power_Management.pdf](http://eLinux.org/images/e/ef/Linux_2.6_Power_Management.pdf "Linux 2.6 Power Management.pdf")

[Media:linux-tiny.sxi](http://eLinux.org/images/1/16/Linux-tiny.sxi "Linux-tiny.sxi")

[Media:linux-tiny.pdf](http://eLinux.org/images/9/9b/Linux-tiny.pdf "Linux-tiny.pdf")

[Media:FM-SIG-discussion.pdf](http://eLinux.org/images/d/df/FM-SIG-discussion.pdf "FM-SIG-discussion.pdf")

[分类](http://eLinux.org/Special:Categories "Special:Categories"):

*   [事件](http://eLinux.org/Category:Events "Category:Events")

# ELC 2006 Biographies

> From: [eLinux.org](http://eLinux.org/ELC_2006_Biographies "http://eLinux.org/ELC_2006_Biographies")

# ELC 2006 Biographies

Biographies for ELC 2006 go here:

## Contents

*   1 Andre Kruetzfeldt
*   2 Armin Gerritsen
*   3 Chang-Sik Cho
*   4 Denis Olivier Krop
*   5 Ed Plowman
*   6 Greg Kroah-Hartman
*   7 Greg Ungerer
*   8 Hyok S. Choi
*   9 Jared Hulbert
*   10 John Goodacre
*   11 Jordan Crouse
*   12 Jung-Hyun Yoo
*   13 Kevin D. Kissell
*   14 Kittur Ganesh
*   15 Klaas de Waal
*   16 Liam Girdwood
*   17 Manas Saksena
*   18 Marcin Klecha
*   19 Mark Gross
*   20 Mathew Locke
*   21 Mathieu Desnoyers
*   22 Matthew Klahn
*   23 Matthew Locke
*   24 Matt Mackall
*   25 Min-Seok Jang
*   26 Munehiro Ikeda
*   27 Nicholas Mc Guire
*   28 Rob Landley
*   29 Ruud Derwig
*   30 Scott Preece
*   31 Shinichi Ochiai
*   32 Steve Johnson
*   33 Takanari Hayama
*   34 Thomas Gleixner
*   35 Todd Poynor
*   36 Tohru Nojiri

## Andre Kruetzfeldt

## Armin Gerritsen

Armin Gerritsen is a young and enthusiastic embedded software developer. He started as a physicist, but entered Philips shortly after receiving his master degree on the area of computational physics, where he was hired to do modelling for future generations of Philips Semiconductor platforms. Shortly after he was sucked into the embedded Linux world and failed to escape since then. His job is to support the implementation of new designs by writing software necessary for (dis)proving new concepts, prototypes and demonstrator platforms. The vast majority of this software is based on Linux.

## Chang-Sik Cho

## Denis Olivier Krop

## Ed Plowman

Ed Plowman has more than 10 years of experience in media and graphics processing. Ed is currently employed as 3D Graphics Products Manager with ARM Ltd, guiding ARM's 3D graphics processing strategy. He also represents ARM in the [OpenGL](http://eLinux.org/OpenGL "OpenGL") ES working group and occupies the ARM seat on the Khornos board of promoters. Ed started his career as one of the founding members of Argonaut technologies (an off shoot of Argonaut Software which later became ARC cores), working on CPU based 3D graphics technology which later provided the foundation for the ARC processor core.

## Greg Kroah-Hartman

Greg Kroah-Hartman is the current Linux kernel maintainer for more driver subsystems than he wants to admit, along with the driver core, sysfs, kobject, kref, and debugfs code. He is also the maintainer of the linux-hotplug and udev projects. On top of that he maintains the Gentoo Linux packages for these programs, and helps with the kernel package, which put him in touch with actual users every day, thereby ensuring his email inbox is never empty. He is also the co-author of the book, "Linux Device Drivers, 3rd Edition" and a contributing editor for Linux Journal.

## Greg Ungerer

Greg specializes in embedded systems development, having spent more than 15 years developing embedded software, and more than 10 years developing with Linux.

Greg is currently one of the core maintainers of the uClinux project. He first started hacking on it 7 years ago, and did the port to the Motorola Cold Fire CPU family. Over the last couple of years Greg has been pushing the uClinux support into Linus's mainline 2.6 series Linux kernels. Greg has been involved in the design and release of many commercial products based on uClinux software over the last few years.

## Hyok S. Choi

Hyok S. Choi is the maintainer of uClinux/ARM and a system architect for electronic gadgets in Samsung. The project URL is [`opensrc.sec.samsung.com/`](http://opensrc.sec.samsung.com/)

## Jared Hulbert

Jared Hulbert has been working with embedded Linux since 2000 when he picked up a ucSimm. Hes worked with XIP on Linux since 2001 helping port it to various machines. He now works for the CTO of the Intel Flash Memory Group managing the Linux Team trying to improve Intel NOR and NAND flash memory support for Linux. Jared has helped Intel customers optimize and port Linux on several phones currently on the market. He has also created many systems as demos for customers or internal uses such as what was probably the worlds only XIP Linux iPaq.

## John Goodacre

Program Manager, Multiprocessing, ARM

John joined ARM in February 2002 taking responsibility for their platform architecture roadmap. More recently he has been responsible for the market development of multiprocessing technology and the release of ARM11 MPCore the first integrated SMP core.

Prior to working at ARM, he worked for Microsoft for 5 years, firstly as Group Program Manager in the Exchange Server group and latterly as the manager for its Wireless Telephony group responsible for product, the definitions and strategy of mobile devices.

Graduating from the University of York with a BSc in Computer Science, John has over 20 years experience in the engineering industry.

## Jordan Crouse

## Jung-Hyun Yoo

## Kevin D. Kissell

Kevin D. Kissell is Principal Architect at MIPS Technologies, and has been a part of the MIPS architecture development team since its spin-out from Silicon Graphics in 1997\. He was first involved in the architecture and design of RISC microprocessors when he joined the original Fairchild Clipper design team in 1983\. In between, Kevin has been variously responsible for processor, systems and software architecture, for decoupled access/execute supercomputers at ACRI, massively parallel distributed memory computers at nCUBE, and large-scale shared-memory supercomputers at Evans & Sutherland. His prior work at MIPS includes having been principal architect of the [Smart MIPS](http://eLinux.org/index.php?title=Smart_MIPS&action=edit&redlink=1 "Smart MIPS (page does not exist)")(tm) extensions for smart cards. He holds a degree in computer science from the University of California at Berkeley.

## Kittur Ganesh

Kittur Ganesh is a Sr.Technical Consulting Engineer at Intel providing consulting, support and training on various software products targeting Intel® Architecture. Previously, for 6+ years at Intel, Kittur designed and developed software primarily used for fracturing design data of Intel chips. Prior to joining Intel, Kittur was involved in developing commercial SW in the EDA industry for 10+ years. Kittur has a M.S (Computer Science), M.S (Industrial Eng.) and a B.S (Mechanical Eng.)

## Klaas de Waal

Klaas de Waal has been writing software for systems ranging from Seiko 8-bit microprocessors to Silicon Graphics workstations. He was writing applications for Linux at the time when it was still called Unix, AIX, Irix or Solaris. Instead of writing software he now spends most of his time porting existing open-source applications to the Philips Semiconductor's Nexperia platform and talking about it.

## Liam Girdwood

Liam Girdwood is a Software Engineer at Wolfson Microelectronics. He specialises in embedded Linux audio and, prior to joining Wolfson, was an embedded Linux consultant with HP (now Agilent). He has worked within the Free Software community for more than five years. Liam Girdwood holds a Computer Science Degree from Heriot-Watt University. In his spare time, he is the maintainer of several open source projects including libnova ([`libnova.sf.net`](http://libnova.sf.net) ), a celestial mechanics library used by robotic telescopes around the world.

## Manas Saksena

Manas Saksena is the CTO of [Time Sys](http://eLinux.org/Time_Sys "Time Sys"), where he is responsible for the technology strategy and development for Embedded Linux products and services. He is also the chair of the real-time working group at CELF. In his past life, he spent a few years doing research in real-time systems, and published a number of papers on that topic.

## Marcin Klecha

## Mark Gross

## Mathew Locke

## Mathieu Desnoyers

Mathieu Desnoyers is interested in kernel programming internals and computer security. He contributed to the rt2570 wireless driver, to the Linux Kernel time subsystem and he took part in technical discussions with the System TAP team. He is active in the 2600 Montr�al group, follows security conferences and competitions.

Since November 2005, he has become the maintainer of the Linux Trace Toolkit (LTT) project, taking over the development with the new LTTng. He is the author of Linux Trace Toolkit Next Generation (LTTng) project which started in may 2005 ([`ltt.polymtl.ca`](http://ltt.polymtl.ca)). He is the main developer of Linux Trace Toolkit Viewer (LTTV) since the project started in 2003\. He is currently completing a M.Sc.A. in Computer Engineering at Ecole Polytechnique de Montr�al.

## Matthew Klahn

## Matthew Locke

## Matt Mackall

## Min-Seok Jang

## Munehiro Ikeda

## Nicholas Mc Guire

## Rob Landley

Rob Landley is a Senior Linux Engineer at [Time Sys](http://eLinux.org/Time_Sys "Time Sys") Corporation and the new maintainer of BusyBox. He first encountered Linux when the SLS disks came across Fidonet in 1993, and has been building various Linux systems from source code for six years. He co-founded a combination Linux Expo and Science Fiction convention (Penguicon) because that really is his idea of fun, as are writing documentation, researching computer history, urban hiking, and knitting chain mail.

## Ruud Derwig

## Scott Preece

Scott Preece is a senior software architect at Motorola Mobile Devices, working in Champaign-Urbana, Illinois, on developing a mobile-phone platform based on Linux. He has been working in software development close to 40 years, with extended periods in information retrieval research, user interaction design, UNIX system development, LISP compilers, and mobile-phone software systems. He is a Motorola Science Advisory Board Associate and was chairman of Motorola's Software Engineering Technology Steering Committee.

Scott has a Computer Science PhD from the University of Illinois as well as degrees from Dartmouth College and the University of Chicago, dating to before Computer Science was a major.

Scott chairs the CELF Mobile Phone Profile Working Group and is a member of the CELF Architecture Group.

## Shinichi Ochiai

## Steve Johnson

Steve Johnson has been a Senior Software Engineer for a Panasonic R & D lab in Princeton, NJ for the last 14 years. He is currently the chair of CELF's Security Working Group. He graduated from the University of California, Davis in 1968, 1970, and 1977 from which you can draw two conclusions: 1) he's getting up there in years, and 2) you shouldn't make any assumptions about the sequence of years. In his spare time he likes to make and/or fix things, which pretty much describes his working day also. His current wish is to learn more Japanese words without forgetting the words learned last week.

## Takanari Hayama

Takanari Hayama, Ph.D. is a founder and president of IGEL Co.,Ltd, an IT consulting company. He has been consluting Linux and open source solutions for more than 10 years. He has been supporting many kernel related development. He has developped Linux drivers for MPEG-2 Decoders, Digital TV related products, Professional Audio Device and so on. He also has involved in IPv6 development that runs not on only Linux, but also on [NetBSD](http://eLinux.org/index.php?title=NetBSD&action=edit&redlink=1 "NetBSD (page does not exist)") and ITRON. His current interrests are in the area of multimedia computing, operating system and mobile computing.

## Thomas Gleixner

Thomas Gleixner has worked on industrial embedded devices for over 20 years. During the last 8 years he has focused on Linux for industrial applications. He has contributed to Linux in several ways. He is the main author of the hrtimer subsystem and the high resolution timer implementation on top of hrtimers and a major contributor to Ingo Molnars realtime preemption patch.

## Todd Poynor

Todd works on embedded Linux OS features for [Monta Vista](http://eLinux.org/Monta_Vista "Monta Vista") Software, including development of power management technology for mobile devices and consulting with consumer electronics manufacturers on power management architecture.

## Tohru Nojiri

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Events](http://eLinux.org/Category:Events "Category:Events")
*   [ELC](http://eLinux.org/Category:ELC "Category:ELC")
*   [2006](http://eLinux.org/Category:2006 "Category:2006")

# ELC 2006 Presentations

> From: [eLinux.org](http://eLinux.org/ELC_2006_Presentations "http://eLinux.org/ELC_2006_Presentations")

# ELC 2006 Presentations

Presenters, Demo-ers, Panelists and Participants: Thanks very much for your participation in CELF's Embedded Linux Conference I really enjoyed the conference, and hope you did as well.

**Presenters:** Please post your technical conference presentations on this page.

(See Instructions below the table)

Here is an article on LinuxDevices with images of the demo posters: [`www.linuxdevices.com/articles/AT8247255296.html`](http://www.linuxdevices.com/articles/AT8247255296.html)

## Table

| **Person** | **Session Description** | **Presentation** |
| Tim Bird (Sony) | Keynote: 13 Years of Linux | [Media:13-years-of-Linux.pdf](http://elinux.org/images/f/fd/13-years-of-Linux.pdf "13-years-of-Linux.pdf") |
| Andre Kruetzfeldt, Christophe Guinet | The MPPWG Mobile Phone Telephony API – part 2 Introduction to the Mobile Phone API | [Media:ELC-Aplix-NEC.pdf](http://elinux.org/images/2/23/ELC-Aplix-NEC.pdf "ELC-Aplix-NEC.pdf") |
| Armin Gerritsen | The Video Clip Player – Philips Nexperia™ PNX0106 and Linux based platform | [Media:CELF-ELC_VideoClipPlayer.pdf](http://elinux.org/images/5/53/CELF-ELC_VideoClipPlayer.pdf "CELF-ELC VideoClipPlayer.pdf") |
| Chang-Sik Cho | Digital Entertainment Center Solution | Media:ELC-presentation-DEC-0412.pdf |
| Denis Kropp | Graphics Subsystem in an Embedded World - Integrating [DirectFB](http://elinux.org/DirectFB "DirectFB") into a UHAPI platform | [Media:ELC 2006 -GraphicsSubsystemInAnEmbeddedWorld.pdf](http://elinux.org/images/7/75/ELC_2006_-GraphicsSubsystemInAnEmbeddedWorld.pdf "ELC 2006 -GraphicsSubsystemInAnEmbeddedWorld.pdf") |
| Ed Plowman | Khronos Media API Update | [Media:Khronos-API-CELF-Apr06.pdf](http://elinux.org/images/a/a8/Khronos-API-CELF-Apr06.pdf "Khronos-API-CELF-Apr06.pdf") |
| Greg Kroah Hartman | Tutorial: Write a real, working Linux driver | [Media:celf_2006_tutorial.pdf](http://elinux.org/images/4/46/Celf_2006_tutorial.pdf "Celf 2006 tutorial.pdf") [Media:USB_tutorial_example_code.tar.gz](http://elinux.org/images/4/4b/USB_tutorial_example_code.tar.gz "USB tutorial example code.tar.gz") |
| Greg Ungerer | uClinux -- Micro-controller Linux | [Media:uclinux.pdf](http://elinux.org/images/b/bb/Uclinux.pdf "Uclinux.pdf") |
| Hyok S. Choi | Non-Paged Memory Management on Mainline ARM Kernel | . |
| Jared Hulbert | Tutorial: Creating optimized XIP systems | [Media:CELF-XIP_Linux.pdf](http://elinux.org/images/d/dd/CELF-XIP_Linux.pdf "CELF-XIP Linux.pdf") |
| John Goodacre | ARM [MPCore](http://elinux.org/index.php?title=MPCore&action=edit&redlink=1 "MPCore (page does not exist)") and Power Management | [Media:MPCore_and_Linux_Power.pdf,](http://elinux.org/images/1/12/MPCore_and_Linux_Power.pdf%2C "MPCore and Linux Power.pdf,") [Media:MPCore_and_Linux_Power.ppt](http://elinux.org/images/c/c2/MPCore_and_Linux_Power.ppt "MPCore and Linux Power.ppt") |
| Jordan Crouse | Taking the plunge - the marriage of X86 and embedded Linux | [Media:jordan_crouse_celf_2006.pdf](http://elinux.org/images/1/1b/Jordan_crouse_celf_2006.pdf "Jordan crouse celf 2006.pdf") |
| Jung-Hyun Yoo | Linux on a Terrestrial DMB TV Receiver | . |
| Kevin D. Kissell | Microthreads as Linux CPUs - SMTC Linux for MIPS MT cores | [Media:CELF_SMTC_April_2006_v0.3.pdf](http://elinux.org/images/7/7b/CELF_SMTC_April_2006_v0.3.pdf "CELF SMTC April 2006 v0.3.pdf") |
| Kittur Ganesh | Optimization Techniques for maximizing application performance on Multi-core processors. | [Media:Ganesh-CELF.pdf,](http://elinux.org/images/a/ae/Ganesh-CELF.pdf%2C "Ganesh-CELF.pdf,") [Media:Ganesh-CELF.ppt](http://elinux.org/images/3/39/Ganesh-CELF.ppt "Ganesh-CELF.ppt") |
| Klaas de Waal | [Myth TV](http://elinux.org/Myth_TV "Myth TV") on Philips Nexperia™ PNX8550 and Linux based platform | [Media:MythTVonNexperia-CELF-05.pdf](http://elinux.org/images/d/da/MythTVonNexperia-CELF-05.pdf "MythTVonNexperia-CELF-05.pdf") |
| Liam Girdwood | Enhancing ALSA audio for portable devices. | . |
| Manas Saksena | State of Linux Realtime – BOF | . |
| Mark Gross | Power Management Panel | . |
| Mathew Locke | CE Linux Forum Open Test Lab | . |
| Mathieu Desnoyers | Low disturbance embedded system tracing with Linux Trace Toolkit Next Generation. | [Media:celf2006-desnoyers.pdf](http://elinux.org/images/3/32/Celf2006-desnoyers.pdf "Celf2006-desnoyers.pdf") |
| Matt Mackall | Kernel Size Issues | . |
| Matthew Klahn | Visualizing resource usage during initialization of embedded systems | [Media:VisualizingResUsageDuringBoot.pdf](http://elinux.org/images/8/80/VisualizingResUsageDuringBoot.pdf "VisualizingResUsageDuringBoot.pdf") |
| Min-Seok Jang | Research on Linux 2.6 Kernel Features for CE products | . |
| Munehiro Ikeda | Examining Linux Kernel Size | [Media:size_exam_celf_elc2006.pdf](http://elinux.org/images/f/f3/Size_exam_celf_elc2006.pdf "Size exam celf elc2006.pdf") |
| Prof. Nicholas Mc Guire | Boot-Time Optimization - results of applying currently available solutions | [Media:boot_opt.pdf](http://elinux.org/images/2/23/Boot_opt.pdf "Boot opt.pdf") |
| Rob Landley | What's new with [BusyBox](http://elinux.org/BusyBox "BusyBox") | . |
| Ruud Derwig | Audio Video Graphics Version 2.0 Specification | [Media:CELF_AVG_Specification_v2_20060411.pdf](http://elinux.org/images/d/d2/CELF_AVG_Specification_v2_20060411.pdf "CELF AVG Specification v2 20060411.pdf") ([Media:CELF_AVG_Specification_v2_20060411.ppt)](http://elinux.org/images/6/6d/CELF_AVG_Specification_v2_20060411.ppt%29 "CELF AVG Specification v2 20060411.ppt)") |
| Scott Preece | The MPPWG Mobile Phone Telephony API – part 1 Developing the API | [Media:MppApiSession1.pdf](http://elinux.org/images/3/38/MppApiSession1.pdf "MppApiSession1.pdf") |
| Shinichi Ochiai | Experience with realtime performance of the current Linux technologies | [Media:ExperienceWithRealtimePerformance.pdf](http://elinux.org/images/2/2d/ExperienceWithRealtimePerformance.pdf "ExperienceWithRealtimePerformance.pdf") |
| Steve Johnson | Trusted Bootloader | [Media:Trusted_Boot_Loader.pdf](http://elinux.org/images/2/28/Trusted_Boot_Loader.pdf "Trusted Boot Loader.pdf") |
| Takanari Hayama | Analysis of User Level Device Driver usability in embedded application – Technique to achieve good real-time performance | [Media:uldd060411celfelc2006.pdf](http://elinux.org/images/f/f5/Uldd060411celfelc2006.pdf "Uldd060411celfelc2006.pdf") |
| Thomas Gleixner | A Case Study of transitioning a project from RTAI to RT-Preempt | . |
| Todd Poynor | Topics in Embedded Power Management | [Media:pm-celf-summit-2006.pdf](http://elinux.org/images/a/a8/Pm-celf-summit-2006.pdf "Pm-celf-summit-2006.pdf") |
| Tohru Nojiri | Kprobes implementation for Embedded System | . |

## Instructions for Presenters

Here are the steps to follow to add your presentation to this page (Please read them BEFORE clicking):

*   If you don't have a wiki account, please create one by clicking on User Preferences, fill out the form, and return here.
    *   (A wiki account is required to attach files or edit this page)
*   PDF format is preferred. If you can convert your presentation to PDF, please do so.
*   If your presentation has any message which says it is confidential (such as in a footer from a corporate or CELF template), please remove it.
    *   If you used a CELF template that has "CELF confidential" in the footer, please upload the presentation so we can remove the footer. Or you can remove it yourself by editing the footer on the slide "master" page.
*   Please make sure your filename does not have any spaces in it
*   Click on the AttachFile link at the bottom of the page
    *   on the form, enter your presentation file name (or browse to it)
    *   click on "Add link to page".
    *   click on "Upload" (your file will be added as an attachment to the page)
    *   click on "ShowText" to see the page again.

If you want to be extra nice, you can add the appropriate "Media:" line to your entry in the table. Do this by clicking on EditText at the bottom of the page and copying the text from the bottom of the page to your line (where it currently has a ".").

See the entry for Tim Bird (first in the table) for an example of the syntax required. Each table line is one long line, even though it may wrap in your browser (so remove all line feeds from your line before saving this page.) Don't worry - if you don't do this or mess something up I will come along later and fix up the table for you.

Thanks

## Attachments

Below this line is a list of attachments:

* * *

*   [Media:13-years-of-Linux.pdf](http://eLinux.org/images/f/fd/13-years-of-Linux.pdf "13-years-of-Linux.pdf")
*   [Media:celf2006-desnoyers.pdf](http://eLinux.org/images/3/32/Celf2006-desnoyers.pdf "Celf2006-desnoyers.pdf")
*   [Media:MppApiSession1.pdf](http://eLinux.org/images/3/38/MppApiSession1.pdf "MppApiSession1.pdf")
*   [Media:pm-celf-summit-2006.pdf](http://eLinux.org/images/a/a8/Pm-celf-summit-2006.pdf "Pm-celf-summit-2006.pdf")
*   [Media:Ganesh-CELF.pdf](http://eLinux.org/images/0/06/Ganesh-CELF.pdf "Ganesh-CELF.pdf")
*   [Media:Ganesh-CELF.ppt](http://eLinux.org/images/3/39/Ganesh-CELF.ppt "Ganesh-CELF.ppt")
*   [Media:ELC2006-GraphicsSubsystemInAnEmbeddedWorld.pdf](http://eLinux.org/images/b/b1/ELC2006-GraphicsSubsystemInAnEmbeddedWorld.pdf "ELC2006-GraphicsSubsystemInAnEmbeddedWorld.pdf")
*   [Media:VisualizingResUsageDuringBoot.pdf](http://eLinux.org/images/8/80/VisualizingResUsageDuringBoot.pdf "VisualizingResUsageDuringBoot.pdf")
*   [Media:CELF_SMTC_April_2006_v0.3.pdf](http://eLinux.org/images/7/7b/CELF_SMTC_April_2006_v0.3.pdf "CELF SMTC April 2006 v0.3.pdf")
*   [Media:celf_2006_tutorial.pdf](http://eLinux.org/images/4/46/Celf_2006_tutorial.pdf "Celf 2006 tutorial.pdf")
*   [Media:USB_tutorial_example_code.tar.gz](http://eLinux.org/images/4/4b/USB_tutorial_example_code.tar.gz "USB tutorial example code.tar.gz")
*   [Media:Trusted_Boot_Loader.pdf](http://eLinux.org/images/2/28/Trusted_Boot_Loader.pdf "Trusted Boot Loader.pdf")
*   [Media:ExperienceWithRealtimePerformance.pdf](http://eLinux.org/images/2/2d/ExperienceWithRealtimePerformance.pdf "ExperienceWithRealtimePerformance.pdf")
*   [Media:size_exam_celf_elc2006.pdf](http://eLinux.org/images/f/f3/Size_exam_celf_elc2006.pdf "Size exam celf elc2006.pdf")
*   [Media:CELF_AVG_Specification_v2_20060411.pdf](http://eLinux.org/images/d/d2/CELF_AVG_Specification_v2_20060411.pdf "CELF AVG Specification v2 20060411.pdf")
*   [Media:CELF_AVG_Specification_v2_20060411.ppt](http://eLinux.org/images/5/52/CELF_AVG_Specification_v2_20060411.ppt "CELF AVG Specification v2 20060411.ppt")
*   [Media:uclinux.pdf](http://eLinux.org/images/b/bb/Uclinux.pdf "Uclinux.pdf")
*   [Media:MythTVonNexperia-CELF-05.pdf](http://eLinux.org/images/d/da/MythTVonNexperia-CELF-05.pdf "MythTVonNexperia-CELF-05.pdf")
*   [Media:CELF-ELC_VideoClipPlayer.pdf](http://eLinux.org/images/5/53/CELF-ELC_VideoClipPlayer.pdf "CELF-ELC VideoClipPlayer.pdf")
*   [Media:uldd060411celfelc2006.pdf](http://eLinux.org/images/f/f5/Uldd060411celfelc2006.pdf "Uldd060411celfelc2006.pdf")
*   [Media:MPCore_and_Linux_Power.pdf](http://eLinux.org/images/7/76/MPCore_and_Linux_Power.pdf "MPCore and Linux Power.pdf")
*   [Media:MPCore_and_Linux_Power.ppt](http://eLinux.org/images/c/c2/MPCore_and_Linux_Power.ppt "MPCore and Linux Power.ppt")
*   [Media:ELC-Aplix-NEC.pdf](http://eLinux.org/images/2/23/ELC-Aplix-NEC.pdf "ELC-Aplix-NEC.pdf")
*   Media:ELC-presentation-DEC-0412.pdf
*   [Media:Khronos-API-CELF-Apr06.pdf](http://eLinux.org/images/a/a8/Khronos-API-CELF-Apr06.pdf "Khronos-API-CELF-Apr06.pdf")
*   [Media:boot_opt.pdf](http://eLinux.org/images/2/23/Boot_opt.pdf "Boot opt.pdf")

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Events](http://eLinux.org/Category:Events "Category:Events")
*   [ELC](http://eLinux.org/Category:ELC "Category:ELC")
*   [2006](http://eLinux.org/Category:2006 "Category:2006")
*   [Presentations](http://eLinux.org/Category:Presentations "Category:Presentations")

# ELC 2007 Call For Presentations

> From: [eLinux.org](http://eLinux.org/ELC_2007_Call_For_Presentations "http://eLinux.org/ELC_2007_Call_For_Presentations")

# ELC 2007 Call For Presentations

The CE Linux Forum would like to invite you to make a presentation at our upcoming Embedded Linux Conference. The conference will be held April 17, 18 and 19 in San Jose, California.

(*See [Embedded Linux Conference 2007](http://eLinux.org/Embedded_Linux_Conference_2007 "Embedded Linux Conference 2007") for general information* about the conference.*)*

## Contents

*   1 Presentations Page
*   2 Guidelines
*   3 Technical Facilities
*   4 Reward and possible assistance
*   5 Review
*   6 Submission method
*   7 Deadlines

## Presentations Page

*   All presentations can now be found on ELC_2007_Presentations.

## Guidelines

Presentations should be of a technical nature, covering topics related to use of Linux in embedded systems. The CE Linux Forum is focused on the use of Linux in consumer electronics products, but presentations may cover use of Linux in other embedded areas, as long as the topic is of general relevance to most embedded users.

Presentations that are commercial advertisements or sales pitches are not appropriate for this conference.

Presentations on the following topics are encouraged:

*   Audio, Video, and Graphics systems for embedded products
*   Security
*   System size
*   Bootup time
*   Meeting real-time constraints
*   Power management
*   Streaming media
*   Flash memory devices and filesystems
*   Technologies related to cell phones, digital settop boxes, handheld devices, or other CE products
*   Development tools for embedded users
*   Use of Linux in actual products, practical experience and war stories
*   Standards for CE products

Most presentation slots are 50 minutes long, including time for questions. A few shorter 40-minute slots are also available.

A paper submission is NOT required in conjunction with the presentation. However, if a paper is produced, it is requested to be published in wiki format on the Embedded Linux Wiki.

You may also submit a request to present a tutorial. Tutorials are intended to be longer, interactive learning sessions. A tutorial may occupy more than one session slot at the conference.

We prefer presentations that have not been previously presented, but exceptions will be made for material that is either of great interest or has been seen previously only by a limited audience.

A single person may submit more than one proposal. However, since the number of slots is limited, it is likely that at most one proposal from an individual will be accepted.

For examples of presentations from previous years' conferences, see: Tech Conference 2005Docs and ELC 2006 Presentations

## Technical Facilities

Presentations will be in rooms with 1024�768 XGA data projectors. Please bring your own laptop for your presentation. Please contact us if you have further requirements.

## Reward and possible assistance

Speakers will receive complimentary professional registration for the conference. That is, if you make a presentation, you get into the rest of the conference for free

Travel and accomodation assistance is available for a limited number of speakers, under certain circumstances. Please contact the e-mail address below if you believe your circumstances would qualify you for this assistance.

## Review

All presentation, tutorial, demo and BOF proposals will be reviewed by the CE Linux Forum, and submitters will be notified of their acceptance (or not) by March 1, 2007.

Proposals will be assessed on a number of criteria:

*   Is the topic of interest to embedded Linux developers? That is, is it relevant for using Linux in embedded products?
*   Does the presentation describe something new or interesting?
*   Does the topic fit with other presentations planned for the conference?
*   Is source code for the project (if applicable) available now?
*   May the forum publish your presentation on it's web site?

## Submission method

To submit a presentation proposal, send an e-mail to celf-elc@tree.celinuxforum.org

A presentation request should include your name, a presentation title and a brief (one or two paragraph) abstract. Also, please indicate with your proposal whether your presentation may be published by the forum on it's web site, after the conference.

If your proposal is accepted, you will be requested to provide a short paragraph describing yourself, for use in conference materials.

If you have questions, you may also send queries to the e-mail address above. We will be happy to answer questions about the presentation requirements or the conference itself.

## Deadlines

Proposals for presentations, demos and Birds-of-a-Feather sessions must be received by February 5, 2007.

Speakers will be notified by March 1, 2007.

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Events](http://eLinux.org/Category:Events "Category:Events")
*   [2007](http://eLinux.org/Category:2007 "Category:2007")
*   [ELC](http://eLinux.org/Category:ELC "Category:ELC")

# ELC 2007 Presentations

> From: [eLinux.org](http://eLinux.org/ELC_2007_Presentations "http://eLinux.org/ELC_2007_Presentations")

# ELC 2007 Presentations

## Presentations

| **Session Description** | **Person** | **Presentation** |
| Keynote: Embedded Linux - An Increasing Nightmare? | Thomas Gleixner | [Celf-2007-keynote-Gleixner.pdf](http://elinux.org/images/f/fd/Celf-2007-keynote-Gleixner.pdf "Celf-2007-keynote-Gleixner.pdf") [LWN.net writeup and comments](http://lwn.net/Articles/230831/) |
| Keynote: The State of the Linux Kernel | Jonathan Corbet | [corbet-kernel.pdf](http://elinux.org/images/7/7f/Corbet-kernel.pdf "Corbet-kernel.pdf") or [LWN page.](http://lwn.net/talks/elc2007/kernel/img0.html) |
| X (Not On The Desktop) | Matthew Allum | [`folks.o-hand.com/mallum/presentations/x-not-on-the-desktop/slide-00.html`](http://folks.o-hand.com/mallum/presentations/x-not-on-the-desktop/slide-00.html) |
| The use of JTAG in Linux Bring-up | Mike Anderson | [JTAG-Anderson.pdf](http://elinux.org/images/f/f3/JTAG-Anderson.pdf "JTAG-Anderson.pdf") |
| Kernel Probes for ARM | Quentin Barnes | [kprobes_for_ARM-ELC2007.pdf](http://elinux.org/images/b/b6/Kprobes_for_ARM-ELC2007.pdf "Kprobes for ARM-ELC2007.pdf") |
| Kernel Probes for MIPS, ARM and PPC32 | Tim Bird | [Kernel_Probes_for_MIPS_ARM_and_PPC32-ELC2007.pdf](http://elinux.org/images/8/8b/Kernel_Probes_for_MIPS_ARM_and_PPC32-ELC2007.pdf "Kernel Probes for MIPS ARM and PPC32-ELC2007.pdf") |
| How to Participate in the Kernel Development Process | Jonathan Corbet | [corbet-dev-process.pdf](http://elinux.org/images/0/00/Corbet-dev-process.pdf "Corbet-dev-process.pdf") or [LWN page](http://lwn.net/talks/elc2007/dev-process/img0.html) |
| TimeDoctor – Use the Strength of Eclipse to Visualize (Multi)Processor Execution Behavior | Ruud Derwig | [TimeDoctor_ELC_20070417.pdf](http://elinux.org/images/5/58/TimeDoctor_ELC_20070417.pdf "TimeDoctor ELC 20070417.pdf") |
| Audio, Video and Graphics BOF | Ruud Derwig | not available |
| Benchmarking of Dynamic Power Management Solutions | Frank Dols | [Benchmarking-of-Dynamic-Power-Management-Solutions.pdf](http://elinux.org/images/f/f7/Benchmarking-of-Dynamic-Power-Management-Solutions.pdf "Benchmarking-of-Dynamic-Power-Management-Solutions.pdf") |
| SPlit Application architeCturE | Bas Engel | not available |
| The Current Status of Timers and Realtime Support in the Kernel | Thomas Gleixner | [`tglx.de/private/tglx/celf2007/celf-2007-rt.pdf`](http://tglx.de/private/tglx/celf2007/celf-2007-rt.pdf) |
| Power Management Techniques, Policies, and Problems for Embedded Linux | Mark Gross | [CELF_ELC2007_mgross_PM_slide_set.pdf](http://elinux.org/images/0/0f/CELF_ELC2007_mgross_PM_slide_set.pdf "CELF ELC2007 mgross PM slide set.pdf") |
| Power Management BOF | Mark Gross | not available |
| [TomoyoLinux](http://elinux.org/TomoyoLinux "TomoyoLinux") - A Lightweight and Manageable Security System for PC and Embedded Linux | ToshiharuHarada, Tetsuo Handa | [elc2007-presentation-20070418.pdf](http://sourceforge.jp/projects/tomoyo/document/elc2007-presentation-20070418.pdf/en/4/elc2007-presentation-20070418.pdf) or [elc2007-presentation-20070418-for_linux.pdf](http://sourceforge.jp/projects/tomoyo/document/elc2007-presentation-20070418-for_linux.pdf) (should work with most PDF readers) |
| How DirectFB Adopted Market Specific Requirements | Takanari Hayama | [celf2007_directfb.pdf](http://elinux.org/images/2/2e/Celf2007_directfb.pdf "Celf2007 directfb.pdf") |
| Current State of Bluetooth Support in Linux | Marcel Holtman | [elc2007_slides.pdf](http://www.holtmann.org/papers/bluetooth/elc2007_slides.pdf) |
| System size BOF | Jared Hulbert | not available |
| Realtime BOF - Realtime Preempt Patch Adaptation Experience (including Commercial Product) | YungJoon Jung | [RT-BoF-2007-04-17.pdf](http://elinux.org/images/8/8a/RT-BoF-2007-04-17.pdf "RT-BoF-2007-04-17.pdf") |
| FancyPants – An Advanced 2D Graphics System for CE Linux | Robi Karp | [fst-fancypants-celf2007.pdf](http://elinux.org/images/8/8e/Fst-fancypants-celf2007.pdf "Fst-fancypants-celf2007.pdf") - More information at: [`www.fancypants-graphics.com/`](http://www.fancypants-graphics.com/) |
| Bootup Technologies BOF | Elias Kesh | [BTWG-Discussion-Plenary2007.pdf](http://elinux.org/images/a/a2/BTWG-Discussion-Plenary2007.pdf "BTWG-Discussion-Plenary2007.pdf") |
| OpenEmbedded - Easy QA, Repeatability and Retargeting | Koen Kooi | [Koen-ELC2007.pdf](http://elinux.org/images/7/7c/Koen-ELC2007.pdf "Koen-ELC2007.pdf") |
| Prelinker Usage for MIPS Cores | Arvind Kumar, Kazu Hirata, Shinichi Tsurumoto | [Evaluation_of_MIPS_Prelinking.pdf](http://elinux.org/images/a/af/Evaluation_of_MIPS_Prelinking.pdf "Evaluation of MIPS Prelinking.pdf") |
| How To Protect Your Intellectual Property While Using Open Source | Shawn Kwon | [CELF-ELC07-OSS.pdf](http://elinux.org/images/a/a6/CELF-ELC07-OSS.pdf "CELF-ELC07-OSS.pdf") |
| Applying User-level Drivers on DTV System | Gunho Lee | [UDD_on_DTV_ELC2007.pdf](http://elinux.org/images/f/f1/UDD_on_DTV_ELC2007.pdf "UDD on DTV ELC2007.pdf") |
| Analysis of Interrupt Entry Latency in Linux 2.4 vs 2.6 | SangBae Lee | [CELF_ELC_Interrupt_Latency_2.4_vs_2.6.pdf](http://elinux.org/images/8/83/CELF_ELC_Interrupt_Latency_2.4_vs_2.6.pdf "CELF ELC Interrupt Latency 2.4 vs 2.6.pdf") |
| A Generic Parameter Layer for Linux Power Management | Matt Locke | [mlocke-elc2007-pm.ppt.pdf](http://elinux.org/images/b/b5/Mlocke-elc2007-pm.ppt.pdf "Mlocke-elc2007-pm.ppt.pdf") |
| SPE-assisted User Level Device Driver on Cell Processor | Hiroyuki Machida | [20070419-Cell-Cloop-e.pdf](http://elinux.org/images/f/f4/20070419-Cell-Cloop-e.pdf "20070419-Cell-Cloop-e.pdf") |
| System-wide Memory Profiling | Matt Mackall | [memory-profiling.html](http://selenic.com/repo/pagemap/raw-file/tip/memory-profiling.html) |
| [TomoyoLinux](http://elinux.org/TomoyoLinux "TomoyoLinux") – Tutorial | Kei Masumoto, Kentaro Takeda | [PDF on Sourceforge](http://sourceforge.jp/projects/tomoyo/document/elc2007-tutorial-20070418.pdf) |
| Porting and Evaluating the Linux Realtime Preemption on Embedded Platform | Katsuya Matsubara | [preempt070418celfelc.pdf](http://elinux.org/images/4/4d/Preempt070418celfelc.pdf "Preempt070418celfelc.pdf") [preempt070418celfelc.odp](http://elinux.org/images/5/57/Preempt070418celfelc.odp "Preempt070418celfelc.odp") |
| Kernel Debugging with GDB | Nicholas McGuire | not available |
| Kernel Validation Tools | Nicholas McGuire | [tools_slides.pdf](http://elinux.org/images/c/c6/Tools_slides.pdf "Tools slides.pdf") |
| GDB Tracepoints for GNU/Linux User and Kernel Space | Nicholas McGuire | not available |
| Telepathy: Real-time Communications Framework | Robert McQueen | [telepathy-elc2007.pdf](http://elinux.org/images/0/0c/Telepathy-elc2007.pdf "Telepathy-elc2007.pdf") |
| Comparison of Secure OSes and embedded SELinux activity in Japan | Yuichi Nakamura | [SecureOS_nakamura.pdf](http://elinux.org/images/3/39/SecureOS_nakamura.pdf "SecureOS nakamura.pdf") |
| Suspend-to-RAM implementation on freescale 74xx without PMU | Fujihito Numano | [Suspend-to-RAMImplementationOnFreescale74xxWithoutPMU-070418.pdf](http://elinux.org/images/b/b2/Suspend-to-RAMImplementationOnFreescale74xxWithoutPMU-070418.pdf "Suspend-to-RAMImplementationOnFreescale74xxWithoutPMU-070418.pdf") |
| Mobile Convergence Computing Handset Supporting Ubiquitous Concept | Tae Joon Park | [Mobile_Convergence_Communicator_ELC2007.pdf](http://elinux.org/images/7/7f/Mobile_Convergence_Communicator_ELC2007.pdf "Mobile Convergence Communicator ELC2007.pdf") |
| OpenKODE - The Khronos Open Development Environment | Ed Plowman | not available |
| CELF in the Mobile Phone Space | Scott Preece | [CelfInMobilePhoneSpace.pdf](http://elinux.org/images/0/00/CelfInMobilePhoneSpace.pdf "CelfInMobilePhoneSpace.pdf") |
| Mobile Phone BOF | Scott Preece | not available |
| Experiment with Linux and ARM Thumb-2 ISA | Philippe Robin | [Experiment_with_Linux_and_ARM_Thumb-2_ISA.pdf](http://elinux.org/images/8/8a/Experiment_with_Linux_and_ARM_Thumb-2_ISA.pdf "Experiment with Linux and ARM Thumb-2 ISA.pdf") |
| File System Survey, Focus on Embedded Linux | Gene Sally | [filesystems-for-embedded-linux.pdf](http://elinux.org/images/b/b1/Filesystems-for-embedded-linux.pdf "Filesystems-for-embedded-linux.pdf") |
| Fitting Linux on Resource Constrained Targets | Gene Sally | [linux-on-space-constrained-systems.pdf](http://elinux.org/images/f/f6/Linux-on-space-constrained-systems.pdf "Linux-on-space-constrained-systems.pdf") |
| Gstreamer Tutorial | Jan Schmidt | [celinux-gst-tutorial.pdf](http://elinux.org/images/3/39/Celinux-gst-tutorial.pdf "Celinux-gst-tutorial.pdf") [gst-code-samples.tar.gz](http://elinux.org/images/e/e1/Gst-code-samples.tar.gz "Gst-code-samples.tar.gz") |
| HTTP-FUSE PS3 Linux which is internet boot framework with kboot | Toshiki Yagi | [elc07_yagi.pdf](http://elinux.org/images/2/2c/Elc07_yagi.pdf "Elc07 yagi.pdf") |
| uClinux -- State of the Nation | Greg Ungerer | [uclinux-sotn.pdf](http://elinux.org/images/e/e4/Uclinux-sotn.pdf "Uclinux-sotn.pdf") |
| The OpenMAX Integration Layer standard | Giulio Urlini | [The_OpenMAX_Integration_Layer_standard.pdf](http://elinux.org/images/e/e0/The_OpenMAX_Integration_Layer_standard.pdf "The OpenMAX Integration Layer standard.pdf") |
| The CEA 2014 Standard. A New XHTML-Based Browser and Setup Framework for Digital Home Devices | Mark R. Walker | [CEA_2014_Overview.pwz](http://elinux.org/images/9/9b/CEA_2014_Overview.pwz "CEA 2014 Overview.pwz") |
| An Annoucement from the GNOME Foundation | Jeff Waugh | See the [LWN.net writeup](http://lwn.net/Articles/231123/). |
| Deferred Dynamic Loading --- A Memory Reduction Technique | Tetsuji Yamamoto | [DeferredDynamicLoading_20070417.pdf](http://elinux.org/images/1/19/DeferredDynamicLoading_20070417.pdf "DeferredDynamicLoading 20070417.pdf") |
| Management of Software Suspend Image | Haitao Zhang | not available |

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Events](http://eLinux.org/Category:Events "Category:Events")
*   [2007](http://eLinux.org/Category:2007 "Category:2007")
*   [ELC](http://eLinux.org/Category:ELC "Category:ELC")

# ELC 2008 Presentations

> From: [eLinux.org](http://eLinux.org/ELC_2008_Presentations "http://eLinux.org/ELC_2008_Presentations")

# ELC 2008 Presentations

## Presentations

*   Video of the ELC 2008 keynotes and various sessions can now be viewed online at [`free-electrons.com/community/videos/conferences`](http://free-electrons.com/community/videos/conferences).
*   An extensive report of this year's conference is now online at [`free-electrons.com/articles/conferences/elc2008-report`](http://free-electrons.com/articles/conferences/elc2008-report).

## Keynotes

| **Person** | **Session Description** | **Presentation** |
| Henry Kingman | Tux in Lights | [henry_kingman_welcoming_address.pdf](http://elinux.org/images/3/3f/Henry_kingman_welcoming_address.pdf "Henry kingman welcoming address.pdf") |
| Andrew Morton | The Relationship Between kernel.org Development and the Use of Linux for Embedded Applications | [morton-elc-08.ppt](http://elinux.org/images/c/ce/Morton-elc-08.ppt "Morton-elc-08.ppt") |
| Tim Bird | Status of Embedded Linux and CELF Plenary Meeting | [Status-of-embedded-Linux-ELC2008.ppt](http://elinux.org/images/8/80/Status-of-embedded-Linux-ELC2008.ppt "Status-of-embedded-Linux-ELC2008.ppt") |

## Sessions

| **Person** | **Session Description** | **Presentation** |
| Kate Alhola | Maemo Mobile Linux Platform, Current Status and Future Directions | [elc_maemo_2008.pdf](http://elinux.org/images/1/16/Elc_maemo_2008.pdf "Elc maemo 2008.pdf") |
| Mike Anderson | Using a JTAG for Linux Driver Debugging | [CELF_JTAG_Anderson.ppt](http://elinux.org/images/4/4e/CELF_JTAG_Anderson.ppt "CELF JTAG Anderson.ppt") |
| Alexander Belyakov | Compressed Swap Solution for Embedded Linux | [belyakov_elc2008_compressed_swap_final_ppt.pdf](http://elinux.org/images/c/c4/Belyakov_elc2008_compressed_swap_final_ppt.pdf "Belyakov elc2008 compressed swap final ppt.pdf") [belyakov_elc2008_compressed_swap_final_doc.pdf](http://elinux.org/images/a/a7/Belyakov_elc2008_compressed_swap_final_doc.pdf "Belyakov elc2008 compressed swap final doc.pdf") |
| Hugh Blemings | Learning Kernel Hacking from clever people | [elc-us-2008-slides-final.pdf](http://elinux.org/images/c/c9/Elc-us-2008-slides-final.pdf "Elc-us-2008-slides-final.pdf") |
| Andrew Christian | Compiling Full Desktop Distributions for ARM: The Handhelds Rebuild Project | [HandheldsMojo_ELC2008.pdf](http://elinux.org/images/d/dc/HandheldsMojo_ELC2008.pdf "HandheldsMojo ELC2008.pdf") |
| Felipe Contreras | Gstreamer and OpenMAX IL: plug and play | [gst-openmax.pdf](http://elinux.org/images/e/e0/Gst-openmax.pdf "Gst-openmax.pdf") |
| Jake Edge | Avoiding Web Application Flaws in Embedded Devices | [LWN Article](http://lwn.net/talks/elc2008/) |
| Jörn Engel | Status of LogFS | not available |
| Nils Faerber | GPE Phone Edition - An Open Source Software Stack for Linux Mobile Phones | [gpe2-celf2008.odp](http://elinux.org/images/9/9f/Gpe2-celf2008.odp "Gpe2-celf2008.odp") |
| Klaas van Gend | Using Real-Time Linux | [Using_Real-Time_Linux.KlaasVanGend.ELC2008.pdf](http://elinux.org/images/8/8e/Using_Real-Time_Linux.KlaasVanGend.ELC2008.pdf "Using Real-Time Linux.KlaasVanGend.ELC2008.pdf") |
| Liam Girdwood | Every Microamp is Sacred - A Dynamic Voltage and Current Control Interface for the Linux Kernel | [regulator-api-celf.pdf](http://elinux.org/images/c/c1/Regulator-api-celf.pdf "Regulator-api-celf.pdf") |
| Mark Gross | Power Management Quality of Service and How You Could Use it in Your Embedded Application | [elc2008_pm_qos_slides.pdf](http://elinux.org/images/f/f9/Elc2008_pm_qos_slides.pdf "Elc2008 pm qos slides.pdf") |
| Takanari Hayama | DirectFB Internals - Things You Need to Know to Write Your DirectFB gfxdrive | [elc2008_directfb_gfx.pdf](http://elinux.org/images/d/d4/Elc2008_directfb_gfx.pdf "Elc2008 directfb gfx.pdf") |
| Seo Hee | APCS (ARM Procedure Call Standard) Tutorial | [CELF_APCS_Seohee_lge.pdf](http://elinux.org/images/5/50/CELF_APCS_Seohee_lge.pdf "CELF APCS Seohee lge.pdf") |
| Seo Hee | Trouble Shooting for Blocking Problem | not available |
| Kevin Hilman | Building Blocks for Embedded Power Management | [PM_Building_Blocks1.pdf](http://elinux.org/images/3/3e/PM_Building_Blocks1.pdf "PM Building Blocks1.pdf") |
| Stuart Hughes | Roll-Your-Own Linux the Easy Way with LTIB | [celf_ltib_bof_v1 1\. pdf](http://elinux.org/images/4/46/Celf_ltib_bof_v1_1._pdf "Celf ltib bof v1 1\. pdf") |
| Jared Hulbert | AXFS: Architecture and Results | [AXFS_at_ELC_2008.ppt](http://elinux.org/images/0/07/AXFS_at_ELC_2008.ppt "AXFS at ELC 2008.ppt") |
| Hirohisa Iijima | Episodes of LKST for Embedded Linux Systems | [EpisodesLKST_Lineo_CELF_ELC2008.pdf](http://elinux.org/images/9/95/EpisodesLKST_Lineo_CELF_ELC2008.pdf "EpisodesLKST Lineo CELF ELC2008.pdf") |
| YoungJun Jang | Avoiding OOM on Embedded Linux | [CELF_AvoidOOM.pdf](http://elinux.org/images/a/a3/CELF_AvoidOOM.pdf "CELF AvoidOOM.pdf") |
| YungJoon Jung | Real-Time Linux BOF | [RT-BoF-2008-04-15.pdf](http://elinux.org/images/3/3a/RT-BoF-2008-04-15.pdf "RT-BoF-2008-04-15.pdf") |
| Jong-Sung Kim | Back-tracing in MIPS-based Linux Systems | [ELC2008 - Back-tracing in MIPS-based Linux Systems.pdf](http://elinux.org/images/6/68/ELC2008_-_Back-tracing_in_MIPS-based_Linux_Systems.pdf "ELC2008 - Back-tracing in MIPS-based Linux Systems.pdf") |
| Min-Chan Kim, Oleksiy Kokachev | Instant Startup for Application Using Reducing Relocation Time and Rearrange Function | [DDLink FunctionReorder 08 04.pdf](http://elinux.org/images/3/3f/DDLink_FunctionReorder_08_04.pdf "DDLink FunctionReorder 08 04.pdf") |
| KaiGai Kohei | Recent Security Features and Issues in Embedded Systems | [ELC2008_KaiGai.pdf](http://elinux.org/images/e/e2/ELC2008_KaiGai.pdf "ELC2008 KaiGai.pdf") |
| Jyunji Kondo | Development of Mobile Linux Open Platform | [Development_of_Mobile_Linux_Open_Platform.pdf](http://elinux.org/images/d/d6/Development_of_Mobile_Linux_Open_Platform.pdf "Development of Mobile Linux Open Platform.pdf") |
| Rob Landley | Cross Compiling Linux (tutorial) | not available |
| Grant Likely | Shifting Sands: Lessons Learned from Linux on an FPGA | [glikely--fpga-lessons-learned.pdf](http://elinux.org/images/2/2f/Glikely--fpga-lessons-learned.pdf "Glikely--fpga-lessons-learned.pdf") |
| Grant Likely | A Symphony of Flavours; Using the Device Tree to Describe Embedded Hardware | [glikely--device-tree.pdf](http://elinux.org/images/1/14/Glikely--device-tree.pdf "Glikely--device-tree.pdf") |
| Matt Locke | Building Custom Embedded Linux Distributions | [mlocke-elc2008-oe.pdf](http://elinux.org/images/3/33/Mlocke-elc2008-oe.pdf "Mlocke-elc2008-oe.pdf") |
| Matt Mackall | Kernel Size Report, and Bloatwatch Update | [elc2008.odp](http://elinux.org/images/d/d5/Elc2008.odp "Elc2008.odp") |
| Guido Madaus | Disko - An Application Framework for Digital Media Devices | [elc.tar](http://elinux.org/images/0/06/Elc.tar "Elc.tar") |
| David Mandala | UME - Ubuntu Mobile and Embedded | [UbuntuMobileEmbedded.pdf](http://elinux.org/images/8/8f/UbuntuMobileEmbedded.pdf "UbuntuMobileEmbedded.pdf") |
| Katsuya Matsubara, Hisao Munakata | Using UIO on an Embedded Platform | [uio080417celfelc08.pdf](http://elinux.org/images/b/b0/Uio080417celfelc08.pdf "Uio080417celfelc08.pdf") |
| Nicholas McGuire | Real-Time Virtualization Solutions for Linux - A Comparison of Strategies | not available |
| Yuichi Nakamura | Development of Embedded SE Linux | [ELC2008_nakamura.pdf](http://elinux.org/images/a/a3/ELC2008_nakamura.pdf "ELC2008 nakamura.pdf") |
| Jeff Osier-Mixon | Effectively Managing Documentation for Embedded Linux Projects | [jeffrey-osier-mixon-elc.ppt](http://elinux.org/images/8/84/Jeffrey-osier-mixon-elc.ppt "Jeffrey-osier-mixon-elc.ppt") |
| Kyungmin Park, Sunmi Yoo | Filesystem Support on Multi Level Cell (MLC) Flash in Open Source | [ELC2008 Filesystem support on Multi Level Cell flash in open source.ppt](http://elinux.org/images/7/76/ELC2008_Filesystem_support_on_Multi_Level_Cell_flash_in_open_source.ppt "ELC2008 Filesystem support on Multi Level Cell flash in open source.ppt") |
| Thomas Petazzoni | Linux Tiny - Penguin Weight Watchers | [linux-tiny.pdf](http://elinux.org/images/9/9b/Linux-tiny.pdf "Linux-tiny.pdf") |
| Matt Porter | Leveraging Free and Open Source Software in a Product Development Environment | [elc-foss.pdf](http://elinux.org/images/a/a2/Elc-foss.pdf "Elc-foss.pdf") |
| Conrad Roeber | Enhancements to USB Gadget Framework | [ELC2008-gadget-enhancements-web.pdf](http://elinux.org/images/3/30/ELC2008-gadget-enhancements-web.pdf "ELC2008-gadget-enhancements-web.pdf") |
| Frank Rowand | Adventures In Real-Time Performance Tuning | [mips_real_time.pdf](http://elinux.org/images/9/99/Mips_real_time.pdf "Mips real time.pdf") |
| Gene Sally | How GCC Works, An Embedded Engineer's Perspective | [GCC_Tips](http://elinux.org/GCC_Tips "GCC Tips") |
| Deepak Saxena | Appropriate Community Practices: Social and Technical Advice | not available |
| Christian Schaller | GStreamer on Embedded - Latest Developments and Features | [celinux-mountainview-gstreamer-tim.ppt](http://elinux.org/images/3/37/Celinux-mountainview-gstreamer-tim.ppt "Celinux-mountainview-gstreamer-tim.ppt") |
| Michael Shiloh | OpenMoko | not available |
| York Sun | Adding Framebuffer support for Freescale SoCs | [Adding Framebuffer support to Freescale SoCs York Sun.ppt](http://elinux.org/images/b/be/Adding_Framebuffer_support_to_Freescale_SoCs_York_Sun.ppt "Adding Framebuffer support to Freescale SoCs York Sun.ppt") |
| Kentaro Takeda | How to Analyze Your Linux's Behavior with TOMOYO Linux | [elc2008.pdf](http://sourceforge.jp/projects/tomoyo/document/elc2008.pdf) |
| JT Thomas | Embedded Linux Development with Eclipse | [Embedded Linux Development with Eclipse.ppt](http://elinux.org/images/f/f6/Embedded_Linux_Development_with_Eclipse.ppt "Embedded Linux Development with Eclipse.ppt") |
| Justin Treon | Making a Phone Call With Phase Change Memory | [Making_a_Phone_Call_With_PCM_at_ELC_2008.ppt](http://elinux.org/images/2/2d/Making_a_Phone_Call_With_PCM_at_ELC_2008.ppt "Making a Phone Call With PCM at ELC 2008.ppt") |
| Richard Woodruff | Linux System Power Management on OMAP3430 | [TI_OMAP3430_Linux_PM_reference.ppt](http://elinux.org/images/6/6b/TI_OMAP3430_Linux_PM_reference.ppt "TI OMAP3430 Linux PM reference.ppt") |

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Presentations](http://eLinux.org/Category:Presentations "Category:Presentations")
*   [ELC](http://eLinux.org/Category:ELC "Category:ELC")
*   [2008](http://eLinux.org/Category:2008 "Category:2008")
*   [Events](http://eLinux.org/Category:Events "Category:Events")

# ELC 2009 Presentations

> From: [eLinux.org](http://eLinux.org/ELC_2009_Presentations "http://eLinux.org/ELC_2009_Presentations")

# ELC 2009 Presentations

## Contents

*   1 Intro
    *   1.1 Videos
    *   1.2 Instructions
*   2 Table of Presentations

# Intro

Presenters, Demo-ers, Participants: Thanks very much for your participation in CELF's [Embedded Linux Conference 2009](http://www.embeddedlinuxconference.com/elc_2009/index.html).

This page is for collecting the presentations that were made at the conference. During and after the conference we will collect materials from the presenters and place them here. Please watch this page if you are interested in a particular presentation - and it if doesn't show up, please send me an e-mail and we'll try to track it down.

## Videos

Video from the conference can be found here courtesy of Free Electrons: [Video Presentations](http://free-electrons.com/blog/elc-2009-videos/)

Free Electrons has been kind enough to provide some of these presentations in High Definition, making it possible to more easily read slides directly from the video.

## Instructions

**Presenters:** Please post your technical conference presentations on this page. (See Instructions below the tables)

# Table of Presentations

**Keynotes and Panel**

| **Presenter(s)** | **Session Description** | **Presentation** |
| Dirk Hohndel | Ubiquitous Linux | No slides - but see [ELC2009: Ubiquitous Linux](http://lwn.net/Articles/327878/) (LWN.net) |
| David Woodhouse | Embedded Linux and Mainline Kernel | [dwmw2-ELC-2009-04.pdf](http://elinux.org/images/c/c5/Dwmw2-ELC-2009-04.pdf "Dwmw2-ELC-2009-04.pdf") [dwmw2-ELC-2009-04.odp](http://elinux.org/images/7/73/Dwmw2-ELC-2009-04.odp "Dwmw2-ELC-2009-04.odp") |
| Tim Bird (moderator) | Embedded Linux Kernel Features and Development Panel | No slides - but see [ELC/LFCS2009 A tale of two panels](http://lwn.net/Articles/328421/) (LWN.net) |

**Presentations**

| **Presenter(s)** | **Session Description** | **Presentation** |
| Kate Alhola | Maemo 5 (Fremantle), mobile Linux platform with cellular connectivity | [fremantle_elc_2009.pdf](http://elinux.org/images/c/c4/Fremantle_elc_2009.pdf "Fremantle elc 2009.pdf") |
| Kate Alhola | Animated UI technologies in Maemo 5 (Fremantle), mobile Linux environment | [animated_ui_elc_2009.pdf](http://elinux.org/images/a/ab/Animated_ui_elc_2009.pdf "Animated ui elc 2009.pdf") See also [Kate's blog entry for ELC](http://blogs.forum.nokia.com/blog/kate-alholas-forum-nokia-blog/2009/04/08/maemo-presentations-in-elc) |
| Mike Anderson (presented by Reece Pollack) | User-Space, Multi-core Development Issues | [UserSpace_Multicore-Slides_Anderson.pdf](http://elinux.org/images/3/32/UserSpace_Multicore-Slides_Anderson.pdf "UserSpace Multicore-Slides Anderson.pdf") |
| Mike Anderson (presented by Reece Pollack) | What are Interrupt Threads and How Do They Work? | [InterruptThreads-Slides_Anderson.pdf](http://elinux.org/images/e/ef/InterruptThreads-Slides_Anderson.pdf "InterruptThreads-Slides Anderson.pdf") |
| Jeff Arnold | Ksplice: Rebootless kernel updates | [elc2009-ksplice.pdf](http://elinux.org/images/6/63/Elc2009-ksplice.pdf "Elc2009-ksplice.pdf") |
| Eric Cloninger | Building an Embedded Tools Standard Using Eclipse | [elc2009-building_an_embedded_tools_standard_using_eclipse.pdf](http://elinux.org/images/c/ca/Elc2009-building_an_embedded_tools_standard_using_eclipse.pdf "Elc2009-building an embedded tools standard using eclipse.pdf") |
| Magnus Damm | Runtime Power Management on SuperH Mobile | [Runtime-Power-Management-on-SuperH-Mobile-20090407.pdf](http://elinux.org/images/4/45/Runtime-Power-Management-on-SuperH-Mobile-20090407.pdf "Runtime-Power-Management-on-SuperH-Mobile-20090407.pdf") |
| David Daney | Some new tricks for better performance in MIPS-Linux | [new-tricks-mips-linux.pdf](http://elinux.org/images/1/1f/New-tricks-mips-linux.pdf "New-tricks-mips-linux.pdf") |
| Mathieu Desnoyers | Deploying LTTng on Exotic Embedded Architectures | [LTTng-presentation-celf-2009-0.2.pdf](http://elinux.org/images/8/85/LTTng-presentation-celf-2009-0.2.pdf "LTTng-presentation-celf-2009-0.2.pdf") [desnoyers-celf2009-paper.pdf](http://elinux.org/images/0/02/Desnoyers-celf2009-paper.pdf "Desnoyers-celf2009-paper.pdf") |
| Anna Dushistova, Alexandre Rusev and John Mehaffey | Debugging with JTAG | [DebuggingWithJtagCelf2009.pdf](http://elinux.org/images/5/56/DebuggingWithJtagCelf2009.pdf "DebuggingWithJtagCelf2009.pdf") |
| Jake Edge | Security issues for embedded devices | [security-issues.pdf](http://elinux.org/images/6/6f/Security-issues.pdf "Security-issues.pdf") [LWN page](http://lwn.net/talks/elc2009) |
| Klaas van Gend | Top 3 pains in professional use of bitbake | [ELC.klaasvangend.openembedded.v4.pdf](http://elinux.org/images/d/de/ELC.klaasvangend.openembedded.v4.pdf "ELC.klaasvangend.openembedded.v4.pdf") |
| Toru Homma | Evaluation of Flash File Systems for Large NAND Flash Memory | [ELC2009-FlashFS-Toshiba.pdf](http://elinux.org/images/7/7e/ELC2009-FlashFS-Toshiba.pdf "ELC2009-FlashFS-Toshiba.pdf") |
| Edgar E. Iglesias | Debugging and profiling embedded Linux/CRIS systems with QEMU | [elc2009-qemu-cris.pdf](http://elinux.org/images/d/db/Elc2009-qemu-cris.pdf "Elc2009-qemu-cris.pdf") |
| Jaehoon Jeong | Dynamic Instrumentation of user-space application based on kprobe | [ELC2009_User_space_dynamic_instrumentation_based_on_kprobe-0331-final.pdf](http://elinux.org/images/e/e1/ELC2009_User_space_dynamic_instrumentation_based_on_kprobe-0331-final.pdf "ELC2009 User space dynamic instrumentation based on kprobe-0331-final.pdf") |
| Bhagyashri Hemant Katole | Embedding Network Devices with Linux | (session was cancelled) |
| Dongsoo Kim, HeungJun Kim | Framework for digital camera in Linux | [Framework_for_digital_camera_in_linux-in_detail.ppt](http://elinux.org/images/5/5e/Framework_for_digital_camera_in_linux-in_detail.ppt "Framework for digital camera in linux-in detail.ppt") |
| Denis Oliver Kropp | DirectFB II | (session was cancelled) |
| Grant Likely | It's Alive! - Linux on Embedded PowerPC porting guide | [glikely-powerpc-porting-guide.pdf](http://elinux.org/images/4/4e/Glikely-powerpc-porting-guide.pdf "Glikely-powerpc-porting-guide.pdf") |
| Grant Likely | Tux Meets Radar O'Reilly - Linux in Military Telecom | [glikely-tux-meets-radar-oreilly-paper.pdf](http://elinux.org/images/e/e0/Glikely-tux-meets-radar-oreilly-paper.pdf "Glikely-tux-meets-radar-oreilly-paper.pdf") [glikely-tux-meets-radar-oreilly.pdf](http://elinux.org/images/d/d7/Glikely-tux-meets-radar-oreilly.pdf "Glikely-tux-meets-radar-oreilly.pdf") |
| Bruno Cardoso Lopes | Understanding and writing an LLVM Compiler Backend | [LLVM-ELC2009.pdf](http://elinux.org/images/b/b7/LLVM-ELC2009.pdf "LLVM-ELC2009.pdf") |
| Matt Mackall | Visualizing Process Memory | [smem.pdf](http://elinux.org/images/6/68/Smem.pdf "Smem.pdf") // In case color mapping error observed, try this file [ELC2009PresentationsM.pdf](http://elinux.org/images/e/ec/ELC2009PresentationsM.pdf "ELC2009PresentationsM.pdf") |
| Dan Malek | Memory...The Most Precious Resource | [celf_mem_notify.pdf](http://elinux.org/images/6/67/Celf_mem_notify.pdf "Celf mem notify.pdf") |
| David Mandala | Ubuntu ARM Distribution | [UbuntuARM.pdf](http://elinux.org/images/c/c3/UbuntuARM.pdf "UbuntuARM.pdf") |
| William Marone | Distributed Cross Platform Test Automation | [DistributedCrossPlatformTest.pdf](http://elinux.org/images/a/af/DistributedCrossPlatformTest.pdf "DistributedCrossPlatformTest.pdf") |
| Paul Mundt | Superpages Revisited: Transparent Application of Large TLBs on Embedded Systems | [elc2009-superpages.ppt](http://elinux.org/images/f/fe/Elc2009-superpages.ppt "Elc2009-superpages.ppt") |
| Michael Opdenacker | Update on filesystems for flash storage | [flash-filesystems.pdf](http://elinux.org/images/a/ab/Flash-filesystems.pdf "Flash-filesystems.pdf") |
| Jeffrey Osier-Mixon | Cooperative Development Inside Communities | [CommunityDevelopment.pdf](http://elinux.org/images/5/50/CommunityDevelopment.pdf "CommunityDevelopment.pdf") |
| Conrad Parker | A Linux multimedia framework for SH-Mobile processors | [article](http://elinux.org/images/7/78/Elc-shmobile-multimedia.article.pdf "Elc-shmobile-multimedia.article.pdf") [elc-shmobile-multimedia.pdf](http://elinux.org/images/d/d8/Elc-shmobile-multimedia.pdf "Elc-shmobile-multimedia.pdf") |
| Rodolph Perfetta | The Web in your Hand - Optimizing Browsing Experience with ARM Embedded Linux Devices | [CELF.pdf](http://elinux.org/images/4/41/CELF.pdf "CELF.pdf") |
| Thomas Petazzoni | Building Embedded Linux Systems with Buildroot | [buildroot.pdf](http://elinux.org/images/2/27/Buildroot.pdf "Buildroot.pdf") |
| Matthew Porter | Video4Linux: What about Output? | [elc09_mattporter_v4l.pdf](http://elinux.org/images/5/59/Elc09_mattporter_v4l.pdf "Elc09 mattporter v4l.pdf") |
| Andre Puschmann | Quantitative analysis of system initialization in embedded Linux systems | [ELC09_boottime_reduction.pdf](http://elinux.org/images/4/41/ELC09_boottime_reduction.pdf "ELC09 boottime reduction.pdf") |
| Jim Ready | Plan Your Work, Work Your Plan: Avoiding Common Linux Development Stumbling Blocks | . |
| Frank Rowand | Musings on analysis of measurements of a real-time workload. | [musings_on_analysis_of_measurements_of_a_real-time_workload.pdf](http://elinux.org/images/4/41/Musings_on_analysis_of_measurements_of_a_real-time_workload.pdf "Musings on analysis of measurements of a real-time workload.pdf") |
| Leandro Melo de Sales | BRisa UPnP Framework for Embedded Systems | [brisa_ELC.pdf](http://elinux.org/images/e/e3/Brisa_ELC.pdf "Brisa ELC.pdf") |
| Christian F.K. Schaller | Basic video editing on embedded devices using GStreamer | [celinux-sanfran-gstreamer.pdf](http://elinux.org/images/9/91/Celinux-sanfran-gstreamer.pdf "Celinux-sanfran-gstreamer.pdf") [celinux-sanfran-gstreamer.ppt](http://elinux.org/images/5/5a/Celinux-sanfran-gstreamer.ppt "Celinux-sanfran-gstreamer.ppt") |
| Madhvesh Sulibhavi (presented by Tim Bird) | KProbes and Systemtap Status | [Kprobes-Systemtap-Status-from-Sony-for-ELC09.pdf](http://elinux.org/images/2/21/Kprobes-Systemtap-Status-from-Sony-for-ELC09.pdf "Kprobes-Systemtap-Status-from-Sony-for-ELC09.pdf") |
| John Williams | Embedded Linux on FPGAs for fun and profit | [ELC2009_Embedded_Linux_on_FPGAs_for_fun_and_profit.pdf](http://elinux.org/images/5/54/ELC2009_Embedded_Linux_on_FPGAs_for_fun_and_profit.pdf "ELC2009 Embedded Linux on FPGAs for fun and profit.pdf") |

**Birds-of-a-Feather Sessions**

| **Presenter(s)** | **Session Description** | **Presentation** |
| Thomas Petazzoni | Build Tools | [building-tools-bof.pdf](http://elinux.org/images/6/6c/Building-tools-bof.pdf "Building-tools-bof.pdf") |
| Tim Bird | eLinux Wiki | [eLinux-wiki-BOF-ELC-2009.pdf](http://elinux.org/images/c/c9/ELinux-wiki-BOF-ELC-2009.pdf "ELinux-wiki-BOF-ELC-2009.pdf") |
| Matt Locke | Embedded Security | [ELC-2009-Security-BoF-mlocke.pdf](http://elinux.org/images/d/da/ELC-2009-Security-BoF-mlocke.pdf "ELC-2009-Security-BoF-mlocke.pdf") |
| Michael Opdenacker | System Size | [size-bof.pdf](http://elinux.org/images/a/a0/Size-bof.pdf "Size-bof.pdf") |

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Presentations](http://eLinux.org/Category:Presentations "Category:Presentations")
*   [ELC](http://eLinux.org/Category:ELC "Category:ELC")
*   [2009](http://eLinux.org/Category:2009 "Category:2009")

# ELC 2010 Call for Presentations

> From: [eLinux.org](http://eLinux.org/ELC_2010_Call_for_Presentations "http://eLinux.org/ELC_2010_Call_for_Presentations")

# ELC 2010 Call for Presentations

The CE Linux Forum would like to invite you to make a presentation at our upcoming Embedded Linux Conference. The conference will be held April 12-14, 2010 in San Francisco, California.

*Please see the [embeddedlinuxconference.com ELC 2010 web site](http://www.embeddedlinuxconference.com/elc_2010/index.html) for more information about the conference.*

## Contents

*   1 Guidelines
    *   1.1 No paper required
    *   1.2 Tutorials
    *   1.3 Birds of a Feather (BOF) sessions
    *   1.4 Technical Showcase (Demo)
    *   1.5 General Guidelines
    *   1.6 Examples from previous years
*   2 Technical Facilities
*   3 Reward and possible assistance
*   4 Review Process
*   5 Submission method
*   6 Deadlines

## Guidelines

Presentations should be of a technical nature, covering topics related to use of Linux in embedded systems. The CE Linux Forum is focused on the use of Linux in consumer electronics products, but presentations may cover use of Linux in other embedded areas, as long as the topic is of general relevance to most embedded users.

Presentations that are commercial advertisements or sales pitches are not appropriate for this conference.

Presentations on the following topics are encouraged:

*   Audio, Video, and Graphics systems for embedded products
*   Security
*   System size
*   Bootup time
*   Meeting real-time constraints
*   Power management
*   Streaming media
*   Flash memory devices and filesystems
*   Build systems
*   Embedded distributions
*   Development tools for embedded users
*   Technologies related to cell phones, digital settop boxes, televisions, cameras, handheld devices, or other CE products
*   Use of Linux in actual products, practical experience and war stories
*   Standards for CE products

Most presentation slots are 50 minutes long, including time for questions.

### No paper required

A paper submission is NOT required in conjunction with the presentation. However, if a paper is produced, it is requested to be published in wiki format on the [Embedded Linux Wiki](http://elinux.org/)

### Tutorials

You may also submit a request to present a tutorial. Tutorials are intended to be longer, interactive learning sessions. A tutorial may occupy more than one session slot at the conference.

### Birds of a Feather (BOF) sessions

You may also submit a request to be the session leader for a "Birds Of A Feather" (BOF) session. This is an informal discussion on a topic of group interest. For a BOF proposal, please describe the topic area you would like to discuss. You should come prepared to help move the discussion along with a "lead in" presentation (a few slides) or some thought-provoking questions.

### Technical Showcase (Demo)

Finally there will be a "poster" demo session at the event. The demo session consists of table-top demos, with an accompanying poster describing each demo. In this session, the demonstrator can interact with individuals or small groups, describe their work and answer questions.

### General Guidelines

We prefer presentations that have not been previously presented, but exceptions will be made for material that is either of great interest or has been seen previously only by a limited audience.

A single person may submit more than one proposal. However, since the number of slots is limited, it is likely that at most one proposal from an individual will be accepted.

### Examples from previous years

For examples of presentations from previous years' conferences, see:

*   [ELC 2009 Presentations](http://tree.celinuxforum.org/CelfPubWiki/ELC2009Presentations)
*   [ELC 2008 Presentations](http://www.celinux.org/elc08_presentations/)
*   [ELC 2007 Presentations](http://tree.celinuxforum.org/CelfPubWiki/ELC2007Presentations)
*   [ELC 2006 Presentations](http://elinux.org/ELC_2006_Presentations)

For information about previous demo sessions, see the [ELC 2009 Technical Showcase page](http://www.celinuxforum.org/CelfPubWiki/ELC2009TechnicalShowcase)

## Technical Facilities

Presentations will be in rooms with 1024×768 XGA data projectors. Please bring your own laptop for your presentation. Please contact us if you have further requirements.

## Reward and possible assistance

Speakers for presentation and tutorial sessions, as well as leaders of BoF sessions, will receive complimentary professional registration for the conference. That is, if you make a presentation or lead a session, you get into the rest of the conference for free! Please note, that if a session has multiple speakers, only the primary speaker for that session will receive free admission.

Please note that event admission includes access to the Linux Foundation Collaboration Summit, which is normally an invitation-only event.

Travel and accomodation assistance is available for a limited number of speakers, under certain circumstances. Please contact the e-mail address below if you believe your circumstances would qualify you for this assistance.

## Review Process

All presentation, tutorial, demo and BOF proposals will be reviewed by the ELC program committee, and submitters will be notified of their acceptance (or not) by February 5, 2010.

Proposals will be assessed on a number of criteria:

*   Is the topic of interest to embedded Linux developers?
    *   That is, is it relevant for using Linux in embedded products?
*   Does the presentation describe something new or interesting?
*   Does the topic fit with other presentations planned for the conference?
*   Is source code for the project (if applicable) available now?
*   May the forum publish your presentation on it's web site?

## Submission method

To submit a presentation proposal, send an e-mail to elc10@tree.celinuxforum.org

A presentation proposal should include:

*   the name of the presenter
*   the presentation (or session) title
*   a brief (one or two paragraph) description
*   Also, please indicate with whether your presentation may be published by the forum on a web site, after the conference.

If you are submitting for someone else, please provide an e-mail address for the presenter.

If your proposal is accepted, you will be requested to provide a short paragraph describing yourself, for use in conference materials.

If you have any questions about the submission requirements, the status of your submission, the review process, or the event itself, please feel free to contact the program committee, at: elc10@tree.celinuxforum.org.

## Deadlines

Proposals for presentations, demos and Birds-of-a-Feather sessions must be received by January 15, 2010.

Speakers will be notified by February 5, 2010.

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Presentations](http://eLinux.org/Category:Presentations "Category:Presentations")
*   [ELC](http://eLinux.org/Category:ELC "Category:ELC")
*   [2010](http://eLinux.org/Category:2010 "Category:2010")
*   [Events](http://eLinux.org/Category:Events "Category:Events")

# ELC 2010 Presentations

> From: [eLinux.org](http://eLinux.org/ELC_2010_Presentations "http://eLinux.org/ELC_2010_Presentations")

# ELC 2010 Presentations

Presenters, Demo-ers, Participants: Thanks very much for your participation in CELF's [Embedded Linux Conference 2010](http://www.embeddedlinuxconference.com/elc_2010/index.html).

This page is for collecting the presentations that were made at the conference. During and after the conference we will collect materials from the presenters and place them here. Please watch this page if you are interested in a particular presentation - and it if doesn't show up, please send me an e-mail and we'll try to track it down.

## Contents

*   1 Videos
*   2 Instructions
*   3 Table of Presentations
    *   3.1 Instructions for Presenters

## Videos

Videos from the conference are available on [`free-electrons.com/blog/elc-2010-videos/`](http://free-electrons.com/blog/elc-2010-videos/)

## Instructions

**Presenters:** Please post your technical conference presentations on this page. (See Instructions below the tables)

# Table of Presentations

**Keynotes**

| **Presenter(s)** | **Session Description** | **Presentation** |
| Greg Kroah-Hartman | Android: A Case Study of an Embedded Linux Project | [PDF](http://elinux.org/images/c/ca/Gregkh-android-presentation-kernel.pdf "Gregkh-android-presentation-kernel.pdf") &#124; [ODP](http://elinux.org/images/f/f0/Gregkh-android-presentation-kernel.odp "Gregkh-android-presentation-kernel.odp") &#124; [TGZ (with notes and license)](http://elinux.org/images/e/e6/Gregkh-android-presentation-celf2010.tar.gz "Gregkh-android-presentation-celf2010.tar.gz") |
| Matt Asay | Embedded in 2010: An End to the Entropy? | [PDF](http://elinux.org/images/6/68/Embedded_in_2010_An_End_to_the_Entry-CELF-April_2010_4-13-2010.pdf "Embedded in 2010 An End to the Entry-CELF-April 2010 4-13-2010.pdf") |

**Presentations**

**Presenter(s)**

**Session Description**

**Presentation**

Mike Anderson

Using a JTAG to Debug Linux Device Drivers

[PDF](http://eLinux.org/images/3/30/JTAG_Anderson.pdf "JTAG Anderson.pdf")

Mike Anderson

Using Interrupt Threads to Prioritize Interrupts

[PDF](http://eLinux.org/images/b/b6/InterruptThreads_Anderson.pdf "InterruptThreads Anderson.pdf")

Mike Anderson

Creating a Secure Router Using SELinux

[PDF](http://eLinux.org/images/8/8f/SELinux_Anderson.pdf "SELinux Anderson.pdf")

Mike Anderson

Strategies for Migrating Uniprocessor Code to Multi-Core SMP

[PDF](http://eLinux.org/images/5/5e/MigratingToMultiCore_Anderson.pdf "MigratingToMultiCore Anderson.pdf")

Steve Bennett

Effective Use of Scripting in Embedded Devices

[Slides](http://eLinux.org/images/f/f1/Embedded-scripting-slides.pdf "Embedded-scripting-slides.pdf") | [Paper](http://www.workware.net.au/papers/embedded-scripting.pdf)

Tim Bird

State of Embedded Linux

[PDF](http://eLinux.org/images/e/ef/Status-of-embedded-Linux-2010-04-ELC.pdf "Status-of-embedded-Linux-2010-04-ELC.pdf") | [ODP](http://eLinux.org/images/1/1f/Status-of-embedded-Linux-2010-04-ELC.odp "Status-of-embedded-Linux-2010-04-ELC.odp")

Magnus Damm

Kexec - Ready for Embedded Linux?

[PDF](http://eLinux.org/images/2/2f/ELC-2010-Damm-Kexec.pdf "ELC-2010-Damm-Kexec.pdf")

Kevin Dankwardt

Effective Use of RT-Preempt

[ODP](http://kcomputing.com/celf-dankwardt-2010-c.odp)

Lucas Martins De Marchi

Multi-core Scheduling Optimizations for Soft Real-time Multi-threaded Applications -- A Cooperation Aware Approach

[PDF](http://eLinux.org/images/1/1b/Sched-optimization-2010.pdf "Sched-optimization-2010.pdf") | [ODP](http://eLinux.org/images/0/0d/Sched-optimization-2010.odp "Sched-optimization-2010.odp")

Mathieu Desnoyers

Using the LTTng Tracer for System-wide Performance Analysis and Debugging (Hands-On Tutorial)

[PDF](http://eLinux.org/images/a/aa/Desnoyers-presentation-elc2010.pdf "Desnoyers-presentation-elc2010.pdf") | [examples](http://www.efficios.com/elc2010)

Jake Edge

Understanding Threat Models for Embedded Devices

[PDF](http://eLinux.org/images/6/6c/Edge-Elc-2010.pdf "Edge-Elc-2010.pdf") | [ODP](http://eLinux.org/images/b/b1/Edge-Elc-2010.odp "Edge-Elc-2010.odp")

Mark Gross

Experiences in Android Porting, Lessons Learned,Tips and Tricks

[PDF](http://eLinux.org/images/e/ee/ELC2010-android-xp-tips-tricks.pdf "ELC2010-android-xp-tips-tricks.pdf")

Kevin Hilman

Runtime Power Management: Overview and Platform Implementation

[PDF](http://eLinux.org/images/0/08/ELC-2010-Hilman-Runtime-PM.pdf "ELC-2010-Hilman-Runtime-PM.pdf")

YungJoon Jung and DongHyouk Lim

Measuring Responsiveness of Linux Kernel on Embedded System

[PDF](http://eLinux.org/images/8/8e/Real-time_Measurement-ELC2010-final.pdf "Real-time Measurement-ELC2010-final.pdf")

Hiromasa Kanda

Lock-free Algorithm for Multi-Core Architecture

[PDF](http://eLinux.org/images/5/59/ELC2010_Lockfree.pdf "ELC2010 Lockfree.pdf")

Jeremy Katz

An Introduction to the Qt Development Framework

[PDF](http://eLinux.org/images/9/92/Qt_intro.pdf "Qt intro.pdf")

Yoshitake Kobayashi

Evaluation of Data Reliability on Linux File Systems

[PDF](http://eLinux.org/images/2/26/Evaluation_of_Data_Reliability-ELC2010.pdf "Evaluation of Data Reliability-ELC2010.pdf")

Yong Bon Koo and Youngbin Seo

DVFS for Embedded Linux

[PDF](http://eLinux.org/images/8/8a/ELC_2010_PM_Slides.pdf "ELC 2010 PM Slides.pdf")

Rob Landley

Developing for Non-x86 Targets Using QEMU

[PDF](http://eLinux.org/images/4/44/Developing_for_non_x86_targets_using_QEMU.pdf "Developing for non x86 targets using QEMU.pdf")

Melanie Rhianna Lewis

Case Study - Embedded linux in a Digital Television STB

[PDF](http://eLinux.org/images/8/8a/SetTopBoxCaseStudy.pdf "SetTopBoxCaseStudy.pdf")

Grant Likely

Flattened Device Tree ARM Support Update

[PDF](http://eLinux.org/images/b/b6/ARM_Device_Tree_Status_Report.pdf "ARM Device Tree Status Report.pdf")

Dan Malek

Embedded Multi-core with Adeos

German Monroy

Wake-ups Effect on Idle Power for Intel's Moorestown MID and Smartphone Platform

[PDF](http://eLinux.org/images/0/07/Effect_of_wakeups_on_Moorestown_power.pdf "Effect of wakeups on Moorestown power.pdf")

Jeff Osier-Mixon

Effectively Managing Documentation for Embedded Linux Projects

[PDF](http://eLinux.org/images/4/46/Jeffrey-osier-mixon-elc2010.pdf "Jeffrey-osier-mixon-elc2010.pdf")

Jacob Pan

Porting the Linux Kernel to x86 MID Platforms

[PDF](http://eLinux.org/images/e/ee/Jacob-Pan-x86MID-elc2010.pdf "Jacob-Pan-x86MID-elc2010.pdf")

Steven Rostedt

Ftrace - Embedded Edition

[ODP](http://people.redhat.com/srostedt/ftrace-embedded.odp)

Frank Rowand

Real-Time Linux Failure

[PDF](http://eLinux.org/images/b/be/Real_time_linux_failure.pdf "Real time linux failure.pdf")

Leandro Melo de Sales

Understanding and Developing Applications for Maemo Platform

[PDF](http://eLinux.org/images/9/95/Understanding_dev_maemo_platform_leandro.pdf "Understanding dev maemo platform leandro.pdf")

Gene Sally

GPIO: Talking to the Outside World

[ODP](http://eLinux.org/images/d/d4/Celf-gpio.odp "Celf-gpio.odp")

David Schleef

Recent Developments in Open Video Technology

[PDF](http://eLinux.org/images/0/09/David-Schleef-CELF2010.pdf "David-Schleef-CELF2010.pdf")

Frank Scholz

Mirabeau - Creating Personal Media Networks and Bridging DLNA/UPnP Devices Over The Internet

[ODP](http://coherence-project.org/download/mirabeau-elc-2010.odp), [PDF](http://coherence-project.org/download/mirabeau-elc-2010.pdf)

Masahiko Takahashi

A Consideration of Memory Saving by Efficient Mapping of Shared Libraries

[PDF](http://eLinux.org/images/9/9f/ELC2010-memory-saving-takahashi.pdf "ELC2010-memory-saving-takahashi.pdf")

Rob Taylor

Semantic Data Storage for Mobile Devices

[PDF](http://eLinux.org/images/b/bd/Elc2010-tracker-talk.pdf "Elc2010-tracker-talk.pdf")

Sujith Thomas

Workload-based Aggressive Power Management on the Intel Moorestown MID and Future Intel MID/Smartphone Platforms

[PDF](http://eLinux.org/images/6/68/WordloadCharacterization-ELC-final.pdf "WordloadCharacterization-ELC-final.pdf")

Matthew Tippett

Engaging Developer Communities: Lessons and Opportunity from webOS

[PDF](http://eLinux.org/images/7/76/MPT-ELC-2010.pdf "MPT-ELC-2010.pdf")

Dominique Toupin

Linux Toolchain Overview with Advanced Debugging and Tracing Features

[PDF](http://eLinux.org/images/5/56/TraceDebug_EmbeddedLinuxConApril2010.pdf "TraceDebug EmbeddedLinuxConApril2010.pdf")

Bill Traynor

eLinux.org wiki Present & Future

[PDF](http://eLinux.org/images/8/88/Elc.pdf "Elc.pdf")

Greg Ungerer

Linux Without a Boot Loader?

[PDF](http://eLinux.org/images/7/7b/LinuxWithoutABootLoader.pdf "LinuxWithoutABootLoader.pdf") | [ODP](http://eLinux.org/images/b/bd/LinuxWithoutABootLoader.odp "LinuxWithoutABootLoader.odp") | [source](http://eLinux.org/images/9/94/LinuxWithoutABootLoader-source.tar.gz "LinuxWithoutABootLoader-source.tar.gz")

Hans Verkuil

Supporting SoC video subsystems in video4linux

[ODP](http://eLinux.org/images/e/e0/Celf-sf-v4l2.odp "Celf-sf-v4l2.odp")

Denys Vlasenko

Link Time Dead Code and Data Elimination Using GNU Toolchain

[ODP](http://eLinux.org/images/5/5f/ELC2010-gc-sections_Denys_Vlasenko.odp "ELC2010-gc-sections Denys Vlasenko.odp") | [PDF](http://eLinux.org/images/2/2d/ELC2010-gc-sections_Denys_Vlasenko.pdf "ELC2010-gc-sections Denys Vlasenko.pdf")

Alexey Volkov

Implementing Asynchronous Zero-Copy API for Embedded IVR Application

Slides, Paper

David VomLehn

No Crash Dump? No Problem!

[PDF](http://eLinux.org/images/e/eb/CELF_2010-No_Crash_Dump%2C_No_Problem.pdf "CELF 2010-No Crash Dump, No Problem.pdf")

John Williams and Edgar Iglesias

Custom Hardware Modeling for FPGAs and Embedded Linux Platforms with QEMU

[PDF](http://eLinux.org/images/9/95/Jw-ei-elc2010-final.pdf "Jw-ei-elc2010-final.pdf")

Vitaly Wool

Polishing Dirt: Porting RTOS Code to Linux Userspace Driver Framework

[PDF](http://eLinux.org/images/c/cb/Polishing-dirt-elc-2010-1.pdf "Polishing-dirt-elc-2010-1.pdf") | [ODP](http://eLinux.org/images/8/8e/Polishing-dirt-elc-2010-1.odp "Polishing-dirt-elc-2010-1.odp")

Benjamin Zores

GeeXboX Enna: embedded Media Center

[PDF](http://eLinux.org/images/0/03/ELC_2010_-_BZ_-_GeeXboX_Enna_-_Embedded_Media_Center.pdf "ELC 2010 - BZ - GeeXboX Enna - Embedded Media Center.pdf")

Siji Sunny

Believable and fast Physics Based Animations on Box2D-Clutter

**Birds-of-a-Feather Sessions**

| **Presenter(s)** | **Session Description** | **Presentation** |
| Grant Likely | Small Business Owners BOF | No slides |
| Bill Traynor | eLinux.org wiki Present & Future | [PDF](http://elinux.org/images/8/88/Elc.pdf "Elc.pdf") |
| David Mandala | Ubuntu on ARM |  |
| Kevin Hillman | Power Management BOF |  |

## Instructions for Presenters

Please create a link in the table for your presentation, copying the style of other links. (You may need to create an account in order to edit the wiki or upload files.)

When you have created the link, click on it to upload the file containing your slides.

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [ELC](http://eLinux.org/Category:ELC "Category:ELC")
*   [2010](http://eLinux.org/Category:2010 "Category:2010")
*   [Events](http://eLinux.org/Category:Events "Category:Events")
*   [Presentations](http://eLinux.org/Category:Presentations "Category:Presentations")

# ELC 2011 Presentations

> From: [eLinux.org](http://eLinux.org/ELC_2011_Presentations "http://eLinux.org/ELC_2011_Presentations")

# ELC 2011 Presentations

Presenters, Demo-ers, Participants: Thanks very much for your participation in Linux Foundation's [Embedded Linux Conference 2011](http://events.linuxfoundation.org/events/embedded-linux-conference).

This page is for collecting the presentations that were made at the conference. During and after the conference we will collect materials from the presenters and place them here. Please watch this page if you are interested in a particular presentation - and if it doesn't show up, please send me an e-mail and we'll try to track it down.

## Contents

*   1 Videos
*   2 Instructions
*   3 Table of Presentations
    *   3.1 Keynotes
    *   3.2 Presenters
    *   3.3 Birds of a Feather Session
    *   3.4 Instructions for Presenters

## Videos

Once again, through the diligent work of the [Free Electrons](http://free-electrons.com/) team, all videos for ELC2011 can be found at [ELC 2011 Videos](http://free-electrons.com/blog/elc-2011-videos/) and the Android Builder Summit videos can be found at [Android Builder Summit videos](http://free-electrons.com/blog/abs-2011-videos/).

## Instructions

**Presenters:** Please post your technical conference presentations on this page. (See Instructions below the tables)

# Table of Presentations

NOTE: If you add a wikilink to your presentation and attempt to upload it via the link, it may fail. If it does, use the [Special:Upload](http://eLinux.org/Special:Upload "Special:Upload") page to upload your file.

## Keynotes

**Keynotes**

| **Presenter(s)** | **Session Description** | **Presentation** |
| Dirk Hohndel & Richard Purdie | The Yocto Project | No slides used. |
| Arnd Bergmann (IBM) | Becoming Part of the Linux Kernel Community | [Elc2011_bergmann_keynote.pdf](http://elinux.org/images/6/63/Elc2011_bergmann_keynote.pdf "Elc2011 bergmann keynote.pdf") |

## Presenters

**Presentations**

**Presenter(s)**

**Session Description**

**Presentation**

Day 1, 10:00am

Keshava Munegowda (Texas Instruments)

Power Fail Safe FAT File Systems

[Elc2011_munegowda.pdf](http://eLinux.org/images/5/54/Elc2011_munegowda.pdf "Elc2011 munegowda.pdf")

Frank Rowand (Sony)

Identifying Embedded Real-Time Latency Issues: I-Cache and Locks

[Elc2011_rowand.pdf](http://eLinux.org/images/d/dd/Elc2011_rowand.pdf "Elc2011 rowand.pdf")

Bruno Cardoso Lopes (University of Campinas)

LLVM, Clang and Embedded Linux Systems

[Elc2011_lopes.pdf](http://eLinux.org/images/d/d2/Elc2011_lopes.pdf "Elc2011 lopes.pdf")

Day 1, 11:00am

Steven Rostedt (Red Hat)

Kernel Shark Tutorial

[Elc2011_rostedt.pdf](http://eLinux.org/images/6/64/Elc2011_rostedt.pdf "Elc2011 rostedt.pdf")

[Kernelshark-tut-elc-2011.odp](http://eLinux.org/images/8/87/Kernelshark-tut-elc-2011.odp "Kernelshark-tut-elc-2011.odp")

Kang Dongwook (ETRI)

Snapshot Booting on Embedded Linux

[Elc2011_kang.pdf](http://eLinux.org/images/c/c3/Elc2011_kang.pdf "Elc2011 kang.pdf")

Khem Raj

State of OpenEmbedded Internal Toolchain and SDKs

[Elc2011_raj_sdk.pdf](http://eLinux.org/images/9/94/Elc2011_raj_sdk.pdf "Elc2011 raj sdk.pdf")

Day 1, 1:30pm

David Rusling (Linaro)

Linaro: A Year of Change

[Linaro_2011_ELC_Talk.odp](http://eLinux.org/images/8/87/Linaro_2011_ELC_Talk.odp "Linaro 2011 ELC Talk.odp") [Linaro_2011_ELC_Talk.pdf](http://eLinux.org/images/c/c1/Linaro_2011_ELC_Talk.pdf "Linaro 2011 ELC Talk.pdf")

Hai Shalom (Atheros)

Control, Recover and Debug Your Embedded Product with PCD

[Elc2011_shalom.odp](http://eLinux.org/images/b/ba/Elc2011_shalom.odp "Elc2011 shalom.odp")

Gene Sally

Zigbee Networking & Linux

Day 1, 2:30pm

Xi Wang (Broadcom)

Solving Real-Time Scheduling Problems with RT_PREEMPT and Deadline-Based Scheduler

[Elc2011_xi_rt.pdf](http://eLinux.org/images/7/72/Elc2011_xi_rt.pdf "Elc2011 xi rt.pdf")

Mike Anderson (The PTR Group)

ARM Neon Instruction Set and Why You Should Care

[Elc2011_anderson_arm.pdf](http://eLinux.org/images/4/40/Elc2011_anderson_arm.pdf "Elc2011 anderson arm.pdf")

Darren Hart (Intel)

Yocto Project: Practical Kernel Development Tutorial

Day 1, 3:40pm

Arnd Bergmann (IBM)

Optimizations for Cheap Flash Media

[Elc2011_bergmann.pdf](http://eLinux.org/images/4/49/Elc2011_bergmann.pdf "Elc2011 bergmann.pdf")

Wolfram Sang (Pengutronix)

Developer's Diary: Helping the Process

[Elc2011_sang.pdf](http://eLinux.org/images/f/fe/Elc2011_sang.pdf "Elc2011 sang.pdf")

Rajesh Lal (Nokia)

Fun with QML and JavaScript

[Elc2011_lal.pdf](http://eLinux.org/images/3/31/Elc2011_lal.pdf "Elc2011 lal.pdf")

Day 1, 4:40pm

Thomas Gleixner (linutronix)

RT-Preempt: What's The State and Why There is No Roadmap

[Elc2011_gleixner.pdf](http://eLinux.org/images/c/ca/Elc2011_gleixner.pdf "Elc2011 gleixner.pdf")

Jason Kridner (Texas Instruments)

High-Level Web Interface to Low-Level Linux I/O on the Beagleboard

[Elc2011_kridner.pdf](http://eLinux.org/images/b/ba/Elc2011_kridner.pdf "Elc2011 kridner.pdf")

Day 2, 10:00am

Paul Mundt (Renesas)

Working with HardIRQs: Life Beyond Static IRQ Assignments

[Elc2011_mundt.pdf](http://eLinux.org/images/f/f5/Elc2011_mundt.pdf "Elc2011 mundt.pdf")

Amit Kucheria (Linaro)

Powerdebugging Inside Linaro

[Elc2011_kucheria.odp](http://eLinux.org/images/0/09/Elc2011_kucheria.odp "Elc2011 kucheria.odp") [Elc2011_kucheria.pdf](http://eLinux.org/images/a/a1/Elc2011_kucheria.pdf "Elc2011 kucheria.pdf")

Mike Anderson (The PTR Group)

High-Performance Computing using GPUs

[Elc2011_anderson_gpu.pdf](http://eLinux.org/images/b/b0/Elc2011_anderson_gpu.pdf "Elc2011 anderson gpu.pdf")

Day 2, 11:00am

Paul Larson (Linaro)

Linaro Automated Validation on ARM

[ELC2011-Linaro-Validation.pdf](http://eLinux.org/images/f/ff/ELC2011-Linaro-Validation.pdf "ELC2011-Linaro-Validation.pdf")

Dave Stewart (Intel)

The Yocto Project and its Application Development Toolkit (ADT) - The Answer to Effective Embedded Application Development

[ELC_Yocto_ADT_2011_davest.odp](http://eLinux.org/images/e/e6/ELC_Yocto_ADT_2011_davest.odp "ELC Yocto ADT 2011 davest.odp")

Damian Hobson Garcia (Igel), Katusya Matsubara, Takanari Hayama, Hisao Munakata

Integrating a Hardware Video Codec into Android Stagefright using OpenMAX IL

[Elc2011_garcia.pdf](http://eLinux.org/images/5/52/Elc2011_garcia.pdf "Elc2011 garcia.pdf")

Day 2, 1:30pm

Koen Kooi (Texas Instruments)

Integrating OpenEmbedded and Yocto

[Elc2011_kooi.pdf](http://eLinux.org/images/d/de/Elc2011_kooi.pdf "Elc2011 kooi.pdf")

Mark Gross (Intel)

How to Power Tune a Device Running on a Linux Kernel for Better Suspend Battery Life

[Elc2011_gross.pdf](http://eLinux.org/images/9/9f/Elc2011_gross.pdf "Elc2011 gross.pdf")

Remi Lorriaux (Adeneo Embedded)

Real-time Audio on Embedded Devices

[Elc2011_lorriaux.pdf](http://eLinux.org/images/8/82/Elc2011_lorriaux.pdf "Elc2011 lorriaux.pdf")

Day 2, 2:30am

Magnus Damm

Runtime PM: Upstream I/O Device Power Management

[Elc2011_damm.pdf](http://eLinux.org/images/1/18/Elc2011_damm.pdf "Elc2011 damm.pdf")

Jesse Barker

Linux Graphics Meets the ARM Ecosystem

[Elc2011_barker.pdf](http://eLinux.org/images/f/ff/Elc2011_barker.pdf "Elc2011 barker.pdf")

David Anders (Texas Instruments)

Board Bringup: Open Source Hardware and Software Tools

[Elc2011_anders.pdf](http://eLinux.org/images/9/96/Elc2011_anders.pdf "Elc2011 anders.pdf")

[Open Tools References](http://eLinux.org/Open_tools "Open tools")

Day 2, 3:40pm

John Williams (PetaLogix)

Dynamic Co-simulation of FPGA-based Linux Systems-on-Chip

[Elc2011_williams.pdf](http://eLinux.org/images/3/3a/Elc2011_williams.pdf "Elc2011 williams.pdf")

Sumit Semwal (Texas Instruments)

Media Controller Framework (MCF) For OMAP2+ Display Subsystem

[Elc2011_semwal.pdf](http://eLinux.org/images/8/83/Elc2011_semwal.pdf "Elc2011 semwal.pdf")

Day 3, 9:00am

John Stultz (IBM)

Android for Servers?

[Elc2011_stultz.pdf](http://eLinux.org/images/8/89/Elc2011_stultz.pdf "Elc2011 stultz.pdf")

Anand Gadiyar (Texas Instruments)

Tools and Techniques for Debugging Embedded Systems

[Elc2011_gadiyar.pdf](http://eLinux.org/images/d/d7/Elc2011_gadiyar.pdf "Elc2011 gadiyar.pdf")

Hans Verkuil (Cisco)

Video4linux: Progress, New videobuf2 Framework and the Future

[Elc2011_verkul.odp](http://eLinux.org/images/0/01/Elc2011_verkul.odp "Elc2011 verkul.odp")

Day 3, 10:00am

Yoshiya Hirase (Nokia)

Faster Resume For More Energy Savings on MeeGo

[Elc2011_hirase.pdf](http://eLinux.org/images/f/f9/Elc2011_hirase.pdf "Elc2011 hirase.pdf")

Jake Edge (Linux Weekly News)

What Embedded Linux Developers Should Know About IPv6

[Elc2011_edge.pdf](http://eLinux.org/images/7/79/Elc2011_edge.pdf "Elc2011 edge.pdf")

Grégoire Gentil (Always Innovating)

Hot Multi-OS Switch: How to run Ubuntu, ChromiumOS, Android at the Same Time on an Embedded Device

[ELC-AlwaysInnovating-Gentil.pdf](http://eLinux.org/images/5/5c/ELC-AlwaysInnovating-Gentil.pdf "ELC-AlwaysInnovating-Gentil.pdf")

Day 3, 11:00am

Xi Wang (Broadcom)

Controlling Memory Footprint at All Layers: Linux Kernel, Applications, Libraries and Toolchain

[Elc2011_xi_mem.pdf](http://eLinux.org/images/e/e1/Elc2011_xi_mem.pdf "Elc2011 xi mem.pdf")

Tom Zanussi and Saul Wold

Building Custom Embedded Images with Yocto

[Elc2011_zanussi_wold.odp](http://eLinux.org/images/7/7c/Elc2011_zanussi_wold.odp "Elc2011 zanussi wold.odp")

Day 3, 2:30pm

Philip Balister

A High Performance Interface Between the OMAP3 and an FPGA

[Omap3-fpga.pdf‎](http://eLinux.org/images/7/7b/Omap3-fpga.pdf "Omap3-fpga.pdf")

Jean Pihet (NewOldBits.com)

The Evolution of Tracing and Profiling for Power Management and Accelerators

[Elc2011_pihet.pdf](http://eLinux.org/images/d/d8/Elc2011_pihet.pdf "Elc2011 pihet.pdf")

Day 3, 3:40pm

Elizabeth Flanagan (Intel)

Delivering Predictability: The Yocto Project Autobuilder, Automated Sanity Testing, License Collection, and Build Statistics Tracking

[Elc2011_flanagan.pdf](http://eLinux.org/images/e/ec/Elc2011_flanagan.pdf "Elc2011 flanagan.pdf")

Mythri pk

Bringing up HDMI Display for OMAP4 Panda Board - Design, Challenges and Lessons Learned

[HDMI_ELC_mythripk.pdf](http://eLinux.org/images/8/8e/HDMI_ELC_mythripk.pdf "HDMI ELC mythripk.pdf")

Day 3, 4:40pm

Khem Raj

Debug/Develop uClibc with QEMU

[Elc2011_raj_qemu.pdf](http://eLinux.org/images/d/de/Elc2011_raj_qemu.pdf "Elc2011 raj qemu.pdf")

Guntur Ravi Sankar (Samsung)

What are and How to find a program's unused DSOs

[ELC_2011_Ravi.pdf‎](http://eLinux.org/images/6/6a/ELC_2011_Ravi.pdf "ELC 2011 Ravi.pdf")

## Birds of a Feather Session

**Birds-of-a-Feather Sessions**

| **Presenter(s)** | **Session Description** | **Presentation** |
| Bill Traynor | elinux.org wiki BOF | [Elinux_org_BOF.pdf](http://elinux.org/images/7/78/Elinux_org_BOF.pdf "Elinux org BOF.pdf") |
| Jeff Osier-Mixon (Intel) | Yocto Project Community BoFs [(Notes)](http://elinux.org/Elc2011BoF_YoctoNotes "Elc2011BoF YoctoNotes") | No slides. |
| Luca Coelho (Texas Instruments) | OpenLink WLAN Hacking Workshop | [Openlink Workshop slides (PDF file)](http://elinux.org/images/2/2b/Openlink-workshop-final.pdf "Openlink-workshop-final.pdf") |
| Alison Chaiken (Nokia) | ["MeeGo BoFs: New Linux Platform for Mobile Computing Devices"](http://elinux.org/images/8/8c/BoFSlides.odp "BoFSlides.odp") (ODP format) | [MeeGo BoF Slides (PDF file)](http://elinux.org/images/f/f7/MeeGoBoFELC2011Slides.pdf "MeeGoBoFELC2011Slides.pdf") |
| Jason Kridner (Texas Instruments) | BeagleBoard Hands-On Workshop |  |
| Yoshitake Kobayashi (Toshiba) | Moving Forward: Overcoming Compatibility Issues BoFs | [Elc2011_kobayashi.pdf](http://elinux.org/images/6/6b/Elc2011_kobayashi.pdf "Elc2011 kobayashi.pdf") |

## Instructions for Presenters

Please create a link in the table for your presentation, copying the style of other links. (You may need to create an account in order to edit the wiki or upload files.)

When you have created the link, click on it to upload the file containing your slides.

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [ELC](http://eLinux.org/Category:ELC "Category:ELC")
*   [2011](http://eLinux.org/Category:2011 "Category:2011")
*   [Events](http://eLinux.org/Category:Events "Category:Events")
*   [Presentations](http://eLinux.org/Category:Presentations "Category:Presentations")

# ELC 2013 Presentations

> From: [eLinux.org](http://eLinux.org/ELC_2013_Presentations "http://eLinux.org/ELC_2013_Presentations")

# ELC 2013 Presentations

Presenters, Demo-ers, Participants: Thanks very much for your participation in Linux Foundation's [Embedded Linux Conference 2013](http://events.linuxfoundation.org/events/embedded-linux-conference).

This page is for collecting the presentations that were made at the conference. During and after the conference we will collect materials from the presenters and place them here. Please watch this page if you are interested in a particular presentation - and if it doesn't show up, please [send me and email](http://eLinux.org/Special:EmailUser/Wmat "Special:EmailUser/Wmat") and we'll try to track it down.

## Contents

*   1 Videos
*   2 Instructions
*   3 Table of Presentations
    *   3.1 Keynotes
    *   3.2 Presenters
    *   3.3 Workshops
    *   3.4 Instructions for Presenters

## Videos

Many videos for ELC2013 are available at: [`video.linux.com/categories/2013-embedded-linux-conference-1`](http://video.linux.com/categories/2013-embedded-linux-conference-1)

In addition, Free Electrons has also provided video of the ELC talks: [ELC](http://free-electrons.com/blog/elc-2013-videos/)

## Instructions

**Presenters:** Please post your technical conference presentations on this page. (See Instructions below the tables)

# Table of Presentations

NOTE: If you add a wikilink to your presentation and attempt to upload it via the link, it may fail. If it does, use the [Special:Upload](http://eLinux.org/Special:Upload "Special:Upload") page to upload your file.

## Keynotes

**Keynotes**

| **Presenter(s)** | **Session Description** | **Presentation** | **Transcript Status** |
| [Jim Zemlin, Executive Director, The Linux Foundation](http://embeddedlinuxconference2013.sched.org/speaker/jimzemlinthelinuxfoundation1?iframe=yes&w=900&sidebar=yes&bg=no) [George Grey, CEO, Linaro](http://embeddedlinuxconference2013.sched.org/speaker/georgegray?iframe=yes&w=900&sidebar=yes&bg=no) | [Working Together to Accelerate Linux Development](http://embeddedlinuxconference2013.sched.org/event/7d31bdc542e4688cfcb4f9e734ea578b?iframe=yes&w=900&sidebar=yes&bg=no#?iframe=yes&w=900&sidebar=yes&bg=no) |  |  |
| [Andrew Chatham, Google](http://embeddedlinuxconference2013.sched.org/speaker/chatham1?iframe=yes&w=900&sidebar=yes&bg=no) | [Google's Self-Driving Cars: The Technology, Capabilities & Challenges](http://embeddedlinuxconference2013.sched.org/event/f933fea1a987fa84bbcd88f889e0dfd6?iframe=yes&w=900&sidebar=yes&bg=no#?iframe=yes&w=900&sidebar=yes&bg=no) |  |  |
| [Dave Stewart, Intel](http://embeddedlinuxconference2013.sched.org/speaker/david.c.stewart?iframe=yes&w=900&sidebar=yes&bg=no) | [Code Sweat: Embed with Nightmares](http://embeddedlinuxconference2013.sched.org/event/c4dc74be6672f020d8e166d2db4655cf?iframe=yes&w=900&sidebar=yes&bg=no#?iframe=yes&w=900&sidebar=yes&bg=no) |  |  |
| [SpaceX - Moore's Law to Mars](http://embeddedlinuxconference2013.sched.org/event/6ff46db8e2a8a39b51255473e312756e?iframe=yes&w=900&sidebar=yes&bg=no#?iframe=yes&w=900&sidebar=yes&bg=no) | [Robert Rose, SpaceX](http://embeddedlinuxconference2013.sched.org/speaker/robertroserobertrosedirectorofsoftwareengineeringspacex?iframe=yes&w=900&sidebar=yes&bg=no) |  |  |

## Presenters

**Presentations**

**Session Description**

**Presenter(s)**

**Presentation**

**Transcript Status**

Day 1, 11:00am

[Anatomy of the arm-soc git tree](http://embeddedlinuxconference2013.sched.org/event/e1565cda09533369d6c989f9890e4344?iframe=yes&w=900&sidebar=yes&bg=no#?iframe=yes&w=900&sidebar=yes&bg=no)

[Olof Johansson, Google](http://embeddedlinuxconference2013.sched.org/speaker/olof?iframe=yes&w=900&sidebar=yes&bg=no)

[PDF](http://eLinux.org/images/4/48/Elc2013_Johansson.pdf "Elc2013 Johansson.pdf")

[Beaglebone: The Perfect Telemetry Platform?](http://embeddedlinuxconference2013.sched.org/event/78bcf2b8e163ab68d6ba192c9b3e32dd?iframe=yes&w=900&sidebar=yes&bg=no#?iframe=yes&w=900&sidebar=yes&bg=no)

[Matt Ranostay, Ranostay Industries](http://embeddedlinuxconference2013.sched.org/speaker/mranostay?iframe=yes&w=900&sidebar=yes&bg=no)

[PDF](http://eLinux.org/images/3/38/Beaglebone_Telemetry-_ELC_2013.pdf "Beaglebone Telemetry- ELC 2013.pdf")

[Using and Understanding the Real-Time Cyclictest Benchmark](http://embeddedlinuxconference2013.sched.org/event/c5161be9cee53ea9a0eb45d57ef0b194?iframe=yes&w=900&sidebar=yes&bg=no#?iframe=yes&w=900&sidebar=yes&bg=no)

[Frank Rowand, Sony Network Entertainment](http://embeddedlinuxconference2013.sched.org/speaker/frank.rowand?iframe=yes&w=900&sidebar=yes&bg=no)

[PDF](http://eLinux.org/images/0/01/Elc2013_rowand.pdf "Elc2013 rowand.pdf")

Day 1, 12:00pm

[Anatomy of an Embedded KMS Driver](http://embeddedlinuxconference2013.sched.org/event/4d82f7065019b1c993fc6bc24b629abe?iframe=yes&w=900&sidebar=yes&bg=no#?iframe=yes&w=900&sidebar=yes&bg=no)

[Laurent Pinchart, Ideas on board SPRL](http://embeddedlinuxconference2013.sched.org/speaker/laurent.pinchart?iframe=yes&w=900&sidebar=yes&bg=no)

[PDF](http://eLinux.org/images/0/0f/Elc2013_Pinchart.pdf "Elc2013 Pinchart.pdf")

[Kernel Dynamic Memory Allocation Tracking and Reduction](http://embeddedlinuxconference2013.sched.org/event/725fe218e20e73b08ed6ba1f2930e37b?iframe=yes&w=900&sidebar=yes&bg=no#?iframe=yes&w=900&sidebar=yes&bg=no)

[Ezequiel Alfredo Garcia, VanguardiaSur](http://embeddedlinuxconference2013.sched.org/speaker/elezegarcia?iframe=yes&w=900&sidebar=yes&bg=no)

[PDF](http://eLinux.org/images/8/81/Elc2013_Garcia.pdf "Elc2013 Garcia.pdf")

[The OpenEmbedded Project 2 Years After Adopting the Yocto Project](http://embeddedlinuxconference2013.sched.org/event/bcd61120abc0308cb2fede03c70a769b#?iframe=yes&w=900&sidebar=yes&bg=no)

[Koen Kooi, CurcuitCo Electronics](http://embeddedlinuxconference2013.sched.org/speaker/koen?iframe=yes&w=900&sidebar=yes&bg=no)

[PDF](http://eLinux.org/images/b/b5/Elc2013_Koei.pdf "Elc2013 Koei.pdf")

Day 1, 2:00pm

[How to Cook the LTSI Kernel with Yocto Recipe](http://embeddedlinuxconference2013.sched.org/event/4b59cb9405cf73cd63f21ed964edf370?iframe=yes&w=900&sidebar=yes&bg=no#?iframe=yes&w=900&sidebar=yes&bg=no)

[Hisao Munakata, Renesas Electronics](http://embeddedlinuxconference2013.sched.org/speaker/hisao.munakata.vt?iframe=yes&w=900&sidebar=yes&bg=no)

[PDF](http://eLinux.org/images/0/02/LTSIwithYocto.pdf "LTSIwithYocto.pdf")

[PinControl and GPIO Update](http://embeddedlinuxconference2013.sched.org/event/ff5ec20eb019b6adfe44a1e6f43ef0d6?iframe=yes&w=900&sidebar=yes&bg=no#?iframe=yes&w=900&sidebar=yes&bg=no)

[Linus Walleij, ST-Ericsson](http://embeddedlinuxconference2013.sched.org/speaker/linus.walleij?iframe=yes&w=900&sidebar=yes&bg=no)

[PDF](http://eLinux.org/images/c/cd/Pincontrol-gpio-update.pdf "Pincontrol-gpio-update.pdf")

[Understanding PREEMPT_RT (The Real-Time Patch](http://embeddedlinuxconference2013.sched.org/event/538a75dac6cc94621a6881e307e962e6?iframe=yes&w=900&sidebar=yes&bg=no#?iframe=yes&w=900&sidebar=yes&bg=no)

[Steven Rostedt, RedHat](http://embeddedlinuxconference2013.sched.org/speaker/rostedt?iframe=yes&w=900&sidebar=yes&bg=no)

[PDF](http://eLinux.org/images/b/ba/Elc2013_Rostedt.pdf "Elc2013 Rostedt.pdf")

[Beaglebone Hands-On Tutorial Sessions 1 Sponsored by BeagleBoard.org and BeagleBoardToys.com](http://embeddedlinuxconference2013.sched.org/event/4f34a2dbe0d8058330f7a63f11d2ad93?iframe=yes&w=900&sidebar=yes&bg=no#?iframe=yes&w=900&sidebar=yes&bg=no)

[Jayneil Dalal, Texas Instruments](http://embeddedlinuxconference2013.sched.org/speaker/jayneil?iframe=yes&w=900&sidebar=yes&bg=no)

[PDF](http://eLinux.org/images/b/b7/Beaglebone_-_Hands_on_Tutorial.pdf "Beaglebone - Hands on Tutorial.pdf")

Day 1, 3:00pm

[Building a Custom Linux Distribution with the Yocto Project](http://embeddedlinuxconference2013.sched.org/event/ef01d4f45e400247273658a420b63fee?iframe=yes&w=900&sidebar=yes&bg=no#?iframe=yes&w=900&sidebar=yes&bg=no)

[Sean Hudson, Mentor Graphics](http://embeddedlinuxconference2013.sched.org/speaker/sean_hudson1?iframe=yes&w=900&sidebar=yes&bg=no)

[PDF](http://eLinux.org/images/9/96/2013-ELC-Building-a-distro-with-YP.pdf "2013-ELC-Building-a-distro-with-YP.pdf")

[Common Clock Framework: How to Use It](http://embeddedlinuxconference2013.sched.org/event/c0cc92e3b123d1cc83a43a0c89a0cc57?iframe=yes&w=900&sidebar=yes&bg=no#?iframe=yes&w=900&sidebar=yes&bg=no)

[Gregory Clement, Free Electrons](http://embeddedlinuxconference2013.sched.org/speaker/gclement?iframe=yes&w=900&sidebar=yes&bg=no)

[PDF](http://eLinux.org/images/b/b8/Elc2013_Clement.pdf "Elc2013 Clement.pdf")

[RFC: Obtaining Management Buy-in for Mainline Development](http://embeddedlinuxconference2013.sched.org/event/b5d3361ee252fc74bae36c7bab06dbd3?iframe=yes&w=900&sidebar=yes&bg=no#?iframe=yes&w=900&sidebar=yes&bg=no)

[Kevin Chalmers, Texas Instruments](http://embeddedlinuxconference2013.sched.org/speaker/kev1?iframe=yes&w=900&sidebar=yes&bg=no)

[PDF](http://eLinux.org/images/7/7c/Elc2013_Chalmers.pdf "Elc2013 Chalmers.pdf")

[BeagleBone Hands-on Tutorial Session 2 Sponsored by BeagleBoard.org and BeagleBoardToys.com](http://embeddedlinuxconference2013.sched.org/event/c9dbc64a77607bfd16df7fdf4403fd78?iframe=yes&w=900&sidebar=yes&bg=no#?iframe=yes&w=900&sidebar=yes&bg=no)

[Jayneil Dalal, Texas Instruments](http://embeddedlinuxconference2013.sched.org/speaker/jayneil?iframe=yes&w=900&sidebar=yes&bg=no)

[PDF](http://eLinux.org/images/b/b7/Beaglebone_-_Hands_on_Tutorial.pdf "Beaglebone - Hands on Tutorial.pdf")

Day 1, 4:00pm

[Atom for Embedded Linux Hackers and the DIY Community](http://embeddedlinuxconference2013.sched.org/event/77502d826977dcd027871c96d9689d59?iframe=yes&w=900&sidebar=yes&bg=no#?iframe=yes&w=900&sidebar=yes&bg=no)

[Scott Garman, Intel Open Source Technology Center](http://embeddedlinuxconference2013.sched.org/speaker/scott.a.garman?iframe=yes&w=900&sidebar=yes&bg=no)

[PDF](http://eLinux.org/index.php?title=Special:Upload&wpDestFile=Elc2013_Garman.pdf "Elc2013 Garman.pdf")

[Controlling Multi-Core Race Conditions on Linux/Android](http://embeddedlinuxconference2013.sched.org/event/0ed4ebc0a81490626dca075746b5979a?iframe=yes&w=900&sidebar=yes&bg=no#?iframe=yes&w=900&sidebar=yes&bg=no)

[Mike Anderson, The PTR Group, Inc.](http://embeddedlinuxconference2013.sched.org/speaker/mike94?iframe=yes&w=900&sidebar=yes&bg=no)

[PDF](http://eLinux.org/index.php?title=Special:Upload&wpDestFile=Elc2013_Anderson.pdf "Elc2013 Anderson.pdf")

[Making Linux do Hard Real-Time](http://embeddedlinuxconference2013.sched.org/event/45c141821f693cb24aa4ebc69aaf99c9?iframe=yes&w=900&sidebar=yes&bg=no#?iframe=yes&w=900&sidebar=yes&bg=no)

[Brent Roman, Monterey Bay Aquarium Research Institute](http://embeddedlinuxconference2013.sched.org/speaker/brent14?iframe=yes&w=900&sidebar=yes&bg=no)

[PDF](http://eLinux.org/images/0/00/Elc2013_Roman.pdf "Elc2013 Roman.pdf")

[BeagleBone Hands-On Tutorial Session 3 Sponsored by BeagleBoard.org and BeagleBoardToys.com](http://embeddedlinuxconference2013.sched.org/event/5c62f089dde99618c864dc340a537288?iframe=yes&w=900&sidebar=yes&bg=no)

[Jayneil Dalal, Texas Instruments](http://embeddedlinuxconference2013.sched.org/speaker/jayneil?iframe=yes&w=900&sidebar=yes&bg=no)

[PDF](http://eLinux.org/images/b/b7/Beaglebone_-_Hands_on_Tutorial.pdf "Beaglebone - Hands on Tutorial.pdf")

Day 1, 5:00pm

[How to Decide the Linux Kernel Version for the Embedded Products to Keep Maintaining Long Term](http://embeddedlinuxconference2013.sched.org/event/e82d3137553ba3e2ff1ce6e127f48fa9?iframe=yes&w=900&sidebar=yes&bg=no#?iframe=yes&w=900&sidebar=yes&bg=no)

[Tzugikazu SHibata, NEC](http://embeddedlinuxconference2013.sched.org/speaker/tsugikazushibata1?iframe=yes&w=900&sidebar=yes&bg=no)

[PDF](http://eLinux.org/images/8/82/Elc2013_Shibata.pdf "Elc2013 Shibata.pdf")

[Optimizing GStreamer Video Plugins: A Case Study with Renesas SoC Platform](http://embeddedlinuxconference2013.sched.org/event/d1b56ab904b102807ec86764d4dffe71?iframe=yes&w=900&sidebar=yes&bg=no#?iframe=yes&w=900&sidebar=yes&bg=no)

[Katsuya Matsubara, IGEL Co., Ltd.](http://embeddedlinuxconference2013.sched.org/speaker/matsu2?iframe=yes&w=900&sidebar=yes&bg=no)

[PDF](http://eLinux.org/images/7/71/Elc2013_Matsubara.pdf "Elc2013 Matsubara.pdf")

[Your New ARM SoC Linux Support Checklist!](http://embeddedlinuxconference2013.sched.org/event/2bf9b7769bf51293b506be46425c861c?iframe=yes&w=900&sidebar=yes&bg=no#?iframe=yes&w=900&sidebar=yes&bg=no)

[Thomas Petazzoni, Free Electrons](http://embeddedlinuxconference2013.sched.org/speaker/tpetazzoni?iframe=yes&w=900&sidebar=yes&bg=no)

[PDF](http://eLinux.org/images/5/5e/Elc2013_Petazzoni.pdf "Elc2013 Petazzoni.pdf")

Day 2, 10:30am

[Kernel Testing Tools and Techniques](http://embeddedlinuxconference2013.sched.org/event/ccda0ec3bf3f97011febdeb1b8ba54dc?iframe=yes&w=900&sidebar=yes&bg=no#?iframe=yes&w=900&sidebar=yes&bg=no)

[Matt Porter, Texas Instruments, Inc.](http://embeddedlinuxconference2013.sched.org/speaker/ohporter?iframe=yes&w=900&sidebar=yes&bg=no)

[PDF](http://eLinux.org/images/3/31/Elc2013_Porter.pdf "Elc2013 Porter.pdf")

[Debugging on a Production System](http://embeddedlinuxconference2013.sched.org/event/dfe1387ba3520d2a5037265cd54ee826?iframe=yes&w=900&sidebar=yes&bg=no#?iframe=yes&w=900&sidebar=yes&bg=no)

[Tristan Lelong, Adeneo Embedded](http://embeddedlinuxconference2013.sched.org/speaker/tristan.lelong?iframe=yes&w=900&sidebar=yes&bg=no)

[PDF](http://eLinux.org/images/0/0c/Elc2013_Lelong.pdf "Elc2013 Lelong.pdf")

[FIT Image Format Inspired by the Kernel Device Tree Interface](http://embeddedlinuxconference2013.sched.org/event/6e744648e4859372513239432adc3681?iframe=yes&w=900&sidebar=yes&bg=no#?iframe=yes&w=900&sidebar=yes&bg=no)

[Joel Fernandes, Texas Instruments, Inc.](http://embeddedlinuxconference2013.sched.org/speaker/agnel.joel?iframe=yes&w=900&sidebar=yes&bg=no)

[PDF](http://eLinux.org/images/f/f4/Elc2013_Fernandes.pdf "Elc2013 Fernandes.pdf")

[Pre-built Binary Toolchains in the Yocto Project](http://embeddedlinuxconference2013.sched.org/event/18494630c7fd39c398fde6f6054a2b37?iframe=yes&w=900&sidebar=yes&bg=no#?iframe=yes&w=900&sidebar=yes&bg=no)

[Denys Dmytriyenko, Texas Instruments, Inc.](http://embeddedlinuxconference2013.sched.org/speaker/denix?iframe=yes&w=900&sidebar=yes&bg=no)

[PDF](http://eLinux.org/images/c/c8/ExternalToolchainsInYocto.pdf "ExternalToolchainsInYocto.pdf")

Day 2, 11:30am

[Extending the swsusp Hibernation Framework to ARM](http://embeddedlinuxconference2013.sched.org/event/33128ae78b4f1b46dfe4fec816b74e98?iframe=yes&w=900&sidebar=yes&bg=no#?iframe=yes&w=900&sidebar=yes&bg=no)

[Russell Dill, Texas Instruments, Inc.](http://embeddedlinuxconference2013.sched.org/speaker/russ.dill?iframe=yes&w=900&sidebar=yes&bg=no)

[[PDF](http://elinux.org/images/0/0c/Slides.pdf)]

[LLVMLinux: Compiling the Linux Kernel with LLVM](http://embeddedlinuxconference2013.sched.org/event/a608109d374ac283e395f6028e5d868c?iframe=no&w=900&sidebar=yes&bg=no#)

[Behan Webster, Converse in Code, Inc.](http://embeddedlinuxconference2013.sched.org/speaker/behanw)

[PDF](http://eLinux.org/images/8/8d/Elc2013_Webster.pdf "Elc2013 Webster.pdf")

[Making Gadgets Really "cool"](http://embeddedlinuxconference2013.sched.org/event/569cd5cfa4f30a56c23215b1971db1f8?iframe=no&w=900&sidebar=yes&bg=no#)

[Noor UI Mubeen, Intel Technology India Pvt Ltd](http://embeddedlinuxconference2013.sched.org/speaker/noor.u.mubeen)

[PDF](http://eLinux.org/images/1/16/Elc2013_Mubeen.pdf "Elc2013 Mubeen.pdf")

[Survey of Linux Kernel Debugging Techniques](http://embeddedlinuxconference2013.sched.org/event/c58b06ecc659a01878f516b3075939ec?iframe=no&w=900&sidebar=yes&bg=no#)

[Kevin Dankwardt, K Computing](http://embeddedlinuxconference2013.sched.org/speaker/kevin.dankwardt)

[PDF](http://eLinux.org/images/b/b4/Elc2013_Dankwardt.pdf "Elc2013 Dankwardt.pdf")

Day 2, 1:45pm

[Application Diversity Demands Accelerated Linux Innovation](http://embeddedlinuxconference2013.sched.org/event/1f828b765ec4df1528968306f0445240?iframe=no&w=900&sidebar=yes&bg=no#)

[Mark Orvek, Linaro](http://embeddedlinuxconference2013.sched.org/speaker/morvek)

[PDF](http://eLinux.org/images/9/99/Elc2013_Orvek.pdf "Elc2013 Orvek.pdf")

[Can You Market an Open Source Project?](http://embeddedlinuxconference2013.sched.org/event/7640b599b9af1d2dbfebe1d8d39989ed?iframe=no&w=900&sidebar=yes&bg=no#)

[Tracey Erway, Intel Corporation Nithya Ruff, Synopsys](http://embeddedlinuxconference2013.sched.org/speaker/tracey.m.erway)

[PDF](http://eLinux.org/index.php?title=Special:Upload&wpDestFile=Elc2013_Ruff.pdf "Elc2013 Ruff.pdf")

[The End of Embedded Linux (as we know it)](http://embeddedlinuxconference2013.sched.org/event/53b201c7ad059284a2add9523a4492c3?iframe=no&w=900&sidebar=yes&bg=no#)

[Chris Simmonds, 2net Limited](http://embeddedlinuxconference2013.sched.org/speaker/chris105)

[PDF](http://eLinux.org/index.php?title=Special:Upload&wpDestFile=Elc2013_Simmonds.pdf "Elc2013 Simmonds.pdf")

[Toybox: Writing a new Linux Command Line from Scratch](http://embeddedlinuxconference2013.sched.org/event/80d20d81826d8c252246140684534320?iframe=no&w=900&sidebar=yes&bg=no#)

[Rob Landley, Multicellular](http://embeddedlinuxconference2013.sched.org/speaker/rob31)

[presentation outline (txt)](http://landley.net/talks/celf-2013.txt)

Day 2, 2:45pm

[Deadline Miss Detection with SCHED_DEADLINE](http://embeddedlinuxconference2013.sched.org/event/af6c24c1ba26195243201aad0f947352?iframe=no&w=900&sidebar=yes&bg=no#)

[Yoshitake Kobayashi, TOSHIBA Corporation](http://embeddedlinuxconference2013.sched.org/speaker/yoshitake.kobayashi)

[PDF](http://eLinux.org/images/b/b6/ELC2013-Kobayashi.pdf "ELC2013-Kobayashi.pdf"), [Source code](https://github.com/ystk/sched-deadline/tree/dlmiss-detection-dev)

[Embedded Linux Takes on the Hard Problems of Automotive](http://embeddedlinuxconference2013.sched.org/event/bedc505f903d6dacfc506eae5a361005?iframe=no&w=900&sidebar=yes&bg=no#)

[Alison Chaiken, Mentor Embedded Software Division](http://embeddedlinuxconference2013.sched.org/speaker/alchaiken)

[PDF](http://eLinux.org/images/3/3a/Elc2013_Chaiken.pdf "Elc2013 Chaiken.pdf")

[Open Graphics with the Yocto Project](http://embeddedlinuxconference2013.sched.org/event/a040837ca32db97783677fd9ed336a5f?iframe=no&w=900&sidebar=yes&bg=no#)

[Ross Burton, Intel](http://embeddedlinuxconference2013.sched.org/speaker/burton1)

[PDF](http://eLinux.org/index.php?title=Special:Upload&wpDestFile=Elc2013_Burton.pdf "Elc2013 Burton.pdf")

[Using GStreamer for Seamless Off-Loading Audio Processing to a DSP](http://embeddedlinuxconference2013.sched.org/event/9777ed0644ec217470ea120547e6e6a1?iframe=no&w=900&sidebar=yes&bg=no#)

[Ruud Derwig, Synopsys](http://embeddedlinuxconference2013.sched.org/speaker/ruud.derwig)

[PDF](http://eLinux.org/images/a/a5/ELC2013-UsingGStreamer_for_seamless_audio_off-loading_final.pdf "ELC2013-UsingGStreamer for seamless audio off-loading final.pdf")

Day 2, 4:00pm

[Designing for Optimisation](http://embeddedlinuxconference2013.sched.org/event/d3840c72f34e224e1a594b7dbe86a60d?iframe=no&w=900&sidebar=yes&bg=no#)

[Mans Rullgard, ARM/Linaro](http://embeddedlinuxconference2013.sched.org/speaker/mans.rullgard)

[PDF](http://eLinux.org/images/5/59/Elc2013_Rullgard.pdf "Elc2013 Rullgard.pdf")

[Namespaces for Security](http://embeddedlinuxconference2013.sched.org/event/3ef642b5a4ecd564b505625f8255b250?iframe=no&w=900&sidebar=yes&bg=no#)

[Jake Edge, LWN.net](http://embeddedlinuxconference2013.sched.org/speaker/jake13)

[PDF](http://eLinux.org/images/5/57/Elc2013_Edge.pdf "Elc2013 Edge.pdf")

[Yocto Project Overview and Update](http://embeddedlinuxconference2013.sched.org/event/58ed5c59d83225dd39a8071fe10d1576?iframe=no&w=900&sidebar=yes&bg=no#)

[Saul Wold, Intel](http://embeddedlinuxconference2013.sched.org/speaker/sgw)

[PDF](http://eLinux.org/images/7/77/Elc2013_Wold.pdf "Elc2013 Wold.pdf")

Day 2, 5:00pm

[Board Bringup: You, Me, and I2C](http://embeddedlinuxconference2013.sched.org/event/d6e312a3d3159db95993483132dd7a83?iframe=no&w=900&sidebar=yes&bg=no#)

[David Anders, Texas Instruments](http://embeddedlinuxconference2013.sched.org/speaker/danders.dev)

[PDF](http://eLinux.org/images/1/1f/Elce-danders.pdf "Elce-danders.pdf") - [Resource Page](http://eLinux.org/BoardBringUp-i2c "BoardBringUp-i2c")

[System-wide Memory Management without Swap](http://embeddedlinuxconference2013.sched.org/event/a78778ce69f44eb8c34de584cac9512e?iframe=no&w=900&sidebar=yes&bg=no#)

[Howard Cochran, Lexmark International](http://embeddedlinuxconference2013.sched.org/speaker/hmcochran)

[PDF](http://eLinux.org/images/b/b9/Elc2013-embedded-memory-management.pdf "Elc2013-embedded-memory-management.pdf")

[Target Communication Framework: One Link to Rule Them All](http://embeddedlinuxconference2013.sched.org/event/94e9835bf0b10444250bf923f962cdf6?iframe=no&w=900&sidebar=yes&bg=no#)

[Anna Dushistova, Me, Myself, and I](http://embeddedlinuxconference2013.sched.org/speaker/anna.dushistova)

[PDF](http://eLinux.org/images/f/f5/TCF-AnnaDushistova2013.pdf "TCF-AnnaDushistova2013.pdf")

Day 3, 9:00am

[EasyUI: No Nonsense Mobile Application Development with EFL](http://embeddedlinuxconference2013.sched.org/event/d628d11e7d9310bb18e6536bac0d8d7f?iframe=no&w=900&sidebar=yes&bg=no#)

[Leandro Pereira, ProFUSION Embedded System](http://embeddedlinuxconference2013.sched.org/speaker/leandro2)

[PDF](http://eLinux.org/index.php?title=Special:Upload&wpDestFile=Elc2013_Pereira.pdf "Elc2013 Pereira.pdf")

[In Kernel Switcher: A Solution to Support ARM's New big.LITTLE implementation](http://embeddedlinuxconference2013.sched.org/event/845c23037d0d2e375fe96d3f676a648d?iframe=no&w=900&sidebar=yes&bg=no#)

[Mathieu Poirier, Linaro](http://embeddedlinuxconference2013.sched.org/speaker/mathieu.poirier)

[PDF](http://eLinux.org/images/7/7a/Elc2013_Poirier.pdf "Elc2013 Poirier.pdf")

[Yocto Meta-Virtualization Layer Project](http://embeddedlinuxconference2013.sched.org/event/c0173ac5f2fde26462f4b36c07b0c413?iframe=no&w=900&sidebar=yes&bg=no#)

[Michael Christofferson, Enea](http://embeddedlinuxconference2013.sched.org/speaker/michael.christofferson)

[PDF](http://eLinux.org/images/9/9b/Elc2013_Christofferson.pdf "Elc2013 Christofferson.pdf")

[Embedded Android Workshop](http://embeddedlinuxconference2013.sched.org/event/c0f74aade06500c4363b7e17edf07a4e?iframe=no&w=900&sidebar=yes&bg=no#)

[Karim Yaghmour, Opersys](http://embeddedlinuxconference2013.sched.org/speaker/karimyaghmour3)

[PDF](http://eLinux.org/index.php?title=Special:Upload&wpDestFile=Elc2013_Yaghmour.pdf "Elc2013 Yaghmour.pdf")

Day 3, 10:00am

[F2FS (Flash-Friendly File System)](http://embeddedlinuxconference2013.sched.org/event/db5e82d9ea3010390a31a34ea2b0212a?iframe=no&w=900&sidebar=yes&bg=no#)

[Joo-Young Hwang, Samsung Electronics Co., Ltd.](http://embeddedlinuxconference2013.sched.org/speaker/jooyoung.hwang)

[PDF](http://eLinux.org/images/1/12/Elc2013_Hwang.pdf "Elc2013 Hwang.pdf")

[Lessons Learned in Designing a Self-Video, Self-Hovering Nano Copter](http://embeddedlinuxconference2013.sched.org/event/1849ad93f7bfd458bb962a171dad9ab1?iframe=no&w=900&sidebar=yes&bg=no#)

[Gregoire Gentil, Always Innovating](http://embeddedlinuxconference2013.sched.org/speaker/gregoire)

[PDF](http://eLinux.org/index.php?title=Special:Upload&wpDestFile=Elc2013_Gentil.pdf "Elc2013 Gentil.pdf")

[Leveraging Linux - Code Coverage for Post-Silicon Validation](http://embeddedlinuxconference2013.sched.org/event/4886db21ad2637a44ae26743b41af3f1?iframe=no&w=900&sidebar=yes&bg=no#)

[Mehdi K., UBC Integrated Systems Design Lab](http://embeddedlinuxconference2013.sched.org/speaker/mehdik.)

[PDF](http://eLinux.org/images/e/eb/Elc2013_Mehdi.pdf "Elc2013 Mehdi.pdf")

Day 3,11:15am

[Bringing kconfig to EGLIBC](http://embeddedlinuxconference2013.sched.org/event/21d4fd0dc56868cf2220285eebb76a17?iframe=no&w=900&sidebar=yes&bg=no#)

[Khem Raj, OpenEmbedded](http://embeddedlinuxconference2013.sched.org/speaker/raj.khem)

[PDF](http://eLinux.org/images/d/d0/Elc2013_Raj.pdf "Elc2013 Raj.pdf")

[Gentoo-Bionic: We Can Rebuild Him. Better. Stronger. Faster.](http://embeddedlinuxconference2013.sched.org/event/1055e624212b01ba5a761e53dc3fc9eb?iframe=no&w=900&sidebar=yes&bg=no#)

[Christopher Friedt, Research In Motion](http://embeddedlinuxconference2013.sched.org/speaker/chrisfriedt)

[PDF](http://eLinux.org/images/2/25/2013_elc_gentoo_bionic.pdf "2013 elc gentoo bionic.pdf")

[Task Scheduling for Multicore Embedded Devices](http://embeddedlinuxconference2013.sched.org/event/6886dddf386277f332c2e7cf742cb9bb?iframe=no&w=900&sidebar=yes&bg=no#)

[Gap-Joo Na, Electronics and Telecommunications Research Institute (ETRI)](http://embeddedlinuxconference2013.sched.org/speaker/funkygap)

[PDF](http://eLinux.org/images/d/dc/Elc2013_Na.pdf "Elc2013 Na.pdf")

Day 3, 12:15pm

[Adventures in (simulated) Assymmetric Scheduling](http://embeddedlinuxconference2013.sched.org/event/74d3b5689c6663250c419c048fe2495f?iframe=no&w=900&sidebar=yes&bg=no#)

[Pantelis Antoniou, Antoniou Consulting](http://embeddedlinuxconference2013.sched.org/speaker/panto)

[PDF](http://eLinux.org/images/4/40/Elc-pantelis-2013.pdf "Elc-pantelis-2013.pdf")

[An Insight into the Advanced XIP Filesystem (AXFS)](http://embeddedlinuxconference2013.sched.org/event/896ba6b16e4d15e2c36a46d3315e3f7a?iframe=no&w=900&sidebar=yes&bg=no#)

[Aditya Kumar, Sony India Software Centre Pvt Ltd.](http://embeddedlinuxconference2013.sched.org/speaker/aaditya.kumar.30)

[PDF](http://eLinux.org/images/8/8c/Elc2013_Kumar.pdf "Elc2013 Kumar.pdf")

[Tips of Malloc and Free](http://embeddedlinuxconference2013.sched.org/event/f343dc3f9f47c051a260dd4064dc6b4b?iframe=no&w=900&sidebar=yes&bg=no#)

[Tetsuyuki Kobayashi, Kiyoto Microcomputer](http://embeddedlinuxconference2013.sched.org/speaker/tetsu.koba)

[PDF](http://eLinux.org/images/b/b5/Elc2013_Kobayashi.pdf "Elc2013 Kobayashi.pdf")

Day 3, 2:15pm

[How to Build Your Own Digital Signage Solution with Yocto Project](http://embeddedlinuxconference2013.sched.org/event/181850f27fe7f34f54ade470b3d25b3c?iframe=no&w=900&sidebar=yes&bg=no#)

[Nitin Kamble, Intel Corporation](http://embeddedlinuxconference2013.sched.org/speaker/nitin.a.kamble)

[PDF](http://eLinux.org/images/d/d2/Elc2013_Kamble.pdf "Elc2013 Kamble.pdf")

[Leveraging SPDX with Yocto](http://embeddedlinuxconference2013.sched.org/event/6323851f04700f04a30899503710781b?iframe=no&w=900&sidebar=yes&bg=no#)

[Mark Gisi, Wind River Systems](http://embeddedlinuxconference2013.sched.org/speaker/mark.gisi) [Mark Hatle, Wind River Systems](http://embeddedlinuxconference2013.sched.org/speaker/markhatle)

[PDF](http://eLinux.org/index.php?title=Special:Upload&wpDestFile=Elc2013_Hatle.pdf "Elc2013 Hatle.pdf")

[The 'Embedded' Problem as Experienced by Intel's Reference Phones](http://embeddedlinuxconference2013.sched.org/event/907ac5bf9511f464a329047c5ca28e51?iframe=no&w=900&sidebar=yes&bg=no#)

[Mark Gross, Intel/MCG/PSI](http://embeddedlinuxconference2013.sched.org/speaker/mark.gross)

[PDF](http://eLinux.org/index.php?title=Special:Upload&wpDestFile=Elc2013_Gross.pdf "Elc2013 Gross.pdf")

Day 3, 3:15pm

[olibc: Another C Runtime Library for Embedded Linux](http://embeddedlinuxconference2013.sched.org/event/17dcacc6f4b333c5e7c2a0ffc8df2fcb?iframe=no&w=900&sidebar=yes&bg=no#)

[Jim Huang, 0xlab](http://embeddedlinuxconference2013.sched.org/speaker/jserv)

[PDF](http://eLinux.org/images/6/66/Elc2013_Huang.pdf "Elc2013 Huang.pdf")

[Security Best Practices for Embedded Systems](http://embeddedlinuxconference2013.sched.org/event/a85c816419e15fe1c209a7a8a13375d4?iframe=no&w=900&sidebar=yes&bg=no#)

[John Mehaffey, MontaVista Software](http://embeddedlinuxconference2013.sched.org/speaker/mehaf)

[PDF](http://eLinux.org/images/1/1a/Elc2013_Mehaffey.pdf "Elc2013 Mehaffey.pdf")

[uCLinux for Custom Mobile Devices](http://embeddedlinuxconference2013.sched.org/event/ff7ed4110d02595d5c75c012238b84bf?iframe=no&w=900&sidebar=yes&bg=no#)

[Hunyue Yau, HY Research LLC](http://embeddedlinuxconference2013.sched.org/speaker/hy2012)

[PDF](http://eLinux.org/images/1/1d/Elc2013_Yau.pdf "Elc2013 Yau.pdf")

## Workshops

**Workshops**

| **Presenter(s)** | **Session Description** | **Presentation** |
| [Filip Thoen, Synopsys](http://embeddedlinuxconference2013.sched.org/speaker/filipthoen) | [Getting Linux BSPs Developed Faster](http://embeddedlinuxconference2013.sched.org/event/822e1a83294b6412d0c69fe5d940d414?iframe=no&w=900&sidebar=yes&bg=no#) |  |
| Yocto Project Developers | [Tocto Project & OpenEmbedded BoF](http://embeddedlinuxconference2013.sched.org/event/e5debbb7e088403c5d5d5575d99c13d5?iframe=no&w=900&sidebar=yes&bg=no#) |  |
| [Matt Porter, Texas Instruments](http://embeddedlinuxconference2013.sched.org/speaker/ohporter) | [Kernel Testing Tools and Techniques](http://embeddedlinuxconference2013.sched.org/event/ccda0ec3bf3f97011febdeb1b8ba54dc?iframe=no&w=900&sidebar=yes&bg=no#) |  |
| [Jesse Barker, Linaro](http://embeddedlinuxconference2013.sched.org/speaker/jesse.barker) | [Common Display Framework](http://embeddedlinuxconference2013.sched.org/event/4bca8fd9cf84d0426e53aadbe19eeaa9?iframe=no&w=900&sidebar=yes&bg=no#) |  |

## Instructions for Presenters

Please create a link in the table for your presentation, copying the style of other links. (You may need to create an account in order to edit the wiki or upload files.)

When you have created the link, click on it to upload the file containing your slides.

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [ELC](http://eLinux.org/Category:ELC "Category:ELC")
*   [2013](http://eLinux.org/Category:2013 "Category:2013")
*   [Events](http://eLinux.org/Category:Events "Category:Events")
*   [Presentations](http://eLinux.org/Category:Presentations "Category:Presentations")

# ELC 2014 Presentations

> From: [eLinux.org](http://eLinux.org/ELC_2014_Presentations "http://eLinux.org/ELC_2014_Presentations")

# ELC 2014 Presentations

Here are the presentations from ELC 2014.

Some videos are available, courtesy of

*   the fine folks at Free Electrons
*   Frank Rowand and Tim Bird of Sony Mobile Communications

The "Free Electrons Videos" links in the table below are to their hosting page:

[`free-electrons.com/blog/elc2014-videos/`](http://free-electrons.com/blog/elc2014-videos/)

The "YouTube" links in the table below are directly to the respective video. The ELC 2014 YouTube playlist is at:

[`www.youtube.com/playlist?list=PL_xRWvMmKDbLAOMqMDovw-4F9fEYmf15s`](https://www.youtube.com/playlist?list=PL_xRWvMmKDbLAOMqMDovw-4F9fEYmf15s)

## Contents

*   1 Table of Presentations
    *   1.1 Keynotes
    *   1.2 Presenters
    *   1.3 Instructions for Presenters

# Table of Presentations

NOTE: If you add a wikilink to your presentation and attempt to upload it via the link, it may fail. If it does, use the [Special:Upload](http://eLinux.org/Special:Upload "Special:Upload") page to upload your file.

## Keynotes

**Keynotes** 

| **Presenter(s)** | **Session Description** | **Presentation** | **Transcript Status** | **Video** |
| [Tim Bird, Sony Mobile](http://elcabsna2014.sched.org/speaker/tim.bird1?iframe=yes&w=100&sidebar=yes&bg=no) | [The Paradox of OpenSource and Embedded](http://sched.co/1mVh2gC) | [Prezi](http://prezi.com/wmst50xiklgc/?utm_campaign=share&utm_medium=copy)[PDF](http://elinux.org/images/d/de/The-paradox-of-open-source-and-embedded-elc-2014.pdf "The-paradox-of-open-source-and-embedded-elc-2014.pdf") |  |  |
| [Karim Yaghmour, CEO-Opersys](http://elcabsna2014.sched.org/moderator/karim.yaghmour?iframe=yes&w=100&sidebar=yes&bg=no) [David Anders, Senior Embedded Systems Engineer at CircuitCo](http://elcabsna2014.sched.org/speaker/davidanders4?iframe=yes&w=100&sidebar=yes&bg=no)
[Tim Bird, Senior Software Engineer at Sony Mobile](http://elcabsna2014.sched.org/speaker/tim.bird1?iframe=yes&w=100&sidebar=yes&bg=no)
[Matt Porter, Technical Lead at Linaro](http://elcabsna2014.sched.org/speaker/mporter6?iframe=yes&w=100&sidebar=yes&bg=no)
[Benjamin Zores, Software Architect at Alcatel-Lucent](http://elcabsna2014.sched.org/speaker/benjamin.zores?iframe=yes&w=100&sidebar=yes&bg=no) | [Panel: IoT and the Role of Embedded Linux and Android - David Anders, CircuitCo; Tim Bird, Sony Mobile; Matt Porter, Linaro; Benjamin Zores, Alcatel-Lucent; Karim Yaghmour, OperSys (Moderator)](http://sched.co/1ce3nwB) |  |  |  |
| [Tim Bird, Sony Mobile](http://elcabsna2014.sched.org/speaker/tim.bird1?iframe=yes&w=100&sidebar=yes&bg=no) | [Closing Game](http://elcabsna2014.sched.org/event/2485735bc51d1a68de2b35d773dc6d23#.VNVFiyvF98E) |  |  | [YouTube](https://www.youtube.com/watch?v=hMiAJ9C-IWk) |

## Presenters

**Presentations**

**Session Description**

**Presenter(s)**

**Presentation**

**Transcript Status**

**Video**

Day 1, 10:30am

[A Deep Dive Into DEX File Format](http://sched.co/1i8Y3c9)

[Rodrigo Chiossi](http://elcabsna2014.sched.org/speaker/rodrigochiossi?iframe=yes&w=100&sidebar=yes&bg=no), Intel Open Source Technology Center

[PDF](http://eLinux.org/images/d/d9/A_deep_dive_into_dex_file_format--chiossi.pdf "A deep dive into dex file format--chiossi.pdf")

[ROM Cooking and Good Practices](http://sched.co/1cdVN4Y)

[Jeremy Vagnet](http://elcabsna2014.sched.org/speaker/jvagnet1?iframe=yes&w=100&sidebar=yes&bg=no), Genymobile

[PDF](http://eLinux.org/images/d/d3/ROM_cooking_and_good_practices--vagnet.pdf "ROM cooking and good practices--vagnet.pdf")

[LTSI Project Update for 3.10 Kernel and Future Plans](http://sched.co/1mVsjxD)

[Hisao Munakata](http://elcabsna2014.sched.org/speaker/hisao.munakata.vt?iframe=yes&w=100&sidebar=yes&bg=no), Renesas

[PDF](http://eLinux.org/images/5/58/Ltsi_project_update--munakata.pdf "Ltsi project update--munakata.pdf")

[microYocto and the 'Internet of Tiny'](http://sched.co/1mVh4Fi)

[Tom Zanussi](http://elcabsna2014.sched.org/speaker/tom.zanussi?iframe=yes&w=100&sidebar=yes&bg=no), Intel Open Source Technology Center

[PDF](http://eLinux.org/images/5/54/Tom.zanussi-elc2014.pdf "Tom.zanussi-elc2014.pdf")

[YouTube](https://www.youtube.com/watch?v=tweFbwDtLpU)

[USB and the Real World](http://sched.co/1mVsjgZ)

[Alan Ott](http://elcabsna2014.sched.org/speaker/alan17?iframe=yes&w=100&sidebar=yes&bg=no), Signal 11 Software

[PDF](http://eLinux.org/images/6/66/Elc_2014_usb.pdf "Elc 2014 usb.pdf")

[Free Electrons Videos](http://free-electrons.com/blog/elc2014-videos/)

Day 1, 11:30am

[Update on Boot Time Reduction Techniques with Figures](http://sched.co/1mVskl3)

[Michael Opdenacker](http://elcabsna2014.sched.org/speaker/michael118), Free Electrons

[PDF](http://eLinux.org/images/7/70/Opdenacker-boot-time-ELC-2014.pdf "Opdenacker-boot-time-ELC-2014.pdf")

[Free Electrons Videos](http://free-electrons.com/blog/elc2014-videos/)

[Finding Performance and Power Issues on Android Systems](http://sched.co/1mVqBw0)

[Eric Moore](http://elcabsna2014.sched.org/speaker/eric.w.moore), Intel Corporation

[PDF](http://eLinux.org/images/8/83/Finding_performance_and_power_issues_on_android_systems--eric_moore.pdf "Finding performance and power issues on android systems--eric moore.pdf")

[YouTube](https://www.youtube.com/watch?v=On5Dsv4feaI)

[Running Code in the Android Stack](http://sched.co/1oqRvYg)

[Karim Yaghmour](http://elcabsna2014.sched.org/speaker/karim.yaghmour), Opersys

[Mastering the DMA and IOMMU APIs](http://sched.co/1oqUf81)

[Laurent Pinchart](http://elcabsna2014.sched.org/speaker/laurent.pinchart), Renesas Linux Kernel Team

[PDF](http://eLinux.org/images/4/49/20140429-dma.pdf "20140429-dma.pdf")

[YouTube](https://www.youtube.com/watch?v=n07zPcbdX_w)

[Qt5 and Yocto - Adding SDK and Easy App Migration for Qt4](http://sched.co/1mVrQvo)

[Dmytriyenko](http://elcabsna2014.sched.org/speaker/denis6Denys), Texas Instruments

[PDF](http://eLinux.org/images/7/7f/Qt5YoctoSDK_0.pdf "Qt5YoctoSDK 0.pdf")

Day 1, 2:00pm

[The Android Graphics Path, In Depth](http://sched.co/1ixAcYc)

[Chris Simmonds](http://elcabsna2014.sched.org/speaker/chris105), 2net

[PDF](http://eLinux.org/images/2/2b/Android_graphics_path--chis_simmonds.pdf "Android graphics path--chis simmonds.pdf")

[The Android Media Framework - A Deep Dive](http://sched.co/1mViCPK)

[Poornachandra Kallare](http://elcabsna2014.sched.org/speaker/poornachandra.kallare), TPVision

[PDF](http://eLinux.org/images/9/9d/Android_media_framework--van-dam_and_kallere.pdf "Android media framework--van-dam and kallere.pdf")

[Device Tree for Dummies](http://sched.co/1oqS2cG)

[Thomas Petazzoni](http://elcabsna2014.sched.org/speaker/tpetazzoni), Free Electrons

[PDF](http://eLinux.org/images/f/f9/Petazzoni-device-tree-dummies_0.pdf "Petazzoni-device-tree-dummies 0.pdf")

[YouTube](https://www.youtube.com/watch?v=uzBwHFjJ0vU)

[Porting Linux to a New Architecture](http://sched.co/1mVrlkS)

[Marta Rybczynska](http://elcabsna2014.sched.org/speaker/marta.rybczynska). Kalray

[PDF](http://eLinux.org/images/5/50/Rybczynska_Porting_Linux_to_a_new_architecture_ELC2014.pdf "Rybczynska Porting Linux to a new architecture ELC2014.pdf")

[YouTube](https://www.youtube.com/watch?v=d86k_f0Jj9U)

[User Space Drivers in Linux - Pros, Cons, and Implementation Issues](http://sched.co/1mVrk0m)

[Michael Christofferson](http://elcabsna2014.sched.org/speaker/michael_christofferson.1s1d1ewe), Enea

Day 1, 3:00pm

[Android without Java](http://sched.co/1owXY3O)

[Bernard Rosenkranzer](http://elcabsna2014.sched.org/speaker/bernhard.rosenkranzer), Linaro

[PDF](http://eLinux.org/images/b/b7/Android_without_java--rosenkranzer.pdf "Android without java--rosenkranzer.pdf")

[Improving Performance of Key External Projects Used in Android](http://sched.co/1mVwrxs)

[Khasim Syed Mohammed](http://elcabsna2014.sched.org/speaker/khasim.mohammed), Linaro

[PDF](http://eLinux.org/images/f/f2/Improving_performance_of_key_external_projects_in_android--k_s_mohammed.pdf "Improving performance of key external projects in android--k s mohammed.pdf")

[How to Build a Linux-based Robot](http://sched.co/1mViBLy)

[Michael E. Anderson](http://elcabsna2014.sched.org/speaker/michael_e_anderson.1s1d1eus), The PTR Group, Inc.

[PDF](http://eLinux.org/images/8/85/LinuxRobot_Anderson.pdf "LinuxRobot Anderson.pdf")

[YouTube](https://www.youtube.com/watch?v=ukYsWCjy5TA)

[Using Real-Time Patch with LTSI Kernel](http://sched.co/1l7bMC3)

[Yoshitake Kobayashi](http://elcabsna2014.sched.org/speaker/yoshitake.kobayashi), Toshiba

[PDF](http://eLinux.org/images/5/56/ELC2014-Kobayashi_0.pdf "ELC2014-Kobayashi 0.pdf")

[YouTube](https://www.youtube.com/watch?v=xjzdoK0_9yw)

[Yocto Project/OpenEmbedded BoF](http://sched.co/1cece1c)

[Jeff Osier-Mixon](http://elcabsna2014.sched.org/speaker/jeff_osler.1s1d1etb), Intel Corporation

Day 1, 4:20pm

[Android without Java (Cont.)](http://sched.co/1owY1wu)

[Bernard Rosenkranzer](http://elcabsna2014.sched.org/speaker/bernhard.rosenkranzer), Linaro

[PDF](http://eLinux.org/images/b/b7/Android_without_java--rosenkranzer.pdf "Android without java--rosenkranzer.pdf")

[X86 ROM Cooking 101: A Hands on Tutorial](http://sched.co/1i8XL4Q)

[Ron Munitz](http://elcabsna2014.sched.org/speaker/RonM), Nubo

[Cooking PDF](http://eLinux.org/images/7/70/ROM_Cooking_101-Munitz.pdf "ROM Cooking 101-Munitz.pdf") ; [Build System PDF](http://eLinux.org/images/8/86/ROM_Cooking_101-Build-System-KitKat-Munitz.pdf "ROM Cooking 101-Build-System-KitKat-Munitz.pdf")

[A Remote Power Analyzer Based on Power Modeling in Heterogenous Embedded Linux Systems](http://sched.co/1kzhnDZ)

[Young-Joo Kim](http://elcabsna2014.sched.org/speaker/kr.yjkim), Electronics and Telecommunications Research Institute

[Making a Splash: DIgital Signage Powered by Minnowboard and the Yocto Project](http://sched.co/1cdwdwQ)

Nitin Kamble and John Hawley, Intel Open Source Technology Center

[PDF](http://eLinux.org/images/d/dc/ELC_2014_Nitin.pdf "ELC 2014 Nitin.pdf")

[Supporting a New ARM Platform: The Allwinner SoCs Example](http://sched.co/1mViFLc)

[Maxime Ripard](http://elcabsna2014.sched.org/speaker/mripard), Free Electrons

[PDF](http://eLinux.org/images/3/31/Ripard-mainlining-out-of-tree-socs.pdf "Ripard-mainlining-out-of-tree-socs.pdf")

[Free Electrons Videos](http://free-electrons.com/blog/elc2014-videos/)

Day 1, 5:20pm

[Headless Android Strikes Back](http://sched.co/1kzjw2t)

[Gary Bisson](http://elcabsna2014.sched.org/speaker/gbisson), Adeneo Embedded

[PDF](http://eLinux.org/images/7/7d/Headless_android_strikes_back--gbisson.pdf "Headless android strikes back--gbisson.pdf")

[Engaging Device Trees](http://sched.co/1l7bNFZ)

[Geert Uytterhoeven](http://elcabsna2014.sched.org/speaker/geert), Glider bvba

[PDF](http://eLinux.org/images/e/e2/Engaging_Device_Trees_0.pdf "Engaging Device Trees 0.pdf")

[YouTube](https://www.youtube.com/watch?v=MlYeT_nUK4Y)

[Fear and Loathing in the Media Transfer Protocol](http://sched.co/1l7bStc)

[Linus Walleij](http://elcabsna2014.sched.org/speaker/linus.walleij), Linaro

[PDF](http://eLinux.org/images/8/85/Media_Transfer_Protocol.pdf "Media Transfer Protocol.pdf")

[Free Electrons Videos](http://free-electrons.com/blog/elc2014-videos/)

[Use-Case Power Management Optimization: Identifying and Tracking Key Power Indicators](http://sched.co/1kzhnnn)

[Patrick Titiano](http://elcabsna2014.sched.org/speaker/ptitiano), BayLibre

[PDF](http://eLinux.org/images/2/28/Use-Case_Power_Management_Optimization_ELC_Presentation.pdf "Use-Case Power Management Optimization ELC Presentation.pdf")

[YouTube](https://www.youtube.com/watch?v=uBXCkBLIwLo)

Day 1, 6:30pm

[(BoFs) Device Tree: Best Practices, Review Process & Maintainership Discussions](http://elcabsna2014.sched.org/event/0d58be21b40b5b7c098306713db22c4b)

[Olof Johansson](http://elcabsna2014.sched.org/speaker/olofjohansson1), Google

[YouTube](https://www.youtube.com/watch?v=-5NQEUhk6pU)

Day 2, 10:30am

[Android Platform Debugging and Development](http://sched.co/1mVqoJa)

[Karim Yaghmour](http://elcabsna2014.sched.org/speaker/karim.yaghmour), Opersys

[Tuning Android for Low RAM](http://sched.co/1mVlpIL)

[Chris Simmonds](http://elcabsna2014.sched.org/speaker/chris105), 2net

[PDF](http://eLinux.org/images/2/28/Tuning_android_for_low_ram--chris_simmonds.pdf "Tuning android for low ram--chris simmonds.pdf")

[(Tutorial) Some GCC Optimizations for Embedded Software](http://sched.co/1mVhXOf)

[Khem Raj](http://elcabsna2014.sched.org/speaker/raj.khem), Juniper Networks

[PDF](http://eLinux.org/images/b/be/ELC14-GCC.pdf "ELC14-GCC.pdf")

[Linux for Microcontrollers: Spreading the Disease](http://sched.co/1mVrS6h)

[Vitaly Wool](http://elcabsna2014.sched.org/speaker/vitalywool1), Softprise Consulting OU

[PDF](http://eLinux.org/images/c/ca/Spreading.pdf "Spreading.pdf")

[Trees need care: A Solution to Device Tree Validation Problem](http://sched.co/NUf9ko)

[Tomasz Figa](http://elcabsna2014.sched.org/speaker/t.figa1), Samsun R&D Institute

[PDF](http://eLinux.org/images/3/35/ELC14-Device_Tree_validation_0.pdf "ELC14-Device Tree validation 0.pdf")

[YouTube](https://www.youtube.com/watch?v=JqRWPaPHHII) [Free Electrons Videos](http://free-electrons.com/blog/elc2014-videos/)

Day 2, 11:30am

[Android KitKat Internals](http://sched.co/1mVlr3c)

[Benjamin Zores](http://elcabsna2014.sched.org/speaker/benjamin.zores), Alcatel-Lucent

[PDF](http://eLinux.org/images/d/d3/Kitkat_internals--ben_zores.pdf "Kitkat internals--ben zores.pdf")

[Security Enhancements (SE) for Android](http://sched.co/1mVlrjN)

[Stephen Smalley](http://elcabsna2014.sched.org/speaker/sds1), US National Security Agency

[PDF](http://eLinux.org/images/b/b1/Se_for_android--smalley.pdf "Se for android--smalley.pdf")

[(Tutorial) Some GCC Optimizations for Embedded Software (Cont.)](http://sched.co/1cdLUEk)

[Khem Raj](http://elcabsna2014.sched.org/speaker/raj.khem), Juniper Networks

[PDF](http://eLinux.org/images/b/be/ELC14-GCC.pdf "ELC14-GCC.pdf")

[Can Board Bringup Be Less Painful with Yocto and Linux?](http://sched.co/1mVh08o)

[Insop Song](http://elcabsna2014.sched.org/speaker/insop_song.1s1d1etq), Gainspeed

[PDF](http://eLinux.org/images/2/22/Can_board_bring_up_be_less_painful_insop_song.pdf "Can board bring up be less painful insop song.pdf")

[Extending Linux using Arduinos](http://sched.co/1mVrQvk)

[Michael E Anderson](http://elcabsna2014.sched.org/speaker/michael_e_anderson.1s1d1eus), The PTR Group, Inc.

[PDF](http://eLinux.org/images/6/6f/ArduinoLinux_Anderson.pdf "ArduinoLinux Anderson.pdf")

[Free Electrons Videos](http://free-electrons.com/blog/elc2014-videos/)

[(BoFs) QCOM SoC Mainlining](http://elcabsna2014.sched.org/event/d537f47f229182457edc3bded1af0ab2)

[Tim Bird, Sony Mobile](http://elcabsna2014.sched.org/speaker/tim.bird1?iframe=yes&w=100&sidebar=yes&bg=no)

[YouTube](https://www.youtube.com/watch?v=8SxZ3KlwY74)

Day 2, 2:00pm

[Android App Tuning Techniques Workshop](http://sched.co/Pkn6k7)

[Mark Murphy](http://elcabsna2014.sched.org/speaker/mmurphy8), CommonsWare

[Making Android More Wearable: The Challenges of Adding Multi-SPorts Sensors and Radios](http://sched.co/1mVlfB5)

[Gil Zhaiek](http://elcabsna2014.sched.org/speaker/gilzhaiek), Recon Instruments

[PDF](http://eLinux.org/images/e/ec/Making_android_more_wearable-the_challenges_of_adding_multi_sports_sensors_and_radios--zhaiek.pdf "Making android more wearable-the challenges of adding multi sports sensors and radios--zhaiek.pdf")

[A Timeline for Embedded Linux](http://sched.co/1oqUoYZ)

[Chris Simmonds](http://elcabsna2014.sched.org/speaker/chris105), 2net

[PDF](http://eLinux.org/images/3/32/Csimmonds-embedded-linux-timeline-2014.pdf "Csimmonds-embedded-linux-timeline-2014.pdf")

[YouTube](https://www.youtube.com/watch?v=7sQehx9Cs9Q)

[An Introduction to the Video4Linux Framework](http://sched.co/1oqUxvp)

[Hans Verkuil](http://elcabsna2014.sched.org/speaker/hverkuil), Cisco Systems Norway

[PDF](http://eLinux.org/images/8/89/V4l2-frameworks_0.pdf "V4l2-frameworks 0.pdf")

[Introducing Embedded Linux to Universities](http://sched.co/1mVrjcT)

[Victor Rodriguez](http://elcabsna2014.sched.org/speaker/vm.rod25), Intel

[PDF](http://eLinux.org/images/f/fb/Introducing_Embedded_Linux_to_universities_0.pdf "Introducing Embedded Linux to universities 0.pdf")

Day 2, 3:00pm

[Android App Tuning Techniques (Cont.)](http://sched.co/Pkn6AL)

[Mark Murphy](http://elcabsna2014.sched.org/speaker/mmurphy8), CommonsWare

[Android Middleware Development](http://sched.co/1ce1v6U)

[Euler Rachid](http://elcabsna2014.sched.org/speaker/emrachid), Samsung R&D Brazil Lab

[Debugging - Linux Kernel Testing](http://sched.co/1oqVSlT)

[Matt Porter](http://elcabsna2014.sched.org/speaker/mporter5), Linaro

[Free Electrons Videos](http://free-electrons.com/blog/elc2014-videos/)

[Hardware-Assisted Software Tracing](http://sched.co/1oqUzDI)

[Adrien Verge](http://elcabsna2014.sched.org/speaker/adrienverge), Ecole Polytechnique Montreal

[PDF](http://eLinux.org/images/2/21/Hardware-assisted_software_tracing.pdf "Hardware-assisted software tracing.pdf")

[YouTube](https://www.youtube.com/watch?v=tcsdM5-nU-A)

[LLVMLinux: Embracing the Dragon](http://sched.co/1oqUC2f)

[Behan Webster](http://elcabsna2014.sched.org/speaker/behanw), Converse in Code Inc.

[PDF](http://events.linuxfoundation.org/sites/events/files/slides/2014-ELC-LLVMLinux.pdf)

Day 2, 4:20pm

[Android App Tuning Techniques Workshop (cont.)](http://sched.co/1g1G4kx)

[Mark Murphy](http://elcabsna2014.sched.org/speaker/mmurphy8), Commonsware

[Android on Atom for Teeth Health](http://sched.co/1i8XvD0)

[Rafael Coutinho](http://elcabsna2014.sched.org/speaker/rafael.coutinho), Philnnovations]

[PDF](http://eLinux.org/images/9/9e/Android_on_atom_for_teeth_health--coutinho.pdf "Android on atom for teeth health--coutinho.pdf")

[Debugging (Sigrok: Using Logic to Debug Logic)](http://sched.co/1oqSKqi)

[Matt Ranostay](http://elcabsna2014.sched.org/speaker/davidanders4), Intel Open Source Technology Center [David Anders](http://elcabsna2014.sched.org/speaker/davidanders4), CircuitCo

[PDF](http://eLinux.org/images/8/88/Sigrok_-_Using_Logic_to_Debug_Logic_-_ELC_2014.pdf "Sigrok - Using Logic to Debug Logic - ELC 2014.pdf")

[Free Electrons Videos](http://free-electrons.com/blog/elc2014-videos/)

[Two Years of ARM SoC Support mainlining: Lessons Learned](http://sched.co/1mVsBEG)

[Thomas Petazzoni](http://elcabsna2014.sched.org/speaker/tpetazzoni), Free Electrons

[PDF](http://eLinux.org/images/d/dc/Petazzoni-soc-mainlining-lessons-learned.pdf "Petazzoni-soc-mainlining-lessons-learned.pdf")

[Free Electrons Videos](http://free-electrons.com/blog/elc2014-videos/)

[webOS, An OpenEmbedded Use Case](http://sched.co/1oqUOP0)

[Iyad Qumei](http://elcabsna2014.sched.org/speaker/ikq2754), LG Electronics

[PDF](http://eLinux.org/images/e/e9/Webos_els_presentation_20140220.pdf "Webos els presentation 20140220.pdf")

[(BoFs) ARM/ARM64: Code Sharing, Consolidation & Upstreaming](http://elcabsna2014.sched.org/event/86ffef7e365d4c64a7d6cd98bbc7a974)

[Olof Johansson](http://elcabsna2014.sched.org/speaker/olofjohansson1), Google

[YouTube](https://www.youtube.com/watch?v=VoSlYSZQSj0)

Day 2, 5:20pm

[Android App Tuning Techniques Workshop (Cont.)](http://sched.co/1hwmEa5)

[Mark Murphy](http://elcabsna2014.sched.org/speaker/mmurphy8), Commonsware

[Bringing the BlueZ Back to Android](http://sched.co/1mVwVDV)

[Marcel Holtmann](http://elcabsna2014.sched.org/speaker/marcel4), Intel's Open Source Technology Center

[PDF](http://eLinux.org/images/f/f5/Bringing_the_bluez_back_to_android--holtmann.pdf "Bringing the bluez back to android--holtmann.pdf")

[Building Tools From the Outside In: Bringing User-Centered Design to Embedded Linux](http://sched.co/1mVsF7q)

[Belen Barros Pena](http://elcabsna2014.sched.org/speaker/belenbarrospena1), Intel's Open Source Technology Center

[PDF](http://eLinux.org/images/a/aa/Building-tools-outside-in.pdf "Building-tools-outside-in.pdf")

[YouTube](https://www.youtube.com/watch?v=INqMDRuZSbs)

[Debugging - Panel Discussion](http://sched.co/1mVuTnd)

[Karim Yaghmour](http://elcabsna2014.sched.org/speaker/karim.yaghmour), Opersys [Matt Ranostay](http://elcabsna2014.sched.org/speaker/mranostay), Intel [David Anders](http://elcabsna2014.sched.org/speaker/davidanders4), CircuitCo [Matt Porter](http://elcabsna2014.sched.org/speaker/mporter5), Linaro

[Free Electrons Videos](http://free-electrons.com/blog/elc2014-videos/)

[System Power Management Interface (SPMI)](http://sched.co/1mVnfZX)

[Josh Cartwright](http://elcabsna2014.sched.org/speaker/josh.cartwright1), Qualcomm Innovation Center

[YouTube](https://www.youtube.com/watch?v=rEPOvrn6NB0s)

Day 3, 9:00am

[Embedded Android Workshop](http://sched.co/1cdKytp)

[Karim Yaghmour](http://elcabsna2014.sched.org/speaker/karim.yaghmour), Opersys

[The Growth of Android in Embedded Systems](http://sched.co/1cdxWCl)

[Benjamin Zores](http://elcabsna2014.sched.org/speaker/benjamin.zores), Alcatel-Lucent

[PDF](http://eLinux.org/images/f/f5/The_growth_of_android_in_embedded_systems--ben_zores.pdf "The growth of android in embedded systems--ben zores.pdf")

[Software True Random Number Generator for Embedded Linux](http://sched.co/1l7e0RI)

[Nicholas McGuire](http://elcabsna2014.sched.org/speaker/der.herr), Safety Critical Linux Working Group of OSADL

[Understanding the Embedded Linux Ecosystem with Codeface](http://sched.co/1kziB2b)

[Wolfgang Mauerer](http://elcabsna2014.sched.org/speaker/wm1), Siemens

[PDF](http://eLinux.org/images/2/28/Codeface_0.pdf "Codeface 0.pdf")

[YouTube](https://www.youtube.com/watch?v=-AM4PoiDABc)

[Volatile Ranges](http://sched.co/1l7dZNG)

[Mincham Kim](http://elcabsna2014.sched.org/speaker/minchan), LG Electronics

[PDF](http://eLinux.org/images/b/b2/Volatile_range--minchan_kim.pdf "Volatile range--minchan kim.pdf")

Day 3, 10:00am

[Embedded Android Workshop (Cont.)](http://sched.co/1cdKHwN)

[Karim Yaghmour](http://elcabsna2014.sched.org/speaker/karim.yaghmour), Opersys

[Extending Android via Extenal Microprocessors](http://sched.co/1cdKZ6Z)

[Mike Anderson](http://elcabsna2014.sched.org/speaker/mike94), The PTR Group

[PDF](http://eLinux.org/images/a/a2/Extending_android_via_external_microprocessors--anderson.pdf "Extending android via external microprocessors--anderson.pdf")

[YouTube](https://www.youtube.com/watch?v=uBE-IW24Ma8)

[Linux Quickboot](http://sched.co/1ccK1Yy)

[Tristan Lelong](http://elcabsna2014.sched.org/speaker/tristan.lelong), Adeneo Embedded

[PDF](http://eLinux.org/images/9/9c/00-linux-quick-boot.pdf "00-linux-quick-boot.pdf")

[Free Electrons Videos](http://free-electrons.com/blog/elc2014-videos/)

[Open Source Tools for Software Defined Radio on Multicore ARM+DSP](http://sched.co/1ccBZPp)

[Philip Balister](http://elcabsna2014.sched.org/speaker/balister), OpenSDR

[PDF](http://eLinux.org/images/4/49/Balister-elc2014.pdf "Balister-elc2014.pdf")

[YouTube](https://www.youtube.com/watch?v=enIogyk7hAw)

[Ubuntu Touch Internals](http://sched.co/1kzjGqL)

[Ricardo Salveti de Araujo](http://elcabsna2014.sched.org/speaker/rsalveti), Ubuntu Touch LowLevel Stack

[PDF](http://eLinux.org/images/c/cf/Ubuntu_Touch_Internals_1.pdf "Ubuntu Touch Internals 1.pdf")

[YouTube](https://www.youtube.com/watch?v=O2qEAbuk_i8)

Day 3,11:25am

[Embedded Android Workshop (Cont.)](http://sched.co/1cdKNEK)

[Karim Yaghmour](http://elcabsna2014.sched.org/speaker/karim.yaghmour), Opersys

[Here There Be Dragons: Using cland/LLVM to Build Android](http://sched.co/1or07Oy)

[Behan Webster](http://elcabsna2014.sched.org/speaker/behanw), Converse in Code

[PDF](http://events.linuxfoundation.org/sites/events/files/slides/2014-ABS-LLVMLinux.pdf)

[Hardware Accelerated Video Streaming with V4L2](http://sched.co/1cecoFK)

[Gabriel Huau](http://elcabsna2014.sched.org/speaker/gabriel_huau.1s1d1ewx), Adeneo Embedded

[PDF](http://eLinux.org/images/1/13/Gabrielhuau.pdf "Gabrielhuau.pdf")

[SMP Bring Up On ARM SOCs](http://sched.co/1cdStH5)

[Gregory Clement](http://elcabsna2014.sched.org/speaker/gclement), Free Electrons

[PDF](http://eLinux.org/images/0/00/Clement-smp-bring-up-on-arm-soc.pdf "Clement-smp-bring-up-on-arm-soc.pdf")

[Free Electrons Videos](http://free-electrons.com/blog/elc2014-videos/)

[The #qt/#wayland/#systemd/#btrfs-phone....the Jolla Phone](http://sched.co/1ce1zni)

[David Greaves](http://elcabsna2014.sched.org/speaker/david235), Mer Project

[PDF](http://eLinux.org/images/d/d9/Greaves.pdf "Greaves.pdf")

Day 3, 2:00pm

[Multiwindow Support on Android](http://sched.co/1cdXAqN)

[Andrzej Wieczorek](http://elcabsna2014.sched.org/speaker/andrzej.wieczorek), Tieto [Mikel Echegoyen](http://elcabsna2014.sched.org/speaker/mikel.echegoyen), Tieto

[PDF](http://eLinux.org/images/9/9d/Multiwindow_support_on_Android.pdf "Multiwindow support on Android.pdf")

[Using Chroot to Bring Linux Applications to Android](http://sched.co/1cdLHB9)

[Mike Anderson](http://elcabsna2014.sched.org/speaker/mike94), PTR Group

[PDF](http://eLinux.org/images/c/ca/Using_chroot_to_bring_linux_applications_to_android--anderson.pdf "Using chroot to bring linux applications to android--anderson.pdf")

[Buildroot: What's New?](http://sched.co/1ce2aFo)

[Thomas Petazzoni](http://elcabsna2014.sched.org/speaker/tpetazzoni), Free Electrons

[PDF](http://eLinux.org/images/1/1d/Petazzoni-buildroot-whats-new.pdf "Petazzoni-buildroot-whats-new.pdf")

[Free Electrons Videos](http://free-electrons.com/blog/elc2014-videos/)

[Improving Performance of a WebKit Port MIPS Platform](http://sched.co/1kzjEPp)

[Adrian Perez de Castro](http://elcabsna2014.sched.org/speaker/aperez4), Igalia

[PDF](http://eLinux.org/images/f/fc/ELC_2014_-_Optimizing_WebKit_for_MIPS_74Kf.pdf "ELC 2014 - Optimizing WebKit for MIPS 74Kf.pdf")

[YouTube](https://www.youtube.com/watch?v=p-OJ3YSkuI0)

[Using Yocto for Modules Manufacturers](http://sched.co/1ce2dB1)

[Alexandre Belloni](http://elcabsna2014.sched.org/speaker/alexandre.belloni), Free Electrons

[PDF](http://eLinux.org/images/0/05/Belloni-yocto-for-manufacturers_0.pdf "Belloni-yocto-for-manufacturers 0.pdf")

[Free Electrons Videos](http://free-electrons.com/blog/elc2014-videos/)

Day 3, 3:00pm

[Multi Persona Android](http://sched.co/NKG6qR)

[Amir Goldstein](http://elcabsna2014.sched.org/speaker/amir9), Cellrox

[PDF](http://eLinux.org/images/c/c7/Abs-2014-laadan-multi-persona-android.pdf "Abs-2014-laadan-multi-persona-android.pdf")

[Collaborative GPL Enforcement Through Non-Profit Entities](http://sched.co/1kz5YnH)

[Bradley M. Kuhn](http://elcabsna2014.sched.org/speaker/bkuhn1), Software Freedom Conservancy

[PDF](http://eLinux.org/images/b/b2/Bkuhn-compliance.pdf "Bkuhn-compliance.pdf")

[Productizing Telephony and Audio in a GNU/Linux (Sailfish OS) Smartphone](http://sched.co/O2i9v2)

[Martti Piirainen](http://elcabsna2014.sched.org/speaker/martti.piirainen), Tieto

[PDF](http://eLinux.org/images/6/61/Elc_telephony_piirainen_0.pdf "Elc telephony piirainen 0.pdf")

[Free Electrons Videos](http://free-electrons.com/blog/elc2014-videos/)

[What's Going on with SPI](http://sched.co/1oqSsj5)

[Mark Brown](http://elcabsna2014.sched.org/speaker/broonie), Linaro

[PDF](http://eLinux.org/images/2/20/Whats_going_on_with_SPI--mark_brown.pdf "Whats going on with SPI--mark brown.pdf")

[YouTube](https://www.youtube.com/watch?v=MByV88orYT4)

Day 3, 3:50pm

[Genivi and AGL - A View From the Side](http://sched.co/1oqUHD2)

[Vitaly Bordyug](http://elcabsna2014.sched.org/speaker/vitally_bordyug.1s1d1ev6), Mentor Graphics

[Kernel USB Gadget Configfs Interface](http://sched.co/1mVsBEA)

[Matt Porter](http://elcabsna2014.sched.org/speaker/mporter6), Linaro

[PDF](http://eLinux.org/images/e/ef/USB_Gadget_Configfs_API_0.pdf "USB Gadget Configfs API 0.pdf")

[Free Electrons Videos](http://free-electrons.com/blog/elc2014-videos/)

[Using Agile Development Practices for Kernel Development](http://sched.co/1mVstF9)

[Chase Maupin](http://elcabsna2014.sched.org/speaker/nnelms), Texas Instruments

[PDF](http://eLinux.org/images/e/e1/Using-agile-development-practices-for-kernel-development_02.pdf "Using-agile-development-practices-for-kernel-development 02.pdf")

[YouTube](https://www.youtube.com/watch?v=PyrCgkIYJkc)

## Instructions for Presenters

Please create a link in the table for your presentation, copying the style of other links. (You may need to create an account in order to edit the wiki or upload files.)

When you have created the link, click on it to upload the file containing your slides.

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [ELC](http://eLinux.org/Category:ELC "Category:ELC")
*   [2014](http://eLinux.org/index.php?title=Category:2014&action=edit&redlink=1 "Category:2014 (page does not exist)")
*   [Events](http://eLinux.org/Category:Events "Category:Events")
*   [Presentations](http://eLinux.org/Category:Presentations "Category:Presentations")

# ELC 2015 Presentations

> From: [eLinux.org](http://eLinux.org/ELC_2015_Presentations "http://eLinux.org/ELC_2015_Presentations")

# ELC 2015 Presentations

Presentations from [ELC 2015](http://events.linuxfoundation.org/events/embedded-linux-conference/program/schedule).

## Contents

*   1 Videos
*   2 Table of Presentations
*   3 Presenters
    *   3.1 Day 1 Presentations
    *   3.2 Day 2 Presentations
    *   3.3 Day 3 Presentations
*   4 Technical Showcase Posters

## Videos

The "YouTube" links in the table below are directly to the respective video. The ELC 2015 YouTube playlist is at:

[`www.youtube.com/playlist?list=PLGeM09tlguZTPUxEvsQiDgX0XDjfOL6oR`](http://www.youtube.com/playlist?list=PLGeM09tlguZTPUxEvsQiDgX0XDjfOL6oR)

## Table of Presentations

NOTE: If you add a wikilink to your presentation and attempt to upload it via the link, it may fail. If it does, use the [Special:Upload](http://eLinux.org/Special:Upload "Special:Upload") page to upload your file.

## Presenters

### Day 1 Presentations

**Session Description**

**Presenter(s)**

**Presentation**

**Transcript Status**

**Video**

Day 1, 9:00am

Driving standards and Open Source to Grow the Internet of Things

Mark Skarpness, Director of Systems Engineering at Intel

[PDF](http://eLinux.org/images/b/bd/ELC-2015-Mark-Skarpness-Driving_standards_and_Open_Source_to_Grow_the_Internet_of_Things.pdf "ELC-2015-Mark-Skarpness-Driving standards and Open Source to Grow the Internet of Things.pdf")

[YouTube](http://www.youtube.com/watch?v=Px3BHrFl-Ps)

Day 1, 9:30am

Project Ara

Paul Eremenko, Head of Project Ara, ATAP at Google & Marti Bolivar, Project Ara Software Lead, Google

[PDF](http://eLinux.org/index.php?title=Special:Upload&wpDestFile=Project_Ara.pdf "Project Ara.pdf")

[YouTube](http://www.youtube.com/watch?v=3q_ZJtnfDzY)

Day 1, 10:30am

Android OTA Updates

Andrew Boie, Intel

[PDF](http://eLinux.org/index.php?title=Special:Upload&wpDestFile=Android_OTA_Updates.pdf "Android OTA Updates.pdf")

[YouTube](http://www.youtube.com/watch?v=fteQpGipJ8c)

Generalizing Android for Low-Cost 64-Bit ARM-Based Community Boards

Khasim Syed Mohammed, Linaro

[PDF](http://eLinux.org/index.php?title=Special:Upload&wpDestFile=Generalizing_Android_for_Low-Cost_64-Bit_ARM-Based_Community_Boards.pdf "Generalizing Android for Low-Cost 64-Bit ARM-Based Community Boards.pdf")

[YouTube](http://www.youtube.com/watch?v=u2Ef3bfyT6s)

An Overview of the Kernel DMAEngine Subsystem

Maxime Ripard, Free Electrons

[PDF](http://eLinux.org/images/6/65/An_Overview_of_the_Kernel_DMAEngine_Subsystem.pdf "An Overview of the Kernel DMAEngine Subsystem.pdf")

[YouTube](http://www.youtube.com/watch?v=6DCgMYhCulc)

Tuning systemd for Embedded

Alison Chaiken, Mentor Graphics

[PDF](http://eLinux.org/images/5/57/Tuning_systemd_for_Embedded.pdf "Tuning systemd for Embedded.pdf")

[YouTube](http://www.youtube.com/watch?v=6RgG8yPf53A)

The Open Interconnect Consortium (OIC) Security Model and Vision

Ned Smith, Intel

[PDF](http://eLinux.org/images/2/24/The_Open_Interconnect_Consortium_%28OIC%29_Security_Model_and_Vision.pdf "The Open Interconnect Consortium (OIC) Security Model and Vision.pdf")

[YouTube](http://www.youtube.com/watch?v=4p0ZRS1BYic)

Day 1, 11:30am

Build and Distributing SDK Add-Ons

Dave Smith, NewCircle

[PDF](http://eLinux.org/index.php?title=Special:Upload&wpDestFile=Build_and_Distributing_SDK_Add-Ons.pdf "Build and Distributing SDK Add-Ons.pdf")

[YouTube](http://www.youtube.com/watch?v=BfFqYkBDwkU)

Fuzzing the Media Framework in Android

Alexandru Blanda, Intel

[PDF](http://eLinux.org/index.php?title=Special:Upload&wpDestFile=Fuzzing_the_Media_Framework_in_Android.pdf "Fuzzing the Media Framework in Android.pdf")

[YouTube](http://www.youtube.com/watch?v=_WrgZ5BAI4M)

Autonomous Navigation for an OMAP4 Nano-Drone

Grégoire Gentil, Always Innovating

[PDF](http://eLinux.org/index.php?title=Special:Upload&wpDestFile=Autonomous_Navigation_for_an_OMAP4_Nano-Drone.pdf "Autonomous Navigation for an OMAP4 Nano-Drone.pdf")

[YouTube](http://www.youtube.com/watch?v=x8jVCQOdH88)

Buildroot: Embedded Linux for Small Devices and Makefile Enthusiasts

Stephanie Lockwood-Childs, VCT Labs

[SVG](http://eLinux.org/images/7/7c/Buildroot-_Embedded_Linux_for_Small_Devices_and_Makefile_Enthusiasts.svg "Buildroot- Embedded Linux for Small Devices and Makefile Enthusiasts.svg")

[YouTube](http://www.youtube.com/watch?v=DsIrFo9Z7Jg)

LTSI: Latest Status and Kernel Testing

Tsugikazu Shibata, NEC

[PDF](http://eLinux.org/images/c/c8/LTSI-_Latest_Status_and_Kernel_Testing.pdf "LTSI- Latest Status and Kernel Testing.pdf")

[YouTube](http://www.youtube.com/watch?v=iAvM4kYTjbI)

Virtualization for Small Devices

Jesse Zbikowski and Stephan Okay, Cratus technologies

[PDF](http://eLinux.org/index.php?title=Special:Upload&wpDestFile=Virtualization_for_Small_Devices.pdf "Virtualization for Small Devices.pdf")

Day 1, 2:00pm

Solving Global Illiteracy With Android and XPRIZE

Jono Bacon, XPRIZE

[PDF](http://eLinux.org/index.php?title=Special:Upload&wpDestFile=Solving_Global_Illiteracy_With_Android_and_XPRIZE.pdf "Solving Global Illiteracy With Android and XPRIZE.pdf")

[YouTube](http://www.youtube.com/watch?v=se0VIuZX-JU)

Anatomy of a Screenshot

Rodrigo Chiossi, Intel

[PDF](http://eLinux.org/index.php?title=Special:Upload&wpDestFile=Anatomy_of_a_Screenshot.pdf "Anatomy of a Screenshot.pdf")

[YouTube](http://www.youtube.com/watch?v=Gj-jGXf7f70)

Using Intel Edison to Fuse Embedded Linux With Existing Drone Flight Controllers

Mark F. Brown, Intel & Joel Rosenzweig, Intel

[PDF](http://eLinux.org/images/5/54/Using_Intel_Edison_to_Fuse_Embedded_Linux_With_Existing_Drone_Flight_Controllers.pdf "Using Intel Edison to Fuse Embedded Linux With Existing Drone Flight Controllers.pdf")

[YouTube](http://www.youtube.com/watch?v=_6xZRikGiQQ)

Bluetooth 4.2 - New Features for Linux and IoT

Marcel Holtmann, Intel

[PDF](http://eLinux.org/images/b/b6/Bluetooth_4.2_-_New_Features_for_Linux_and_IoT.pdf "Bluetooth 4.2 - New Features for Linux and IoT.pdf")

[YouTube](http://www.youtube.com/watch?v=xUL5tVaFjk4)

The Device Tree as a Stable ABI: A Fairy Tale?

Thomas Petazzoni, Free Electrons

[PDF](http://eLinux.org/images/0/0a/The_Device_Tree_as_a_Stable_ABI-_A_Fairy_Tale%3F.pdf "The Device Tree as a Stable ABI- A Fairy Tale?.pdf")

[YouTube](http://www.youtube.com/watch?v=rPRqIS9q6CY)

IoTivity and Embedded Linux Support

Kishen Maloor, Intel

[PDF](http://eLinux.org/images/3/3a/IoTivity_and_Embedded_Linux_Support.pdf "IoTivity and Embedded Linux Support.pdf")

[YouTube](http://www.youtube.com/watch?v=D7A-81EiJj4)

Day 1, 3:00pm

Android’s New Stream-Based Camera Architecture

Balwinder Kaur, ON Semiconductor

[PDF](http://eLinux.org/index.php?title=Special:Upload&wpDestFile=Android%E2%80%99s_New_Stream-Based_Camera_Architecture.pdf "Android’s New Stream-Based Camera Architecture.pdf")

[YouTube](http://www.youtube.com/watch?v=VTGN9594rYk)

Chaining HALs

Hunyue Yau, HY Research

[PDF](http://eLinux.org/index.php?title=Special:Upload&wpDestFile=Chaining_HALs.pdf "Chaining HALs.pdf")

[YouTube](http://www.youtube.com/watch?v=V3ZSXq8x1ME)

Performance Analysis Using the perf Suite

Mans Rullgard

[PDF](http://eLinux.org/images/7/7e/Performance_Analysis_Using_the_perf_Suite.pdf "Performance Analysis Using the perf Suite.pdf")

[YouTube](http://www.youtube.com/watch?v=kWnx6eOGVYo)

Optimize uClinux for ARM Cortex-M4

Jim Huang, South Star Xelerator & Jeff Liaw, National Cheng Kung University

[PDF](http://eLinux.org/images/d/d4/Optimize_uClinux_for_ARM_Cortex-M4.pdf "Optimize uClinux for ARM Cortex-M4.pdf")

[YouTube](http://www.youtube.com/watch?v=6F1eZKFzkUE)

10 Years of Open Source Robotics

Laurent Pinchart, Ideas on Board

[PDF](http://eLinux.org/images/f/ff/10_Years_of_Open_Source_Robotics.pdf "10 Years of Open Source Robotics.pdf")

[YouTube](http://www.youtube.com/watch?v=mslvSJFc9bY)

The OpenDOF Project - An Open Distributed Object Framework For The IoT

Bryant Eastham, Panasonic

[PDF](http://eLinux.org/images/1/19/The_OpenDOF_Project_-_An_Open_Distributed_Object_Framework_For_The_IoT.pdf "The OpenDOF Project - An Open Distributed Object Framework For The IoT.pdf")

[YouTube](http://www.youtube.com/watch?v=Y75LhoOGIrA)

Day 1, 4:20pm

Implementation of the Global Task Scheduler in big.LITTLE Android Platforms

Michael E. Anderson, The PTR Group

[PDF](http://eLinux.org/index.php?title=Special:Upload&wpDestFile=Implementation_of_the_Global_Task_Scheduler_in_big.LITTLE_Android_Platforms.pdf "Implementation of the Global Task Scheduler in big.LITTLE Android Platforms.pdf")

[YouTube](http://www.youtube.com/watch?v=FyNT5YsF3l4)

Utilizing the Android Open Source Project to Support Controllers for Single-Use Devices. (X-Ray Guns! Pew Pew!)

Ben Friedberg, SDG Systems

[PDF](http://eLinux.org/index.php?title=Special:Upload&wpDestFile=Utilizing_the_Android_Open_Source_Project_to_Support_Controllers_for_Single-Use_Devices.pdf "Utilizing the Android Open Source Project to Support Controllers for Single-Use Devices.pdf")

[YouTube](http://www.youtube.com/watch?v=thzj0OtGb9E)

Flying Penguins: Embedded Linux Applications for Autonomous UAVs

Clay McClure

[PDF](http://eLinux.org/images/7/79/Flying_Penguins-_Embedded_Linux_Applications_for_Autonomous_UAVs.pdf "Flying Penguins- Embedded Linux Applications for Autonomous UAVs.pdf")

[YouTube](http://www.youtube.com/watch?v=Qeuxw9qgSWM)

Introduction to IEEE 1588 Precision Time Protocol (PTP) Using Embedded Linux Systems

Insop Song, Gainspeed

[PDF](http://eLinux.org/images/f/f9/Introduction_to_IEEE_1588_Precision_Time_Protocol_%28PTP%29_Using_Embedded_Linux_Systems.pdf "Introduction to IEEE 1588 Precision Time Protocol (PTP) Using Embedded Linux Systems.pdf")

[YouTube](http://www.youtube.com/watch?v=pNiOlRi8jK4)

Poky meets Debian: Understanding How to Make an Embedded Linux by Using an Existing Distribution's Source Code

Yoshitake Kobayashi, Toshiba

[PDF](http://eLinux.org/images/1/1b/Poky_meets_Debian_Understanding_How_to_Make_an_Embedded_Linux_by_Using_an_Existing_Distribution%27s_Source_Code.pdf "Poky meets Debian Understanding How to Make an Embedded Linux by Using an Existing Distribution's Source Code.pdf")

[YouTube](http://www.youtube.com/watch?v=XpKbWpi0FTE)

Ready-Made Recipes to Add Security and Data

Dominig ar Foll, Intel

[PDF](http://eLinux.org/images/6/62/Ready-Made_Recipes_to_Add_Security_and_Data.pdf "Ready-Made Recipes to Add Security and Data.pdf")

[YouTube](http://www.youtube.com/watch?v=hRcnrWPYnsE)

Day 1, 5:20pm

Memory Management Internals

Karim Yaghmour, Opersys

[PDF](http://eLinux.org/index.php?title=Special:Upload&wpDestFile=Memory_Management_Internals.pdf "Memory Management Internals.pdf")

[YouTube](http://www.youtube.com/watch?v=0BLLt_U5pus)

Android Multilib Build Cheat Sheet

Amit Pundir, Linaro

[PDF](http://eLinux.org/index.php?title=Special:Upload&wpDestFile=Android_Multilib_Build_Cheat_Sheet.pdf "Android Multilib Build Cheat Sheet.pdf")

[YouTube](http://www.youtube.com/watch?v=LppgEQzvORk)

Teaching More Fish to Fly

John Hawley, Intel

[PDF](http://eLinux.org/index.php?title=Special:Upload&wpDestFile=Teaching_More_Fish_to_Fly.pdf "Teaching More Fish to Fly.pdf")

[YouTube](http://www.youtube.com/watch?v=4KrJ6EL2qlE)

Automated Flashing and Testing for Continuous Integration

Igor Stoppa, Intel

[PDF](http://eLinux.org/images/7/7b/Automated_Flashing_and_Testing_for_Continuous_Integration.pdf "Automated Flashing and Testing for Continuous Integration.pdf")

[YouTube](http://www.youtube.com/watch?v=D2c92N98dpk)

Tizen: System-Wide Memory Defragmenter Without Killing Any Application

Pintu Kumar, Samsung

[PDF](http://eLinux.org/images/0/06/Tizen-_System-Wide_Memory_Defragmenter_Without_Killing_Any_Application.pdf "Tizen- System-Wide Memory Defragmenter Without Killing Any Application.pdf")

[YouTube](http://www.youtube.com/watch?v=-DNsXjL_i80)

Getting Started with AllJoyn

Ivan R. Judson, Microsoft

[PDF](http://eLinux.org/index.php?title=Special:Upload&wpDestFile=Getting_Started_with_AllJoyn.pdf "Getting Started with AllJoyn.pdf")

[YouTube](http://www.youtube.com/watch?v=zyEEcDPAcT0)

### Day 2 Presentations

**Session Description**

**Presenter(s)**

**Presentation**

**Transcript Status**

**Video**

Day 2, 9:00am

Android Verified Boot

Andrew Boie, Intel

[PDF](http://eLinux.org/index.php?title=Special:Upload&wpDestFile=Android_Verified_Boot.pdf "Android Verified Boot.pdf")

[YouTube](http://www.youtube.com/watch?v=OfWFmhucWlg)

Heterogeneous Multi-Core Architecture Support for Dronecode

Mark Charlebois, Qualcomm Innovation Center (QuIC)

[PDF](http://eLinux.org/images/4/48/Heterogeneous_Multi-Core_Architecture_Support_for_Dronecode.pdf "Heterogeneous Multi-Core Architecture Support for Dronecode.pdf")

[YouTube](http://www.youtube.com/watch?v=ggNTjAhjnJk)

Understanding Embedded Linux Benchmarking Using Kernel Trace Analysis

Alexis Martin, Inria

[PDF](http://eLinux.org/images/d/df/Understanding_Embedded_Linux_Benchmarking_Using_Kernel_Trace_Analysis.pdf "Understanding Embedded Linux Benchmarking Using Kernel Trace Analysis.pdf")

[YouTube](http://www.youtube.com/watch?v=x6OzUUD8FF8)

A Scalable, Cloud-based Device Reprogramming Architecture

James Simister, Panasonic

[PDF](http://eLinux.org/images/c/c7/A_Scalable%2C_Cloud-based_Device_Reprogramming_Architecture.pdf "A Scalable, Cloud-based Device Reprogramming Architecture.pdf")

[YouTube](http://www.youtube.com/watch?v=cSUTbPtHCAA)

Customizing AOSP for my Device

Rafael Coutinho, Phi Innovations

[PDF](http://eLinux.org/images/2/29/Customizing_AOSP_for_my_Device.pdf "Customizing AOSP for my Device.pdf")

[YouTube](http://www.youtube.com/watch?v=yUOzBvtXEgE)

Building Multi-Processor FPGA Subsystems – Allowing Linux to Supervise Embedded Real-Time Processing Systems

Chris Martin, Altera

[PDF](http://eLinux.org/images/c/c9/Building_Multi-Processor_FPGA_Subsystems.pdf "Building Multi-Processor FPGA Subsystems.pdf")

[YouTube](http://www.youtube.com/watch?v=2zj9IVcLocw)

Day 2, 10:00am

Implementing Controls with Bluetooth SMART in Android

Michael E. Anderson, The PTR Group

[PDF](http://eLinux.org/index.php?title=Special:Upload&wpDestFile=Implementing_Controls_with_Bluetooth_SMART_in_Android.pdf "Implementing Controls with Bluetooth SMART in Android.pdf")

[YouTube](http://www.youtube.com/watch?v=lZYh9FuPqPQ)

Open Source Drones on Linux

Lorenz Meier MLC/TLC

[PDF](http://eLinux.org/index.php?title=Special:Upload&wpDestFile=Open_Source_Drones_on_Linux.pdf "Open Source Drones on Linux.pdf")

[YouTube](http://www.youtube.com/watch?v=Ov65AbtIT8I)

NAND Support: (New?) Challenges for the MTD/NAND Subsystem

Boris Brezillon, Free Electrons

[PDF](http://eLinux.org/images/7/70/NAND_Subsystem.pdf "NAND Subsystem.pdf")

[YouTube](http://www.youtube.com/watch?v=I_q1PvdKq28)

Building IoT systems with openHAB

Matt Porter, Konsulko

[PDF](http://eLinux.org/images/0/0a/Building_IoT_systems_with_openHAB.pdf "Building IoT systems with openHAB.pdf")

[YouTube](http://www.youtube.com/watch?v=OP1J19-UFTA)

Day 2, 11:20am

Room For Cooperation: Bionic and musl

Bernhard Rosenkränzer, Linaro

[PDF](http://eLinux.org/index.php?title=Special:Upload&wpDestFile=Room_For_Cooperation:_Bionic_and_musl.pdf "Room For Cooperation: Bionic and musl.pdf")

[YouTube](http://www.youtube.com/watch?v=hAw7TkmSxNc)

Aster: A Remote GUI Control Tool for the Android Platform

Yongqin Liu, Linaro

[PDF](http://eLinux.org/index.php?title=Special:Upload&wpDestFile=Aster:_A_Remote_GUI_Control_Tool_for_the_Android_Platform.pdf "Aster: A Remote GUI Control Tool for the Android Platform.pdf")

[YouTube](http://www.youtube.com/watch?v=wsiu3v37Ccg)

Application of Data Fusion to Aerial Robotics

Paul Riseborough, 3DRobotics

[PDF](http://eLinux.org/images/1/11/Application_of_Data_Fusion_to_Aerial_Robotics.pdf "Application of Data Fusion to Aerial Robotics.pdf")

[YouTube](http://www.youtube.com/watch?v=Z3Qpi1Rx6HM)

Embedded Distributed Systems: A Case of Study

Victor Rodriguez, Intel

[PDF](http://eLinux.org/images/8/88/Embedded_Distributed_Systems-_A_Case_of_Study.pdf "Embedded Distributed Systems- A Case of Study.pdf")

[YouTube](http://www.youtube.com/watch?v=9hkjxLBE8ws)

Transitioning From uclibc to musl for Embedded Development

Rich Felker, Openwall

[PDF](http://eLinux.org/index.php?title=Special:Upload&wpDestFile=Transitioning_From_uclibc_to_musl_for_Embedded_Development.pdf "Transitioning From uclibc to musl for Embedded Development.pdf")

[YouTube](http://www.youtube.com/watch?v=JbhYSGSYkpQ)

Security Architecture in the IOT Age

Stephen Arnold, VCT Labs

[PDF](http://eLinux.org/images/3/3a/Security_Architecture_in_the_IOT_Age.pdf "Security Architecture in the IOT Age.pdf")

[YouTube](http://www.youtube.com/watch?v=rL29u7_kjZI)

Day 2, 1:40pm

Dronecode Project and Autopilot With Linux

Andrew Tridgell, Technical Steering Committee Chair of Dronecode Project

[`uav.tridgell.net/ELC_2015/`](http://uav.tridgell.net/ELC_2015/)

[YouTube](http://www.youtube.com/watch?v=mFyeFDzbJR4)

Day 2, 2:10pm

IoT Panel

Dominig Ar Foll, Intel (Tizen); Greg Burns, AllSeen Alliance; Bryant Eastham, Panasonic; Guy Martin, Samsung; Tim Bird, Sony Mobile (Moderator)

[YouTube](http://www.youtube.com/watch?v=UatneM3p4XE)

Day 2, 3:25pm

Platform-Level UI Customization

Karim Yaghmour, Opersys

[PDF](http://eLinux.org/index.php?title=Special:Upload&wpDestFile=Platform-Level_UI_Customization.pdf "Platform-Level UI Customization.pdf")

[YouTube](http://www.youtube.com/watch?v=icHT3t0P3lw)

Upstreaming, Downstreaming, 'Sidestreaming': How Can Android-Based Projects Work Together?

Bernhard Rosenkränzer, Linaro

[PDF](http://eLinux.org/index.php?title=Special:Upload&wpDestFile=Upstreaming,_Downstreaming,_%27Sidestreaming%27:_How_Can_Android-Based_Projects_Work_Together%3F.pdf "Upstreaming, Downstreaming, 'Sidestreaming': How Can Android-Based Projects Work Together?.pdf")

[YouTube](http://www.youtube.com/watch?v=Za2x4_oKbRE)

The Syria Airlift Project: Open-Sourcing Humanitarian Airlift

Mark Jacobsen, U.S. Air Force

[PDF](http://eLinux.org/images/d/d3/The_Syria_Airlift_Project-_Open-Sourcing_Humanitarian_Airlift.pdf "The Syria Airlift Project- Open-Sourcing Humanitarian Airlift.pdf")

[YouTube](http://www.youtube.com/watch?v=mPg5_ZWYjXQ)

Last One Out, Turn Off The Lights

Geert Uytterhoeven, Glider bvba

[PDF](http://eLinux.org/images/1/14/Last_One_Out%2C_Turn_Off_The_Lights.pdf "Last One Out, Turn Off The Lights.pdf")

[YouTube](http://www.youtube.com/watch?v=DZYp1mnXk3s)

Generic PHY Framework

Kishon Vijay Abraham, Texas Instruments

[PDF](http://eLinux.org/images/b/bb/Generic_PHY_Framework.pdf "Generic PHY Framework.pdf")

[YouTube](http://www.youtube.com/watch?v=RYdKIwOQE3M)

Linux for Microcontrollers: From Marginal to Mainstream

Vitaly Wool, Softprise Consulting OU

[PDF](http://eLinux.org/images/9/90/Linux_for_Microcontrollers-_From_Marginal_to_Mainstream.pdf "Linux for Microcontrollers- From Marginal to Mainstream.pdf")

[YouTube](http://www.youtube.com/watch?v=-vSZHVXp5Cw)

Day 2, 4:25pm

Android Customization: From the Kernel to the Apps

Cédric Cabessa, Genymobile

[PDF](http://eLinux.org/index.php?title=Special:Upload&wpDestFile=Android_Customization:_From_the_Kernel_to_the_Apps.pdf "Android Customization: From the Kernel to the Apps.pdf")

[YouTube](http://www.youtube.com/watch?v=o64puvBxgYM)

Embedded Linux moves into High School Robotics

Michael E. Anderson, The PTR Group

[PDF](http://eLinux.org/images/3/31/Embedded_Linux_moves_into_High_School_Robotics.pdf "Embedded Linux moves into High School Robotics.pdf")

[YouTube](http://www.youtube.com/watch?v=MoVYPdDrz4o)

Freedreno Status Report: Upstream and FOSS Graphics on ARM/SoC Devices

Rob Clark, Red Hat

[PDF](http://eLinux.org/index.php?title=Special:Upload&wpDestFile=Freedreno_Status_Report:_Upstream_and_FOSS_Graphics_on_ARM/SoC_Devices.pdf "Freedreno Status Report: Upstream and FOSS Graphics on ARM/SoC Devices.pdf")

[YouTube](http://www.youtube.com/watch?v=ruHJnfeZlgs)

Creating Open Hardware Tools

David Anders, Intel

[PDF](http://eLinux.org/images/9/9e/Elc2015-opentools.pdf "Elc2015-opentools.pdf")

[YouTube](http://www.youtube.com/watch?v=SC-tehOlZlQ)

Sigrok: Adventures in Integrating a Power-Measurement Device

Bartosz Golaszewski, BayLibre

[PDF](http://eLinux.org/images/7/76/Sigrok-_Adventures_in_Integrating_a_Power-Measurement_Device.pdf "Sigrok- Adventures in Integrating a Power-Measurement Device.pdf")

Building a General Purpose Android Workstation

Ron Munitz

[PDF](http://eLinux.org/images/c/c3/Building_a_General_Purpose_Android_Workstation.pdf "Building a General Purpose Android Workstation.pdf")

[YouTube](http://www.youtube.com/watch?v=qPbDPm9Rn0s)

Day 2, 5:25pm

Creating Platform Development Tools

François-Denis Gonthier, Opersys

[PDF](http://eLinux.org/index.php?title=Special:Upload&wpDestFile=Creating_Platform_Development_Tools.pdf "Creating Platform Development Tools.pdf")

[YouTube](http://www.youtube.com/watch?v=vArbL8U0tV4)

DroneAPI: A Tutorial on Drone Control

Kevin Hester, 3DRobotics

[PDF](http://eLinux.org/images/6/69/DroneAPI-_A_Tutorial_on_Drone_Control.pdf "DroneAPI- A Tutorial on Drone Control.pdf")

[YouTube](http://www.youtube.com/watch?v=C3kk4XMpFjs)

Regulators: Learning To Play With Others

Mark Brown, Linaro

[PDF](http://eLinux.org/index.php?title=Special:Upload&wpDestFile=Regulators:_Learning_To_Play_With_Others.pdf "Regulators: Learning To Play With Others.pdf")

[YouTube](http://www.youtube.com/watch?v=6rgQnqUmhDE)

Open Lighting Architecture: Blinky Lights!

Matt Ranostay, Intel

[PDF](http://eLinux.org/images/a/a6/Open_Lighting_Architecture-_Blinky_Lights%21.pdf "Open Lighting Architecture- Blinky Lights!.pdf")

[YouTube](http://www.youtube.com/watch?v=eHDp-wdXIfo)

Real Time Linux Scheduling Performance Comparison

Vince Bridgers, Altera

[PDF](http://eLinux.org/images/d/de/Real_Time_Linux_Scheduling_Performance_Comparison.pdf "Real Time Linux Scheduling Performance Comparison.pdf")

[YouTube](http://www.youtube.com/watch?v=0C0fAbSwJXg)

Day 2, 6:40pm

BoFs: Applying Linux to the Social Infrastructure Systems

Noriaki Fukuyasu, Linux Foundation

[PDF](http://eLinux.org/images/f/f0/Applying_Linux_to_the_Social_Infrastructure_Systems.pdf "Applying Linux to the Social Infrastructure Systems.pdf")

BoFs: Cryptography and Randomness

Jesse Zbikowski

[PDF](http://eLinux.org/index.php?title=Special:Upload&wpDestFile=Cryptography_and_Randomness.pdf "Cryptography and Randomness.pdf")

BoFs: Dronecode Project

Andrew Tridgell & Lorenz Meier

[PDF](http://eLinux.org/index.php?title=Special:Upload&wpDestFile=Dronecode_Project.pdf "Dronecode Project.pdf")

BoFs: Kernel Wish List

John Stultz

[PDF](http://eLinux.org/index.php?title=Special:Upload&wpDestFile=Kernel_Wish_List.pdf "Kernel Wish List.pdf")

BoFs: MinnowBoard - John Hawley, Intel BoFs: Yocto Project / OpenEmbedded

Jeff Osier-Mixon

[PDF](http://eLinux.org/index.php?title=Special:Upload&wpDestFile=Minnowboard.pdf "Minnowboard.pdf")

BoFs: Kernel Testing for Upstream with kernelci.org

Kevin Hilman, Linaro

[PDF](http://eLinux.org/images/f/ff/Kernelci.pdf "Kernelci.pdf")

### Day 3 Presentations

**Session Description**

**Presenter(s)**

**Presentation**

**Transcript Status**

**Video**

Day 3, 9:00am

Android Based Penetration Testing Framework

Ron Munitz

[PDF](http://eLinux.org/images/5/51/Android_Based_Penetration_Testing_Framework.pdf "Android Based Penetration Testing Framework.pdf")

Filesystem Considerations for Embedded Devices

Tristan Lelong, Adeneo

[PDF](http://eLinux.org/images/0/02/Filesystem_Considerations_for_Embedded_Devices.pdf "Filesystem Considerations for Embedded Devices.pdf")

[YouTube](http://www.youtube.com/watch?v=SdX8lETKWN8)

Embedded Digital TV Kernel Pipelines via Media Controller API

Mauro Carvalho Chehab,

[PDF](http://eLinux.org/images/2/2a/Embedded_Digital_TV_Kernel_Pipelines_via_Media_Controller_API.pdf "Embedded Digital TV Kernel Pipelines via Media Controller API.pdf")

[YouTube](http://www.youtube.com/watch?v=1SHxkSif_n4)

Introduction to Kernel Power Management

Kevin Hilman, Linaro

[SVG](http://eLinux.org/images/d/dd/Intro_Kernel_PM.svg "Intro Kernel PM.svg")

[YouTube](http://www.youtube.com/watch?v=Um0oRanCtzY)

Transactional Device Tree & Overlays: Making Reconfigurable Hardware Work

Pantelis Antoniou, Konsulko Group

[PDF](http://eLinux.org/images/1/19/Dynamic-dt-keynote-v3.pdf "Dynamic-dt-keynote-v3.pdf")

[YouTube](http://www.youtube.com/watch?v=3Ag7ZBC_Nts)

Embedded Android Workshop

Karim Yaghmour, Opersys

[PDF](http://eLinux.org/index.php?title=Special:Upload&wpDestFile=Embedded_Android_Workshop.pdf "Embedded Android Workshop.pdf")

[YouTube](http://www.youtube.com/watch?v=dEKYZUgorWQ)

Day 3, 10:00am

Maintaining Multiple Android Linux Kernels at Intel

Mark Gross, Intel

[PDF](http://eLinux.org/index.php?title=Special:Upload&wpDestFile=Maintaining_Multiple_Android_Linux_Kernels_at_Intel.pdf "Maintaining Multiple Android Linux Kernels at Intel.pdf")

[YouTube](http://www.youtube.com/watch?v=dEKYZUgorWQ)

Creating Eco-System for R-Car LCB

Hisao Munakata, Renesas

[PDF](http://eLinux.org/images/9/98/Creating_Eco-System_for_R-Car_LCB.pdf "Creating Eco-System for R-Car LCB.pdf")

[YouTube](http://www.youtube.com/watch?v=pDOkV_FP0Dc)

Maintaining a Large Kernel Subsystem

Arnd Bergmann

[PDF](http://eLinux.org/images/f/f7/Maintaining_a_Large_Kernel_Subsystem.pdf "Maintaining a Large Kernel Subsystem.pdf")

[YouTube](http://www.youtube.com/watch?v=msT1O8P6KXQ)

Status Report for IEEE 802.15.4 and 6LoWPAN in Linux

Stefan Schmidt, Samsung

[PDF](http://eLinux.org/images/c/c5/Status_Report_for_IEEE_802.15.4_and_6LoWPAN_in_Linux.pdf "Status Report for IEEE 802.15.4 and 6LoWPAN in Linux.pdf")

[YouTube](http://www.youtube.com/watch?v=KdJPoTC730g)

What's New with Toybox

Rob Landley

[TXT](http://landley.net/talks/celf-2015.txt)

[YouTube](http://www.youtube.com/watch?v=04XwAbtPmAg)

Day 3, 11:20am

Android and Modern Toolchains: gcc 5.0, clang 3.6 and binutils 2.25

Bernhard Rosenkränzer, Linaro

[PDF](http://eLinux.org/index.php?title=Special:Upload&wpDestFile=Android_and_Modern_Toolchains:_gcc_5.0,_clang_3.6_and_binutils_2.25.pdf "Android and Modern Toolchains: gcc 5.0, clang 3.6 and binutils 2.25.pdf")

Embedded Android Workshop (Cont.)

Karim Yaghmour, Opersys

[PDF](http://eLinux.org/index.php?title=Special:Upload&wpDestFile=Embedded_Android_Workshop.pdf "Embedded Android Workshop.pdf")

[YouTube](http://www.youtube.com/watch?v=TBNz2LN_58s)

Linux in the Connected Car Platform

Daniel Jackson, Dialexa

[PDF](http://eLinux.org/images/e/e7/ELC-2015-03-25-Matt-Jones-Embedding_Openness_in_the_Connected_Car.pdf "ELC-2015-03-25-Matt-Jones-Embedding Openness in the Connected Car.pdf")

[YouTube](http://www.youtube.com/watch?v=X1aLNJ3ZT8o)

Getting Started with Embedded Linux: Using the Yocto Project to Build your Own Custom Embedded Linux Distribution

Rudolf (Rudi) Streif

[PDF](http://eLinux.org/index.php?title=Special:Upload&wpDestFile=Getting_Started_with_Embedded_Linux:_Using_the_Yocto_Project_to_Build_your_Own_Custom_Embedded_Linux_Distribution.pdf "Getting Started with Embedded Linux: Using the Yocto Project to Build your Own Custom Embedded Linux Distribution.pdf")

[YouTube](http://www.youtube.com/watch?v=cy-eyYMbEhM)

Linux Kernel Selftest Framework - Quality Control for New Releases

Shuah Khan, Samsung

[PDF](http://eLinux.org/images/6/61/Linux_Kernel_Selftest_Framework_-_Quality_Control_for_New_Releases.pdf "Linux Kernel Selftest Framework - Quality Control for New Releases.pdf")

[YouTube](http://www.youtube.com/watch?v=-h1_DvsOq3s)

Overcoming Obstacles to Contributing to Linux

Tim Bird, Sony Mobile

[PDF](http://eLinux.org/images/3/36/Overcoming_Obstacles_to_Contributing_to_Linux.pdf "Overcoming Obstacles to Contributing to Linux.pdf")

[YouTube](http://www.youtube.com/watch?v=PiMstjZZ7YU)

Day 3, 1:40pm

Doing big.LITTLE right: little and Big Obstacles

Vitaly Wool & Vlad Rezki, Softprise Consulting OU

[PDF](http://eLinux.org/index.php?title=Special:Upload&wpDestFile=Doing_big.LITTLE_right:_little_and_Big_Obstacles.pdf "Doing big.LITTLE right: little and Big Obstacles.pdf")

[YouTube](http://www.youtube.com/watch?v=v2l1eWoNCVI)

Getting Started with Embedded Linux: Using the Yocto Project to Build your Own Custom Embedded Linux Distribution (Cont.)

Rudolf (Rudi) Streif

[PDF](http://eLinux.org/index.php?title=Special:Upload&wpDestFile=Getting_Started_with_Embedded_Linux:_Using_the_Yocto_Project_to_Build_your_Own_Custom_Embedded_Linux_Distribution.pdf "Getting Started with Embedded Linux: Using the Yocto Project to Build your Own Custom Embedded Linux Distribution.pdf")

Improving the Embedded Linux Development Workflow

Paul Eggleton, Intel

[PDF](http://eLinux.org/index.php?title=Special:Upload&wpDestFile=Improving_the_Embedded_Linux_Development_Workflow.pdf "Improving the Embedded Linux Development Workflow.pdf")

[YouTube](http://www.youtube.com/watch?v=m73dlcl8MPM)

Testing Video4Linux Applications and Drivers

Hans Verkuil

[PDF](http://eLinux.org/images/0/0a/Testing_Video4Linux_Applications_and_Drivers.pdf "Testing Video4Linux Applications and Drivers.pdf")

[YouTube](http://www.youtube.com/watch?v=JGGjxB1zees)

Embedded Android Workshop (Cont.)

Karim Yaghmour, Opersys

[PDF](http://eLinux.org/index.php?title=Special:Upload&wpDestFile=Embedded_Android_Workshop.pdf "Embedded Android Workshop.pdf")

[YouTube](http://www.youtube.com/watch?v=qaI2upEFuoc)

Shrinking C Code

Rob Landley

Rob said to point people here for content: [TXT](http://landley.net/toybox/cleanup.html#ifconfig)

[YouTube](http://www.youtube.com/watch?v=iI7vlTXJbiI)

Day 3, 2:40pm

Fixing the y2038 Bug

Arnd Bergmann, Linaro

[PDF](http://eLinux.org/images/6/6e/End_of_Time_--_Embedded_Linux_Conference_2015.pdf "End of Time -- Embedded Linux Conference 2015.pdf")

Enhancing Real-Time Capabilities with the PRU

Rob Birkett, Texas Instruments

[PDF](http://eLinux.org/images/2/26/Enhancing_Real-Time_Capabilities_with_the_PRU.pdf "Enhancing Real-Time Capabilities with the PRU.pdf")

[YouTube](http://www.youtube.com/watch?v=plCYsbmMbmY)

Fastboot Tools and Techniques

John Mehaffey, Mentor Graphics

[PDF](http://eLinux.org/index.php?title=Special:Upload&wpDestFile=Fastboot_Tools_and_Techniques.pdf "Fastboot Tools and Techniques.pdf")

[YouTube](http://www.youtube.com/watch?v=f7ZbV1Esq4Y)

The Ephemeral Smoking Gun: Using ftrace and kgdb to Resolve a pthread 'deadlock'

Brad Mouring, National Instruments

[PDF](http://eLinux.org/images/d/d2/The_Ephemeral_Smoking_Gun-_Using_ftrace_and_kgdb_to_Resolve_a_pthread_%27deadlock%27.pdf "The Ephemeral Smoking Gun- Using ftrace and kgdb to Resolve a pthread 'deadlock'.pdf")

[YouTube](http://www.youtube.com/watch?v=ml-uI3hbujI)

Day 3, 4:00pm

Embedding Openness in the Connected Car

Matt Jones, Senior Infotainment Specialist at Jaguar Land Rover

[PDF](http://eLinux.org/images/e/e7/ELC-2015-03-25-Matt-Jones-Embedding_Openness_in_the_Connected_Car.pdf "ELC-2015-03-25-Matt-Jones-Embedding Openness in the Connected Car.pdf")

[YouTube](http://www.youtube.com/watch?v=yzcaYOUHRtA)

Day 3, 4:30pm

Community Involvement: Looking Forward and Looking Back

Deepak Saxena, Noted Linux Kernel Developer

[PDF](http://eLinux.org/index.php?title=Special:Upload&wpDestFile=Community_Involvement:_Looking_Forward_and_Looking_Back.pdf "Community Involvement: Looking Forward and Looking Back.pdf")

## Technical Showcase Posters

| **Poster Title** | **Presenter** | **Poster** |
| 96Boards HiKey | Linaro | [PDF](http://elinux.org/images/b/bd/14_Sargunam.pdf "14 Sargunam.pdf") |
| Embedded Linux build system - Buildroot | Thomas Petazzoni | [PDF](http://elinux.org/images/1/11/ELC2015-Buildroot-Poster.pdf "ELC2015-Buildroot-Poster.pdf") |
| FIRST Robotics Competition | FRC Team 2643 - Dark Matter | [PDF](http://elinux.org/images/1/11/05_Phadte.pdf "05 Phadte.pdf") |
| FIRST Robotics Linux-based Controller | Mike Anderson / The PTR Group, Inc. | [PDF](http://elinux.org/images/c/c3/11_Anderson.pdf "11 Anderson.pdf") |
| Fluent Bit: Data Collector for Embedded Linux | Eduardo Silva, Treasure Data | [PDF](http://elinux.org/images/8/8e/08_Silva.pdf "08 Silva.pdf") |
| Freedreno - Open Source ARM Graphics | Rob Clark | [PDF](http://elinux.org/images/c/c1/07_Clark--edit_150317.pdf "07 Clark--edit 150317.pdf") |
| OpenDOF Project "One Page" IoT | Bryant Eastham, Panasonic | [PDF](http://elinux.org/images/2/29/09_Eastham.pdf "09 Eastham.pdf") |
| Power measurement with sigrok & ACME | Bartosz Golaszewski, Patrick Titiano / BayLibre, Ingenios | [PDF](http://elinux.org/images/a/ad/06_Golaszewski.pdf "06 Golaszewski.pdf") |
| Scalable, Cloud-Based Device Reprogramming | James Simister - Panasonic | [PDF](http://elinux.org/images/8/8e/10_Simister.pdf "10 Simister.pdf") |
| Sony Mobile phone debug board | Werner Johansson | [PDF](http://elinux.org/images/4/47/04_Johansson.pdf "04 Johansson.pdf") |
| The Syria Airlift Project Open-Sourcing Humanitarian Airlift | Mark Jacobsen, Jessie Mooberry | [PDF](http://elinux.org/images/c/c7/15_Jacobsen-Mooberry_v2.pdf "15 Jacobsen-Mooberry v2.pdf") |
| Toaster - A web interface to the Yocto Project | Paul Eggleton, David Reyna, Jeffrey Osier-Mixon - Yocto Project | [PDF](http://elinux.org/images/1/17/03_Belen.pdf "03 Belen.pdf") |
| USRP E310 - Embedded Software Defined Radio | Philip Balister, Moritz Fischer, Jonathon Pendlum | [PDF](http://elinux.org/images/5/53/02_Pendlum.pdf "02 Pendlum.pdf") |
| VR Spark - Drone Code Edition | Roberto Navoni | [PDF](http://elinux.org/images/f/fe/12_Navoni.pdf "12 Navoni.pdf") |

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [2015](http://eLinux.org/Category:2015 "Category:2015")
*   [ELC](http://eLinux.org/Category:ELC "Category:ELC")

# ELCE 2010 Technical Showcase

> From: [eLinux.org](http://eLinux.org/ELCE_2010_Technical_Showcase "http://eLinux.org/ELCE_2010_Technical_Showcase")

# ELCE 2010 Technical Showcase

![Embedded Linux Conference 2006 Technical
Showcase](http://eLinux.org/File:Elc2006-showcase1.jpg "Embedded Linux Conference 2006 Technical Showcase")

## Contents

*   1 Embedded Linux Conference Europe 2010 Technical Showcase
    *   1.1 Details
    *   1.2 Objective
    *   1.3 Criteria
    *   1.4 Coordinator
*   2 What will be prepared by CE Linux Forum
    *   2.1 Dimension of the desk
    *   2.2 Poster
    *   2.3 Some tips
*   3 How to apply
*   4 FAQ

# Embedded Linux Conference Europe 2010 Technical Showcase

We are happy to be planning a technical showcase again this year at Embedded Linux Conference Europe. This Wiki page will guide you in giving your demonstration. For conference details, please follow this link to the conference website:

*   [`embeddedlinuxconference.com/elc_europe10`](http://embeddedlinuxconference.com/elc_europe10)

![Embedded Linux Conference 2006 Technical
Showcase](http://eLinux.org/File:Elc2006-showcase2.jpg "Embedded Linux Conference 2006 Technical Showcase") ![Embedded Linux Conference 2006 Technical
Showcase](http://eLinux.org/File:Elc2006-showcase3.jpg "Embedded Linux Conference 2006 Technical Showcase")

## Details

The demo session will be on Thursday, October 28th, between 12:35 and 14:30 in room Darwin. See [[the agenda](http://www.embeddedlinuxconference.com/elc_europe10/program.html)].

The demo room will be available starting at ***8:00 pm*** for demo setup.

## Objective

"Seeing is believing!" Unlike in Desktop or Server applications of Linux, in embedded systems Linux technology is usually unseen. Although it is a challenge, we want to expose Linux software and techniques so that other developers who are interested in this technology can learn, and become potential contributors themselves. We hope that through opening up technical details and projects (in the way of Open Source development), these demonstrations will provide insights that are helpful to developers.

## Criteria

*   No *purely* commercial demonstrations.
*   The Embedded Linux Conference Europe should not be used for a pure sales pitch.
*   You can show off a product, if there are features or aspects of the product you are displaying that are open source.
*   Demonstrations should be of software that is available under GPL or LGPL compatible licenses.

## Coordinator

Michael Opdenacker - Free Electrons

*   e-Mail : Michael(a)free-electrons (dot) com
*   Please replace (a) to "@" and (dot) to "."

# What will be prepared by CE Linux Forum

CE Linux Forum will provide the following **FREE OF CHARGE** :

*   A Demonstration desk, which is half of a table If you need special arrangements, please contact the coordinator.

![Desk sample from ELC
2006](http://eLinux.org/File:Elc2006-showcase-desksample.jpg "Desk sample from ELC 2006")

*   Power supply TBD: UK and or EU standard
*   Assuming the power is less than 750W. If your demonstration will exceed that, please consult the coordinator.
*   A large-format printed poster, based on the file you submit.
*   Please note that a dedicated (wired) Internet connection will **NOT** be prepared. However, wireless Internet may be available via the hotel wireless network. We cannot, however, guarantee Internet access.
*   Logistics Support
*   Details will be given to the demonstrators

## Dimension of the desk

*   Please refer to the attached photo.

## Poster

All demonstrators are requested to prepare a poster to explain the technical outline of the demonstration. You can download the template from this page. CELF will print them out on large size paper. The document should be sent to the coordinator by October 11th.

*   [ELCE2010_PosterForm.odp](http://eLinux.org/images/e/e0/ELCE2010_PosterForm.odp "ELCE2010 PosterForm.odp")
*   [ELCE2010_PosterForm.ppt](http://eLinux.org/images/8/8c/ELCE2010_PosterForm.ppt "ELCE2010 PosterForm.ppt")

**Caution**: Do not change the paper size. It is intentionally set to a big size.

## Some tips

The demo consists of a poster (printed by CELF), with a few sentences talking about a tool, technology or distribution and a table top where you can place anything from:

1.  nothing at all, just have a person sitting there to talk to people about what's on the poster, or ...
2.  something on a laptop - like a program running or a even a static chart showing some result
3.  something running on a board or a device
4.  something on an actual CE product

You can also put some flyers there for people to grab, if you'd like.

If you can put charts and graphs on the poster, that's nice but it is NOT required. Neither the poster nor the hardware (if any) needs to be elaborate or require lots of setup. One year I showed up with a camcorder and just talked to people about it's bootup time (which I had worked on).

If you are a presenter, the demo session is a good chance to talk to people one-on-one about your session topic. This gives you more time for interactive Q&A, and a chance to show something hands-on, if that applies to your subject.

# How to apply

1.  Send an e-mail to the coordinator with the following information:

    1.  The contact person, the company name or the project name, the outline of the demonstration.
    2.  The coordinator will acknowledge your application by e-mail.
2.  Prepare the poster and send the data to CELF Office and the demonstration coordinator by **October 11th**. It will be printed out by the conference organizers on big size paper.

    1.  Prepare the demonstration equipment
    2.  You can bring the equipment yourself, or ship it.
    3.  If you do not have a consignee which will be convenient for you, send them to the following address: *Address not available yet*

# FAQ

*   **Q**: Is this opportunity limited to CELF members?
*   **A**: No. You do not have to be a forum member to have a demo at the conference. However, each demo should be associated with a paid conference attendee.
*   **Q**: Is the demonstrator required to make a presentation at the conference?
*   **A**: No, this is not required. However, we believe there will be many people who will to be interested in details of the technology, so we hope that you can have a session. Please note that the due date for a session proposal is earlier than the due date for demo sign-up.
*   **Q**: Should I assign some dedicated staff to carry on the demonstration?
*   **A**: No, this is not necessary. There will be a dedicated time slot for the demos that will be separate from the other technical sessions. So there should be no conflict between the demo session and the other technical sessions.
*   **Q**: Is there any fee to demo something in this session?
*   **A**: No, it is completely free. However, the session is limited to conference attendees, so please register for the conference if you would not otherwise do so. If you have someone coming who will ONLY run or assist with your demo, and not attend any sessions, then that person may be admitted for free, for just the demo session (and setup and take down). However, each demo should be associated with at least one registered attendee.

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [ELCE](http://eLinux.org/Category:ELCE "Category:ELCE")

# ELCE 2011 Presentations

> From: [eLinux.org](http://eLinux.org/ELCE_2011_Presentations "http://eLinux.org/ELCE_2011_Presentations")

# ELCE 2011 Presentations redirect

(Redirected from [ELCE 2011 Presentations](http://eLinux.org/index.php?title=ELCE_2011_Presentations&redirect=no "ELCE 2011 Presentations"))

Presenters, Demo-ers, Participants: Thanks very much for your participation in Linux Foundation's [Embedded Linux Conference Europe 2011](http://events.linuxfoundation.org/events/embedded-linux-conference-europe).

This page is for collecting the presentations that were made at the conference. During and after the conference we will collect materials from the presenters and place them here. Please watch this page if you are interested in a particular presentation - and if it doesn't show up, please [send me and email](http://eLinux.org/Special:EmailUser/Wmat "Special:EmailUser/Wmat") and we'll try to track it down.

## Contents

*   1 Videos
*   2 Instructions
*   3 Table of Presentations
    *   3.1 Keynotes
    *   3.2 Presenters
    *   3.3 Workshops
    *   3.4 Instructions for Presenters

## Videos

Once again, through the diligent work of the [Free Electrons](http://free-electrons.com/) team, all videos for ELCE2011 can be found at [ELCE2011 Videos](http://free-electrons.com/blog/elce-2011-videos/).

## Instructions

**Presenters:** Please post your technical conference presentations on this page. (See Instructions below the tables)

# Table of Presentations

NOTE: If you add a wikilink to your presentation and attempt to upload it via the link, it may fail. If it does, use the [Special:Upload](http://eLinux.org/Special:Upload "Special:Upload") page to upload your file.

## Keynotes

**Keynotes**

| **Presenter(s)** | **Session Description** | **Presentation** |
| Jim Zemlin, Executive Director of The Linux Foundation | [Imagine a World Without Linux](http://elinux.org/Session:Imagine_a_World_Without_Linux "Session:Imagine a World Without Linux") |  |
| Linus Torvalds, Alan Cox, Thomas Gleixner, Paul McKenney | Kernel Developer Panel | No presentation. |
| Antti Aumo, President of Global Solutions at Ixonos | Re-Defining the Cloud Phone |  |
| Dirk Hohndel, Chief Linux and Open Source Technologist at Intel | Reflection on 20 Years of Linux |  |
| Jonathan Corbet, Editor at LWN | The Kernel Report: 20th Anniversary Edition |  |
| Wim Coekaerts, Senior Vice President, Linux and Vistualization Engineering at Oracle | Engineered Systems With Linux |  |
| Matt Jones, Vice President, GENIVI Alliance & Technical Lead - Next Generation Infotainment, Jaguar Land Rover | Linux for In Car Infotainment |  |

## Presenters

**Presentations**

**Presenter(s)**

**Session Description**

**Presentation**

Day 1, 10:45am

Zach Pfeffer (Linaro)

Linaro's Android Platform

[PDF](http://eLinux.org/images/5/5d/Linaro_Android_Presentation_5.pdf "Linaro Android Presentation 5.pdf")

Thomas Gleixner (Linutronix)

Another Mile Down the RT Road

Jessica Zhang (Intel)

The Yocto Project Eclipse PlugIn: An Effective IDE Environment for both Embedded Application and System Developers

[PDF](http://eLinux.org/images/4/4a/ELCE_Yocto_Plugin_2011_latest.pdf "ELCE Yocto Plugin 2011 latest.pdf")

Day 1, 11:45am

Satoru Ueda (Sony/Japan OSS Promotion Forum)

Contributing to the Community? Does your manager support you?

Benjamin Zores (Alcatel-Lucent)

Embedded Linux Optimization Techniques: How Not To Be Slow

[PDF](http://eLinux.org/images/d/de/ELCE_2011_-_BZ_-_Embedded_Linux_Optimization_Techniques_-_How_Not_to_Be_Slow.pdf "ELCE 2011 - BZ - Embedded Linux Optimization Techniques - How Not to Be Slow.pdf")

Ohad Ben-Cohen (Texas Instruments/Wizery)

Asymmetric Multiprocessing using VirtIO (was: "Remote Processor Messaging")

[PDF](http://eLinux.org/images/3/32/AMP_ELCE2011.pdf "AMP ELCE2011.pdf")

Day 1, 2:00pm

Jeff Osier-Mixon (Intel)

Collaborative Initiatives in Embedded Linux

[PDF](http://eLinux.org/images/b/b1/ELCE2011-Collaborative-Initiatives.pdf "ELCE2011-Collaborative-Initiatives.pdf")

Karim Yaghmour (Opersys, Inc.)

Leveraging Android's Linux Heritage

Pierre Tardy (Intel)

Using pytimechart For Real World Analysis

[PDF](http://eLinux.org/images/6/63/Elce11_tardy.pdf "Elce11 tardy.pdf")

Day 1, 3:00pm

Arnd Bergmann (Linaro)

Optimizations for Cheap Flash Media

Vitaly Wool (Sony Ericsson)

Saving Power With Wi-Fi: How to Prolong Your Battery Life and Still Stay Connected

[ODP](http://eLinux.org/images/9/97/Elce11_wool.odp "Elce11 wool.odp")

David Stewart (Intel)

Developing Embedded Linux Devices Using the Yocto Project and What's New in 1.1

[PDF](http://eLinux.org/images/9/93/Elce11_stewart.pdf "Elce11 stewart.pdf")

Day 1, 4:15pm

Tetsuyuki Kobayashi (Kyoto Micro Computer)

Android is NOT Just "Java On Linux"

[PDF](http://eLinux.org/images/6/6b/Elce11_kobayashi.pdf "Elce11 kobayashi.pdf")

Thomas Petazzoni (Free Electrons)

Using Buildroot for a Real Project

[PDF](http://eLinux.org/images/2/2a/Using-buildroot-real-project.pdf "Using-buildroot-real-project.pdf")

Rajesh Lal (Nokia)

Qt Quick: The Most Advanced UI Technology for Mobile

Talk was canceled

Day 1, 5:15pm

Tim Bird (Sony)

Status of Embedded Linux BoFs

[Status-of-Embedded-Linux-2011-10-ELCE.pdf](http://eLinux.org/images/7/79/Status-of-Embedded-Linux-2011-10-ELCE.pdf "Status-of-Embedded-Linux-2011-10-ELCE.pdf")

Lauro Ramos Venancio (Instituto Nokia de Technologia) & Samuel Ortiz (Intel)

The Linux NFC Subsystem

[PDF](http://eLinux.org/images/a/a9/Elce11_venancio_ortiz.pdf "Elce11 venancio ortiz.pdf")

David Anders (Texas Instruments)

Board BringUp: LCD and Display Interfaces

[PDF](http://eLinux.org/images/d/d5/Elce-2011-anders.pdf "Elce-2011-anders.pdf") [ODP](http://eLinux.org/images/f/f1/Elce-2011-anders.odp "Elce-2011-anders.odp") [Resource Page](http://eLinux.org/BoardBringupLCD "BoardBringupLCD")

Day 2, 10:15am

Grant Likely (Secret Lab)

Device Tree Status Report

Laurent Pinchart (Ideas on Board)

Success Story of the Open Source Camera Stack: The Nokia N9 Case

[PDF](http://eLinux.org/images/2/28/Elce11_pinchart.pdf "Elce11 pinchart.pdf")

Avinash Mahadeva & Vishwanth Sripathy (Texas Instruments)

SOC Power Management - Debugging and Optimization Techniques

[PDF](http://eLinux.org/images/c/ca/Omap-power-management-debugging.pdf "Omap-power-management-debugging.pdf")

Tia Cassett (Qualcomm) & Mike Chalupa (BSquare)

Android Development with the Snapdragon Processor

Day 2, 11:15am

Rafael J. Wysocki (Faculty of Physics, U. Warsaw/SUSE Labs)

Power Management Using PM Domains on SH7372

[PDF](http://eLinux.org/images/e/e6/Elce11_wysocki.pdf "Elce11 wysocki.pdf")

Sascha Hauer (Pengutronix e.K.)

A Generic Clock Framework in the Kernel: Why We Need It & Why We Still Don't Have It

[PDF](http://eLinux.org/images/f/f0/Elce11_hauer.pdf "Elce11 hauer.pdf")

Ruud Derwig (Synopsys)

Android Platform Optimizations

[PDF](http://eLinux.org/images/0/02/Android_Platform_Optimizations_SNPS_20111027.pdf "Android Platform Optimizations SNPS 20111027.pdf")

Tia Cassett & David Brown (Qualcomm)

Kernel Development Using the Dragonboard with the Snapdragon Processor

Day 2, 3:00pm

Inki Dae (Samsung Electronics)

DRM Driver Development For Embedded Systems

[PDF](http://eLinux.org/images/7/71/Elce11_dae.pdf "Elce11 dae.pdf")

Lorenzo Pieralisi (ARM Ltd.)

Consolidating Linux Power Management on ARM Multiprocessor Systems

[PDF](http://eLinux.org/images/0/09/Elce11_pieralisi.pdf "Elce11 pieralisi.pdf")

Thomas Petazzoni (Free Electrons)

Using Qt For Non-Graphical Applications

[PDF](http://eLinux.org/images/b/bb/Qt-for-non-graphical-applications.pdf "Qt-for-non-graphical-applications.pdf")

David Anders (Texas Instruments)

PandaBoard Workshop: Booting the PandaBoard

Day 2, 4:00pm

Marek Szyprowski & Kyungmin Park (Samsung)

ARM DMA-Mapping Framework Redesign and IOMMU Integration

[PDF](http://eLinux.org/images/7/7c/Elce11_szyprowski_park.pdf "Elce11 szyprowski park.pdf")

Keerthy Jagadeesh & Vishwanath Sripathy (Texas Instruments)

Thermal Framework for ARM based SOCs

Marc Titinger (ST Microelectronics)

Efficient JTAG-Based Linux Kernel Debugging

[PDF](http://eLinux.org/images/5/52/Elce11_titinger.pdf "Elce11 titinger.pdf")

David Anders (Texas Instruments)

PandaBoard Workshop: PandaBoard Expansion I/O

Day 2, 5:00pm

Tsugikazu Shibata (NEC & Linux Foundation Board Member)

Toward the Long Term Stable Kernel Tree for The Embedded Industry

[PDF](http://eLinux.org/images/9/95/LTSI_ELCE2011.pdf "LTSI ELCE2011.pdf")

Lisko Lappalainen (MontaVista Software)

Secure Virtualization in Automotive

Jeff Osier-Mixon (Intel)

Yocto Project Community BoFs

Luca Coelho (Texas Instruments)

PandaBoard Workshop: WLAN Kernel Hacking with PandaBoard

Day 3, 10:15am

Andrea Gallo (ST-Ericsson)

ARM Linux Kernel Alignment & Benefits for Snowball

[PDF](http://eLinux.org/images/b/ba/Elce11_gallo.pdf "Elce11 gallo.pdf")

Liam Girdwood & Peter Ujfalusi (Texas Instruments)

Smart Audio: Next-Generation A SoC For Smart Phones

Pawel Moll (ARM Ltd)

Linux on Non-Existing SoCs

Day 3, 11:15am

Koen Kooi (The Angstrom Distribution)

Integrating Systemd: Booting Userspace in Less Than 1 Second

[PDF](http://eLinux.org/images/b/b3/Elce11_koen.pdf "Elce11 koen.pdf")

Sylvain Leroy & Philippe Thierry

Grsecurity in Embedded Linux Used in Android

[PDF](http://eLinux.org/images/7/74/Elce11_thierry_leroy.pdf "Elce11 thierry leroy.pdf")

MyungJoo Ham (Samsung))

Charger Manager: Aggregating Chargers, Fuel Gauges and Batteries

[PDF](http://eLinux.org/images/c/c6/Elce11_ham.pdf "Elce11 ham.pdf")

Day 3, 2:30pm

Frank Rowand (Sony)

How Linux PREEMPT_RT Works

[PDF](http://eLinux.org/images/5/51/Elce11_rowand.pdf "Elce11 rowand.pdf")

Catalin Marinas (ARM Ltd.)

Linux Support For the Large Physical Address Extensions

[PDF](http://eLinux.org/images/6/6a/Elce11_marinas.pdf "Elce11 marinas.pdf")

Jim Huang (0xlab)

Build Community Android Distribution and Ensure the Quality

[PDF](http://eLinux.org/images/1/1e/Community-android.pdf "Community-android.pdf")

Day 3, 3:45pm

Till Jaeger (JBB Rechtsanwalte)

The Case AVM v. Cybits: The GPL and Embedded Systems

Darren Hart (Intel)

Tuning Linux For Embedded Systems: When Less Is More

[PDF](http://eLinux.org/images/2/2b/Elce11_hart.pdf "Elce11 hart.pdf")

Wolfram Sang (Pengutronix e.K.)

[Developer's Diary: It's About Time](http://eLinux.org/Session:_Developer%27s_Diary:_It%27s_About_Time_ELCE_2011 "Session: Developer's Diary: It's About Time ELCE 2011")

[PDF](http://eLinux.org/images/5/54/Elce11_sang.pdf "Elce11 sang.pdf")

## Workshops

**Workshops**

| **Presenter(s)** | **Session Description** | **Presentation** |
| Chris Simmonds, Freelance Embedded Linux Consultant | Workshop 1: Outside the Box: An Introduction to Embedded Linux and Hardware Interfacing Using the Snowball Board | [tar.gz](http://elinux.org/images/2/2d/Outside-the-box-elce-2011.tar.gz "Outside-the-box-elce-2011.tar.gz") |
| Karim J. Yaghmour | Workshop 2: Embedded Android Workshop |  |

## Instructions for Presenters

Please create a link in the table for your presentation, copying the style of other links. (You may need to create an account in order to edit the wiki or upload files.)

When you have created the link, click on it to upload the file containing your slides.

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [ELCE](http://eLinux.org/Category:ELCE "Category:ELCE")
*   [2011](http://eLinux.org/Category:2011 "Category:2011")
*   [Events](http://eLinux.org/Category:Events "Category:Events")
*   [Presentations](http://eLinux.org/Category:Presentations "Category:Presentations")

# ELCE 2011 Technical Showcase

> From: [eLinux.org](http://eLinux.org/ELCE_2011_Technical_Showcase "http://eLinux.org/ELCE_2011_Technical_Showcase")

# ELCE 2011 Technical Showcase

![Embedded Linux Conference 2006 Technical
Showcase](http://eLinux.org/File:Elc2006-showcase1.jpg "Embedded Linux Conference 2006 Technical Showcase")

## Contents

*   1 Embedded Linux Conference Europe 2011 Technical Showcase
    *   1.1 Details
    *   1.2 Objective
    *   1.3 Criteria
    *   1.4 Coordinator
*   2 What will be prepared by the Linux Foundation
    *   2.1 Dimension of the desk
    *   2.2 Poster
    *   2.3 Some tips
*   3 How to apply
*   4 FAQ

# Embedded Linux Conference Europe 2011 Technical Showcase

We are happy to be planning a technical showcase again this year at Embedded Linux Conference Europe. This Wiki page will guide you in giving your demonstration. For conference details, please follow this link to the conference website:

*   [`events.linuxfoundation.org/events/embedded-linux-conference-europe`](https://events.linuxfoundation.org/events/embedded-linux-conference-europe)

![Embedded Linux Conference 2006 Technical
Showcase](http://eLinux.org/File:Elc2006-showcase2.jpg "Embedded Linux Conference 2006 Technical Showcase") ![Embedded Linux Conference 2006 Technical
Showcase](http://eLinux.org/File:Elc2006-showcase3.jpg "Embedded Linux Conference 2006 Technical Showcase")

## Details

The demo session will be on Thursday, October 27th, between 12:00 and 14:30 in the main event hall foyer. See [the conference schedule](https://events.linuxfoundation.org/events/embedded-linux-conference-europe/schedule).

The demo room will be available starting at ***10:00 am*** for showcase demo setup.

## Objective

"Seeing is believing!" Unlike in Desktop or Server applications of Linux, in embedded systems Linux technology is usually unseen. Although it is a challenge, we want to expose Linux software and techniques so that other developers who are interested in this technology can learn, and become potential contributors themselves. We hope that through opening up technical details and projects (in the way of Open Source development), these demonstrations will provide insights that are helpful to developers.

## Criteria

*   No *purely* commercial demonstrations.
*   The Embedded Linux Conference Europe should not be used for a pure sales pitch.
*   You can show off a product, if there are features or aspects of the product you are displaying that are open source.
*   Demonstrations should be of software that is available under GPL or LGPL compatible licenses.
*   You will be sharing the hall with sponsors and other paying exhibitors, so your exhibition should be of free and open source technology, tools or techniques.

## Coordinator

Tim Bird - Sony Network Entertainment

*   e-Mail : tim (dot) bird (a) am (dot) sony (dot) com
*   Please replace (a) to "@" and (dot) to "."

# What will be prepared by the Linux Foundation

The Linux Foundation will provide the following **FREE OF CHARGE** :

*   A Demonstration desk, which is half of a table If you need special arrangements, please contact the coordinator.

![Desk sample from ELC
2006](http://eLinux.org/File:Elc2006-showcase-desksample.jpg "Desk sample from ELC 2006")

*   Power supply TBD: EU standard
*   Assuming the power is less than 750W. If your demonstration will exceed that, please consult the coordinator.
*   A large-format printed poster, based on the file you submit.
*   Please note that a dedicated (wired) Internet connection will **NOT** be prepared. However, wireless Internet may be available via the hotel wireless network. We cannot, however, guarantee Internet access.
*   Logistics Support
*   Details will be given to the demonstrators

## Dimension of the desk

*   Please refer to the attached photo.

## Poster

All demonstrators are requested to prepare a poster to explain the technical outline of the demonstration. You can download the template from this page. CELF will print them out on large size paper. The document should be sent to the coordinator by October 11th.

*   [ELCE2011_PosterForm.odp](http://eLinux.org/images/d/d4/ELCE2011_PosterForm.odp "ELCE2011 PosterForm.odp")
*   [ELCE2011_PosterForm.ppt](http://eLinux.org/images/e/e9/ELCE2011_PosterForm.ppt "ELCE2011 PosterForm.ppt")

**Caution**: Do not change the paper size. It is intentionally set to a big size.

## Some tips

The demo consists of a poster (printed by LF), with a few sentences talking about a tool, technology or distribution and a table top where you can place anything from:

1.  nothing at all, just have a person sitting there to talk to people about what's on the poster, or ...
2.  something on a laptop - like a program running or a even a static chart showing some result
3.  something running on a board or a device
4.  something on an actual CE product

You can also put some flyers there for people to grab, if you'd like.

If you can put charts and graphs on the poster, that's nice but it is NOT required. Neither the poster nor the hardware (if any) needs to be elaborate or require lots of setup. One year I showed up with a camcorder and just talked to people about it's bootup time (which I had worked on).

If you are a presenter, the demo session is a good chance to talk to people one-on-one about your session topic. This gives you more time for interactive Q&A, and a chance to show something hands-on, if that applies to your subject.

# How to apply

1.  Send an e-mail to the coordinator with the following information:

    1.  The contact person, the company name or the project name, the outline of the demonstration.
    2.  The coordinator will acknowledge your application by e-mail.
    3.  Please send all proposals by October 14th, 2011
        1.  Apply early, since space is limited!!
2.  Prepare the poster and send the data to CELF Office and the demonstration coordinator by **October 19th**. It will be printed out by the conference organizers on big size paper.

    1.  Prepare the demonstration equipment
    2.  You can bring the equipment yourself, or ship it.
    3.  If you do not have a consignee which will be convenient for you, send them to the following address: *Address not available yet*

# FAQ

*   **Q**: Is this opportunity limited to CE Workgroup and/or Linux Foundation members?
*   **A**: No. You do not have to be a forum member to have a demo at the conference. However, each demo should be associated with a paid conference attendee.
*   **Q**: Is the demonstrator required to make a presentation at the conference?
*   **A**: No, this is not required. However, we believe there will be many people who will to be interested in details of the technology, so we hope that you can have a session. Please note that the due date for a session proposal is earlier than the due date for demo sign-up.
*   **Q**: Should I assign some dedicated staff to carry on the demonstration?
*   **A**: No, this is not necessary. There will be a keynote talk during the demo session slot, which you may want to attend. You may end your demo at the end of the lunch break (at 13:30) or secure your equipment if you wish to attend the keynote. The showcase will officially end at 14:30, at the end

of the break after the keynote.

*   **Q**: Is there any fee to demo something in this session?
*   **A**: No, it is completely free. However, the session is limited to conference attendees, so please register for the conference if you would not otherwise do so. If you have someone coming who will ONLY run or assist with your demo, and not attend any sessions, then that person may be admitted for free, for just the demo session (and setup and take down). However, each demo should be associated with at least one registered attendee.

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [ELCE](http://eLinux.org/Category:ELCE "Category:ELCE")

# ELCE Europe 2012 Presentations

> From: [eLinux.org](http://eLinux.org/ELCE_Europe_2012_Presentations "http://eLinux.org/ELCE_Europe_2012_Presentations")

# ELCE Europe 2012 Presentations

Presenters, Demo-ers, Participants: Thanks very much for your participation in Linux Foundation's [Embedded Linux Conference Europe 2012](https://events.linuxfoundation.org/events/embedded-linux-conference-europe).

This page is for collecting the presentations that were made at the conference. During and after the conference we will collect materials from the presenters and place them here. Please watch this page if you are interested in a particular presentation - and if it doesn't show up, please [send me and email](http://eLinux.org/Special:EmailUser/Wmat "Special:EmailUser/Wmat") and we'll try to track it down.

## Contents

*   1 Videos
*   2 Instructions
*   3 Table of Presentations
    *   3.1 Keynotes
    *   3.2 Presenters
    *   3.3 Instructions for Presenters

## Videos

Once again, through the diligent work of the [Free Electrons](http://free-electrons.com/) team, all videos for ELCE2012 can be found at [Videos](http://free-electrons.com/blog/elce-2012-videos/).

## Instructions

**Presenters:** Please post your technical conference presentations on this page. (See Instructions below the tables)

# Table of Presentations

NOTE: If you add a wikilink to your presentation and attempt to upload it via the link, it may fail. If it does, use the [Special:Upload](http://eLinux.org/Special:Upload "Special:Upload") page to upload your file.

## Keynotes

**Keynotes**

| **Presenter(s)** | **Session Description** | **Presentation** |
| Mark Shuttleworth, Founder at Canonical | Advancing the User Experience | - |
| Dave Engberg, CTO Evernote | Why Evernote Runs Their Own Linux Servers Instead of "The Cloud" | - |
| Brian Stevens, CTO and VP Worldwide Engineering at Red Hat |  |  |
| Jonathan Corbet, Editor at LWN | The Kernel Report |  |
| Matt Locke, Texas Instruments | [Are we headed for a complexity apocalypse for embedded SoCs](http://elinux.org/Session:Are_we_headed_for_a_complexity_apocalypse_for_embedded_SoCs_ELCE_2012 "Session:Are we headed for a complexity apocalypse for embedded SoCs ELCE 2012") | [PDF](http://elinux.org/images/d/df/.elce-2012-keynote-matt-locke.pdf ".elce-2012-keynote-matt-locke.pdf") |
| Catarina Mota, Founder at openMaterials | [Research into open hardware](http://elinux.org/Session:Research_into_open_hardware_ELCE_2012 "Session:Research into open hardware ELCE 2012") |  |
| Linux Creator Linus Torvalds and Intel's Open Source Technologist, Dirk Hohndel | [Linux: Where are we going?](http://elinux.org/Session:Linux_where_are_we_going_ELCE_2012 "Session:Linux where are we going ELCE 2012") |  |

## Presenters

**Presentations**

**Presenter(s)**

**Session Description**

**Presentation**

Day 1, 10:10am

Matt Ranostay

Beaglebone: The Perfect Telemetry Platform?

[PDF](http://eLinux.org/images/7/73/Beaglebone_Telemetry-_E-ELC_2012.pdf "Beaglebone Telemetry- E-ELC 2012.pdf")

Jim Huang, 0xlab

Implement Checkpointing for Android

[PDF](http://eLinux.org/images/1/1c/Implement_Checkpointing_for_Android.pdf "Implement Checkpointing for Android.pdf")

Wolfram Sang, Pengutronix e.K.

Maintainer's Diary: Devicetree and Its Stumbling Blocks

[PDF](http://eLinux.org/images/e/e9/ELCE12-W_Sang-Devicetree_and_Its_Stumbling_Blocks.pdf "ELCE12-W Sang-Devicetree and Its Stumbling Blocks.pdf")

Day 1, 11:05am

Matthias Brugger, ISEE 2007 S.L.

A War Story: Porting Android 4.0 to a Custom Board

[PDF](http://eLinux.org/images/f/ff/Porting_Android_4.0_to_a_Custom_Board.pdf "Porting Android 4.0 to a Custom Board.pdf")

Kishon Vijay Abraham

USB Debugging and Profiling Techniques

[PDF](http://eLinux.org/images/1/17/USB_Debugging_and_Profiling_Techniques.pdf "USB Debugging and Profiling Techniques.pdf")

Alan Ott, Signal 11 Software

Wireless Networking with IEEE 802.15.4 and 6LoWPAN

[PDF](http://eLinux.org/images/7/71/Wireless_Networking_with_IEEE_802.15.4_and_6LoWPAN.pdf "Wireless Networking with IEEE 802.15.4 and 6LoWPAN.pdf")

Day 1, 1:20pm

João Paulo Rechi Vita, INdT

Bluetooth Smart devices and Low Energy support on Linux

[PDF](http://eLinux.org/images/1/1b/Bluetooth_Smart_devices_and_Low_Energy_support_on_Linux.pdf "Bluetooth Smart devices and Low Energy support on Linux.pdf")

Peter Stuge

OpenOCD: Hardware Debugging and More

[PDF](http://eLinux.org/index.php?title=Special:Upload&wpDestFile=Hardware_Debugging_and_More.pdf "Hardware Debugging and More.pdf")

Alessandro Rubini

PF_ZIO: Using Network Frames to Convey I/O Data and Meta-Data

[PDF](http://eLinux.org/images/5/57/Using_Network_Frames_to_Convey_IO_Data_and_Meta-Data.pdf "Using Network Frames to Convey IO Data and Meta-Data.pdf")

Day 1, 2:15pm

Joo-Young Hwang, Samsung

A New File System Designed for Flash Storage in Mobile

[PDF](http://eLinux.org/images/8/81/A_New_File_System_Designed_for_Flash_Storage_in_Mobile.pdf "A New File System Designed for Flash Storage in Mobile.pdf")

Alexandre Belloni, Adeneo Embedded

Boot Time Optimizations

[PDF](http://eLinux.org/images/d/d1/Alexandre_Belloni_boottime_optimizations.pdf "Alexandre Belloni boottime optimizations.pdf")

Philipp Zabel, Pengutronix e.K.

Modular Graphics on Embedded ARM

[PDF](http://eLinux.org/images/9/90/ELCE2012-Modular-Graphics-on-Embedded-ARM.pdf "ELCE2012-Modular-Graphics-on-Embedded-ARM.pdf")

Day 1, 3:30pm

Karim Yaghmour, Opersys

Inside Android's User Interface

[PDF](http://eLinux.org/images/d/dc/Inside_Android%27s_User_Interface.pdf "Inside Android's User Interface.pdf")

Samuel Ortiz, Intel

Near Field Communication with Linux

[PDF](http://eLinux.org/images/d/d1/Near_Field_Communication_with_Linux.pdf "Near Field Communication with Linux.pdf")

Arnout Vandecappelle, Essensium/Mind

Upgrading Without Bricking

[PDF](http://eLinux.org/images/6/61/Upgrading_Without_Bricking.pdf "Upgrading Without Bricking.pdf")

Day 1, 6:15pm

Tim Bird, Sony Network Entertainment

BoFs: Developer Tools and Methods: Tips & Tricks

[PDF](http://eLinux.org/images/5/51/ELC-2012-Tips-and-Tricks-BOF.pdf "ELC-2012-Tips-and-Tricks-BOF.pdf")

Nithya Ruff & Ruud Derwig

BoFs: Is HW Availability a Gating Item for Your Software Development

[PDF](http://eLinux.org/index.php?title=Special:Upload&wpDestFile=Is_HW_Availability_a_Gating_Item_for_Your_Software_Development.pdf "Is HW Availability a Gating Item for Your Software Development.pdf")

Elizabeth Flanagan, Intel

BoFs: Yocto Project & OpenEmbedded Community

[PDF](http://eLinux.org/index.php?title=Special:Upload&wpDestFile=Yocto_Project_%26_OpenEmbedded_Community.pdf "Yocto Project & OpenEmbedded Community.pdf")

Alexandre Belloni

BoFs: The Need For a Fast Bootloader

[PDF](http://eLinux.org/index.php?title=Special:Upload&wpDestFile=The_Need_For_a_Fast_Bootloader.pdf "The Need For a Fast Bootloader.pdf")

Day 2, 10:10am

Sascha Hauer, Pengutronix e.K.

Barebox Bootloader

[PDF](http://eLinux.org/images/6/6b/PRE-20121108-1-Barebox.pdf "PRE-20121108-1-Barebox.pdf")

Benjamin Zores, Alcatel-Lucent

Dive Into Android Networking: Adding Ethernet Connectivity

[PDF](http://eLinux.org/images/9/98/Dive_Into_Android_Networking-_Adding_Ethernet_Connectivity.pdf "Dive Into Android Networking- Adding Ethernet Connectivity.pdf")

Jiyoun Park, Samsung

Experiences as an OEM with Development of UI Frameworks

[PDF](http://eLinux.org/index.php?title=Special:Upload&wpDestFile=Experiences_as_an_OEM_with_Development_of_UI_Frameworks.pdf "Experiences as an OEM with Development of UI Frameworks.pdf")

Day 2, 11:05am

Keshava Munegowda, Texas Instruments

FFSB and IOzone: File system Benchmarking Tools, Features and Internals

[PDF](http://eLinux.org/images/f/f7/FFSB_and_IOzone-_File_system_Benchmarking_Tools%2C_Features_and_Internals.pdf "FFSB and IOzone- File system Benchmarking Tools, Features and Internals.pdf")

Chris Simmonds, 2net Limited

The End of Embedded Linux (As We Know It)

[PDF](http://eLinux.org/images/c/c2/Csimmonds-end-of-embedded-linux.pdf "Csimmonds-end-of-embedded-linux.pdf")

Steven Rostedt, Red Hat

Understanding PREEMPT_RT (The Real-Time Patch)

[ODP](http://eLinux.org/images/f/fb/Elce2012_rostedt.odp "Elce2012 rostedt.odp")

Day 2, 1:20pm

Klaas van Gend, Vector Fabrics

Application Parallelization for Multi-Core Android Devices

[PDF](http://eLinux.org/images/1/11/Application-Parallelization-Android-KlaasVanGend.pdf "Application-Parallelization-Android-KlaasVanGend.pdf")

David Anders, Texas Instruments

Board Bringup: You, Me, and I2C

[PDF](http://eLinux.org/images/1/1f/Elce-danders.pdf "Elce-danders.pdf") - [Resource Page](http://eLinux.org/Elce-i2c "Elce-i2c")

Rama Pallala, Intel

Linux Power Supply Charging Subsystem

[PDF](http://eLinux.org/images/a/a4/Placeholder.pdf "Placeholder.pdf")

Day 2, 2:15pm

Agusti Fontquerni, ISEE 2007 S.L.

Embedded Linux RADAR Device

[PDF](http://eLinux.org/images/7/75/Embedded_Linux_RADAR_Device.pdf "Embedded Linux RADAR Device.pdf")

Matt Porter, Texas Instruments

What's Old Is New: A 6502-based Remote Processor

[PDF](http://eLinux.org/images/a/ac/What%27s_Old_Is_New-_A_6502-based_Remote_Processor.pdf "What's Old Is New- A 6502-based Remote Processor.pdf")

Thomas Petazzoni, Free Electrons

Your New ARM SoC Linux Support Check-List

[PDF](http://eLinux.org/images/a/ad/Arm-soc-checklist.pdf "Arm-soc-checklist.pdf")

Day 2, 3:30pm

Tracey M. Erway, Intel & Nithya A. Ruff, Synopsys

Can You Market an Open Source Project?

[PDF](http://eLinux.org/images/8/8d/Can_You_Market_an_Open_Source_Project.pdf "Can You Market an Open Source Project.pdf")

Lars Knoll

Qt on Embedded Systems

[PDF](http://eLinux.org/images/a/a4/Placeholder.pdf "Placeholder.pdf")

Koen Kooi, Circuitco

Supporting 200 Different Expansionboards: The Broken Promise of Devicetree

[PDF](http://eLinux.org/images/f/f2/Supporting_200_Different_Expansionboards_The_Broken_Promise_of_Devicetree.pdf "Supporting 200 Different Expansionboards The Broken Promise of Devicetree.pdf")

Day 2, 4:25pm

Wolfgang Mauerer, Siemens

Àndroit: Real-Time for the Rest of Us

[PDF](http://eLinux.org/index.php?title=Special:Upload&wpDestFile=%C3%80ndroit:_Real-Time_for_the_Rest_of_Us.pdf "Àndroit: Real-Time for the Rest of Us.pdf")

Anna Dushistova

Eclipse and Embedded Linux Developers: What it Can and Cannot Do For You

[PDF](http://eLinux.org/images/9/98/EclipseForEmbeddedLinuxDevelopers-AnnaDushistova2012.pdf "EclipseForEmbeddedLinuxDevelopers-AnnaDushistova2012.pdf")

Dave Stewart, Intel

Yocto Project Overview and Update

[PDF](http://eLinux.org/index.php?title=Special:Upload&wpDestFile=Yocto_Project_Overview_and_Update.pdf "Yocto Project Overview and Update.pdf")

Day 3, 10:40am

Vineet Gupta, Synopsys

ARC Linux: From a Tumbling Toddler to a Graduating Teen

[PDF](http://eLinux.org/images/2/24/ARC_Linux_From_a_Tumbling_Toddler_to_a_Graduating_Teen.pdf "ARC Linux From a Tumbling Toddler to a Graduating Teen.pdf")

Laurent Pinchart, Ideas on Board

DRM/KMS, FB and V4L2: How to Select a Graphics and Video API

[PDF](http://eLinux.org/images/2/22/KMS_FB_and_V4L2_How_to_Select_a_Graphics_and_Video_API.pdf "KMS FB and V4L2 How to Select a Graphics and Video API.pdf")

Frank Rowand, Sony Network Entertainment

Practical Data Visualization

[PDF](http://eLinux.org/images/a/af/Practical_Data_Visualization.pdf "Practical Data Visualization.pdf")

Day 3, 11:35am

Marcin Juszkiewicz, Linaro

ARM 64-Bit Bootstrapping with OpenEmbedded

[PDF](http://eLinux.org/images/6/61/2012-ELCE-Bootstrapping-ARM-64bit-with-OpenEmbedded.pdf "2012-ELCE-Bootstrapping-ARM-64bit-with-OpenEmbedded.pdf")

Wim Decroix, TPVision

Practical Experiences With Software Crash Analysis in TV

[PDF](http://eLinux.org/images/1/1d/Practical_Experiences_With_Software_Crash_Analysis_in_TV.pdf "Practical Experiences With Software Crash Analysis in TV.pdf")

Mark Brown, Wolfson Microelectronics

Regmap: The Power of Subsystems and Abstractions

[PDF](http://eLinux.org/images/a/a3/Regmap-_The_Power_of_Subsystems_and_Abstractions.pdf "Regmap- The Power of Subsystems and Abstractions.pdf")

Day 3, 1:50pm

Wolfgang Mauerer, Siemens

Low-Level Linux Debugging Without Grey Beards

[PDF](http://eLinux.org/index.php?title=Special:Upload&wpDestFile=Low-Level_Linux_Debugging_Without_Grey_Beards.pdf "Low-Level Linux Debugging Without Grey Beards.pdf")

Hans Verkuil, Cisco Systems

Video4Linux: Current Status and Future Work

[PDF](http://eLinux.org/images/4/4a/Video4Linux_Current_Status_and_Future_Work.pdf "Video4Linux Current Status and Future Work.pdf")

Holger Behrens, Wind River

Yocto Layer for In-Vehicle Infotainment

[PDF](http://eLinux.org/images/5/51/Yocto_Layer_for_In-Vehicle_Infotainment.pdf "Yocto Layer for In-Vehicle Infotainment.pdf")

Day 3, 2:45pm

Tero Kristo, Texas Instruments

Debugging Embedded Linux (Kernel) Power Management

[PDF](http://eLinux.org/images/1/13/Debugging_Embedded_Linux_%28Kernel%29_Power_Management.pdf "Debugging Embedded Linux (Kernel) Power Management.pdf")

Martin Bis, BIS

Real-Time Linux in Industrial Appliances

[PDF](http://eLinux.org/images/3/3a/Real-Time_Linux_in_Industrial_Appliances.pdf "Real-Time Linux in Industrial Appliances.pdf")

Jens Georg, Openismus GmbH

Rygel: Open Source DLNA, ready for Customer Products?

[PDF](http://eLinux.org/images/1/13/Rygel_Open_Source_DLNA.pdf "Rygel Open Source DLNA.pdf")

Day 3, 3:40pm

Yoshitake Kobayashi, Toshiba

Improvement of Scheduling Granularity for Deadline Scheduler

[PDF](http://eLinux.org/images/9/9c/Improvement_of_Scheduling_Granularity_for_Deadline_Scheduler.pdf "Improvement of Scheduling Granularity for Deadline Scheduler.pdf")

Tsugikazu Shibata, NEC

LTSI (Long-Term Stable Initiative) Status Update

[PDF](http://eLinux.org/images/1/1a/LTSI_%28Long-Term_Stable_Initiative%29_Status_Update.pdf "LTSI (Long-Term Stable Initiative) Status Update.pdf")

Thomas Gleixner, Linutronix

UBI Fastmap

[PDF](http://eLinux.org/images/a/ab/UBI_Fastmap.pdf "UBI Fastmap.pdf")

## Instructions for Presenters

Please create a link in the table for your presentation, copying the style of other links. (You may need to create an account in order to edit the wiki or upload files.)

When you have created the link, click on it to upload the file containing your slides.

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [ELCE](http://eLinux.org/Category:ELCE "Category:ELCE")
*   [2012](http://eLinux.org/Category:2012 "Category:2012")
*   [Events](http://eLinux.org/Category:Events "Category:Events")
*   [Presentations](http://eLinux.org/Category:Presentations "Category:Presentations")

# ELC Europe 2007 Presentations

> From: [eLinux.org](http://eLinux.org/ELC_Europe_2007_Presentations "http://eLinux.org/ELC_Europe_2007_Presentations")

# ELC Europe 2007 Presentations

## Presentations

| **Person** | **Session Description** | **Presentation** |
| Francois Audeon | Detection & Resolution of Real Time Issues Using TimeDoctor | [Detection-of-RT-issues-with-TimeDoctor.pdf](http://elinux.org/images/3/3e/Detection-of-RT-issues-with-TimeDoctor.pdf "Detection-of-RT-issues-with-TimeDoctor.pdf") [video](http://free-electrons.com/pub/video/2007/elce/elce-2007-francois-audeon-time-doctor.ogg) |
| Tim Bird | BOF: State of Embedded Linux BOF | [ELCE-BOF_State_of_Embedded_linux.pdf](http://elinux.org/images/6/6d/ELCE-BOF_State_of_Embedded_linux.pdf "ELCE-BOF State of Embedded linux.pdf") |
| Tim Bird and Satoru Ueda | Keynote: CE Linux Forum: the Past, Present and Future | [CE_Linux_Forum-Ueda-Bird.pdf](http://elinux.org/images/8/82/CE_Linux_Forum-Ueda-Bird.pdf "CE Linux Forum-Ueda-Bird.pdf") |
| Gustavo Sverzut Barbieri | Fancy and Fast GUIs on Embedded Devices | [Fancy_and_Fast_GUIs_on_Embedded_Devices.pdf](http://elinux.org/images/e/e1/Fancy_and_Fast_GUIs_on_Embedded_Devices.pdf "Fancy and Fast GUIs on Embedded Devices.pdf") [video](http://free-electrons.com/pub/video/2007/elce/elce-2007-gustavo-sverzut-barbieri-fast-fancy-gui.ogg) |
| Hugh Blemings | arch/ppc, arch/powerpc and Device Trees - A Walk Through a Port | [video](http://free-electrons.com/pub/video/2007/elce/elce-2007-hugh-blemings-ppc-port.ogg) |
| Shane Martin Coughlan | Free Software, Licensing and Business Processes | [FSFE-presentation-ELCE-03-11-2007.pdf](http://elinux.org/images/0/0c/FSFE-presentation-ELCE-03-11-2007.pdf "FSFE-presentation-ELCE-03-11-2007.pdf") [video](http://free-electrons.com/pub/video/2007/elce/elce-2007-shane-martin-coughlan-fsfe.ogg) |
| Carsten Emde | Introduction to the Open Source Automation Development Lab ([OSADL](http://www.osadl.org/)) | [CELF-OSADL.pdf](http://elinux.org/images/1/1f/CELF-OSADL.pdf "CELF-OSADL.pdf") |
| Jörn Engel | Introduction to LogFS | PDF not available [video](http://free-electrons.com/pub/video/2007/elce/elce-2007-jorn-engel-logfs.ogg) |
| Nils Faerber | Overview of LiPS Mission Statement, Architecture and Roadmap | not available |
| Zhang Feng, Zhao Chunlei, Chen Deyong, Meng Yan | Tutorial: Linux As Handheld Device OS in Lenovo | not available |
| Harald Fernengel | Qtopia for Developers | not available |
| Holger Freyther | WebKit on Linux and How It Compares to Other Open Source Engines | [ELCE2007_WebKit.pdf](http://elinux.org/images/a/a6/ELCE2007_WebKit.pdf "ELCE2007 WebKit.pdf") [video](http://free-electrons.com/pub/video/2007/elce/elce-2007-holger-freyther-webkit.ogg) |
| Thomas Gleixner | Status Overview of Real-Time | [video](http://free-electrons.com/pub/video/2007/elce/elce-2007-thomas-gleixner-realtime-status.ogg) |
| Thomas Gleixner | Kernel Summit Report | [video](http://free-electrons.com/pub/video/2007/elce/elce-2007-thomas-gleixner-kernel.ogg) |
| Mark Gross | Power Management BoF | not available |
| Mark Gross | Power Management Quality of Service | not available |
| Takanari Hayama | Writing DirectFB gfxdriver For Your Embedded System | [elce2007_directfb_gfx.pdf](http://elinux.org/images/6/6c/Elce2007_directfb_gfx.pdf "Elce2007 directfb gfx.pdf") [video](http://free-electrons.com/pub/video/2007/elce/elce-2007-takanari-hayama-gfxdrivers.ogg) |
| Marcel Holtmann | Integration of Bluetooth in Embedded Devices | not available |
| Alexey Korolev | Improving JFFS2 RAM Usage and Performance | [Media:ELC-E-JFFS2_RAM_Usage_impr.ppt](http://elinux.org/images/1/1b/ELC-E-JFFS2_RAM_Usage_impr.ppt "ELC-E-JFFS2 RAM Usage impr.ppt") [video](http://free-electrons.com/pub/video/2007/elce/elce-2007-alexey-korolev-improving-jffs2.ogg) |
| Matthew Locke | OpenEmbedded for Commercial Development | not available |
| Matthew Locke | A Power Management Architecture For Mobile Devices | [mlocke-elce2007-pmarch.pdf](http://elinux.org/images/b/ba/Mlocke-elce2007-pmarch.pdf "Mlocke-elce2007-pmarch.pdf") |
| Hiroyuki Machida | Linux for Cell/B.E. and PS3, Related Open Source Projects BoF | [20071102-ELCE-Cell-PS3-BoF-E.pdf](http://elinux.org/images/e/e0/20071102-ELCE-Cell-PS3-BoF-E.pdf "20071102-ELCE-Cell-PS3-BoF-E.pdf") |
| Paul Mundt | Asymmetric NUMA: Multiple-Memory Management For The Rest of Us | [ELCE2007-Asymmetric_NUMA.pdf](http://elinux.org/images/1/13/ELCE2007-Asymmetric_NUMA.pdf "ELCE2007-Asymmetric NUMA.pdf") |
| Hadi Nahari | Trusted Secure Isolation For Embedded Linux | [ELC-E_SecureIsolation.pdf](http://elinux.org/images/0/02/ELC-E_SecureIsolation.pdf "ELC-E SecureIsolation.pdf") |
| Hadi Nahari | Linux Security: Carrier Grade Moving 3G Networks Forward | not available |
| Sampo Nurmentaus | Creating Cross Platform Multimedia Applications: Case Embedding a Mozilla Based Browser | [Sampo-Nurmentaus-Cross-Platform-Linux.pdf](http://elinux.org/images/b/b2/Sampo-Nurmentaus-Cross-Platform-Linux.pdf "Sampo-Nurmentaus-Cross-Platform-Linux.pdf") |
| Michael Opdenacker | Linux Tiny - The Diet Must Go On | [linux-tiny.pdf](http://elinux.org/images/9/9b/Linux-tiny.pdf "Linux-tiny.pdf") |
| Tsutomu Owa | RT Patch for Celleb - Patch Status and Performance Measurements | [ELCE2007_RTpatchForCelleb.pdf](http://elinux.org/images/6/60/ELCE2007_RTpatchForCelleb.pdf "ELCE2007 RTpatchForCelleb.pdf") |
| Matt Porter | Methods to Protect Proprietary Components in Device Drivers | [Proprietary_Components_In_Device_Drivers.pdf](http://elinux.org/images/5/5d/Proprietary_Components_In_Device_Drivers.pdf "Proprietary Components In Device Drivers.pdf") |
| Manas Saksena | Fedora on ARM Platforms | not available |
| Gene Sally | How GCC Works, an Embedded Engineers Perspective | not available |
| Gene Sally | Tutorial: Getting Started with Embedded Linux | not available |
| Gene Sally | Tutorial: Using RPM as Your Build Environment | not available |
| Rus Sani | Experiences Using Linux In Carrier Grade Telecom Equipment on Control and Data Plane | [Media:srus_elce2007.zip](http://elinux.org/images/3/3e/Srus_elce2007.zip "Srus elce2007.zip") |
| Frank Scholz | [Coherence](https://coherence.beebits.net), an open source DLNA/UPnP framework | [CELF-E_2007_Coherence_slides.pdf](http://elinux.org/images/c/c4/CELF-E_2007_Coherence_slides.pdf "CELF-E 2007 Coherence slides.pdf") |
| Dodji Seketeli | The PokyLinux Distribution: Mobile GNOME at Your Fingertips | [poky.pdf](http://elinux.org/images/a/a2/Poky.pdf "Poky.pdf") |
| Satoru Ueda and Tim Bird | CE Linux Forum: the Past, Present and Future | [CE_Linux_Forum-Ueda-Bird.pdf](http://elinux.org/images/8/82/CE_Linux_Forum-Ueda-Bird.pdf "CE Linux Forum-Ueda-Bird.pdf") |
| Klaas de Waal | Linux in TV, Going From Prototype To Product | [LinuxOnTv520.pdf](http://elinux.org/images/5/55/LinuxOnTv520.pdf "LinuxOnTv520.pdf") |
| Wookey | YAFFS | [yaffs.pdf](http://elinux.org/images/e/e3/Yaffs.pdf "Yaffs.pdf") [video](http://free-electrons.com/pub/video/2007/elce/elce-2007-wookey-yaffs.ogg) |
| Wookey and Neil Williams | Tutorial: Embedded Debian Workshop | not available |
| Vitaly Wool | Parallelizing Linux boot on CE Devices | [par.pdf](http://elinux.org/images/7/71/Par.pdf "Par.pdf") [video](http://free-electrons.com/pub/video/2007/elce/elce-2007-vitaly-wool-parallel-boot.ogg) |
| Vitaly Wool | Linux Suspend-to-Disk Objectives for Consumer Electronic Devices | [std.pdf](http://elinux.org/images/9/99/Std.pdf "Std.pdf") [video](http://free-electrons.com/pub/video/2007/elce/elce-2007-vitaly-wool-suspend-to-disk.ogg) |
| Siarhei Yermalayeu | Linux Clock Management Framework | [ELC_2007_Linux_clock_fmw.pdf](http://elinux.org/images/a/a3/ELC_2007_Linux_clock_fmw.pdf "ELC 2007 Linux clock fmw.pdf") |
| Fuxin Zhang | A High Performance Linux-based Home Server Design | not available |
| Tim Bird | Panel: the ideal embedded Linux distribution | [video](http://free-electrons.com/pub/video/2007/elce/elce-2007-panel.ogg) |

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Presentations](http://eLinux.org/Category:Presentations "Category:Presentations")
*   [ELCE](http://eLinux.org/Category:ELCE "Category:ELCE")
*   [2007](http://eLinux.org/Category:2007 "Category:2007")
*   [Events](http://eLinux.org/Category:Events "Category:Events")

# ELC Europe 2008 Presentations

> From: [eLinux.org](http://eLinux.org/ELC_Europe_2008_Presentations "http://eLinux.org/ELC_Europe_2008_Presentations")

# ELC Europe 2008 Presentations

## Presentations

*   [ELCE Videos](http://free-electrons.com/blog/elce-2008-videos/) page.

## Sessions

| **Person** | **Session Description** | **Presentation** |
| Mike Anderson | Using a JTAG in Linux Driver Debug | [JTAG_In_Linux_Driver_Debug_Anderson.pdf](http://elinux.org/images/f/ff/JTAG_In_Linux_Driver_Debug_Anderson.pdf "JTAG In Linux Driver Debug Anderson.pdf") |
| Mike Anderson | Understanding and Using SMP/Multicore Processors | [Understanding_And_Using_SMP_Multicore_Processors_Anderson.pdf](http://elinux.org/images/4/43/Understanding_And_Using_SMP_Multicore_Processors_Anderson.pdf "Understanding And Using SMP Multicore Processors Anderson.pdf") |
| Gustavo Sverzut Barbieri | Rich GUI without pain | [Rich_GUI_without_pain.pdf](http://elinux.org/images/1/13/Rich_GUI_without_pain.pdf "Rich GUI without pain.pdf") |
| Tim Bird | Tools and Techniques for Reducing Bootup Time | [Tools-and-techniques-for-reducing-bootup-time.pdf](http://elinux.org/images/c/c1/Tools-and-techniques-for-reducing-bootup-time.pdf "Tools-and-techniques-for-reducing-bootup-time.pdf") [Tools-and-techniques-for-reducing-bootup-time.ppt](http://elinux.org/images/3/3d/Tools-and-techniques-for-reducing-bootup-time.ppt "Tools-and-techniques-for-reducing-bootup-time.ppt") |
| Vitaly Bordug | Device tree and Embedded Linux | [vitb-ELCE-2008-presentation.pdf](http://elinux.org/images/e/e6/Vitb-ELCE-2008-presentation.pdf "Vitb-ELCE-2008-presentation.pdf") |
| Andrew Christian | Handhelds Mojo - Building and Running Ubuntu Distributions on ARM | not available |
| Shane Coughlan | Strategic Implementation of Free Software in Business | [shane-coughlan-presentation-ELCE-07-11-2008.odp](http://elinux.org/images/c/c9/Shane-coughlan-presentation-ELCE-07-11-2008.odp "Shane-coughlan-presentation-ELCE-07-11-2008.odp") |
| Jake Edge | Avoiding Web Application Flaws In Embedded Devices | [elce-2008.pdf](http://elinux.org/images/8/87/Elce-2008.pdf "Elce-2008.pdf") [elce-2008.odp](http://elinux.org/images/6/6c/Elce-2008.odp "Elce-2008.odp") [LWN page](http://lwn.net/talks/elce2008) |
| Bas Engel | Digital TV with Linux | [Digital_Television_With_Linux.pdf](http://elinux.org/images/d/da/Digital_Television_With_Linux.pdf "Digital Television With Linux.pdf") |
| George France, Brian Avery, & Andrew Christian | Handhelds Mojo: Building and running Ubuntu distributions on ARM | [Mojo_CELF_Nov2008.pdf](http://elinux.org/images/1/1a/Mojo_CELF_Nov2008.pdf "Mojo CELF Nov2008.pdf") |
| Klaas van Gend & Ned Miljevic | Building Embedded Userlands | [ELCE2008-Building_embedded_user_lands.vGend.Miljevic.pdf](http://elinux.org/images/4/4e/ELCE2008-Building_embedded_user_lands.vGend.Miljevic.pdf "ELCE2008-Building embedded user lands.vGend.Miljevic.pdf") |
| Klaas van Gend | The ELC Europe 2008 end game: Linux Fortunes | [Opentux page](http://www.opentux.nl/talks/elce2008/) |
| Peter Griffin | Porting uClinux to a new architecture | [Porting_uClinux_CELF2008_Griffin.pdf](http://elinux.org/images/6/68/Porting_uClinux_CELF2008_Griffin.pdf "Porting uClinux CELF2008 Griffin.pdf") |
| Armijn Hemel | Abusing Universal Plug and Play | [elce-presentatie.pdf](http://elinux.org/images/5/5b/Elce-presentatie.pdf "Elce-presentatie.pdf") |
| Marcel Holtmann | BlueZ 4.0 | not available |
| Perry Ismangil & Benny Prijono | PJSIP: Open Source Compact SIP and Media Stack | [pjsip_at_Embedded_Linux_Conference_Europe_2008.pdf](http://elinux.org/images/d/d5/Pjsip_at_Embedded_Linux_Conference_Europe_2008.pdf "Pjsip at Embedded Linux Conference Europe 2008.pdf") |
| Mischa Jonker | Power management on an ARM11 platform | [MischaJonker_ARM11_power_management_CELF_ELC_2008.pdf](http://elinux.org/images/d/d4/MischaJonker_ARM11_power_management_CELF_ELC_2008.pdf "MischaJonker ARM11 power management CELF ELC 2008.pdf") |
| Denis Oliver Kropp | Open Integration Layer - DirectFB 2.0 | not available |
| Jaya Kumar | Deferred IO and E-Paper Display | [E_paper_Displays.pdf](http://elinux.org/images/2/25/E_paper_Displays.pdf "E paper Displays.pdf") |
| Vasileios Laganakos | Portability and Optimizations of GNU Applications for ARM Embedded Linux | [ARM_EmbeddedLinux_Apps_Port.pdf](http://elinux.org/images/4/4f/ARM_EmbeddedLinux_Apps_Port.pdf "ARM EmbeddedLinux Apps Port.pdf") |
| Philip Lougher | Overview of SquashFS filesystem | [squashfs-elce.pdf](http://elinux.org/images/3/32/Squashfs-elce.pdf "Squashfs-elce.pdf") |
| Eugeny S. Mints | Taking Linux Power Management to Production Quality | not available |
| Denis Mishin | A Corner-to-Corner Approach for Cost-Effective Implementation of Consumer Electronics Human Machine Interfaces | not available |
| Michael Opdenacker | Update on filesystems for flash storage | [flash-filesystems.pdf](http://elinux.org/images/a/ab/Flash-filesystems.pdf "Flash-filesystems.pdf") [flash-filesystems.odp](http://elinux.org/images/7/72/Flash-filesystems.odp "Flash-filesystems.odp") |
| Thomas Petazzoni | Choosing embedded graphical libraries | [choosing-embedded-graphical-libraries.pdf](http://elinux.org/images/6/64/Choosing-embedded-graphical-libraries.pdf "Choosing-embedded-graphical-libraries.pdf") [choosing-embedded-graphical-libraries.odp](http://elinux.org/images/6/60/Choosing-embedded-graphical-libraries.odp "Choosing-embedded-graphical-libraries.odp") |
| Gregers Petersen | Embedded Magic, or How People Suddenly Find Out That They Are Collaborating (Some Thoughts Parsed Through the Brain of an Anthropologist) | not available |
| Matt Porter | Managing NAND Flash to Optimize Product Longevity | [managing_nand_flash_elce.pdf](http://elinux.org/images/d/de/Managing_nand_flash_elce.pdf "Managing nand flash elce.pdf") |
| Bill Roman | Using Appropriate Wear-leveling to Extend Product Lifespan | [Datalight_ELC_Presentation_6_Nov_2008.pdf](http://elinux.org/images/a/a8/Datalight_ELC_Presentation_6_Nov_2008.pdf "Datalight ELC Presentation 6 Nov 2008.pdf") |
| Frank Rowand | Adventures in real-time performance tuning, part 1 | [adventures_in_real_time_performance_tuning_part_1-no_hidden.pdf](http://elinux.org/images/b/b0/Adventures_in_real_time_performance_tuning_part_1-no_hidden.pdf "Adventures in real time performance tuning part 1-no hidden.pdf") |
| Frank Rowand | Adventures in real-time performance tuning, part 2 | [adventures_in_real_time_performance_tuning_part_2-no_hidden.pdf](http://elinux.org/images/d/d2/Adventures_in_real_time_performance_tuning_part_2-no_hidden.pdf "Adventures in real time performance tuning part 2-no hidden.pdf") |
| Frank Scholz | Building bridges - coherence, a DLNA/UPnP framework | not available |
| David Woodhouse | Community and Embedded Linux | [dwmw2-community_and_embedded_linux.pdf](http://elinux.org/images/c/c5/Dwmw2-community_and_embedded_linux.pdf "Dwmw2-community and embedded linux.pdf") |
| Wookey | Solar hot water geekery: making infinitely versatile home heating controllers with free software and open hardware | [hotwaterballoon-CELF2008.pdf](http://elinux.org/images/a/a7/Hotwaterballoon-CELF2008.pdf "Hotwaterballoon-CELF2008.pdf") [src.tgz](http://elinux.org/images/2/28/Hotwaterballoon-CELF2008.tar.gz "Hotwaterballoon-CELF2008.tar.gz") |
| Vitaly Wool | Using "Dot Clock" Displays In Embedded Linux Devices | [dotclock.pdf](http://elinux.org/images/3/38/Dotclock.pdf "Dotclock.pdf") [dotclock.odp](http://elinux.org/images/6/62/Dotclock.odp "Dotclock.odp") |
| Vitaly Wool | NAND Chip Driver Optimizaton and Tuning | [nand_opt.pdf](http://elinux.org/images/8/82/Nand_opt.pdf "Nand opt.pdf"), [nand_opt.odp](http://elinux.org/images/4/49/Nand_opt.odp "Nand opt.odp") |

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Presentations](http://eLinux.org/Category:Presentations "Category:Presentations")
*   [ELCE](http://eLinux.org/Category:ELCE "Category:ELCE")
*   [2008](http://eLinux.org/Category:2008 "Category:2008")
*   [Events](http://eLinux.org/Category:Events "Category:Events")

# ELC Europe 2009 Presentations

> From: [eLinux.org](http://eLinux.org/ELC_Europe_2009_Presentations "http://eLinux.org/ELC_Europe_2009_Presentations")

# ELC Europe 2009 Presentations

Videos of most talks are available at: [Free Electrons ELCE 2009](http://free-electrons.com/blog/elce-2009-videos/)

## Presentations

**Keynotes and Panel**

| **Presenter(s)** | **Session Description** | **Presentation** |
| Jon Masters | Porting Linux | [Masters-PortingLinux.odp](http://elinux.org/images/0/0e/Masters-PortingLinux.odp "Masters-PortingLinux.odp") [Masters-PortingLinux.pdf](http://elinux.org/images/e/e3/Masters-PortingLinux.pdf "Masters-PortingLinux.pdf") |
| Philippe Gerum | State of Real-Time Linux: Don't Stop Until History Follows | [gerum-elce-09.odp](http://elinux.org/images/7/70/Gerum-elce-09.odp "Gerum-elce-09.odp") [gerum-elce-09.pdf](http://elinux.org/images/1/14/Gerum-elce-09.pdf "Gerum-elce-09.pdf") |

**Sessions**

| **Session Presenter(s)** | **Presentation** | **File Links** |
| Carmelo Amoroso | LKM Fast Loader Based on ELF Hash Table | [C_AMOROSO_Fast_lkm_loader_ELC-E_2009.pdf](http://elinux.org/images/1/18/C_AMOROSO_Fast_lkm_loader_ELC-E_2009.pdf "C AMOROSO Fast lkm loader ELC-E 2009.pdf") |
| Jean-Pierre André, Szabolcs Szakacsits | Unexpected Emergence of Wide Use of NTFS in CE Devices | [andre-NTFS3G.pdf](http://elinux.org/images/0/04/Andre-NTFS3G.pdf "Andre-NTFS3G.pdf") [Andre-NTFS3G.ppt](http://elinux.org/images/b/b0/Andre-NTFS3G.ppt "Andre-NTFS3G.ppt") |
| Gustavo Sverzut Barbieri | Canola Application and Framework for Rich GUI | [GustavoSverzutBarbieri-elce2009-canola2.pdf](http://elinux.org/images/5/5c/GustavoSverzutBarbieri-elce2009-canola2.pdf "GustavoSverzutBarbieri-elce2009-canola2.pdf") |
| Patrick Bellasi | Constrained Power Management | [Bellasi-ConstrainedPowerManagement.pdf](http://elinux.org/images/6/60/Bellasi-ConstrainedPowerManagement.pdf "Bellasi-ConstrainedPowerManagement.pdf") |
| Gilad Ben-Yossef | The Good, The Bad and Ugly: On Threads, Processes and Co-Processes | [Ben-Yossef-GoodBadUgly.odp](http://elinux.org/images/d/d4/Ben-Yossef-GoodBadUgly.odp "Ben-Yossef-GoodBadUgly.odp") [Ben-Yossef-GoodBadUgly.pdf](http://elinux.org/images/1/1c/Ben-Yossef-GoodBadUgly.pdf "Ben-Yossef-GoodBadUgly.pdf") |
| Tim Bird | Analyzing Kernel Function Execution with Ftrace | [Bird-Ftrace.pdf](http://elinux.org/images/4/4b/Bird-Ftrace.pdf "Bird-Ftrace.pdf") [Bird-Ftrace.ppt](http://elinux.org/images/e/e8/Bird-Ftrace.ppt "Bird-Ftrace.ppt") |
| Vladislav Buzov | Digital TV and Application Store, Solving Security Problems | [Buzov-SMACK.pdf](http://elinux.org/images/0/06/Buzov-SMACK.pdf "Buzov-SMACK.pdf") |
| Grégory Clement | How We Got a 3D Application Booting in 5 Seconds Under Linux | [Clement-Boot3DApplicationIn5s.pdf](http://elinux.org/images/9/90/Clement-Boot3DApplicationIn5s.pdf "Clement-Boot3DApplicationIn5s.pdf") |
| Bas Engel | Accelerating Digital Television Innovating -- Joint SPACE Initiative | [2009_ELC_Accelerating_Digital_Television_Innovation.pdf](http://elinux.org/images/2/26/2009_ELC_Accelerating_Digital_Television_Innovation.pdf "2009 ELC Accelerating Digital Television Innovation.pdf") |
| Florian Fainelli | OpenWrt, as Rapid Embedded Systems Prototyping Framework | [fainelli-openwrt-elce2009.pdf](http://elinux.org/images/d/d4/Fainelli-openwrt-elce2009.pdf "Fainelli-openwrt-elce2009.pdf") |
| Pierre Ficheux | Using QEMU for Industrial Embedded Applications | [pficheux_elce09.pdf](http://elinux.org/images/4/40/Pficheux_elce09.pdf "Pficheux elce09.pdf") |
| Adriaan de Groot | Software Licensing - A Lot Like Programming | [DeGroot-SoftwareLicensing.pdf](http://elinux.org/images/1/17/DeGroot-SoftwareLicensing.pdf "DeGroot-SoftwareLicensing.pdf") |
| Sascha Hauer, Marc Kleine-Budde | U-Boot-v2 | [Hauer-U_BootV2.pdf](http://elinux.org/images/9/90/Hauer-U_BootV2.pdf "Hauer-U BootV2.pdf") |
| Gordon Hecker | e2factory - Open Source Embedded Linux Build System | [e2factory_elc-e09.pdf](http://elinux.org/images/a/af/E2factory_elc-e09.pdf "E2factory elc-e09.pdf") |
| Cedric Hombourger | Why OpenEmbedded Proved a Good Foundation for MontaVista | [Hombourger-Why_oe_good_foundation_for_mv.odp](http://elinux.org/images/a/ac/Hombourger-Why_oe_good_foundation_for_mv.odp "Hombourger-Why oe good foundation for mv.odp") [Hombourger-Why_oe_good_foundation_for_mv.pdf](http://elinux.org/images/0/0f/Hombourger-Why_oe_good_foundation_for_mv.pdf "Hombourger-Why oe good foundation for mv.pdf") |
| Marcin Juszkiewicz | Hacking with OpenEmbedded | [Juszkiewicz-HackingWithOpenEmbedded.pdf](http://elinux.org/images/e/e4/Juszkiewicz-HackingWithOpenEmbedded.pdf "Juszkiewicz-HackingWithOpenEmbedded.pdf") |
| Guennadi Liakhovetski | Embedded Video Capture Under Linux: The Soc Camera Framework | [soc-camera.pdf](http://elinux.org/images/f/f2/Soc-camera.pdf "Soc-camera.pdf") |
| Bruno Cardoso Lopes | The LLVM MIPS and ARM Back-ends | [Lopes-LLVM.pdf](http://elinux.org/images/a/a8/Lopes-LLVM.pdf "Lopes-LLVM.pdf") |
| Michael Opdenacker | Update on Boot Time Reduction Techniques | [opdenacker-boot-time.pdf](http://elinux.org/images/4/43/Opdenacker-boot-time.pdf "Opdenacker-boot-time.pdf") [opdenacker-boot-time.odp](http://elinux.org/images/c/c9/Opdenacker-boot-time.odp "Opdenacker-boot-time.odp") |
| Samuel Ortiz | Linux Wifi Solutions for Mobile Platforms | [Ortiz-elce-2009.pdf](http://elinux.org/images/d/da/Ortiz-elce-2009.pdf "Ortiz-elce-2009.pdf") |
| Nicolas Palix, Julia Lawall, Gilles Muller | Coccinelle: A Program Matching and Transformation Tool for Systems Code | [Coccinelle_ELC-E_2009.odp](http://elinux.org/images/9/95/Coccinelle_ELC-E_2009.odp "Coccinelle ELC-E 2009.odp")[Coccinelle_ELC-E_2009.pdf](http://elinux.org/images/b/b7/Coccinelle_ELC-E_2009.pdf "Coccinelle ELC-E 2009.pdf") |
| Pascal Pellet | Linux Embedded Applications in Machine Vision | [pascalPellet-e2vELC-E.pdf](http://elinux.org/images/7/73/PascalPellet-e2vELC-E.pdf "PascalPellet-e2vELC-E.pdf") |
| Matt Porter | Mythbusters: Android | [Mythbusters_Android.pdf](http://elinux.org/images/2/2d/Mythbusters_Android.pdf "Mythbusters Android.pdf") |
| Frank Rowand | A Survey of Linux Measurement and Diagnostic Tools | [survey_of_linux_measurement_and_diagnostic_tools.pdf](http://elinux.org/images/c/cf/Survey_of_linux_measurement_and_diagnostic_tools.pdf "Survey of linux measurement and diagnostic tools.pdf") |
| Alessandro Rubini | Use of the Fast IRQ (FIQ) in ARM-Linux | [0910-elce-fiq.pdf](http://elinux.org/images/2/27/0910-elce-fiq.pdf "0910-elce-fiq.pdf") |
| Wolfram Sang | Developer's Diary: The Device Tree | [Sang-DiaryDeviceTree.pdf](http://elinux.org/images/e/e5/Sang-DiaryDeviceTree.pdf "Sang-DiaryDeviceTree.pdf") |
| Stefan Schwarzer | Disko v1.6 – An Application Framework for Embedded Devices | TBD: legal status of 1 slide is unclear |
| Robert Schwebel | Customizing Embedded Linux Systems with PTXdist | [Schwebel-Customizing_with_PTXdist.pdf](http://elinux.org/images/6/6c/Schwebel-Customizing_with_PTXdist.pdf "Schwebel-Customizing with PTXdist.pdf") |
| Jean-Marc Temmos | Genivi Alliance : An Effort to Build a Linux-based In Vehicle Infotainement Platform | [Temmos-GeniviVisteon.pdf](http://elinux.org/images/e/ec/Temmos-GeniviVisteon.pdf "Temmos-GeniviVisteon.pdf") |
| Francesco Virlinzi | A Generic Clock Framework Implementation | [ELC_E_2009_Generic_Clock_Framework.pdf](http://elinux.org/images/6/64/ELC_E_2009_Generic_Clock_Framework.pdf "ELC E 2009 Generic Clock Framework.pdf") |
| Alex de Vries | Technical Features and Components of Open Source Build Systems | not available |
| Nina Wilner | Porting Android to Power Architecture | [Android_On_Power.pdf](http://elinux.org/images/0/07/Android_On_Power.pdf "Android On Power.pdf") |
| Vitaly Wool | Using Device Trees on ARM Platforms | [vwool-device_trees_arm.odp](http://elinux.org/images/c/cb/Vwool-device_trees_arm.odp "Vwool-device trees arm.odp") [vwool-device_trees_arm.pdf](http://elinux.org/images/d/d8/Vwool-device_trees_arm.pdf "Vwool-device trees arm.pdf") |

**Birds-Of-A-Feather Sessions**

| **BOF Presenter(s)** | **Presentation** | **File Links** |
| Tim Bird | Android | [Bird-Android-BOF.pdf](http://elinux.org/images/2/2f/Bird-Android-BOF.pdf "Bird-Android-BOF.pdf") [Bird-Android-BOF.ppt](http://elinux.org/images/5/57/Bird-Android-BOF.ppt "Bird-Android-BOF.ppt") |
| Peter Korsgaard, Thomas Petazzoni | Buildroot | [buildroot-bof.pdf](http://elinux.org/images/7/70/Buildroot-bof.pdf "Buildroot-bof.pdf") |
| Yann E. Morin | Building Our Own Toolchains For Our Embedded Projects: Why, and How To | [Morin-Crosstool-NG.pdf](http://elinux.org/images/5/52/Morin-Crosstool-NG.pdf "Morin-Crosstool-NG.pdf") [Morin-Crosstool-NG.odp](http://elinux.org/images/b/b4/Morin-Crosstool-NG.odp "Morin-Crosstool-NG.odp") |
| Michael Opdenacker | Small Business | [opdenacker-small-business-bof.pdf](http://elinux.org/images/5/57/Opdenacker-small-business-bof.pdf "Opdenacker-small-business-bof.pdf") [opdenacker-small-business-bof.odp](http://elinux.org/images/9/9a/Opdenacker-small-business-bof.odp "Opdenacker-small-business-bof.odp") |
| Pierre Pronchery | Hackable Devices: The New Possibilities of Open Hardware | not available |

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [2009](http://eLinux.org/Category:2009 "Category:2009")
*   [ELCE](http://eLinux.org/Category:ELCE "Category:ELCE")
*   [Events](http://eLinux.org/Category:Events "Category:Events")
*   [Presentations](http://eLinux.org/Category:Presentations "Category:Presentations")

# ELC Europe 2010 Presentations

> From: [eLinux.org](http://eLinux.org/ELC_Europe_2010_Presentations "http://eLinux.org/ELC_Europe_2010_Presentations")

# ELC Europe 2010 Presentations

Presenters, Demo-ers, Participants: Thanks very much for your participation in CELF's [Embedded Linux Conference Europe 2010](http://www.embeddedlinuxconference.com/elc_europe10/index.html).

This page is for collecting the presentations that were made at the conference. During and after the conference we will collect materials from the presenters and place them here. Please watch this page if you are interested in a particular presentation - and it if doesn't show up, please send me an e-mail and we'll try to track it down.

## Contents

*   1 Videos
*   2 Instructions
*   3 Table of Presentations
    *   3.1 Keynotes
    *   3.2 Presentations
    *   3.3 Birds-of-a-Feather Sessions
    *   3.4 Tutorial workshops
*   4 Instructions for Presenters

## Videos

[Videos from the conference](http://free-electrons.com/blog/elce-2010-videos/) were recorded by [Free Electrons](http://free-electrons.com/). They are available in full HD and are encoded with the new Open Source and royalty free [VP8 audio codec](http://en.wikipedia.org/wiki/VP8).

## Instructions

**Presenters:** Please post your technical conference presentations on this page. (See Instructions below the tables)

## Table of Presentations

### Keynotes

| **Presenter(s)** | **Session Description** | **Presentation** |
| Ralf Baechle | Embedded Linux - The State of the Nation |  |
| Ari Rauch | The Dynamic Role of Open Linux Architectures in Today's Mobile Landscape | [Elce2010-ari-rauch.pdf](http://elinux.org/images/b/b5/Elce2010-ari-rauch.pdf "Elce2010-ari-rauch.pdf") |

### Presentations

| **Presenter(s)** | **Session Description** | **Presentation** |
| Andrew Murray | The Right Approach to Minimal Boot Times | [RightApproachMinimalBootTimes.pdf](http://elinux.org/images/f/f7/RightApproachMinimalBootTimes.pdf "RightApproachMinimalBootTimes.pdf") |
| Andrey Fedotov | Linux Application in Safety-Critical Environment: A Real-Life Example | [LinuxInSCEnvironment.pdf](http://elinux.org/images/9/96/LinuxInSCEnvironment.pdf "LinuxInSCEnvironment.pdf") |
| Anna Dushistova | Eclipse and Embedded Linux Developers: What It Can and What It Cannot Do For You | [EclipseForEmbeddedLinuxDevelopers-AnnaDushistova.pdf](http://elinux.org/images/7/72/EclipseForEmbeddedLinuxDevelopers-AnnaDushistova.pdf "EclipseForEmbeddedLinuxDevelopers-AnnaDushistova.pdf") |
| Armijn Hemel | Introducing the Binary Analysis Tool | [Elce2010.odp](http://elinux.org/images/c/c2/Elce2010.odp "Elce2010.odp") |
|  | [Practical Testing of Open Source Embedded Systems](http://www.mind.be/?page=embedded-software-testing) | [PDF](http://elinux.org/images/e/ec/Embedded_software_testing.pdf "Embedded software testing.pdf"), [Editable (odp)](http://elinux.org/images/9/9b/Embedded_software_testing.odp "Embedded software testing.odp") |
| Arun Raghavan | PulseAudio In The Embedded World | [Slides (pdf)](http://elinux.org/images/6/61/Arun-pulse-elce2010.pdf "Arun-pulse-elce2010.pdf") |
| Benjamin Gaignard | Android and GStreamer | [Android_and_GStreamer.ppt](http://elinux.org/images/a/a4/Android_and_Gstreamer.ppt "Android and Gstreamer.ppt") |
| Benjamin Zores | State of Multimedia in 2010's Embedded Linux Devices | [State_of_Multimedia.pdf](http://elinux.org/images/8/89/State_of_Multimedia_in_2010_Embedded_Linux_Devices.pdf "State of Multimedia in 2010 Embedded Linux Devices.pdf") |
| Carmelo Amoroso and Rosario Contarino | Lightweight Prelinker for Kernel Modules | [LKM_Preresolver_ELC-E_2010.pdf](http://elinux.org/images/8/89/LKM_Preresolver_ELC-E_2010.pdf "LKM Preresolver ELC-E 2010.pdf") |
| David Anders | Board Bringup: Methods and Utilities | [PDF](http://elinux.org/images/4/43/Elc-eu-board-bringup.pdf "Elc-eu-board-bringup.pdf") [ODP](http://elinux.org/images/c/cb/Elc-eu-board-bringup.odp "Elc-eu-board-bringup.odp") |
| Frank Rowand | Identifying Embedded Real-Time Latency Issues: I-Cache and Locks | [Rt_latency_cache_and_locks.pdf](http://elinux.org/images/6/67/Rt_latency_cache_and_locks.pdf "Rt latency cache and locks.pdf") |
| Grant Likely | ARM Flattened Device Tree Status Report | [ELCE-2010 ARM Device Tree Status Report.pdf](http://elinux.org/images/1/14/ELCE-2010_ARM_Device_Tree_Status_Report.pdf "ELCE-2010 ARM Device Tree Status Report.pdf") |
| Gustavo F. Padovan | The Linux Bluetooth Stack | [Bluetooth_stack.pdf](http://elinux.org/images/2/2a/Bluetooth_conference.pdf "Bluetooth conference.pdf") |
| Hans Verkuil | Supporting SoC Video Subsystems in Video4linux | [SoC_and_V4L2.odp](http://elinux.org/images/e/e8/SoC_and_V4L2.odp "SoC and V4L2.odp") |
| Harald Welte | Running your own GSM+GPRS network using OpenBSC, OsmoSGSN and OpenGGSN | [OpenBSC.pdf](http://elinux.org/images/6/65/Elce2010-welte-openbsc.pdf "Elce2010-welte-openbsc.pdf") |
| Iago Toral Quiroga | Grilo: Integrating Multimedia Content in Applications | [Grilo.pdf](http://elinux.org/images/a/ac/Grilo.pdf "Grilo.pdf") |
| Jake Edge | Understanding Threat Models for Embedded Devices | [Edge-ELCE-2010.pdf](http://elinux.org/images/8/86/Edge-ELCE-2010.pdf "Edge-ELCE-2010.pdf") - [Edge-ELCE-2010.odp](http://elinux.org/images/7/7f/Edge-ELCE-2010.odp "Edge-ELCE-2010.odp") |
| Jean-Paul Saman | Porting VLC to TI DaVinci | [slides](http://elinux.org/images/d/db/Vlc-davinci-port.pdf "Vlc-davinci-port.pdf") |
|  | A Gentle Introduction to Autotools | [slides](http://elinux.org/images/3/33/101028-autotools-celf.odp "101028-autotools-celf.odp") - [demo code](http://elinux.org/images/d/d4/Autotools-demo-code.tgz "Autotools-demo-code.tgz") |
| Kevin Hilman | Runtime Power Management | [slides](http://elinux.org/images/c/cd/ELC-2010-khilman-Runtime-PM.odp "ELC-2010-khilman-Runtime-PM.odp") |
| Klaas Van Gend | Deflating the Virtualization Hype in 3 Simple Steps | [slides](http://elinux.org/images/5/5c/Deflate-virtualization.pdf "Deflate-virtualization.pdf") |
| Koen Kooi | The State of OpenEmbedded and Tooling to Make Life Easier | [PDF](http://elinux.org/images/7/73/Openembedded.pdf "Openembedded.pdf") |
| Leif Lindholm | Software Considerations When Using High-Performance Memory Systems | [Software_implications_memory_systems.pdf](http://elinux.org/images/f/fa/Software_implications_memory_systems.pdf "Software implications memory systems.pdf") |
| Michael Opdenacker | Flash Filesystem Benchmarks | [PDF](http://elinux.org/images/d/d7/Elce2010-flash-filesystems.pdf "Elce2010-flash-filesystems.pdf"), [ODP](http://elinux.org/images/4/4f/Elce2010-flash-filesystems.odp "Elce2010-flash-filesystems.odp") |
| Peter Korsgaard | Do More With Less - On Driver-less Interfacing with Embedded Devices | [Do_more_with_less.pdf](http://elinux.org/images/5/52/Do_more_with_less.pdf "Do more with less.pdf") |
| Philippe Robin | Facilitating Open Source Development and Collaboration | [ELCE-2010-Linaro.pdf](http://elinux.org/images/0/00/ELCE-2010-Linaro.pdf "ELCE-2010-Linaro.pdf") |
| Ray Kinsella | Xen in Embedded Systems | [Xen_in_Embedded_Systems.pdf](http://elinux.org/images/1/11/Xen_in_Embedded_Systems.pdf "Xen in Embedded Systems.pdf") |
| Robert Schuster (with kind support by Xerxes Ranby for demonstration) | OpenJDK for Embedded Linux Devices | [Cross-compiling_OpenJDK.pdf](http://elinux.org/images/4/40/Cross-compiling_OpenJDK.pdf "Cross-compiling OpenJDK.pdf") |
| Robert Schwebel and Sascha Hauer | Barebox: Booting Linux Fast and Fancy | [Booting-Linux-Fast-and-Fancy.pdf](http://elinux.org/images/8/89/ELCE-2010-Barebox-Booting-Linux-Fast-and-Fancy.pdf "ELCE-2010-Barebox-Booting-Linux-Fast-and-Fancy.pdf") |
| Ruud Derwig and/or Mischa Jonker | Portability Is For People Who Cannot Write New Programs - Experience with GNU, LINUX, and other Open Source on ARC Processors | [ELC-E_Arc_Linux.pdf](http://elinux.org/images/0/0d/ELC-E_Arc_Linux.pdf "ELC-E Arc Linux.pdf") |
| Stefan Kost | Meego Multimedia | [MeeGoMultimedia.pdf](http://elinux.org/images/d/d1/MeeGoMultimedia.pdf "MeeGoMultimedia.pdf") |
| Tim Bird | Android System Programming - Tips and Tricks | [Android-tips-and-tricks-2010-10.pdf](http://elinux.org/images/c/c9/Android-tips-and-tricks-2010-10.pdf "Android-tips-and-tricks-2010-10.pdf") |
| Wolfram Sang | Developer's Diary: Supporting Maintainers | [ELCE10-SupportingMaintainers.pdf](http://elinux.org/images/2/25/ELCE10-SupportingMaintainers.pdf "ELCE10-SupportingMaintainers.pdf") |
| Wookey | YAFFS Updates | [yaffsupdate-ELCE-2010.pdf](http://wookware.org/talks/yaffsupdate-ELCE-2010.pdf) |
| Yann E. Morin | Crosstool-NG, A Cross-Toolchain Generator | [ELC-E 2010 - crosstool-NG.odp](http://elinux.org/images/3/36/ELC-E_2010_-_crosstool-NG.odp "ELC-E 2010 - crosstool-NG.odp") |
| Yoshitake Kobayashi | Linux Kernel Acceleration for Long-term Testing | [PDF](http://elinux.org/images/6/6d/Linux_Kernel_Acceleration_for_Long-term_Testing.pdf "Linux Kernel Acceleration for Long-term Testing.pdf") |

**Short Sessions**

| **Presenter(s)** | **Session Description** | **Presentation** |
| John Ogness | IPL+UBI: Flexible and Reliable with Linux as the Bootloader | [ipl_and_ubi.pdf](http://elinux.org/images/4/45/Ipl_and_ubi.pdf "Ipl and ubi.pdf") |
| Martin Michlmayr | Adapting Debian Installer to NAS and Other Consumer Devices | [michlmayr-debian-on-nas.pdf](http://elinux.org/images/6/67/Michlmayr-debian-on-nas.pdf "Michlmayr-debian-on-nas.pdf") |
| Ravi Sankar Guntur | A Simple Method to Detect Memory Leaks and Buffer Overruns | [SafeMem-ELC-E-2010.pdf](http://elinux.org/images/d/d5/SafeMem-ELC-E-2010.pdf "SafeMem-ELC-E-2010.pdf") |
| Vitaly Wool | Porting Legacy Code to Linux Userspace Driver Framework |  |
| Will Newton | Exploiting On-chip Memories in Embedded Linux Applications | [Will_newton-elc2010-slides.pdf](http://elinux.org/images/0/09/Will_newton-elc2010-slides.pdf "Will newton-elc2010-slides.pdf") |

### Birds-of-a-Feather Sessions

| **Presenter(s)** | **Session Description** | **Presentation** |
| David Anders - Jayabharath Goluguri | OMAP3/4 BoF | [OMAP BoF Slides](http://elinux.org/images/7/70/OMAP3-4_BoF.pdf "OMAP3-4 BoF.pdf") |
| Frank Scholz | Android and Its Impact On Home Entertainment and Home Automation |  |
| Grant Likely | Small Business Owners BoF |  |

### Tutorial workshops

| **Presenter(s)** | **Session Description** | **Presentation** | **Broken out presentations** |
| Chris Simmonds | The Embedded Linux Quick Start Guide | [linux-quick-start.tar.gz](http://elinux.org/images/c/cc/Linux-quick-start.tar.gz "Linux-quick-start.tar.gz") |  
*   [01-linux-quick-start.pdf](http://elinux.org/images/1/1e/01-linux-quick-start.pdf "01-linux-quick-start.pdf")
*   [02-linux-quick-start.pdf](http://elinux.org/images/4/4f/02-linux-quick-start.pdf "02-linux-quick-start.pdf")
*   [03-linux-quick-start.pdf](http://elinux.org/images/9/91/03-linux-quick-start.pdf "03-linux-quick-start.pdf")
*   [linux-quick-start-lab-notes.pdf](http://elinux.org/images/8/83/Linux-quick-start-lab-notes.pdf "Linux-quick-start-lab-notes.pdf")

 |
| Chris Simmonds | What Else Can You Do with Android? | [android-inside.tar.gz](http://elinux.org/images/0/0c/Android-inside.tar.gz "Android-inside.tar.gz") |  
*   [01-android-inside.pdf](http://elinux.org/images/1/1a/01-android-inside.pdf "01-android-inside.pdf")
*   [02-android-inside.pdf](http://elinux.org/images/d/d4/02-android-inside.pdf "02-android-inside.pdf")
*   [03-android-inside.pdf](http://elinux.org/images/7/71/03-android-inside.pdf "03-android-inside.pdf")
*   [android-inside-lab-notes.pdf](http://elinux.org/images/7/72/Android-inside-lab-notes.pdf "Android-inside-lab-notes.pdf")

 |

## Instructions for Presenters

Please create a link in the table for your presentation, copying the style of other links or as follows:

[[Media:name_of_your_presentation.pdf | name_of_your_presentation.pdf]] Note the supported mime types on the [Upload file](http://eLinux.org/Special:Upload "Special:Upload") page. The latter example uses a PDF example, your file type can be different.

(You may need to create an account in order to edit the wiki or upload files.)

When you have created the link, click on it to upload the file containing your slides.

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [ELCE](http://eLinux.org/Category:ELCE "Category:ELCE")
*   [2010](http://eLinux.org/Category:2010 "Category:2010")
*   [Events](http://eLinux.org/Category:Events "Category:Events")
*   [Presentations](http://eLinux.org/Category:Presentations "Category:Presentations")

# ELC Europe 2013 Presentations

> From: [eLinux.org](http://eLinux.org/ELC_Europe_2013_Presentations "http://eLinux.org/ELC_Europe_2013_Presentations")

# ELC Europe 2013 Presentations

Presenters, Demo-ers, Participants: Thanks very much for your participation in Linux Foundation's [Embedded Linux Conference Europe 2013](https://events.linuxfoundation.org/events/embedded-linux-conference-europe).

This page is for collecting the presentations that were made at the conference. During and after the conference we will collect materials from the presenters and place them here. Please watch this page if you are interested in a particular presentation - and if it doesn't show up, please [send me an email](http://eLinux.org/Special:EmailUser/Wmat "Special:EmailUser/Wmat") and we'll try to track it down.

## Contents

*   1 Videos
*   2 Instructions
*   3 Table of Presentations
    *   3.1 Instructions for Presenters

## Videos

Some of the videos are available at [`www.youtube.com/playlist?list=PLbzoR-pLrL6oxnDyb7IvnNOOBur7z_8tE`](http://www.youtube.com/playlist?list=PLbzoR-pLrL6oxnDyb7IvnNOOBur7z_8tE).

## Instructions

**Presenters:** Please post your technical conference presentations on this page. (See Instructions below the tables)

# Table of Presentations

**Presentations**

**Presenter(s)**

**Session Description**

**Presentation**

Day 1 (24th Oct. 2013)

Chris Simmonds

Keynote: A timeline for embedded Linux

[PDF](http://eLinux.org/images/0/07/Csimmonds-embedded-linux-timeline-2013.pdf "Csimmonds-embedded-linux-timeline-2013.pdf")

Michael Christofferson

A Portable Clock Cycle Based Performance Measurement System

[PDF](http://eLinux.org/index.php?title=Special:Upload&wpDestFile=Christofferson-A_Portable_Clock_Cycle_Based_Performance_Measurement_System "Christofferson-A Portable Clock Cycle Based Performance Measurement System")

Darren Hart

How Not to Write x86 Platform Drivers

[PDF](http://eLinux.org/images/e/ec/Hart-x86-platform.pdf "Hart-x86-platform.pdf")

Dave Stewart

How to Beat Codesweats with the Yocto Project

[PDF](http://eLinux.org/index.php?title=Special:Upload&wpDestFile=How_to_Beat_Codesweats_with_the_Yocto_Project.pdf "How to Beat Codesweats with the Yocto Project.pdf")

Hisao Munakata

LTSI: Long Term Stable Kernel and it's Testing

[PDF](http://eLinux.org/images/5/59/Elce2013_LTSIansTESTING.pdf "Elce2013 LTSIansTESTING.pdf")

Thomas Petazzoni

Device Tree for Dummies

[PDF](http://eLinux.org/images/a/a3/Elce2013-petazzoni-devicetree-for-dummies.pdf "Elce2013-petazzoni-devicetree-for-dummies.pdf")

Russ Dill

Extending the swsusp Hibernation Framework to ARM

[PDF](http://eLinux.org/images/b/b7/Dill-slides_1.pdf "Dill-slides 1.pdf")

Wolfram Sang

Maintainer's Diary - We Have a Scaling Problem

[PDF](http://eLinux.org/images/b/b0/Sang-ELCE2013_WolframSang_WeHaveAScalingProblem.pdf "Sang-ELCE2013 WolframSang WeHaveAScalingProblem.pdf")

Michael Opdenacker

Small Business BOF

[PDF](http://eLinux.org/images/4/4e/Opdenacker-small-business-bof-elce2013.pdf "Opdenacker-small-business-bof-elce2013.pdf")

Marek Vasut

Using i.MX28/i.MX233 without Freescale tools

[PDF](http://www.denx.de/wiki/pub/U-Boot/MiniSummitELCE2013/2013-u-boot-mxs-without-fsl-tools.pdf)

Scott Wood

TPL:SPL Loading SPL (and, SPL as just another U-Boot config)

[PDF](http://www.denx.de/wiki/pub/U-Boot/MiniSummitELCE2013/tpl-presentation.pdf)

Stefano Babic

Falcon Boot: current status and enhancements

[PDF](http://www.denx.de/wiki/pub/U-Boot/MiniSummitELCE2013/2013-ELCE-U-Boot-Falcon-Boot.pdf)

Mark Rutland

Devicetree: The Disaster So Far

[PDF](http://eLinux.org/images/8/8e/Rutland-presentation_3.pdf "Rutland-presentation 3.pdf")

Mischa Jonker

Fighting latency: How to optimize your system using perf

[PDF](http://eLinux.org/images/3/37/ELCE_-_fighting_latency.pdf "ELCE - fighting latency.pdf")

Paul Eggleton

Keeping It Green: Integrated QA with the Yocto Project

[PDF](http://eLinux.org/images/3/37/Eggleton-Keeping_it_Green.pdf "Eggleton-Keeping it Green.pdf")

Simon Glass

Verified Boot on Chrome OS and How to do it yourself

[PDF](http://eLinux.org/images/0/05/Glass-chromeos_and_diy_vboot_0.pdf "Glass-chromeos and diy vboot 0.pdf")

Lukasz Majewski

Device Firmware Upgrade (DFU) - present situation and future development

[PDF](http://www.denx.de/wiki/pub/U-Boot/MiniSummitELCE2013/dfu_elce_u-boot.pdf)

Gregory Clement

Common Clock Framework how to use it

[PDF](http://eLinux.org/images/f/f1/Elce2013-clement-common-clock-framework-how-to-use-it.pdf "Elce2013-clement-common-clock-framework-how-to-use-it.pdf")

Will Deacon

From Weak to Weedy: Effective Use of Memory Barriers in the ARM Linux Kernel

[PDF](http://eLinux.org/images/7/73/Deacon-weak-to-weedy.pdf "Deacon-weak-to-weedy.pdf")

Jonathan Austin

Linux From Sensors to Servers - When is Linux not Linux?

[PDF](http://eLinux.org/images/3/35/Austin-uClinux_ELC_43_small.pdf "Austin-uClinux ELC 43 small.pdf")

Patrick Titiano

Use-Case Power Management Optimization: Identifying & Tracking Key Power Indicators

[PDF](http://eLinux.org/images/f/f9/Titiano-Use-Case_Power_Management_Optimization_ELC-E_Presentation.pdf "Titiano-Use-Case Power Management Optimization ELC-E Presentation.pdf")

Jagan Teki

U-Boot Verified RSA Boot Flow on ARM (With Demo Run)

[PDF](http://eLinux.org/images/e/e9/U-boot_verified_RSA_boot_flow_on_arm_target.pdf "U-boot verified RSA boot flow on arm target.pdf")

Simon Glass

Driver Model, Kconfig and little Patman

[PDF](http://www.denx.de/wiki/pub/U-Boot/MiniSummitELCE2013/dm-kconfig-patman.pdf)

Tom Hacohen

EFL - A UI Toolkit Designed for the Embedded World

[PDF](http://eLinux.org/images/b/b5/Hacohen-efl_elce_13_0.pdf "Hacohen-efl elce 13 0.pdf")

Marta Rybczynska

Going Linux on Massive Multicore

[PDF](http://eLinux.org/images/3/37/Rybczynska_Going_Linux_on_Massive_Multicore.pdf "Rybczynska Going Linux on Massive Multicore.pdf")

Matt Ranostay

Sigrok: Using Logic to Debug Logic

[PDF](http://eLinux.org/images/9/92/Sigrok_-_Using_Logic_to_Debug_Logic_-_ELCE_2013.pdf "Sigrok - Using Logic to Debug Logic - ELCE 2013.pdf")

Tim Bird

Status of Embedded Linux (October 2013)

[PDF](http://eLinux.org/images/f/fa/Status-of-embedded_Linux-2013-10-ELCE-v2.pdf "Status-of-embedded Linux-2013-10-ELCE-v2.pdf")

Karim Yaghmour

Android Platform Debugging and Development

[PDF](http://eLinux.org/images/5/54/Yaghmour-android-platform-debug-dev-clean-131030.pdf "Yaghmour-android-platform-debug-dev-clean-131030.pdf")

Behan Webster

LLVMLinux: The Linux Kernel with Dragon Wings

[PDF](http://eLinux.org/images/0/01/Webster.pdf "Webster.pdf")

Jessica Zhang

Modernize Embedded Linux Software Development Tool to Achieve Development Anywhere

[PDF](http://eLinux.org/images/2/26/Zhang-ELCE_2013_MordenizeTool.pdf "Zhang-ELCE 2013 MordenizeTool.pdf")

Day 2 (25th Oct. 2013)

Morten Rasmussen

BOF Power Aware Scheduling

[PDF](http://eLinux.org/index.php?title=Special:Upload&wpDestFile=Rasmussen.pdf "Rasmussen.pdf")

Alison Chaiken

Best Practices for Long Term Support and Security of the Device-Tree (DT)

[PDF](http://eLinux.org/images/d/d1/Chaiken-DT_ELCE_2013.pdf "Chaiken-DT ELCE 2013.pdf")

Martin Bis

Secure Embedded Linux Product - A Success Story

[PDF](http://eLinux.org/images/2/2f/SecureEmbeddedLinuxproduct_Bis.pdf "SecureEmbeddedLinuxproduct Bis.pdf")

Jeff Osier-Mixon

BOF Yocto Project & OpenEmbedded

[PDF](http://eLinux.org/index.php?title=Special:Upload&wpDestFile=Jefro.pdf "Jefro.pdf")

Nicolas Launet

Linux Kernel Debug and Profiling Tools

[PDF](http://eLinux.org/images/d/d7/Launet-kernel_profiling_debugging_tools_0.pdf "Launet-kernel profiling debugging tools 0.pdf")

Arnout Vanadacappelle

Android on Non-Mobile Embedded Systems

[PDF](http://eLinux.org/images/b/b3/Vandacapelle-Cap-Android-non-mobile.pdf "Vandacapelle-Cap-Android-non-mobile.pdf")

Christian Babeux

Bridging the Gap Between Hardware and Software Tracing

[PDF](http://eLinux.org/index.php?title=Special:Upload&wpDestFile=Babeux.pdf "Babeux.pdf")

Holger Dengler

Linux Secured Integrity - Protention Against Remote Attacks

[PDF](http://eLinux.org/images/7/72/Dengler-linux_secured_integrity_2013elce.pdf "Dengler-linux secured integrity 2013elce.pdf")

Peter Korsgaard

Buildroot: What is new

[PDF](http://eLinux.org/images/2/23/Buildroot-whats-new-elce2013.pdf "Buildroot-whats-new-elce2013.pdf")

Mehmet Faith Karagoz

Node.JS Appliances on Embedded Linux Devices

[PDF](http://eLinux.org/images/1/14/Karagoz-nodejs-presentation_0.pdf "Karagoz-nodejs-presentation 0.pdf")

Guillene Ribiere

Optimize DMA Configuration in Encryption Use Case

[PDF](http://eLinux.org/images/d/d0/Ribiere-Dma_Optimization_BayLibre_Guillene_v4.pdf "Ribiere-Dma Optimization BayLibre Guillene v4.pdf")

Karim Yaghmour

Running Code in the Android Stack

[PDF](http://eLinux.org/images/b/b5/Yaghmour-running-code-in-android-clean-131030.pdf "Yaghmour-running-code-in-android-clean-131030.pdf")

Yoshitake Kobayashi

An Essential Relationship between Real-time and Resource Partitioning

[PDF](http://eLinux.org/images/6/6a/ELCE2013-Kobayashi-An_Essential_Relationship_between_Real-time_and_Resource_Partitioning.pdf "ELCE2013-Kobayashi-An Essential Relationship between Real-time and Resource Partitioning.pdf")

Pantelis Antoniou

Board File to Device Tree Migration: A War Story

[PDF](http://eLinux.org/images/5/5c/ELCE2013_-_DT_War.pdf "ELCE2013 - DT War.pdf")

Lucas Stach

Next-Generation DMABUF : How To Efficiently Play Back Video on Embedded Systems

[PDF](http://eLinux.org/images/b/b0/OSELAS.Presentation-DMABUF-migration.pdf "OSELAS.Presentation-DMABUF-migration.pdf")

Frank Rowand

Using and Understanding the Real-Time Cyclictest Benchmark

[PDF](http://eLinux.org/images/f/f8/Elce2013-rowand-cyclictest.pdf "Elce2013-rowand-cyclictest.pdf")

Pawell Moll

BoF Hardware Trace in the Kernel

[PDF](http://eLinux.org/index.php?title=Special:Upload&wpDestFile=Moll.pdf "Moll.pdf")

Koen Kooi

Are Embedded Build Systems Still Needed?

[PDF](http://eLinux.org/images/0/02/Kooi.pdf "Kooi.pdf")

Attila Kinali

Debugging Electronics for the Software Engineer

[PDF](http://eLinux.org/images/2/20/Kinali.pdf "Kinali.pdf")

Mark Hatle

SPDX and the Yocto Project

[PDF](http://eLinux.org/images/3/32/Hatle-2013_ELC-E_YP_SPDX.pdf "Hatle-2013 ELC-E YP SPDX.pdf")

Sascha Hauer

Barebox and Bootloader Specification

[PDF](http://eLinux.org/images/9/90/Barebox-elce2013-bootloaderspec.pdf "Barebox-elce2013-bootloaderspec.pdf")

John Hawley

Building Interesting and Complex Robotics Using x86 Computers

[PDF](http://eLinux.org/index.php?title=Special:Upload&wpDestFile=Hawley.pdf "Hawley.pdf")

Scott Garman

Building Robots That Can See

[PDF](http://eLinux.org/images/c/cf/Garman-BuildingRobotsThatCanSee_ELCE2013_ScottGarman.pdf "Garman-BuildingRobotsThatCanSee ELCE2013 ScottGarman.pdf")

## Instructions for Presenters

Please create a link in the table for your presentation, copying the style of other links. (You may need to create an account in order to edit the wiki or upload files.)

When you have created the link, click on it to upload the file containing your slides.

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [ELCE](http://eLinux.org/Category:ELCE "Category:ELCE")
*   [2013](http://eLinux.org/Category:2013 "Category:2013")
*   [Events](http://eLinux.org/Category:Events "Category:Events")
*   [Presentations](http://eLinux.org/Category:Presentations "Category:Presentations")

# ELC Europe 2014 Presentations

> From: [eLinux.org](http://eLinux.org/ELC_Europe_2014_Presentations "http://eLinux.org/ELC_Europe_2014_Presentations")

# ELC Europe 2014 Presentations

Presenters, Demo-ers, Participants: Thanks very much for your participation in Linux Foundation's [Embedded Linux Conference Europe 2014](http://events.linuxfoundation.org/events/archive/2014/embedded-linux-conference-europe).

This page is for collecting the presentations that were made at the conference. During and after the conference we will collect materials from the presenters and place them here. Please watch this page if you are interested in a particular presentation - and if it doesn't show up, please [send me an email](http://eLinux.org/Special:EmailUser/Wmat "Special:EmailUser/Wmat") and we'll try to track it down.

# Table of Presentations

NOTE: If you add a wikilink to your presentation and attempt to upload it via the link, it may fail. If it does, use the [Special:Upload](http://eLinux.org/Special:Upload "Special:Upload") page to upload your file.

## Sessions

**Presentations**

**Session Description**

**Presenter(s)**

**Presentation**

Day 1, 11:15am

[The Orc Quest for Better Embedded Multimedia Performance Adding MIPS support to liborc](http://lccoelce14.sched.org/event/3cb94ec3a1f33f12101836b69763f0c0)

[Guillaume Emont](http://lccoelce14.sched.org/speaker/aperez6), Igalia

[PDF](http://eLinux.org/images/9/97/The_Orc_Quest_for_Better_Multimedia_Performance-ELCE-2014.pdf "The Orc Quest for Better Multimedia Performance-ELCE-2014.pdf")

[Enhancing Real-Time Capabilities with the PRU](http://lccoelce14.sched.org/event/74c34eafd1497e752277dee4890f2f7d)

[Ron Birkett](http://lccoelce14.sched.org/speaker/rbirkett), Texas Instruments

[PDF](http://eLinux.org/images/1/1c/Birkett--enhancing_rt_capabilities_with_the_pru.pdf "Birkett--enhancing rt capabilities with the pru.pdf")

[Performance Analysis Using the Perf Suite](http://lccoelce14.sched.org/event/d8e4bac7856e9a878f77509cf52d65b0)

[Mans Rullgard](http://lccoelce14.sched.org/speaker/mans1)

[The MIPS Creator CI20 Developer Board: Firing Up the Community & Melting Servers](http://lccoelce14.sched.org/event/c5a42e09bd47c020aebb2198470efe4d)

[Ian Oliver](http://lccoelce14.sched.org/speaker/ianoliver), Imagination Technologies

[Is SSH Really Secure?](http://lccoelce14.sched.org/event/6a073976ddc04b05be70ecdc120708ea)

[Peter Tornberg](http://lccoelce14.sched.org/speaker/petertornberg), Fox Technologies

[How to Collaborate on Linux Kernel Development](http://lccoelce14.sched.org/event/0ec5d312cf0ba0df68e333ead643b12f)

[Mauro Carvalho Chehab](http://lccoelce14.sched.org/speaker/m.chehab), Samsung

Day 1, 12:15am

[12 Lessons Learnt in Boot Time Reduction](http://lccoelce14.sched.org/event/e2e6e3261d3f3d5bc8cb301a6d9ac720)

[Andrew Murray](http://lccoelce14.sched.org/speaker/amurrayeb), Embedded Bits Limited

[PDF](http://eLinux.org/images/c/c1/Murray--12_lessons_learnt_in_boot_time_reduction.pdf "Murray--12 lessons learnt in boot time reduction.pdf")

[Case Study: Building a High Quality Video Pipeline Using GStreamer & V4Linux on an i.MX6](http://lccoelce14.sched.org/event/4442fa5e6f8480495dbfe5ae520af280)

[Sean Hudson](http://lccoelce14.sched.org/speaker/darknighte), Mentor Graphics

[PDF](http://eLinux.org/images/3/3d/Hudson--case_study_high_quality_video_pipleine.pdf "Hudson--case study high quality video pipleine.pdf")

[Overcoming Obstacles to Contributing to Linux](http://lccoelce14.sched.org/event/636f687ab244f7abe8ded4fa28660f7c)

[Tim Bird](http://lccoelce14.sched.org/speaker/tim.bird1), Sony Mobile

[PDF](http://eLinux.org/images/8/8f/Overcoming_Obstacles_to_Mainlining-ELCE-2014-with-notes.pdf "Overcoming Obstacles to Mainlining-ELCE-2014-with-notes.pdf")

[What Can Possibly Go Wrong?](http://lccoelce14.sched.org/event/b1c43fd705e9ffc946bc2f48d0d25796)

[Konrad Zapalowicz](http://lccoelce14.sched.org/speaker/bergo.torino), Cybercom Poland

Day 1, 2:30pm

[Bluetooth Low Energy and Internet of Things](http://lccoelce14.sched.org/event/891b99528c6abf1c47cd28b428e9f459)

[Marcel Holtmann](http://lccoelce14.sched.org/speaker/marcel4), Intel

[Open Source Medical Accessories](http://lccoelce14.sched.org/event/914c45aad42e0dc4bf38badd6614e3a0)

[Philip Verbist](http://lccoelce14.sched.org/speaker/philip.verbist), XsOnline [Rocky De Wiest](http://lccoelce14.sched.org/speaker/rockydewiest), Belgian Defence

[Transactional Device Tree & Overlays: Making Reconfigurable Hardware Work](http://lccoelce14.sched.org/event/7eceed48bd7130d60af418cc8337263b)

[Pantelis Antoniou](http://lccoelce14.sched.org/speaker/pantelis_antoniou.1sod5nt9), NVIDIA

[PDF](http://eLinux.org/images/8/82/Antoniou--transactional_device_tree_and_overlays.pdf "Antoniou--transactional device tree and overlays.pdf")

[Coming Soon, an Open Source Project Near You - the Linaro LNG Open Data Plane Initiative](http://lccoelce14.sched.org/event/e1b29ef0643d9a7fe9cbe900aed562cb)

[Michael Christofferson](http://lccoelce14.sched.org/speaker/Bomi), Enea

Day 1, 3:30pm

[A Double-Agent Developer: ARM vs x86](http://lccoelce14.sched.org/event/4f0e559f96e625b0b12d6afe50a396b6)

[David Anders](http://lccoelce14.sched.org/speaker/danders.dev), CircuitCo

[PDF](http://eLinux.org/images/1/10/Elce-x86-arm-2014.pdf "Elce-x86-arm-2014.pdf")

[Choosing your System C Library](http://lccoelce14.sched.org/event/e5589e85db26a464cba42c6adbc90106)

[Khem Raj](http://lccoelce14.sched.org/speaker/raj.khem), Comcast

[High Performance NFV Infrastructure (NFVI): DPDK Host Applications with Neutron/OpenStack and VNF Acceleration](http://lccoelce14.sched.org/event/1093f53110203890bb19e5d4ba64fee0)

[Vincent Jardin](http://lccoelce14.sched.org/speaker/kelly.leblanc), 6WIND

[Tutorial: Setting up ktest.pl - Embedded Edition](http://lccoelce14.sched.org/event/e98ef0400947b511eb9dbc09b67ab786)

[Steve Rostedt](http://lccoelce14.sched.org/speaker/rostedt), Red Hat

[PDF](http://eLinux.org/images/d/dd/Rostedt--setting_up_ktest.pl_embedded_edition.pdf "Rostedt--setting up ktest.pl embedded edition.pdf")

Day 1, 4:30pm

[Pairing WebKit and Wayland for Linux-Based Embedded Web Content Presentation Systems](http://lccoelce14.sched.org/event/23843749aa70b0b0bdb181b415b06179)

[Žan Doberš](http://lccoelce14.sched.org/speaker/zan5)ek, Igalia

[PDF](http://eLinux.org/images/b/b8/Dobersek--pairing_webkit_and_wayland.pdf "Dobersek--pairing webkit and wayland.pdf")

[Redundant booting with U-Boot](http://lccoelce14.sched.org/event/372b85674982b47a25f6b75cefa6ab84)

[Thomas Rini](http://lccoelce14.sched.org/speaker/tom.rini), Texas Instruments

[PDF](http://eLinux.org/images/3/33/Rini--redundant_booting_with_u-boot.pdf "Rini--redundant booting with u-boot.pdf")

[Software Defined Storage: Changing the Rules for Storage Architects](http://lccoelce14.sched.org/event/5b6a9dea8015035f7fec1d526e73445d)

[Ric Wheeler](http://lccoelce14.sched.org/speaker/rwheeler1), Red Hat

Day 1, 5:30pm

[BoFs: Coreboot](http://lccoelce14.sched.org/event/169a50d104d8593efac895e6df25db02)

[Moderated By Ronald G. Minnich](http://lccoelce14.sched.org/speaker/rminnich), Google

[BoFs: What are the Technical Issues on Linux For IoT](http://lccoelce14.sched.org/event/aac8eecf5f6f12533cc5ce239ec43740)

[Shinsuke Kato](http://lccoelce14.sched.org/speaker/skato), Panasonic Bryant Eastham, Panasonic

[BoFs: Yocto Project / OpenEmbedded](http://lccoelce14.sched.org/event/3f0e8363635411a93e40264545c1a96b)

[Tracey Erway](http://lccoelce14.sched.org/speaker/tracey.m.erway), Intel

[BoFs: TPM Subsystem](http://lccoelce14.sched.org/event/53819041b5b1758564b229afa6043312)

[Peter Huewe](http://lccoelce14.sched.org/speaker/peterhuewe)

[BoFs: First Failure Data Capture for Linux](http://lccoelce14.sched.org/event/d18ad5c5fe110a23f56864048359222c)

[Michael Holzheu](http://lccoelce14.sched.org/speaker/michaelholzheu1)

[Michael Müller](http://lccoelce14.sched.org/speaker/michaelmuller), IBM

Day 2, 9:00am

[Embedded Android Workshop](http://lccoelce14.sched.org/event/58e4c40fa4b62d6f50179a84e5f73768)

[Karim Yaghmour](http://lccoelce14.sched.org/speaker/karim.yaghmour), Opersys

[PDF](http://eLinux.org/images/e/e3/Yaghmour--embedded_android_workshop.pdf "Yaghmour--embedded android workshop.pdf")

Day 2, 11:15am

[Building Tools From The Outside In: Bringing User-Centered Design to Embedded Linux](http://lccoelce14.sched.org/event/21dd2db34bbced441b37533f7bc2b6a4)

[Belen Barros Pena](http://lccoelce14.sched.org/speaker/belenbarrospena1), Intel

[PDF](http://eLinux.org/images/8/8d/Pena--building_tools_from_the_outside_in.pdf "Pena--building tools from the outside in.pdf")

[Introduction to Skia: A Modern 2D Graphics Library](http://lccoelce14.sched.org/event/55114ba15bcf8a588b657f33db192589)

[Eduardo Lima](http://lccoelce14.sched.org/speaker/elima), Igalia

[PDF](http://eLinux.org/images/f/f2/Lima--introduction_to_skia_a_modern_2d_graphics_library.pdf "Lima--introduction to skia a modern 2d graphics library.pdf")

[The DRM/KMS Subsystem From a Newbie's Point of View](http://lccoelce14.sched.org/event/5cbcb305d1b019287d68a831e163ea13)

[Boris Brezillon](http://lccoelce14.sched.org/speaker/boris.brezillon), Free Electrons

[PDF](http://eLinux.org/images/1/1b/Brezellin--the_drm-kms_subsystem_from_a_newbies_point_of_view.pdf "Brezellin--the drm-kms subsystem from a newbies point of view.pdf")

[Using Embedded Linux for Infrastructure Systems](http://lccoelce14.sched.org/event/3af8cdc592291a87c8e8e32a4da88674)

[Yoshitake Kobayashi](http://lccoelce14.sched.org/speaker/yoshitake.kobayashi)

[Use "strace" to Understand Linux](http://lccoelce14.sched.org/event/089267aabc769a2ae6b567ad54c2af17)

[Harald König](http://lccoelce14.sched.org/speaker/haraldkonig), Bosch-Sensortec GmbH

Day 2, 12:15am

[Chromium OS Audio System](http://lccoelce14.sched.org/event/d85afa3c6e29efee053ac17d6cd76a98)

[Dylan Reid](http://lccoelce14.sched.org/speaker/dgreid), Google

[PDF](http://eLinux.org/images/5/5e/Reid--chromium_os_audio_system.pdf "Reid--chromium os audio system.pdf")

[prpl Foundation / OpenWrt Panel](http://lccoelce14.sched.org/event/291f13efc244f4cf77bbf9c77392b6c6)

[Kathy Giori](http://lccoelce14.sched.org/moderator/kgiori), Qualcomm Atheros [Felix Fietkau](http://lccoelce14.sched.org/speaker/felixfietkau), OpenWrt [Mathieu Olivari](http://lccoelce14.sched.org/speaker/mathieuolivari), Qualcomm Atheros [Luka Perkov](http://lccoelce14.sched.org/speaker/luka.perkov), OpenWrt

[Tuning Android for low RAM](http://lccoelce14.sched.org/event/b7fd24de420cb2375e699a604d09c2b2)

[Chris Simmonds](http://lccoelce14.sched.org/speaker/chris105)

[u-root: A Go-Based binutils Providing Scripting Convenience and Compiled-Program Performance](http://lccoelce14.sched.org/event/328270b7c306c1a5b0c38efa564a0968)

[Ronald G. Minnich](http://lccoelce14.sched.org/speaker/rminnich), Google

[PDF](http://eLinux.org/images/9/9b/Minnich--u-root_go-based_binutils.pdf "Minnich--u-root go-based binutils.pdf")

[Kernel Hacking for Hobbyists - An Outsider's Perspective](http://lccoelce14.sched.org/event/a7f9514c81332fbb4054ad9cc7d6cda4)

[Manuel Schölling](http://lccoelce14.sched.org/speaker/manuels)

[Linux Performance Tools](http://lccoelce14.sched.org/event/7b7b80432a179b48894a095ecd30885b)

[Brendan Gregg](http://lccoelce14.sched.org/speaker/bdgregg), Netflix

[Testing Video4Linux Applications and Drivers](http://lccoelce14.sched.org/event/e2acd728fbf46871b93ed5cf6b9c7a54)

[Hans Verkuil](http://lccoelce14.sched.org/speaker/hverkuil), Cisco

Day 2, 2:30pm

[Compressing Strings of the Kernel](http://lccoelce14.sched.org/event/b45cf23b7a267ee6aa91c65385fae7a8)

[Wolfram Sang](http://lccoelce14.sched.org/speaker/wsa)

[Demystifying Android's Security Underpinings](http://lccoelce14.sched.org/event/c0b7e6e649440905bbd61f9e90f48388)

[Karim Yaghmour](http://lccoelce14.sched.org/speaker/karim.yaghmour), Opersys

[PDF](http://eLinux.org/images/3/3c/Yaghmour--demystifying_androids_security_underpinings.pdf "Yaghmour--demystifying androids security underpinings.pdf")

[Embedded GPUs: A Case For Open Source Drivers](http://lccoelce14.sched.org/event/61b89bce201656259911eb5b43213938)

[Lucas Stach](http://lccoelce14.sched.org/speaker/l.stach), Pengutronix

[Generic PHY Framework: An Overview](http://lccoelce14.sched.org/event/48d5c53de1c22a685a5aaadd9c2aaee5)

[Kishon Vijay Abraham](http://lccoelce14.sched.org/speaker/kishon), Texas Instruments

[PDF](http://eLinux.org/images/1/1c/Abraham--generic_phy_framework_an_overview.pdf "Abraham--generic phy framework an overview.pdf")

[Square Pegs in Round holes, or System Level Performance Data and perf](http://lccoelce14.sched.org/event/8ef55a3e4f0e09d422b8fa8f7d7fcd9b)

[Pawel Moll](http://lccoelce14.sched.org/speaker/web6), ARM

[x86 Instruction Encoding and Nasty Hacks We Do in the Linux Kernel](http://lccoelce14.sched.org/event/2112fa10245e01914f1a25d56fe08fca)

[Borislav Petkov](http://lccoelce14.sched.org/speaker/bp3), SUSE

Day 2, 3:30am

[Supporting a New ARM Platform: The Allwinner Example](http://lccoelce14.sched.org/event/214893c11fa6183287931edef8e72c4d)

[Maxime Ripard](http://lccoelce14.sched.org/speaker/mripard), Free Electrons

[PDF](http://eLinux.org/images/5/51/Ripard--supporting_a_new_arm_platform_the_allwinner_example.pdf "Ripard--supporting a new arm platform the allwinner example.pdf")

[Systemd for Embedded Linux - Challenges and Opportunities](http://lccoelce14.sched.org/event/2b63b9b5ab23a133c8c2a62445b1f9be)

[Michael Olbrich](http://lccoelce14.sched.org/speaker/m.olbrich), Pengutronix

[PDF](http://eLinux.org/images/a/a2/Olbrich--systemd_for_embedded_linux_challenges_and_opportunities.pdf "Olbrich--systemd for embedded linux challenges and opportunities.pdf")

[Two years of ARM SoC Support Mainlining: Lessons Learned](http://lccoelce14.sched.org/event/ab42e8fd8e80d1026a92c7214330f195)

[Thomas Petazzoni](http://lccoelce14.sched.org/speaker/tpetazzoni), Free Electrons

[PDF](http://eLinux.org/images/d/d1/Petazzoni--two_years_of_soc_mainlining_lessons_learned.pdf "Petazzoni--two years of soc mainlining lessons learned.pdf")

[USB and the Real World](http://lccoelce14.sched.org/event/a58e74bcb270b33705202a484dce4014)

[Alan Ott](http://lccoelce14.sched.org/speaker/alan17)

[PDF](http://eLinux.org/images/a/ae/Ott--usb_and_the_real_world.pdf "Ott--usb and the real world.pdf")

[UserModeLinux Status Report](http://lccoelce14.sched.org/event/aed5d73bd5f38bd0d9c7796df9987b28)

[Richard Weinberger](http://lccoelce14.sched.org/speaker/richard75), Sigma Star GmbH

[Where is My Crystal Ball?](http://lccoelce14.sched.org/event/7ca101fb5900763fc2460ebefff270f8)

[Daniel Lezcano](http://lccoelce14.sched.org/speaker/daniel_lezcano.1sod7v3s), Linaro

Day 2, 4:30am

[Cycle Accurate Profiling With Perf](http://lccoelce14.sched.org/event/e68b4a0801ec0d385e4ccd3e4cf5d4b5)

[Pawel Moll](http://lccoelce14.sched.org/speaker/web6), ARM

[PDF](http://eLinux.org/images/d/d0/Moll--cycle_accurate_profiling_with_perf.pdf "Moll--cycle accurate profiling with perf.pdf")

[EFL - A UI Toolkit Designed for the Embedded World](http://lccoelce14.sched.org/event/9e1b7defa55cfe42b523482102841d7f)

[Cedric Bail](http://lccoelce14.sched.org/speaker/cedric.bail), Samsung

[PDF](http://eLinux.org/images/e/e1/Bail--efl_a_ui_toolkit_designed_for_the_embedded_world.pdf "Bail--efl a ui toolkit designed for the embedded world.pdf")

[LTSI: Status and Plans For Long-Term Stable Kernel](http://lccoelce14.sched.org/event/411c5b3e4595e6782560141231798bea)

[Tsugikazu Shibata](http://lccoelce14.sched.org/speaker/tshibata), NEC

[Hisao Munakata](http://lccoelce14.sched.org/speaker/hisao.munakata.vt), Renesas

[PDF](http://eLinux.org/images/2/2e/Shibata--ltsi_status_and_its_plan_with_long-term_stable_kernel.pdf "Shibata--ltsi status and its plan with long-term stable kernel.pdf")

[Real Safe Times in the Jailhouse Hypervisor](http://lccoelce14.sched.org/event/bf7f25f3f024c6ea4b7a47aebd890e8c)

[Jan Kiszka](http://lccoelce14.sched.org/speaker/jan.kiszka), Siemens

[PDF](http://eLinux.org/images/e/e1/Kiszka--real_safe_times_in_the_jailhouse_hypervisor.pdf "Kiszka--real safe times in the jailhouse hypervisor.pdf")

[Automated Linux Kernel Crash Infrastructure - Eye In the Digital Sky](http://lccoelce14.sched.org/event/bfc6af077062ebe7521a4039634cc389)

[Igor Ljubuncic](http://lccoelce14.sched.org/speaker/igor.ljubuncic), Intel

Day 3, 11:15am

[Fast Boot: Profiling and Analysis Methods and Tools](http://lccoelce14.sched.org/event/b8e0c5eb572ce98c11bb0353833c4b4b)

[Christopher Hallinan](http://lccoelce14.sched.org/speaker/challinan1), Mentor Embedded

[Introduction to prpl Foundation](http://lccoelce14.sched.org/event/e374d94f59e9e3e84db5e665c62f7a07)

[Art Swift](http://lccoelce14.sched.org/speaker/artswift), prpl Foundation

[Leveraging Open-Source Power Measurement Standard Solution](http://lccoelce14.sched.org/event/f121a32b56125af0b683d4d8c635befe)

[Patrick Titiano](http://lccoelce14.sched.org/speaker/ptitiano)

[PDF](http://eLinux.org/images/0/04/Titiano--leveraging_open-source_power_measurement_standard_solution.pdf "Titiano--leveraging open-source power measurement standard solution.pdf")

[Using Linux Throughout the Complete UAV Stack](http://lccoelce14.sched.org/event/0581265de7160eb675cf3fa437835514)

[Koen Kooi](http://lccoelce14.sched.org/speaker/koen3), Linaro

[PDF](http://eLinux.org/images/c/c9/Kooi--using_linux_throughout_the_complete_uav_stack.pdf "Kooi--using linux throughout the complete uav stack.pdf")

[Ftrace Kernel Hooks: More Than Just Tracing](http://lccoelce14.sched.org/event/02dca43a56156f3c4e5fd7286b05af84)

[Steven Rostedt](http://lccoelce14.sched.org/speaker/rostedt), Red Hat

[Using Persistent Memory Effectively](http://lccoelce14.sched.org/event/96fd075f65eca75ae5b1f646daab3588)

[Matthew Wilcox](http://lccoelce14.sched.org/speaker/willy6545), Intel

Day 3, 12:15am

[High-Speed Data Acquisition With the Linux I/O Framework](http://lccoelce14.sched.org/event/5af298523018f5584e8cbb0248d9c9f2)

[Lars-Peter Clausen](http://lccoelce14.sched.org/speaker/larspeter.clausen), Analog Devices

[PDF](http://eLinux.org/images/8/8d/Clausen--high-speed_data_acquisition_with_the_linux_iio_framework.pdf "Clausen--high-speed data acquisition with the linux iio framework.pdf")

[Porting Linux to a New Architecture](http://lccoelce14.sched.org/event/56a0dfb7c29606005efb57935721c067)

[Marta Rybczynska](http://lccoelce14.sched.org/speaker/marta.rybczynska), Kalray

[PDF](http://eLinux.org/images/4/46/Rybczynska--porting_linux_to_a_new_architecture.pdf "Rybczynska--porting linux to a new architecture.pdf")

[ACPI And Device Trees - Friends Or Foes?](http://lccoelce14.sched.org/event/fbdecc9697bfad33488f8afc21711c61)

[Rafael J. Wysocki](http://lccoelce14.sched.org/speaker/rjwysocki), Intel OTC

[Automatic NUMA Balancing](http://lccoelce14.sched.org/event/5079b72e0719742bc6bef52507afe24d)

[Rik van Riel](http://lccoelce14.sched.org/speaker/riel), Red Hat

[Stateless Systems, Factory Reset, Golden Master Systems and systemd](http://lccoelce14.sched.org/event/feea3d7e8bda2f8bfbb24f2bc15d31b2)

[Lennart Poettering](http://lccoelce14.sched.org/speaker/lennart2), Red Hat

Day 3, 2:30pm

[devicetree: Kernel Internals and Practical Troubleshooting](http://lccoelce14.sched.org/event/f317be8d59a5d8ec9ea90c0356394572)

[Frank Rowand](http://lccoelce14.sched.org/speaker/frank.rowand1), Sony Mobile

[PDF](http://eLinux.org/images/0/0c/Rowand--devicetree_kernel_internals.pdf "Rowand--devicetree kernel internals.pdf")

[Mastering the DMA and IOMMU APIs](http://lccoelce14.sched.org/event/7a17d2ba9606001e6818f210e79b6931)

Laurent Pinchart, Renesas

[PDF](http://eLinux.org/images/3/32/Pinchart--mastering_the_dma_and_iommu_apis.pdf "Pinchart--mastering the dma and iommu apis.pdf")

[Software Update in Embedded Systems](http://lccoelce14.sched.org/event/1f2b997636f2019a6d879d06b5a571bd)

[Stefano Babic](http://lccoelce14.sched.org/speaker/sbabic), DENX

[PDF](http://eLinux.org/images/1/19/Babic--software_update_in_embedded_systems.pdf "Babic--software update in embedded systems.pdf")

[How to Design a Linux Kernel API](http://lccoelce14.sched.org/event/9f37c4994aed0e88cbb87387ee3519c1)

[Michael Kerrisk](http://lccoelce14.sched.org/speaker/michael.kerrisk), man7.org

[Scaling Userspace @ Facebook](http://lccoelce14.sched.org/event/451f20acdd259bfe5d3f025884e80786)

[Ben Maurer](http://lccoelce14.sched.org/speaker/ben.maurer), Facebook

Day 3, 3:30pm

[Buildroot: A Deep Dive Into The Core](http://lccoelce14.sched.org/event/3e69751fea74018d97fdeccbfaa7fd97)

[Thomas Petazzoni](http://lccoelce14.sched.org/speaker/tpetazzoni), Free Electrons

[PDF](http://eLinux.org/images/0/05/Petazzoni--buildroot_a_deep_dive_into_the_core.pdf "Petazzoni--buildroot a deep dive into the core.pdf")

[rtmux: A Thin Multiplexer To Provide Hard Realtime Applications For Linux](http://lccoelce14.sched.org/event/e2a139cc3385373cbebd14472a935c51)

[Jim Huang](http://lccoelce14.sched.org/speaker/jserv), ITRI

[PDF](http://eLinux.org/images/a/a4/Huang--rtmux_a_thin_multiplexer_to_provide_hard_realtime_applications_for_linux.pdf "Huang--rtmux a thin multiplexer to provide hard realtime applications for linux.pdf")

[Secure and flexible boot with U-Boot Bootloader](http://lccoelce14.sched.org/event/eaca00f4029c395e806ac02f2a664c8a)

[Marek Vašu](http://lccoelce14.sched.org/speaker/marex), DENX

[PDF](http://eLinux.org/images/8/8a/Vasut--secure_and_flexible_boot_with_u-boot_bootloader.pdf "Vasut--secure and flexible boot with u-boot bootloader.pdf")

[First Glimpse at Shingled Drives](http://lccoelce14.sched.org/event/ce52be6a4ffa44ea35ec69163b4c23d9)

[Hannes Reinecke](http://lccoelce14.sched.org/speaker/hare), SUSE Labs

Day 3, 4:30pm

[BoFs: Device Tree Next Steps](http://lccoelce14.sched.org/event/3981b1b5ad6160eb041a54c63e1227ab)

[Grant Likely](http://lccoelce14.sched.org/speaker/glikely), Linaro

[Tame the USB Gadgets Talkative Beast](http://lccoelce14.sched.org/event/23cd6ae0905be501e3616de6826ccde8)

[Krzysztof Opasiak](http://lccoelce14.sched.org/speaker/kopasiak90), Samsung

[PDF](http://eLinux.org/images/1/14/Opasiak--tame_the_usb_gadgets_talkative_beast.pdf "Opasiak--tame the usb gadgets talkative beast.pdf")

[Tizen-Meta as Security and Connectivity Layers For Yocto Project](http://lccoelce14.sched.org/event/8a1c3bb27433b60d171abb31a1f5dca4)

[Dominig ar Foll](http://lccoelce14.sched.org/speaker/dominig.arfoll), Intel

[PDF](http://eLinux.org/images/8/8f/Foll--tizen-meta_as_a_security_and_connectivity_layers_for_yocto.pdf "Foll--tizen-meta as a security and connectivity layers for yocto.pdf")

[Linux Kernel Tinification](http://lccoelce14.sched.org/event/11c190d9ad55d17aab37009f542c8a01)

[Josh Triplett](http://lccoelce14.sched.org/speaker/josh113), Intel

[Systematic Testing of Fault Handling Code in Linux Kernel](http://lccoelce14.sched.org/event/5c1f86d41bad75865d4d1cb8c46d5a75)

[Alexey Khoroshilov](http://lccoelce14.sched.org/speaker/khoroshilov), Russian Academy of Sciences

Day 3, 5:30pm

Closing Game

[Tim Bird](http://lccoelce14.sched.org/speaker/tim.bird1), Sony Mobile

## Instructions for Presenters

Please create a link in the table for your presentation, copying the style of other links. (You may need to create an account in order to edit the wiki or upload files.)

When you have created the link, click on it to upload the file containing your slides.

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [ELCE](http://eLinux.org/Category:ELCE "Category:ELCE")
*   [2014](http://eLinux.org/index.php?title=Category:2014&action=edit&redlink=1 "Category:2014 (page does not exist)")
*   [Events](http://eLinux.org/Category:Events "Category:Events")
*   [Presentations](http://eLinux.org/Category:Presentations "Category:Presentations")

# ELC Presentations

> From: [eLinux.org](http://eLinux.org/ELC_Presentations "http://eLinux.org/ELC_Presentations")

# ELC Presentations

# North America

*   ELC_2006_Presentations
*   ELC_2007_Presentations
*   ELC_2008_Presentations
*   ELC_2009_Presentations
*   ELC_2010_Presentations
*   ELC_2011_Presentations
*   [ELC_2012_Presentations](http://eLinux.org/ELC_2012_Presentations "ELC 2012 Presentations")
*   ELC_2013_Presentations
*   ELC_2014_Presentations
*   ELC_2015_Presentations

# Europe

*   ELC Europe 2007 Presentations
*   ELC Europe 2008 Presentations
*   ELC Europe 2009 Presentations
*   ELC Europe 2010 Presentations
*   [ELCE Europe 2011 Presentations](http://eLinux.org/ELCE_Europe_2011_Presentations "ELCE Europe 2011 Presentations")
*   ELCE Europe 2012 Presentations
*   ELC Europe 2013 Presentations
*   ELC Europe 2014 Presentations

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [ELC](http://eLinux.org/Category:ELC "Category:ELC")
*   [ELCE](http://eLinux.org/Category:ELCE "Category:ELCE")

# Embedded Developer BoF 2010

> From: [eLinux.org](http://eLinux.org/Embedded_Developer_BoF_2010 "http://eLinux.org/Embedded_Developer_BoF_2010")

# Embedded Developer BoF 2010

![TopImage.png](http://eLinux.org/File:TopImage.png)

This is an event for embedded Linux enthusiasts together with the community developers beside an international Linux event, LinuxCon Japan.

## Contents

*   1 September 28th (Tue) at Roppongi Hills
*   2 Co-located with LinuxCon 2010
*   3 Last Year
*   4 Talks

# September 28th (Tue) at Roppongi Hills

*   From 5:30pm
    *   40th Floor (Roppongi Academy Hills) [directory](http://www.academyhills.com/aboutus/map.html)
*   Everyone who is interested in embedded Linux will be welcomed
    *   No admission fee required
*   Light meal will be served

# Co-located with LinuxCon 2010

*   [about LinuxCon 2010](http://events.linuxfoundation.org/events/linuxcon-japan)

# Last Year

![EmbBof2009.png](http://eLinux.org/File:EmbBof2009.png)

*   Thomas Glixner made briefing of the latest situation of real-time preemption of Linux.

# Talks

*   5:30
    *   Welcome talk and introduction of CE Linux Forum
*   5:45
    *   Summary of CE Linux Forum technical activities
*   6:15
    *   Linux and OSS technical talks
        *   "Android on Ubuntu for developer" (Tetsuyuki Kobayashi / KMC)
            *   [Slides](http://www.slideshare.net/tetsu.koba/android-on-ubuntu-for-developer)
            *   Please check [previous Japan Technical Jamboree](http://elinux.org/Japan_Technical_Jamboree_34)
    *   (If you wish to talk something, contact Satoru.Ueda(a)jp_dot_sony_dot_com)
*   6:50
    *   CE Linux Forum, the story from the origin to the future
        *   S. Ueda (CELF Marketing Group Chair / Sony)
*   7:30
    *   Let me introduce my talk in LinuxCon Japan!
        *   lightening Session
*   8:00
    *   **DRAWING!**
        *   **You have chance to win some fancy goods!** (Sponsored by Sony Corporation)

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [2010](http://eLinux.org/Category:2010 "Category:2010")
*   [Events](http://eLinux.org/Category:Events "Category:Events")

# Embedded Linux Conference 2009

> From: [eLinux.org](http://eLinux.org/Embedded_Linux_Conference_2009 "http://eLinux.org/Embedded_Linux_Conference_2009")

# Embedded Linux Conference 2009

The was CE Linux Forum's 5th annual embedded Linux conference was held in San Francisco, California, April 6-8, 2009.

See [`www.embeddedlinuxconference.com/elc_2009/index.html`](http://www.embeddedlinuxconference.com/elc_2009/index.html)

Presentations from the conference are posted at: [`tree.celinuxforum.org/CelfPubWiki/ELC2009Presentations`](http://tree.celinuxforum.org/CelfPubWiki/ELC2009Presentations)

Video from the conference can be found here courtesy of Free Electrons: [Video Presentations](http://free-electrons.com/blog/elc-2009-videos/) Free Electrons has been kind enough to provide some of these presentations in High Definition, making it possible to more easily read slides directly from the video.

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Events](http://eLinux.org/Category:Events "Category:Events")
*   [2009](http://eLinux.org/Category:2009 "Category:2009")
*   [ELC](http://eLinux.org/Category:ELC "Category:ELC")

# Embedded linux events

> From: [eLinux.org](http://eLinux.org/Embedded_linux_events "http://eLinux.org/Embedded_linux_events")

# Embedded linux events

| ![Merge-arrows.png](http://elinux.org/File:Merge-arrows.png) | This page is may need to be merged with other page(s) including [Events](http://elinux.org/Events "Events"). Please help to merge the articles, or discuss the issue on the talk page. |

## Contents

*   1 Links to conferences web sites
*   2 Links to conference proceedings
    *   2.1 PRESENTATIONS
    *   2.2 OLS
    *   2.3 FOSDEM (embedded track)
*   3 Other Linux events (which might have content relevant for embedded
    *   3.1 Linux Foundation Collaboration Summit 2008

## Links to conferences web sites

Here is information about Embedded Linux-related events (conferences and symposiums)

The main conferences each year are:

*   Ottawa Linux Symposium (OSL)
    *   See [`www.linuxsymposium.org/2008/schedule.php`](http://www.linuxsymposium.org/2008/schedule.php)
*   LinuxConf Australia (LCA)
    *   See [`www.linux.org.au/LCA`](http://www.linux.org.au/LCA)
*   Linux Kongress
    *   See [`www.linux-kongress.org/2008/`](http://www.linux-kongress.org/2008/)
*   FOSDEM
    *   See [`www.fosdem.org/2008/`](http://www.fosdem.org/2008/)
*   Embedded Linux Conference (ELC)
    *   See [`www.embeddedlinuxconference.com/`](http://www.embeddedlinuxconference.com/)
*   Real-time Linux Workshop (RTLWS)
    *   See [`www.realtimelinuxfoundation.org/`](http://www.realtimelinuxfoundation.org/)

Miscellaneous other conferences:

*   LinuxWorld - embedded track?
    *   See [`www.linuxworld.com/events/`](http://www.linuxworld.com/events/)
*   LinuxConf Europe??
*   SCALE
    *   See [`socallinuxexpo.org/`](http://socallinuxexpo.org/)
*   Japan Technical Jamboree
    *   See [`tree.celinuxforum.org/CelfPubWiki/JapanTechnicalJamboree`](http://tree.celinuxforum.org/CelfPubWiki/JapanTechnicalJamboree)
*   Korean Technical Jamboree
    *   See [`tree.celinuxforum.org/CelfPubWiki/KoreaTechJamboree3`](http://tree.celinuxforum.org/CelfPubWiki/KoreaTechJamboree3)
*   Plumber's conference
    *   See [`linuxplumbersconf.org/`](http://linuxplumbersconf.org/)
*   Vendor conferences - are presentations available??
    *   MontaVista Vision
        *   See [`www.mvista.com/vision/`](http://www.mvista.com/vision/)
    *   ARMdev
    *   other semiconductor conferences??

Embedded Systems Conference India 2010

*   [ESC India 2010](http://www.esc-india.com)

## Links to conference proceedings

Here are some links to various conference proceedings:

### PRESENTATIONS

*   [All Topics](http://eLinux.org/All_Topics "All Topics")

### OLS

*   All the OLS papers from 2002-2007 - [`kernel.org/doc/ols`](http://kernel.org/doc/ols)

### FOSDEM (embedded track)

*   [Fosdem 2005 embedded kernel papers](http://www.embedded-kernel-track.org/2005/papers.html)
*   [Fosdem 2006 embedded kernel papers](http://www.embedded-kernel-track.org/2006/papers.html)

## Other Linux events (which might have content relevant for embedded

### Linux Foundation Collaboration Summit 2008

Videos of the Linux Foundation Collaboration Summit plenary sessions are now available for viewing on our website, as are interviews with some of our attendees.

Link: [`www.linux-foundation.org/events/video/gallery`](https://www.linux-foundation.org/events/video/gallery) --- Several of the workgroups have also posted slides and/or summaries from the summit as well.

Link: [`www.linux-foundation.org/events/node/53`](https://www.linux-foundation.org/events/node/53)

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [NeedsMerge](http://eLinux.org/Category:NeedsMerge "Category:NeedsMerge")
*   [Events](http://eLinux.org/Category:Events "Category:Events")

# Embedded Linux Summit 2010

> From: [eLinux.org](http://eLinux.org/Embedded_Linux_Summit_2010 "http://eLinux.org/Embedded_Linux_Summit_2010")

# Embedded Linux Summit 2010

Here is information about the Embedded Linux Summit, 2010.

This page has some information about the location, date, time, attendees, sponsors and other plans for this event.

See [Embedded Linux Mini Post Summit 2010](http://eLinux.org/Embedded_Linux_Mini_Post_Summit_2010 "Embedded Linux Mini Post Summit 2010") for information about the follow up meeting at ELC Europe.

## Contents

*   1 Attendees
    *   1.1 Attendee Guidelines
*   2 Meeting Details
    *   2.1 Directions
*   3 Hotel Information
*   4 Agenda
*   5 Sponsor
*   6 Mini summit followup meeting in the UK

## Attendees

Here is a table of confirmed (or semi-confirmed) attendees for the summit:

| Name | Company | Notes |
| Tim Bird | Sony | Lead organizer of the summit |
| Bdale Garbee | HP |  |
| Matt Mackall | Selenic | Embedded Maintainer |
| Greg Ungerer | Snapgear | uClinux Maintainer |
| Paul Mundt | Renesas | SH Maintainer |
| Hisao Munakata | Renesas |  |
| Ralf Baechle |  | MIPS Maintainer |
| David Woodhouse | Intel | Embedded Maintainer |
| Grant Likely | Secret Lab | Device tree maintainer |
| I.P. Park | Samsung | *(tentative)* |
| Doewan Kim | LGE |  |
| Yoshitake Kobayashi | Toshiba |  |
| Brian Swetland | Google | *(tentative)* |
| Magnus Damm | Renesas |  |
| Bryan Huntsman | Qualcomm Innovation Center | MSM maintainer |
| Dirk Hohndel | Intel | Chief Linux and OpenSource Technologist *agreed to come, but is now on sabbatical, and I can't reconfirm* |
| Arjan van de Ven | Intel | Kernel developer *(tentative)* |
| Shinsuke Kato | Panasonic |  |

### Attendee Guidelines

## Meeting Details

*   Date: September 30, 2010
*   Time: 9:00 am to 5:00 pm
*   Location: Tokyo, Japan
*   Venue: Roppongi Academy Hills
    *   49th Floor of Roppongi Hills Building
    *   Conference Room 5
    *   Map: [`www.academyhills.com/aboutus/map.html`](http://www.academyhills.com/aboutus/map.html)

Lunch will be provided.

[`www.academyhills.com/english/aboutus/mission_and_vision/index.html`](http://www.academyhills.com/english/aboutus/mission_and_vision/index.html)

### Directions

*   *   Directions: From Shiodome station (next to Park Hotel)
        *   Take the Toei Oedo line to Roppongi Hills

![RAHillsDirection
1.png](http://eLinux.org/File:RAHillsDirection_1.png)

*   *   *   Please be noted that the direction guide from the subway station is assuming you

use the "Tokyo Metro, Roppongi Station" not the "Toei (Municipal) Oedo Line, Roppongi Station". The attached wide area map indicates the location of Oedo Line Roppongi Station, which is about 300m (980ft) from the Tokyo Metro Roppongi station.

![Roppongi
WideAreaMap.png](http://eLinux.org/File:Roppongi_WideAreaMap.png)

## Hotel Information

We are recommending the same hotel for the Embedded Linux Summit as for LinuxCon Japan. This is the [Park Hotel Tokyo](http://www.parkhoteltokyo.com/index.html) which is located in southeast Tokyo, in the Shimbashi district of the city.

If you are attending LinuxCon, you can use the Linux Foundation Room rate, of 15,000 yen (about $175) per night. See instructions on the [LinuxCon Japan Hotel page](http://events.linuxfoundation.org/events/linuxcon-japan/hotel) for making a reservation.

*   Hotel web site: [`www.parkhoteltokyo.com/index.html`](http://www.parkhoteltokyo.com/index.html)
*   Directions to the hotel: [`www.parkhoteltokyo.com/directions/index.html`](http://www.parkhoteltokyo.com/directions/index.html)

## Agenda

The agenda is being discussed on the summit mailing list.

Here is the draft that Tim proposed for different topics for the meeting:

```
 1\. mainline gap
   1.1 version gap is most prevalent form
   1.2 how to reduce it?
     1.2.1 can stable release maintenance help with this?
     1.2.2 patch mining - pros and cons
     1.2.3 proxy contributors - pros and cons
     1.2.4 development methods: git vs. git+quilt vs. big honking vendor tarballs!
 2\. architecture-specific issues (ARM, MIPS, x86)
   2.1 SOC vendor tree isolation
   2.2 defconfigs
   2.3 recent industry initiatives (e.g. Linaro)
 3\. SMP in embedded
 4\. Android current status
   4.1 kernel requirements
   4.2 mainline gap
     4.2.1 how it's managed
     4.2.2 plan for closing gap
 5\. Meego current status (same sub-points as above) (Dirk or Arjan?)
 6\. WebOS current status (same sub-points as above) (Bdale?)
 7\. The state of flash file systems
 8\. embedded power management
   8.1 suspend blockers?
   8.2 runtime PM
 9\. industry contribution rate - how to increase it
   9.1 impedances to industry participation in open source
     9.1.1 systematically identifying impedances
 10\. industry and community pain points
   10.1 industry pain points - what do developers spend their time doing?
   10.2 community pain points - what to developers spend their time doing?
   10.3 need a survey or are attendees representative?
 11\. CELF projects - (Tim - 30 minutes)
   11.1 status of current work
   11.2 ideas for future work
 12\. Automated testing
   12.1 is it of any use?
   12.2 what kinds are needed
   12.3 should CELF or LF fund something? (long painful history here...) 
```

Additions:

```
13\. Unified bootloader architecture
14\. Device tree status (Grant Likely - ?? minutes) 
```

## Sponsor

*   CE Linux Forum

## Mini summit followup meeting in the UK

Russell King won't be coming to the meeting in Tokyo. Since a number of us will be in England at ELC Europe in late October, we've decided to have a brief meeting there as well, to include Russell and continue discussing some of the ideas raised in Tokyo.

See [Embedded Linux Mini Post Summit 2010](http://eLinux.org/Embedded_Linux_Mini_Post_Summit_2010 "Embedded Linux Mini Post Summit 2010")

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Events](http://eLinux.org/Category:Events "Category:Events")
*   [2010](http://eLinux.org/Category:2010 "Category:2010")

# Event Planning Pages

> From: [eLinux.org](http://eLinux.org/Event_Planning_Pages "http://eLinux.org/Event_Planning_Pages")

# Event Planning Pages

This page has links to pages used to plan events and summits.

The main use for this pages, after the event has completed, is for templates for future event planning.

Here are the pages:

*   [Technical Conference 2006 Planning](http://eLinux.org/Technical_Conference_2006_Planning "Technical Conference 2006 Planning")
*   [Linux PM Summit 2006 Planning](http://eLinux.org/Linux_PM_Summit_2006_Planning "Linux PM Summit 2006 Planning")
*   [Small Business Conference](http://eLinux.org/Small_Business_Conference "Small Business Conference") Reason obsolete, 2006 is long gone

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [ToDelete](http://eLinux.org/Category:ToDelete "Category:ToDelete")

# Events/Kernel Summit 2011 ARM Subarch Maintainership Workshop

> From: [eLinux.org](http://eLinux.org/Kernel_Summit_2011_ARM_Subarch_Maintainership_Workshop "http://eLinux.org/Kernel_Summit_2011_ARM_Subarch_Maintainership_Workshop")

# Events/Kernel Summit 2011 ARM Subarch Maintainership Workshop

\< [Events](http://eLinux.org/Events "Events")

We're currently planning an ARM Subarchitecture Maintainership Workshop for the first day of Kernel Summit in Prague, October 23, 2011\. Watch this page for details, or contact Grant Likely, Nicolas Pitre, or Arnd Bergmann.

There is limited space available for this meeting. Seats were provided on a first-come, first-served basis and we have now surpassed our self-imposed limit of 24 people. However, if you still would like to attend, or would like to nominate someone who you think is an important participant, then email Grant Likely \grant.likely@secretlab.ca\. We may be able to open up additional seats as needed.

We're also extending an open invite to all kernel summit invitees. If you've been invited to kernel summit and you'd like to attend the ARM workshop, then email Grant so that we know you are coming. Otherwise we'll make you sit on the floor.

## Contents

*   1 Proposed agenda topics
*   2 Minutes
*   3 Photo
*   4 Schedule
*   5 Hacking Sprint
*   6 Delegates
*   7 Volunteers

# Proposed agenda topics

Here is the current list of proposed discussion topics. Feel free to add items to this list.

*   arm-soc tree: 6 month retrospective
*   DT bindings for GPIO and pin mux
*   the pin mux subsystem from linusw (especially if it is still RFC by then)
*   progress with the single zImage work
*   presentation/status of the DMA and memory management work wrt CMA (some SOC specific hacks should go away once this is available)
*   DT porting progress
*   boot architecture status
*   [Board-specific code maintainer](http://www.spinics.net/lists/arm-kernel/msg142240.html) (proposed by Igor Grinberg)
*   [Common method for registering errata (CPU, cache controller etc.)](http://www.spinics.net/lists/arm-kernel/msg144334.html) (Proposed by Catalin Marinas)
*   [CPU Topology DT binding](http://www.spinics.net/lists/arm-kernel/msg144334.html) (Proposed by Catalin Marinas)
*   [Fine grained DMA Coherency](http://www.spinics.net/lists/arm-kernel/msg144334.html) (Proposed by Catalin Marinas)
*   [Handling off-the-tree dependencies of devices](http://thread.gmane.org/gmane.linux.acpi.devel/50945/focus=50978) (Proposed by Rafael J. Wysocki)
*   [Per-device PM QoS - user space interaction](http://thread.gmane.org/gmane.linux.acpi.devel/50945/focus=50978) (Proposed by Rafael J. Wysocki)
*   [Universal platform drivers (for ACPI, PNP, etc.)](http://thread.gmane.org/gmane.linux.acpi.devel/50945/focus=50978) (Proposed by Rafael J. Wysocki)
*   [Suspend vs wakeup events](http://thread.gmane.org/gmane.linux.acpi.devel/50945/focus=50978) (Proposed by Rafael J. Wysocki)

# Minutes

Etherpad notes [[1]](http://etherpad.osuosl.org/ksummit-2011-arm-workshop)

# Photo

![Summit
Attendees](http://eLinux.org/File:Arm-subarch-maintainers-summit-2011-photo.jpg "Summit Attendees")

# Schedule

The ARM maintainership workshop runs from October 23-25, 2001 in Prague. Sunday October 23rd is dedicated to discussion topics of interest to the ARM subarchitecture maintainers, and October 24 and 25 are organized as a hacking sprint. The workshop is co-located with Kernel Summit and there will be some joint events. You can also refer to the [Kernel Summit Schedule](http://ksummit2011.kernel.org/agenda). Workshop attendees are welcome to attend any of the Kernel Summit presentations on Tuesday, October 25.

**DRAFT SCHEDULE - SUBJECT TO CHANGE**

Sunday, October 23

Monday, October 24

Tuesday, October 25

9:00am

Introductions and announcements (Grant Likely)

Hacking Sprint

(ksummit) Report from Monday's session

9:30am

Common Infrastructure Reports

*   Pinmux subsystem (Stephen Warren)
*   Common Clock (Sascha Hauer)
*   CMA (Marek Szyprowski)

(ksummit) Minisummit/workshop reports

10:00am

10:30am

Break

Break

11:00am

Common Infrastructure Reports

*   Complex Driver Model Dependencies
*   ARM Cortex-A15 Architecture Issues (Catalin Marinas)

Hacking Sprint & Ksummit presentations

11:30am

12:00pm

Lunch

12:30pm

1:00pm

Single zImage (Nicolas Pitre, Deepak Saxena)

Hacking Sprint

Hacking Sprint & Ksummit presentations

1:30pm

2:00pm

Device Tree Migration progess (Grant Likely)

2:30pm

Break

3:00pm

Break

Hacking Spring & Ksummit presentations

3:30pm

ARM SoC Tree; 6 month review (Arnd Bergmann, Nicolas Pitre)

4:00pm

4:30pm

TBD

(ksummit) GPG identity verification

5:00pm

Summary, Action Item review and Hacking Sprint planning

Break

5:30pm

Break

Break

6:00pm

6:30pm

Evening Reception at Hotel

Dinner

Joint Kernel Summit, ELC-E, LinuxCon Europe reception

# Hacking Sprint

*   *list target goals here*

# Delegates

Registration for the ARM Workshop is now closed. Here is the list of registered participants. If you are registered for this event, feel free to fill in your arrival information below if you want to organize ride sharing from the airport.

Confirmed

Name

Roles

Arrival information

Departure

Chris Ball

MMC maintainer and OLPC developer

Ohad Ben-Cohen

OMAP engineer

Arnd Bergmann

arm-soc tree maintainer

DB-Bus-1061 OCT 22 16:18

David Brown

MSM maintainer

BA856 OCT 22 6:50pm

BA855 Oct 29 12:15pm

Mark Brown

ASoC maintainer

LH1402 OCT 22 23:15

LH1393 OCT 29 09:50

Lennert Buijtenhek

Marvell SoC maintainer

KL3125 OCT 22 16:05

KL1358 OCT 28 19:20

Benoît Cousson

OMAP engineer

AF2482 OCT 22 7:50pm (sharing taxi w/Kevin Hilman)

AF1083 OCT 26 7:25

Magnus Damm

shmobile maintainer

Will Deacon

ARM engineer

Nicolas Ferre

Atmel maintainer

AF4314 OCT 22 8:10pm

Thomas Gleixner

random Linux dude

Igor Grinberg

OMAP engineer

OK287 OCT 22 9:15am

OK286 OCT 29 11:55pm

Sascha Hauer

imx maintainer

Kevin Hilman

OMAP power management maintainer

AF2482 OCT 22 7:50pm (sharing taxi w/Benoit Cousson)

AF1083 OCT 29 7:25am

Olof Johansson

Tegra maintainer

BA856 OCT 22 6:50pm

BA855 Oct 29 12:15pm

Kukjin Kim

Samsung SoC maintainer

KE935 OCT 22 17:50

KE936 OCT 29 19:25

Russell King

ARM architecture maintainer

BA856 OCT 22 18:50

BA855 OCT 26 12:15pm (probably share taxi with swarren)

Grant Likely

Device Tree, GPIO and SPI maintainer

AC9294 OCT 22 11:45am

Tony Lindgren

OMAP maintainer

Pavel Machek

Freezer/hibernation maintainer

Catalin Marinas

ARM engineer

Kyungmin Park

Samsung mobile boards & drivers maintainer

Nicolas Pitre

arm-soc tree maintainer

Jean-Christophe Plagniol-Villard

Atmel maintainer

Wolfram Sang

Deepak Saxena

Linaro Kernel WG manager

Marek Vasut

Various pxa boards maintainer

Paul Walmsley

OMAP clock framework maintainer

Stephen Warren

Tegra maintainer

BA856 OCT 22 6:50pm (1 open taxi space)

BA855 OCT 26 12:15pm (probably share taxi with RMK)

Marc Zyngier

ARM engineer

Sitting in from Kernel Summit

Name

Roles

Mike Frysinger

Ben Herrenschmidt

Greg Kroah-Hartman

Nominated, but have not yet responded.

Name

Roles

Barry Song

CSR maintainer

Declined - will not attend

Name

Roles

Eric Miao

pxa/mmp maintainer

Marek Szyprowski

attending V4L2 workshop at same time

Paul Mundt

shmobile maintainer

Linus Walleij

ST-Ericsson SoC maintainer

Haojian Zhuang

pxa/mmp maintainer

# Volunteers

*   Planning Committee: Arnd Bergmann, Grant Likely, and Nicolas Pitre
*   AV:
*   Logistics:
*   Ride sharing:

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Events](http://eLinux.org/Category:Events "Category:Events")
*   [2011](http://eLinux.org/Category:2011 "Category:2011")
*   [KS](http://eLinux.org/Category:KS "Category:KS")

# Ftrace Function Graph ARM

> From: [eLinux.org](http://eLinux.org/Ftrace_Function_Graph_ARM "http://eLinux.org/Ftrace_Function_Graph_ARM")

# Ftrace Function Graph ARM

This page holds information from Tim Bird's talk at Linux Symposium Montreal (July, 2009), and at ELC Europe and the Japan Linux Symposium (October, 2009).

In Canada, Tim talked about patches against the 2.6.31-rc1 kernel tree for adding function graph tracing to the ARM architecture, for the Ftrace system.

In France and Japan, Tim talked about patches against 2.6.32-rc5.

## Contents

*   1 Presentation
*   2 Paper
*   3 Documentation
*   4 Patches
    *   4.1 2.6.33 patches
    *   4.2 2.6.32-rc5 patches
    *   4.3 2.6.31-rc1 patches
    *   4.4 2.6- patches
    *   4.5 patches for gcc 4.4.0
*   5 Tools
*   6 FDD
*   7 FTD
*   8 History
*   9 Further Work

## Presentation

Here is the presentation from the Japan Linux Symposium (also given at ELC Europe, in Grenoble France)

*   [Measuring Function Duration with Ftrace (october 2009 update) (PDF)](http://eLinux.org/images/3/3e/Measuring-function-duration-with-ftrace-october-2009.pdf "Measuring-function-duration-with-ftrace-october-2009.pdf")

Here is the presentation from the Canada Linux Symposium session:

*   [Measuring Function Duration with Ftrace (first version) (PDF)](http://eLinux.org/images/d/d6/Measuring-function-duration-with-ftrace.pdf "Measuring-function-duration-with-ftrace.pdf")

## Paper

Here is Tim's paper for the Canada Linux Symposium for this work:

*   [Measuring Function Duration with Ftrace Paper (PDF)](http://eLinux.org/images/0/0c/Bird-LS-2009-Measuring-function-duration-with-ftrace.pdf "Bird-LS-2009-Measuring-function-duration-with-ftrace.pdf")

## Documentation

See the file Documentation/trace/func-duration.txt, after applying the patches.

(Or, if you applied the 2.6.31 patches, see the file Documentation/trace/func-graph.txt However, this version is deprecated.)

## Patches

Below are patches for the function graph support and function duration tracer, for multiple kernel versions.

### 2.6.33 patches

Here are some patches to add support for the function_graph tracer to ARM, and to add support for 'tracing_thresh' to the function_graph tracer.

*   [Media:Function-graph-ARM-w-thresh-2.6.33-mar-2010.tgz](http://eLinux.org/images/0/0f/Function-graph-ARM-w-thresh-2.6.33-mar-2010.tgz "Function-graph-ARM-w-thresh-2.6.33-mar-2010.tgz")

To apply, extract the patches and the series file. If you have 'quilt', extract the file directly into the top level of the kernel source tree (the top directory is called 'patches'). Then do "quilt push -a".

If you don't have quilt, apply the patches manually, in the order specified in the 'series' file, with a command like: "patch -p1 \<patches/foo.patch"

### 2.6.32-rc5 patches

*   [Media:Ftrace-patches-oct-2009.tgz](http://eLinux.org/images/e/ee/Ftrace-patches-oct-2009.tgz "Ftrace-patches-oct-2009.tgz")

To apply, extract the patches and the series file. If you have 'quilt', extract the file directly into the top level of the kernel source tree (the top directory is called 'patches'). Then do "quilt push -a".

If you don't have quilt, apply the patches manually, in the order specified in the 'series' file, with a command like: "patch -p1 \<patches/foo.patch"

### 2.6.31-rc1 patches

The following patches were submitted to the kernel mailing list in early July 2009\. There are patches against kernel version 2.6.31-rc1.

*   [Media:Arm-sched_clock-notrace.patch](http://eLinux.org/images/e/ef/Arm-sched_clock-notrace.patch "Arm-sched clock-notrace.patch")
*   [Media:Add-function-graph-tracer-support-for-ARM.patch](http://eLinux.org/images/0/01/Add-function-graph-tracer-support-for-ARM.patch "Add-function-graph-tracer-support-for-ARM.patch")
*   [Media:Func-graph-duration-filter.patch](http://eLinux.org/images/5/56/Func-graph-duration-filter.patch "Func-graph-duration-filter.patch")
*   [Media:Optimize-duration-filter-discard.patch](http://eLinux.org/images/d/d3/Optimize-duration-filter-discard.patch "Optimize-duration-filter-discard.patch")

### 2.6.29 patches

The following patches were developed internally at Sony, but never submitted to mainline. They are posted here in the hopes that they will be useful to someone.

*   [Media:Add-ARM-function-duration-tracer-2.6.29.tgz](http://eLinux.org/images/6/69/Add-ARM-function-duration-tracer-2.6.29.tgz "Add-ARM-function-duration-tracer-2.6.29.tgz")

This tar archive contains a patches directory, with a series file and several patch files. To use, extract at the source of your 2.6.29 kernel tree, and apply using quilt with 'quilt push -a'.

Alternatively, apply the patches individually using 'patch -p1 \<patches/p1.patch', for each file listed in patches/series (in the order specified in the file).

This patch set was tested against a stock (mainline, from kernel.org) 2.6.29 kernel, on an OMAP OSK development board (ARM-based, TI OMAP chip).

### patches for gcc 4.4.0

Note recent ARM toolchains instrument the code with calls to '__gnu_mcount_nc' instead of 'mcount'. If you get a compiler warning about missing the symbol '__gnu_mcount_nc', you should apply the patch mentioned in this e-mail also: ([`marc.info/?l=linux-arm-kernel&m=124946219616111&w=2`](http://marc.info/?l=linux-arm-kernel&m=124946219616111&w=2))

```
[Thanks to Jean Pihet of MontaVista for pointing this out] 
```

Here is the above patch, and a patch which adds support for __gnu_mcount_nc to the function_graph tracer.

*   [Media:Support-ftrace-with-newer-compilers.patch](http://eLinux.org/images/8/80/Support-ftrace-with-newer-compilers.patch "Support-ftrace-with-newer-compilers.patch")
    *   this is the patch mentioned above
*   [Media:Gnu_mcount_nc-func_graph.patch](http://eLinux.org/images/1/11/Gnu_mcount_nc-func_graph.patch "Gnu mcount nc-func graph.patch")

## Tools

## FDD

The 'fdd' tool is now incorporated into the patch set, and is located in the kernel *scripts* directory after applying the patches. See the documentation in the kernel tree for instructions for use.

## FTD

*   [Media:Ftd.txt](http://eLinux.org/images/d/d9/Ftd.txt "Ftd.txt") - Function Trace Dump - post-trace analysis tool

To install:

```
* Download
* rename to 'ftd': mv Ftd.txt ftd
* make it executable: chmod a+x
* Put it on your path somewhere: sudo mv ftd /usr/local/bin 
```

## History

Based on feeback from ftrace developers on the kernel mailing list, and from other developers at the tracing mini-summit in Montreal, I started working on an updated duration tracer, using a different filtering approach. This work was completed, and resulted in a new trace, the "function_duration" tracer, being completed in September of 2009.

This work was described at ELC Europe and the Japan Linux Symposium, in October, 2009\. I was hoping to mainline the patches before the events, but ran out of time due to bugs on my main testing platform.

## Further Work

I need to try to mainline this feature. I'd like to get it into Linux-tip or Linux-next sometime before the 2.6.33 merge window.

If you don't see it in mainline, just send me an e-mail asking about the status.

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Development Tools](http://eLinux.org/Category:Development_Tools "Category:Development Tools")

# Geek Cruises

> From: [eLinux.org](http://eLinux.org/Geek_Cruises "http://eLinux.org/Geek_Cruises")

# Geek Cruises

## Perl Whirl / Linux Lunacy / MySQL Swell 2004

*   [`www.geekcruises.com/top/ll4_top.htm`](http://www.geekcruises.com/top/ll4_top.htm)
    *   (old) info on the cruise
*   [`www.geekcruises.com/`](http://www.geekcruises.com/) - **Geek Cruises**

## Slides

*   [`dave.org.uk/perlwhirl/`](http://dave.org.uk/perlwhirl/) - Dave Cross
*   [`www.ubiqx.org/presentations/`](http://www.ubiqx.org/presentations/)
    *   Christopher R. Hertel
*   [`x1.develooper.com/~robert/pw2004_talks/`](http://x1.develooper.com/~robert/pw2004_talks/)
    *   Robert Spier
*   [`www.deepspace6.net/sections/docs.html`](http://www.deepspace6.net/sections/docs.html)
    *   Mauro Tortonesi

## Pictures

*   [`flickr.com/photos/davorg/`](http://flickr.com/photos/davorg/)
    *   Dave Cross
*   [`www.metaphoric-reality.com/galleryng/`](http://www.metaphoric-reality.com/galleryng/)
    *   Grant
*   [`www.stonehenge.com/merlyn/Pictures/Trips/2004/04-10-Italy-PerlWhirl4/`](http://www.stonehenge.com/merlyn/Pictures/Trips/2004/04-10-Italy-PerlWhirl4/)
    *   Randal L. Schwartz
*   [`rikers.org/gallery/200410italy`](http://rikers.org/gallery/200410italy)
    *   [Tim Riker](http://eLinux.org/User:TimRiker "User:TimRiker")
*   [`zeus.cira.ca/thumbs`](http://zeus.cira.ca/thumbs) - Ervin Ruci
*   [`www.ruberg.no/gallery/2004geekcruise`](http://www.ruberg.no/gallery/2004geekcruise)
    *   Bjørn Ruberg
*   [`www.ubiqx.org/~crh/Photos/GeekCruise04/`](http://www.ubiqx.org/~crh/Photos/GeekCruise04/)
    *   Christopher R. Hertel
*   [`x1.develooper.com/~robert/italy/`](http://x1.develooper.com/~robert/italy/) [`xrl.us/dqtx`](http://xrl.us/dqtx) - Robert Spier

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Categories](http://eLinux.org/Category:Categories "Category:Categories")

# GStreamer 2010 Presentations

> From: [eLinux.org](http://eLinux.org/GStreamer_2010_Presentations "http://eLinux.org/GStreamer_2010_Presentations")

# GStreamer 2010 Presentations

Presenters and Participants: Thanks very much for your participation in [GStreamer Conference 2010](http://www.gstreamer.net/conference/).

This page is for collecting the presentations that were made at the conference. During and after the conference we will collect materials from the presenters and place them here. Please watch this page if you are interested in a particular presentation - and it if doesn't show up, please send me an e-mail and we'll try to track it down.

## Contents

*   1 Videos
*   2 Instructions
*   3 Table of Presentations
*   4 Instructions for Presenters

## Videos

Videos from the conference were recorded and will be made available as soon. An announcement will be made, and a link placed here, when these are ready.

## Instructions

**Presenters:** Please post your technical conference presentations on this page. (See Instructions below the tables)

## Table of Presentations

**Presentations**

| **Session Description** | **Presenter(s)** | **Presentation** |
| Keynote - GStreamer - Current and future development | Wim Taymans, Collabora Multimedia |  |
| Webkit, HTML5 and GStreamer | Philippe Normand, Igalia |  |
| Cross platform development with GStreamer | Michael Smith, Songbird |  |
| Challenges of video editing in your pocket | Edward Hervey, Collabora Multimedia |  |
| A GStreamer based framework for adaptive streaming applications | Emanuele Quacchio, ST Microelectronics |  |
| GStreamer and OMAP4 | Rob Clark, Texas Instruments |  |
| Implementing DLNA using GStreamer | Zeeshan Ali, Nokia |  |
| Integrating VideoConferencing into Everyday Applications | Olivier Crete, Collabora |  |
| Optimizing multimedia with Orc | David Schleef, Entropy Wave. |  |
| Case study - Tandberg and GStreamer | Håvard Graff, Tandberg |  |
| Landell - live streaming for the masses | Luciana Fujii, Holoscopio |  |
| Case study - Flumotion and GStreamer | Zaheer Merali |  |
| Case study - GStreamer on Axis devices | Jonas Holmberg, Axis |  |
| Using ICE middleware with GStreamer to implement real-time QoS-aware video streaming for remotely controlled vehicle. | Andrey Nechypurenko and Maksym Parkachov |  |
| 3D Stereoscopic and GStreamer | Martin Bisson |  |
| Case Study - Intel SMD elements in GStreamer | Josep Torra, Fluendo |  |
| WebM and GStreamer | Sebastian Dröge, Collabora Multimedia |  |
| Case study - Using gstreamer for building automated webcasting systems | Florent Thiery, Ubicast.eu |  |
| Interactivity in GStreamer pipelines | Jan Schmidt, Oracle Corporation |  |

## Instructions for Presenters

Please create a link in the table for your presentation, copying the style of other links or as follows:

[[Media:name_of_your_presentation.pdf | name_of_your_presentation.pdf]] Note the supported mime types on the [Upload file](http://eLinux.org/Special:Upload "Special:Upload") page. The latter example uses a PDF example, your file type can be different.

(You may need to create an account in order to edit the wiki or upload files.)

When you have created the link, click on it to upload the file containing your slides.

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [2010](http://eLinux.org/Category:2010 "Category:2010")
*   [Events](http://eLinux.org/Category:Events "Category:Events")
*   [Presentations](http://eLinux.org/Category:Presentations "Category:Presentations")

# International Technical Jamboree

> From: [eLinux.org](http://eLinux.org/International_Technical_Jamboree "http://eLinux.org/International_Technical_Jamboree")

# International Technical Jamboree

## Contents

*   1 International Technical Jamboree
*   2 Call for Sessions
*   3 Venue
*   4 Time Slots

## International Technical Jamboree

CELF is hosting an International Technical Jamboree on 14th and 15th June in Yokohama Japan. This is a technical conference to share knowledge and experience related to Linux and its use in consumer electronics devices. This is an open conference; all information is shared and any code presented must be available under an Open Source Initiative accepted license (preferably GPL or LGPL).

**NOTE: No previous registration required. No admittance fee required**

## Call for Sessions

*   To propose a session topic, please send e-mail to the Jamboree coordinator.
*   9 Slots (80 minutes each) for sessions are planned.
*   All sessions should be conducted in English.
*   Anyone can propose to present a session.
    *   Non-CELF members are eligible to host sessions.

## Venue

*   At [Yokohama Grand Intercontinental Hotel](http://www.interconti.co.jp/yokohama/).
*   [Hotel Homepage in English](http://www.ichotelsgroup.com/h/d/ic/1/en/hd/yokha)
*   Hotel reservation form : [Media:Hotel_Reservation_Form_Y.pdf](http://eLinux.org/images/7/7b/Hotel_Reservation_Form_Y.pdf "Hotel Reservation Form Y.pdf")
*   **Please note that the special room price for attendees of this event is available for bookings received before 25th May.**
*   [Transportation Guide To Intercontinental Yokohama](http://eLinux.org/Transportation_Guide_To_Intercontinental_Yokohama "Transportation Guide To Intercontinental Yokohama")

## Time Slots

**Day (1) 13th June**

Time

Item

Detail/Presentation availability

09:00-10:20

**Technical overview of Qt (our C++ GUI/app. framework) and its porting to embedded Linux**- by John Ryland (Trolltech)

(not available)

Coffe Break

10:30-11:50

**Making Mobile Phone with CE Linux**- by Masashige Mizuyama(Panasonic Mobile Communications)

[ITJ2005Detail 1-2](http://eLinux.org/ITJ2005Detail_1-2 "ITJ2005Detail 1-2") presentation available

12:30-13:20

**Writing custom gfx_driver for DirectFB**- by Katsuya Matsubara(Renesas/iGel)

[ITJ2005Detail 1-3](http://eLinux.org/ITJ2005Detail_1-3 "ITJ2005Detail 1-3") Presentation available

13:30-15:00

**Technical Discussion: "Experiences with Open Embedded and the OMAP5912 Starter Kit"** - by Steve Johnson(Matsushita/Panasonic)

[ITJ2005Detail 1-4](http://eLinux.org/ITJ2005Detail_1-4 "ITJ2005Detail 1-4") presentation available

Coffe Break

15:10-15:50

**Technical Discussion: "Learning the Kernel, and Finding Performance Problems, with KFI"**- by Tim Bird (Sony)

[ITJ2005Detail 1-5](http://eLinux.org/ITJ2005Detail_1-5 "ITJ2005Detail 1-5") - presentation available

16:00-17:20

**Technical Discussion: "devicelinux.org, a brand new open source effort aiming at creating an easy-to-deploy Linux platform for embedded devices"**- by Markku Ursin

[ITJ2005Detail 1-6](http://eLinux.org/ITJ2005Detail_1-6 "ITJ2005Detail 1-6") presentation available

*   All sessions on day 1 are open to members and non-members alike.

**Day (2) 14th June**

Time

Item

Detail/presentation availability

09:00-10:20

**Technical Discussion 1: XvFAT File System Development'*Detail: [Xv Fat Discussion](http://eLinux.org/Xv_Fat_Discussion "Xv Fat Discussion") :)****Presentation Available'***Technical Discussion 2: Fast Boot/Shutdown with Power Management Function**

*(not available)* **Presentation Available**- by Hiroyuki Machida (Sony)

Coffe Break

10:30-11:50

**Technical Discussion: "UHAPI 4Linux, an Open Source implementation of the Universal Home API"**- by John Vugts (Philips) and Arjen Klomp ([Logica CMG](http://www.logica.com))

[ITJ2005Detail 2-2](http://eLinux.org/ITJ2005Detail_2-2 "ITJ2005Detail 2-2") presentation available

13:00-14:20

**Technical Discussion: "Embedded Linux Packaging and Development Toolkit for Consumer Electronics"**- by Heung Nam Kim (ETRI)

[ITJ2005Detail 2-3](http://eLinux.org/ITJ2005Detail_2-3 "ITJ2005Detail 2-3") presentation available

Coffe Break

14:30-15:50

**Technical Discussion: "Linux Kernel Tracer"**- by Toru Nojiri (Hitachi)

[ITJ2005Detail 2-4](http://eLinux.org/ITJ2005Detail_2-4 "ITJ2005Detail 2-4") presentation available

16:00-16:30

**Special Session: "Ottawa Linux Symposium and CE Linux Forum"**- by Tim Bird (Architecture Group Chair)

[ITJ2005Detail 2-5](http://eLinux.org/ITJ2005Detail_2-5 "ITJ2005Detail 2-5") presentation available

16:30-17:00

**CE Linux Forum Plenary Meeting** (Forum Members limited)

17:00-19:00

**CE Linux Forum, 2nd Anniversary Party** (**Non forum members are also welcomed.** Free of charge)

*   All sessions on day 2 are open to members and non-members, **except** the session from 16:30 (4:30pm) to 17:00.
*   Sorry for my mistake in indicating the dates. The dates are 13th (Mon) and 14th (Tue) which are corrected on 17th May.

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Events](http://eLinux.org/Category:Events "Category:Events")

# Japan Linux Symposium 2009 for Embedded System Developers

> From: [eLinux.org](http://eLinux.org/Japan_Linux_Symposium_2009_for_Embedded_System_Developers "http://eLinux.org/Japan_Linux_Symposium_2009_for_Embedded_System_Developers")

# Japan Linux Symposium 2009 for Embedded System Developers

| This page is for embedded system developers who are interested in participating Japan Linus Symposium 2009.CE Linux Forum is sponsoring this event as well as the Kernel Summit 2009. |
| ![Jls logo.jpg](http://elinux.org/File:Jls_logo.jpg) |

## Contents

*   1 Call For Presentations
    *   1.1 Proposal due date
    *   1.2 Encouragement to submit session proposal
    *   1.3 Flyer

# Call For Presentations

## Proposal due date

*   **May 1st, 2009**
    *   Will be extended to **May 15th**.

## Encouragement to submit session proposal

```
As you may know, the due date of the Japan Linux Symposium
(JLS) presentation proposal is May 1st.  Though it is not CELF
event, it must be important one because it is held in East
Asia (Tokyo) where so many embedded system developers are
living.  I wish you to be encouraged to propose your
topics!

* Especially for embedded system developers:
==========================================
The Japan Linux Symposium is held just after the Kernel Summit
which means we can expect the most of core Linux developers
will also remain to attend.  It is definitely a great opportunity
to talk embedded technology stuffs together.  Please try to
take the chance!

You are requested to post:

  - The session title
  - Abstract (150 words)
  - Biography (150 words)

only.

# Don't worry.  You are not required to prepare Japanese text.
# All above should be in English.   ;)

--- Japanese ---

既にご存知の通り、きたる10 月 21 日から東京・秋葉原にてThe Japan
Linux Symposiumが開催されます。こちらはCE Linux Forum 主催の
イベントではありませんが、是非皆様の積極的なご参加をお願い
申し上げます

このイベントはKernel Summitに引き続き開催されます。Kernel
Summitには全世界から80 名にも及ぶ最先端リナックス開発者が
招待されます。このような方々と直接交流する場としても、JLSは
特筆されます。特に組込み技術はコミュニティーからも注目を
集めています。

只今プレゼンテーションの募集受付中です。締め切り日は
5 月 1 日です。皆様の積極的な提案を期待しています。
ご自身では些細な事と思われている事が実は大きな意義を
持っている、そのような事もこれまで多数見受けられます。

提案は、150ワードの内容紹介、150ワードの自己紹介とタイトル
だけです。また、このシンポジウムでは論文を提出する必要は
有りません。セッションスタイルも講演型、BoF 型、パネル型
など自由に構成できます。 
```

## Flyer

| ![JLS2009flier 1.jpg](http://elinux.org/File:JLS2009flier_1.jpg) |  
*   A flyer to promote the session proposal is prepared.
    *   [File:JLS2009flier 1.pdf](http://elinux.org/File:JLS2009flier_1.pdf "File:JLS2009flier 1.pdf")

 |

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [2009](http://eLinux.org/Category:2009 "Category:2009")
*   [Events](http://eLinux.org/Category:Events "Category:Events")

# Kernel Summit 2009

> From: [eLinux.org](http://eLinux.org/Kernel_Summit_2009 "http://eLinux.org/Kernel_Summit_2009")

# Kernel Summit 2009

## 2009

The 2009 Kernel Summit was held in Tokyo, Japan, October 18-20

There was an end-user panel which included 3 embedded presentations.

You can find the presentation from Sony here:

*   [Media:Kernel-summit-2009-end-user-panel-Sony.pdf](http://eLinux.org/images/4/45/Kernel-summit-2009-end-user-panel-Sony.pdf "Kernel-summit-2009-end-user-panel-Sony.pdf")

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [2009](http://eLinux.org/Category:2009 "Category:2009")
*   [Events](http://eLinux.org/Category:Events "Category:Events")
*   [KS](http://eLinux.org/Category:KS "Category:KS")

# Long Term Support Kernel Meeting 2011

> From: [eLinux.org](http://eLinux.org/Long_Term_Support_Kernel_Meeting_2011 "http://eLinux.org/Long_Term_Support_Kernel_Meeting_2011")

# Long Term Support Kernel Meeting 2011

This is information about the Long Term Support kernel meeting planned for Tuesday, October 25th in Prague, Czech Republic.

It is co-located with [Embedded Linux Conference Europe](https://events.linuxfoundation.org/events/embedded-linux-conference-europe) in the Clarion Congress Hotel.

## Contents

*   1 Purpose
*   2 Details
*   3 Invitees
*   4 Agenda
*   5 Action Items
*   6 Attendees
*   7 Possible attendees

## Purpose

This meeting will be to share latest status of LTSI, schedule and so on with getting together with CE industry's related party. Hosted by CEWG/Linux Foundation.

## Details

*   Name of the meeting: LTSI internal meeting or maybe kickoff meeting
*   Date/Time: October 25, 1:30-3:00?
*   Place: *(to be confirmed)* Room, Clarion Congress Hotel, Prague, Czech Republic

## Invitees

CEWG will send invitation letter to key member of this project.

## Agenda

*   Introduction of LTSI
*   Q&A
*   Message from the Linux Foundation
*   Message from partners, maybe Qualcomm, Linaro, Greg
*   Announce further schedule for next step

## Action Items

```
0\. Review this proposal and add any items.
1\. We will send invitation letter sooner. They may need to change travel schedule.
2\. Negotiate each companies and others before the meeting
3\. Ask some of key partners to give us message at the meeting
4\. Discuss with Linaro for sharing QA activities 
```

## Attendees

Here is a table of confirmed attendees for the meeting:

| Name | Company | Notes |
| Tsugikazu Shibata | NEC | Leader of the LTSI project |
| Hisao Munakata | Renesas | Leader of the LTSI project, AG co-chair |
| Tim Bird | Sony Network Entertainment | CEWG AG Chair |
| Satoru Ueda | Sony |  |

## Possible attendees

*   Hiroshi NOZUE - Toshiba
*   Yoshitake KOBAYASHI - Toshiba

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [LTSI](http://eLinux.org/Category:LTSI "Category:LTSI")
*   [2011](http://eLinux.org/Category:2011 "Category:2011")
*   [Events](http://eLinux.org/Category:Events "Category:Events")
*   [Presentations](http://eLinux.org/Category:Presentations "Category:Presentations")

# LTSI workshop in Osaka

> From: [eLinux.org](http://eLinux.org/LTSI_workshop_in_Osaka "http://eLinux.org/LTSI_workshop_in_Osaka")

# LTSI workshop in Osaka

日付: 6 月 15 日（**金**）16 時～

ATC Hall B5 会議室 (コスモスクエア経由 トレードセンター前駅 下車すぐ)

# Introduction / はじめに

*   LTSI のワークショップを大阪で開催します！ LTSIについて、その詳細を知る絶好の機会です！
*   LTSI については こちらを参照ください．[LTSI home](http://ltsi.linuxfoundation.org/)

# 概要

|  
*   日時 **6 月 15 日 金曜日, 2012**
    *   **午後 4 時 スタート**
*   場所 ***ATC Hall B5 会議室***
    *   ATC Hall (コスモスクエア経由 トレードセンター駅前) [`www.atc-co.com/atchall/access/index.html`](http://www.atc-co.com/atchall/access/index.html)
    *   B5 会議室(会議室の場所 [`www.atc-co.com/atchall/conference/index.html`](http://www.atc-co.com/atchall/conference/index.html) )

*   参加費用: ***無料***
*   どなたでも参加可能です
*   参加登録は要りません。
*   参考情報
    *   4 月 17 日のLTSI Workshop @Yokohama の模様 ([`jp.linux.com/linux-community/eventsreport/388744-ltsi-partner-mmeting`](https://jp.linux.com/linux-community/eventsreport/388744-ltsi-partner-mmeting) )

 |

*   ***当日の資料です***
    *   [`events.linuxfoundation.org/images/stories/pdf/lcjp2012_munakata.pdf`](https://events.linuxfoundation.org/images/stories/pdf/lcjp2012_munakata.pdf)

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Events](http://eLinux.org/Category:Events "Category:Events")

# OLS2004

> From: [eLinux.org](http://eLinux.org/OLS2004 "http://eLinux.org/OLS2004")

# OLS2004

## Contents

*   1 Ottawa Linux Symposium 2004
*   2 News
*   3 Other Links
*   4 Gallery Links

## Ottawa Linux Symposium 2004

[`LinuxSymposium.org/2004/`](http://LinuxSymposium.org/2004/)

## News

Audio for the keynote is online. See below.

## Other Links

*   [`www.linuxsymposium.org/2004/schedule_static.html`](http://www.linuxsymposium.org/2004/schedule_static.html)
    *   schedule
*   [`www.finux.org/proceedings/`](http://www.finux.org/proceedings/)
    *   proceedings
*   [`www.finux.org/Reprints/`](http://www.finux.org/Reprints/) - reprints
*   [`www.finux.org/audio/`](http://www.finux.org/audio/) - keynote and other stuff as soon as we get it there.

## Gallery Links

*   [`rikers.org/gallery/ols2004`](http://rikers.org/gallery/ols2004)
*   [`gate.crashing.org/~benh/pics/OLS2004`](http://gate.crashing.org/~benh/pics/OLS2004) (updated jul. 25)
*   [`www.jebus.ca/gallery/OLS_2004`](http://www.jebus.ca/gallery/OLS_2004)
*   [`www.heinous.org/images/2004-07_OLS/`](http://www.heinous.org/images/2004-07_OLS/)
*   Hacker bike ride: [`vic.dyndns.org/pics/2004-07-25/index-simple.html`](http://vic.dyndns.org/pics/2004-07-25/index-simple.html)
*   [`ols2004.qbang.org`](http://ols2004.qbang.org) - contains both fatal's and taj's pictures now (changed aug. 6th)
*   taj suite 1903 (), camping [`www.qbang.org/ols2004/`](http://www.qbang.org/ols2004/) (mirrored above)
*   [`photos.jonmasters.org/OLS_2004`](http://photos.jonmasters.org/OLS_2004)
*   [`www.ludusdesign.com/gallery/ols2004`](http://www.ludusdesign.com/gallery/ols2004)
*   [`www.yak.net/random/pics/2004.07.21.OLS2004/`](http://www.yak.net/random/pics/2004.07.21.OLS2004/)
*   [`people.nit.ca/~dcoombs/ols2004/`](http://people.nit.ca/~dcoombs/ols2004/)
*   [`gnumonks.org/static/photos/ks2004/`](http://gnumonks.org/static/photos/ks2004/)
    *   kernel summit group picture
*   [`flickr.com/photos/sfllaw/sets/202883/`](http://flickr.com/photos/sfllaw/sets/202883/)
*   [`gallery.jukie.net/2004-OLS`](http://gallery.jukie.net/2004-OLS)
*   [`photos.pavlov.net/gallery/168542`](http://photos.pavlov.net/gallery/168542)
*   [`fooishbar.org/gallery/ottawa-ols-jul04`](http://fooishbar.org/gallery/ottawa-ols-jul04)
*   [`gallery.yeoh.info/gallery/album33`](http://gallery.yeoh.info/gallery/album33)
*   [`zeevon.dyndns.org/gallery/ols2004`](http://zeevon.dyndns.org/gallery/ols2004)

Please add more links.

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Events](http://eLinux.org/Category:Events "Category:Events")

# OLS 2007 CELF BOF

> From: [eLinux.org](http://eLinux.org/OLS_2007_CELF_BOF "http://eLinux.org/OLS_2007_CELF_BOF")

# OLS 2007 CELF BOF

This BOF was held on Friday, June 29, at the Westin Hotel in Ottawa, Canada (at the Ottawa Linux Symposium).

## Agenda

| Person | Topic |
| --- | --- |
| Matt Mackall | Discussion and demo of pagemap (accurate memory measurement) patches and tools |
| Michael Opdenacker | [`www.elinux.org/images//8/83/Pdf.gif`](http://www.elinux.org/images//8/83/Pdf.gif) [Size and Bootup Time techniques and demo](http://elinux.org/images/c/cf/Ols2007-qemu-arm-demo.pdf "Ols2007-qemu-arm-demo.pdf") [`www.elinux.org/images/d/da/Info_circle.png`](http://www.elinux.org/File:Ols2007-qemu-arm-demo.pdf), [Media:Ols2007-qemu-arm-demo.odp](http://elinux.org/images/8/88/Ols2007-qemu-arm-demo.odp "Ols2007-qemu-arm-demo.odp") (OpenOffice.org format) |
| Tim Bird | [`www.elinux.org/images//8/83/Pdf.gif`](http://www.elinux.org/images//8/83/Pdf.gif) [Realtime Testing for Embedded Platforms](http://elinux.org/images/2/25/Realtime_Testing_for_embedded-2007-06-29.pdf "Realtime Testing for embedded-2007-06-29.pdf") [`www.elinux.org/images/d/da/Info_circle.png`](http://www.elinux.org/File:Realtime_Testing_for_embedded-2007-06-29.pdf)- Discussion on recent RT-preempt testing, with techniques and issues. |
| Manas Saksena | [Fedora on ARM](http://fedoraproject.org/wiki/ARM) project. To get involved, subscribe to the [fedora-arm mailing list](http://www.redhat.com/mailman/listinfo/fedora-arm). |
| Satoru Ueda | Lightning talk on Japan Jamborees, and CELF white paper to management |
| Buffalo | Lightning talk on KuroBox/Pro |
| Algo | Lightning talk on Algo Smart Display |
| Rob Landley | Lightning talk on native compiling vs. cross compiling |
| Klaas van Gend | Lightning talk on Embedded Linux Conference, Europe |
| Steve Rostedt | Lightning talk on realtime testing |
| ??? | Lightning talk on [Mamona](http://osmtc.indt.org/projects/mamona) build system |

## Report

[*Anyone care to do a writeup?*]

Major prizes - ARM-based development boards - were won by **Adam Belay** and **Ruud Derwig**.

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Events](http://eLinux.org/Category:Events "Category:Events")
*   [2007](http://eLinux.org/Category:2007 "Category:2007")

# OLS 2007 Embedded Linux BOF

> From: [eLinux.org](http://eLinux.org/OLS_2007_Embedded_Linux_BOF "http://eLinux.org/OLS_2007_Embedded_Linux_BOF")

# OLS 2007 Embedded Linux BOF

## Description

Date: June 27, 6-7 pm, King room

Leader: Tim Bird

This BOF will review the overall state of embedded Linux. This will include describing changes in the Linux kernel in the last year related to embedded processors and products, as well as discussions of notable embedded products using Linux in the last year. As usual, we will commiserate on the sorry state of affairs, celebrate our progress, and plan for how to wrest control of linux from those pesky desktop, server and enterprise developers.

## Presentation

[`www.elinux.org/images//8/83/Pdf.gif`](http://www.elinux.org/images//8/83/Pdf.gif) [Embedded Linux BOF presentation](http://eLinux.org/images/6/6f/Embedded_Linux_BOF_OLS_2007.pdf "Embedded Linux BOF OLS 2007.pdf") [`www.elinux.org/images/d/da/Info_circle.png`](http://www.elinux.org/File:Embedded_Linux_BOF_OLS_2007.pdf)

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Events](http://eLinux.org/Category:Events "Category:Events")
*   [2007](http://eLinux.org/Category:2007 "Category:2007")

# OLS 2007 Embedded Linux Wiki BOF

> From: [eLinux.org](http://eLinux.org/OLS_2007_Embedded_Linux_Wiki_BOF "http://eLinux.org/OLS_2007_Embedded_Linux_Wiki_BOF")

# OLS 2007 Embedded Linux Wiki BOF

## Contents

*   1 Description
*   2 BOF report
*   3 Additional questions, answers and suggestions
    *   3.1 Multiple Languages

## Description

Date: June 27, 7-8 pm, King room

Leader: Michael Opdenacker

The new Embedded Linux Wiki (elinux.org) aspires to become the leading resource of information about Embedded Linux. The project has been seeded with the large quantity of technical material currently maintained on the CELF public wiki and current elinux.org wiki. The CE Linux Forum (CELF) is a main sponsor, funding a fulltime editor for the site. The wiki will also welcome and encourage contributions beyond technical documentation, such as hacker, product and company profiles, event coverage, interviews, book reviews...

This BOF reviewed the achievements of this project to date and provided an overview of the ideas and plans which have not been implemented yet. All participants were invited to discover the work to date and share their expectations of what a useful online resource should provide.

During the BOF, Michael asked everyone in the audience to create an account and "edit something, anything". This is an editing contribution from one of those audience members.

## BOF report

Presentation slides: [`elinux.org/images//8/83/Pdf.gif`](http://elinux.org/images//8/83/Pdf.gif) [Embedded Linux Wiki BOF presentation](http://eLinux.org/images/3/34/Ols2007-elinux-wiki-bof.pdf "Ols2007-elinux-wiki-bof.pdf") [`elinux.org/images/d/da/Info_circle.png`](http://elinux.org/File:Ols2007-elinux-wiki-bof.pdf), [Media:Ols2007-elinux-wiki-bof.odp](http://eLinux.org/images/3/35/Ols2007-elinux-wiki-bof.odp "Ols2007-elinux-wiki-bof.odp") (OpenOffice.org format)

During the presentation, several questions we asked:

Q: Where are the IRC archives? A (Tim Riker): [`ibot.rikers.org/%23elinux/`](http://ibot.rikers.org/%23elinux/) (now listed on the IRC page)

Q: What about email addresses? A: Registration doesn't ask for any password.

Q: What's the license for code excerpts? A: The license of the original software. If the code doesn't belong to any project, the author is free to choose a license. If not specified, we assume the license is the GNU GPL v2.

Q: Are links stable over time? A (Tim Bird): Yes, if the page is old enough. After a new page is created, you may expect us to rename it or merge it with another page if appropriate.

Q: Could there be an RSS feed for pages? A: Apparently not, for new pages. However, Wikipedia provides an RSS link in the "Toolbox" box in each history page. We are using the same engine (Wikimedia), but we have not enabled this feature, yet.

Q: What about Wiki promotion activities and prizes? A (Tim Bird): They are not finalized yet. Stay tuned on the Wiki pages for news.

Several suggestions were also made:

*   Page(s) in which user could share their live experience with systems that appear to run Linux. An example is the entertainment system used by Delta Air Lines. There could be one page per system, in which contributors could add the extra details they found.

*   Rob Landley: as a way to fight obsolete pages, old pages could carry a "not modified since..." notice. Of course, contents would not be removed.

*   Rob Landley: To attract and recognize contributors, some pages could be rewarded by a "Passed editorial approval" or "High quality article" notice.

*   Rob Landley: What about attracting people by trying to catch their attention every day (note: like in Wikipedia)? We could have weekly highlights to keep contributors active. Tim Bird: I rather see this wiki as a live Embedded-Linux book.

*   Have "Questions and Answers" pages on several topics, perhaps on each topic advertized on the front page. Rob Landley also suggested having an "Unanswered questions" section on these pages or on separate pages.

*   Have tool-specific documents, such as "Installing SNMP".

*   Somebody (Lefty, IIRC) proposed to announce the new wiki on Slashdot, LWN.net, and LinuxDevices.com.

*   Somebody proposed holding meetings with contributors living in the SF Bay area.

*   Satoru Ueda told us that there could be more contributors in Japan, but they could only write in Japanese. He suggested having a section or version of the wiki in Japanese for these contributors. Rob Landley suggested having a "Japanese Maintainer" who would coordinate and review translations of these pages to English.

## Additional questions, answers and suggestions

Even if you couldn't participate to this event, do not hesitate to add your own questions and suggestions below.

### Multiple Languages

Just responding to the note about Japanese contributions above... is it not possible to set up mediawiki so that we can have a "in other languages" sidebar just like wikipedia does? I'm sure there will be some language specific pages, but I think most content could just be organized so there is a version of each page/topic for the various languages.

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Events](http://eLinux.org/Category:Events "Category:Events")
*   [2007](http://eLinux.org/Category:2007 "Category:2007")

# OLS 2008 CELF Embedded Developer BOF

> From: [eLinux.org](http://eLinux.org/OLS_2008_CELF_Embedded_Developer_BOF "http://eLinux.org/OLS_2008_CELF_Embedded_Developer_BOF")

# OLS 2008 CELF Embedded Developer BOF

Here is information about the Embedded Developer BOF (Birds-Of-a-Feather) meeting that CELF hosted at the 2008 Ottawa Linux Symposium.

![DSC01977.JPG](http://eLinux.org/File:DSC01977.JPG)

CELF hosted the meeting on Friday, July 25 at the Westin Hotel in Ottawa. As near as we could count, there were about 120 people in attendance.

Tim Bird, the CELF Architecture Group Chair led the meeting. There were 4 mini-sessions and a few lightning talks, followed by some prize giveaways.

# Presentations

*   [Best Of Recent CELF Conferences presentation](http://eLinux.org/images/e/e8/Best-of-Recent-CELF-Conferences.ppt "Best-of-Recent-CELF-Conferences.ppt") by Tim Bird
*   [Developing Embedded Linux With Target Control](http://eLinux.org/images/f/f8/TC-presentation-OLS-2008.ppt "TC-presentation-OLS-2008.ppt") by Tim Bird
    *   Target Control home page is here: [`mirror.celinuxforum.org/labwiki/Target_Control`](http://mirror.celinuxforum.org/labwiki/Target_Control)
*   [Embedded tools survey by Michael Opdenacker](http://free-electrons.com/pub/conferences/2008/ols/celf-bof/rootfs_build_comparison.pdf)
*   GCC Tips and Tricks Highlights by Gene Sally
    *   See also [GCC Tips](http://eLinux.org/GCC_Tips "GCC Tips")

![DSC02002.JPG](http://eLinux.org/File:DSC02002.JPG) ![DSC02004.JPG](http://eLinux.org/File:DSC02004.JPG)

# Prizes

*   [Tin Can Tools](http://www.tincantools.com/) Nail Kit
*   5 [Inaura](http://www.inaura.com/) Black Dog security devices
*   Sony Mylo2 (donated by TimeSys)
*   Sony PS3 (with screen and keyboard)
*   HP Media Vault 5150 (1.5 TB NAS device)

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Events](http://eLinux.org/Category:Events "Category:Events")
*   [2008](http://eLinux.org/Category:2008 "Category:2008")

# Ottawa Linux Symposium 2006

> From: [eLinux.org](http://eLinux.org/Ottawa_Linux_Symposium_2006 "http://eLinux.org/Ottawa_Linux_Symposium_2006")

# Ottawa Linux Symposium 2006

Here is information about CE Linux Forum's involvement and participation in [Ottawa Linux Symposium 2006](http://www.linuxsymposium.org/).

Table Of Contents:

CELF had big involvement in OLS 2006\. CELF was a [sponsor of OLS](http://www.linuxsymposium.org/2006/sponsors.php) and we had a number of meetings at and around the event. There were presentations and [BOFs](http://eLinux.org/BOFs "BOFs") by many CELF members. Also, we continued our tradition of handing out prizes at the closing keynote address.

Here are some of notes and presentations from the event.

## Contents

*   1 Embedded Linux BOF
*   2 CELF Project BOF
    *   2.1 Quickie CELF Initiatives Overview
    *   2.2 CELF Test Lab Introduction and Demonstration
    *   2.3 Config Weight Size Test
    *   2.4 CABI (CPU Resource Management)
    *   2.5 Annual CELF "Challenge" Item
    *   2.6 Hi-definition camera demonstration by Lumenera
    *   2.7 Jamboree Report
*   3 Architecture Group meeting
*   4 OLS Sessions by (or including) CELF members
    *   4.1 Categorized Session List
*   5 Demos
*   6 Prizes

## Embedded Linux BOF

*   *   Wednesday, July 19, 5:00 pm to 5:45 pm, Congress Centre, Room C

In this BOF, Tim gave his "State of Embedded Linux" talk. He described some what's happened with Linux in the last year, related to its use in embedded devices. This includes an overview of things recently mainlined (like Linux-tiny patches), as well as ongoing work and research in areas like power management for embedded devices, system memory size, bootup time improvements, realtime, measurement tools, etc.

Here is Tim's presentation: [Media:OLS2006-Embedded-BOF-2.ppt](http://eLinux.org/images/6/68/OLS2006-Embedded-BOF-2.ppt "OLS2006-Embedded-BOF-2.ppt")

Here are **PORTIONS** of Tim's presentation, with links to relevant articles (mostly on [lwn.net](http://www.lwn.net/)) /\ - please see the file for the full presentation.

* * *

*   *   Realtime

        *   *   hrtimers (2.6.18?)
            *   clock sources (2.6.18)
            *   HR timer API

                *   *   *   [`lwn.net/Articles/167315/`](http://lwn.net/Articles/167315/)
            *   ktimers explanation:

                *   *   *   [`lwn.net/Articles/152436/`](http://lwn.net/Articles/152436/)
            *   Generic IRQ (2.6.18)

            *   Tickless Idle coming
    *   Rt-Preempt

        *   *   Mainline status

                *   *   *   Most stuff in, only need:
                            *   *   sleeping spinlocks
                                *   threaded IRQs
            *   Priority Inheritance (2.6.18)

                *   *   *   [`lwn.net/Articles/177838/`](http://lwn.net/Articles/177838/)
            *   Latency tracer

    *   Unit-at-a-time Compilation

        *   *   Ingo Molnar patch to utilize gcc 4 unit-at-a-time compilation
                *   *   *   [`lkml.org/lkml/2005/12/28/68`](http://lkml.org/lkml/2005/12/28/68)
                        *   [`lwn.net/Articles/165354/`](http://lwn.net/Articles/165354/)
    *   inline reduction

        *   *   New _always_inline_ attribute:
                *   *   *   [`lwn.net/Articles/167315/`](http://lwn.net/Articles/167315/)
                        *   [`lwn.net/Articles/165354/`](http://lwn.net/Articles/165354/)
    *   Size Testing

        *   *   Bloatwatch - [`testlab.celinuxforum.org/bloatwatch/`](http://testlab.celinuxforum.org/bloatwatch/)
            *   Config size testing - Presentation at CELF Project BOF
    *   Security

        *   *   App'***Armour***

                *   *   *   Lighter than SELinux
                        *   Good enough for embedded work??
            *   LSM in peril?

    *   Bootup Time

        *   *   XIP - Execute in Place

                *   *   *   Old info: [`lwn.net/Articles/135472/`](http://lwn.net/Articles/135472/)
            *   XAFS - new file system specifically for XIP

                *   *   *   Jared Hulbert (Intel) posted for comments: [`lwn.net/Articles/182337/`](http://lwn.net/Articles/182337/)
    *   Power Management

        *   *   User-space software suspend

                *   *   Latest kerfluffle over suspend phases
                    *   Linus has posted a new patch, showing his method.
                    *   See lwn.net: [`lwn.net/Articles/189467`](http://lwn.net/Articles/189467)
            *   Linux PM summit - [`lwn.net/Articles/181687`](http://lwn.net/Articles/181687)

    *   Audio/Video/Graphics

        *   *   Big direct rendering update - [`lwn.net/Articles/167315/`](http://lwn.net/Articles/167315/)
            *   New CELF AVG Spec. (2.0)
                *   *   DirectFB, ALSA, [OpenGL](http://eLinux.org/OpenGL "OpenGL")/ES, UHAPI
    *   Mobile phone stuff

        *   *   CELF specification still in-progress
            *   Many orgs: CELF MPPWG, OSDL MLI, [LiPS](http://eLinux.org/LiPS "LiPS") Forum, the new foundation
    *   Tools

        *   *   Tracing - LTTng just recently re-added lots of architecture support
            *   Memory Leak Tracker
            *   Function re-ordering - [`lwn.net/Articles/173657/`](http://lwn.net/Articles/173657/)

* * *

Some of the major discussion items were:

*   *   standardization of GUI

        *   *   Why can't CELF standardize on a single embedded GUI? The answer is that the space is already fragmented, and getting product vendors to switch UIs will be very difficult. Different capabilities of the existing solutions in this area (Qt, GTK, and X), as well as different capabilities for related software (such as apps) led to this fragmentation.
            *   There's not an easy answer, but maybe if the field tilts towards one platform, it will then begin to dominate.
    *   mobile phone forum fragmentation

        *   *   CELF is working with the [LiPS](http://eLinux.org/LiPS "LiPS") Forum and OSDL/MLI, don't know much about the new organization. So far, organizations are cooperating and avoiding conflicts.
    *   size issue

        *   *   Tim took an informal survey of the audience, asking what was the number one problem using Linux: About 90% answered "size". Power management and bootup time were also considerations.
            *   Many linux-tiny patches have been merged over the last year.
            *   There's a new system called "[bloatwatch](http://testlab.celinuxforum.org/bloatwatch/index.cgi)", where kernel size is automatically tested each new release. Developers can examine the results to see the size of subsystems and symbols. Sizes can be compared between versions, and are graphed over time. See
    *   corporate developer participation in community

        *   *   Developers from corporations often don't participate effectively in the open source community Several issues contribute to this: 1) product treadmill, 2) getting stuck on old versions, 3) not enough time budgeted by company for this activity, and 4) product deadlines leading to (ahem) less-than-mainlineable code. There are no clear answers, but CELF will continue encouraging direct participation in open source by its members.
            *   Tim took an informal (show of hands) survey, and very few respondents have yet to ship a 2.6-based product. Some companies are still working on 2.4 or previous kernels.

## CELF Project BOF

*   *   Friday, July 21, 7:00 pm to 9:00 pm, Les Suites Hotel

At this meeting we discussed some of CELF's initiatives and member company projects.

The following presentation introduced the topics, and had information about the CELF Test Lab: [Media:CELF-Projects-BOF.ppt](http://eLinux.org/images/9/99/CELF-Projects-BOF.ppt "CELF-Projects-BOF.ppt")

### Quickie CELF Initiatives Overview

*   *   Tim described some of the initiatives and projects that CELF is directly managing and funding:
        *   *   Linux-tiny mainlining, and [bloatwatch](http://testlab.celinuxforum.org/bloatwatch/index.cgi) (via Selenic Consulting - Matt Mackall)
            *   UHAPI/DirectFB integration (via Dennis Kropp)
            *   CELF Open Test Lab (via Nomad Global Solutions)
            *   Embedded Linux Conference - to be held April 17,18,19, 2007 in San Jose, California, USA

### CELF Test Lab Introduction and Demonstration

By Tim Bird, Sony Electronics ![DSC00405.jpg](http://eLinux.org/File:DSC00405.jpg)

*   *   *   *   Basic lab infrastructure is now set up, and tests can be run remotely on multiple boards.
            *   Tim demonstrated running a test in the lab using the web interface, as well as showed interactive use of the lab via ssh to a host and target in the lab.

See more about the lab in the BOF slides (see above).

### Config Weight Size Test

By Munehiro Ikeda, NEC ![DSC00412.jpg](http://eLinux.org/File:DSC00412.jpg)

*   *   *   *   Ikeda described his examination to make clear the size impact (image size and memory effect) of different kernel config options.

                *   *   Examination tool named "Kconfig Size"
                    *   Current examination result summary
                    *   New
                    *   Further works plan
            *   Presentation material : [Media:size_exam_celf_2006-07-21.pdf](http://eLinux.org/images/e/ee/Size_exam_celf_2006-07-21.pdf "Size exam celf 2006-07-21.pdf")

### CABI (CPU Resource Management)

By Midori Sugaya, Waseda University ![DSC00418.jpg](http://eLinux.org/File:DSC00418.jpg)

*   *   Sugaya described the requirements of embedded system especially about resource managements in Linux, then proposed CABI and showed its function, architecture and enhancements (CPU Reservation). The contents of the presentation are following.
        *   Resource management requirements of embedded system
        *   Limitations of Linux scheduler
        *   Proposed system : CABI (CPU Accounting and Blocking Interfaces)
        *   The accounting model and architecture
        *   CPU Reservation (priority boost approach)
*   Presentation material : [Media:2006_0721_LinuxSympoisum_clinux_bof_CABI_pdf.pdf](http://eLinux.org/images/6/60/2006_0721_LinuxSympoisum_clinux_bof_CABI_pdf.pdf "2006 0721 LinuxSympoisum clinux bof CABI pdf.pdf")

### Annual CELF "Challenge" Item

Discussion led by Tim.

*   *   We discussed CELF's proposal for creating a list of technology projects to focus on for the year

        *   *   How can CELF push the projects forward?
                *   *   *   Incentives - support, hardware, prizes, funding, labor?
    *   What projects deserve focused CELF attention??

    *   Does anyone need hardware that CELF or it's members can provide?
    *   Should we do a "hackfest"?

### Hi-definition camera demonstration by Lumenera

| ![DSC00430.jpg](http://elinux.org/File:DSC00430.jpg) Demonstration scene. | ![DSC00432.jpg](http://elinux.org/File:DSC00432.jpg) "Picture of bird by Tim Bird." Actual shoot of the camera. |

[need to put info here]

### Jamboree Report

By Satoru Ueda,

*   *   *   *   Ueda-san talked about CELF's regional Jamborees being held in Asia (primarily Japan).
                *   *   see [Japan Technical Jamboree Guidance](http://eLinux.org/Japan_Technical_Jamboree_Guidance "Japan Technical Jamboree Guidance"), [Japan Technical Jamboree 8](http://eLinux.org/Japan_Technical_Jamboree_8 "Japan Technical Jamboree 8") and [Japan Technical Jamboree 9](http://eLinux.org/Japan_Technical_Jamboree_9 "Japan Technical Jamboree 9")
                    *   **The next Japan Jamboree**
                        *   *   August 25, in Tokyo
                            *   Detail is described in [Japan Technical Jamboree 10](http://eLinux.org/Japan_Technical_Jamboree_10 "Japan Technical Jamboree 10")

Presentation material:

*   *   *   *   [Media:JapanJam_OLS2006.pdf](http://eLinux.org/images/1/1e/JapanJam_OLS2006.pdf "JapanJam OLS2006.pdf")

## Architecture Group meeting

*   *   Tuesday, July 18, 3:00 pm to 8:00 pm at the Les Suites Hotel

This meeting was open to CELF Architecture Group members and invited guests.

FIX ME! WHERE ARE THESE LINKS: See Celf Wiki:Ag July 2006Meeting for the presentation and meeting notes for this meeting.

## OLS Sessions by (or including) CELF members

Employees of CELF member companies made a number of presentations this year at OLS. Also, we led or participated in a number of BOFS. Here is a list of presentations and BOFS where CELF members presented or discussed topics important for embedded developers:

*   *   A Reliable and Portable Multimedia File System - Jaekyoung Bae, Samsung, Wed. July 19 12:00, Room B
    *   Power Management BOF - Mark Gross, Intel, CELF PMWG Chair, Wed. July 19, 7:00 pm, Room A
    *   Tracing BOF - William Cohen, RedHat, (Tim Bird, Sony will also present), Wed. July 19 7:00 pm, Room D

        *   *   Tim's presentation for this is here: [Media:OLS2006-Tracing-BOF.ppt](http://eLinux.org/images/8/8f/OLS2006-Tracing-BOF.ppt "OLS2006-Tracing-BOF.ppt")
    *   The effects of filesystem fragmentation - Ard Biesheuvel, Philips, Thur. July 20, 10:00 am, Room A

    *   Tutorial: Porting a 2.4.20 character driver for legacy hardware to 2.6.15 - Mark Gross, Intel, Thur. July 20, 10:00 am, Room A
    *   Improving Linux Startup Time Using Software Resume (and other techniques) - Hiroki Kaminaga, Sony, Fri. July 21, 10:00 am, Room A

        *   *   Presentation material is here: [Media:snapshot-boot-final.pdf](http://eLinux.org/images/3/37/Snapshot-boot-final.pdf "Snapshot-boot-final.pdf")
            *   Demonstration Video: /\ *Large size files (AVI). MP4 files are iPod(TM) compatible.*
                *   startup using Resume From Disk: Media:SWSUSP.AVI (14.5MB) / Media:SWSUSP.MP4 - to obtain these videos, please email the administrator of this site.
                *   Proposed Snapshoot Boot: Media:SSBOOT.AVI]] (8.0MB) / Media:SSBOOT.MP4 - to obtain these videos, please email the administrator of this site.
    *   Linux Bootup Time Reduction for Digital Still Camera - ChanJu Park, Samsung, Sat. July 22, 12:00 pm, Room A

The full conference schedule is available at: [`www.linuxsymposium.org/2006/schedule.php`](http://www.linuxsymposium.org/2006/schedule.php) [Should change this to link to proceedings, when they are online]

/\ *Please note that several other sessions at OLS reflect work that is sponsored or* funded (in whole or in part) by CELF member companies.

### Categorized Session List

CELF produced a [guide to OLS sessions for embedded developers](http://eLinux.org/CELF_Embedded_Guide_To_OLS_2006 "CELF Embedded Guide To OLS 2006")]. This might help you look through the OLS 2006 proceedings for presentations of interest. The Proceedings are available at: [`www.linuxsymposium.org/2006/proceedings.php`](http://www.linuxsymposium.org/2006/proceedings.php)

## Demos

*   *   July 19, 10:45 am to 6:00 pm, Congress Centre, 1st floor

CELF members showed a number of demos of their current open source projects. Come see live demonstrations of technology developed for using and customizing Linux in Consumer Electronics products.

*   *   See [OLS2006Demos](http://eLinux.org/OLS2006Demos "OLS2006Demos") for details.
    *   ;)) Photos uploaded

## Prizes

CELF had several prizes to hand out again, as a way of saying "Thank You" to the open source community.

*   *   Philips settop box development platform
    *   Nokia 770 Internet Tablet

The prizes were handed out by Tim Bird at the final keynote:

*   *   Date: Saturday, July 22
    *   Time: ~5:00 pm (Keynote starts at 4:00)
    *   Place: Congress Centre, Room A

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Events](http://eLinux.org/Category:Events "Category:Events")
*   [2006](http://eLinux.org/Category:2006 "Category:2006")

# Ottawa Linux Symposium 2007

> From: [eLinux.org](http://eLinux.org/Ottawa_Linux_Symposium_2007 "http://eLinux.org/Ottawa_Linux_Symposium_2007")

# Ottawa Linux Symposium 2007

Here is a list of activities sponsored by or of interest to CELF members at OLS 2007:

| ![CELF-BOF-OLS2007.JPG](http://elinux.org/File:CELF-BOF-OLS2007.JPG) |
| **CELF Embedded Linux Projects BOF. Thanks for so many developers attending!** |

## Contents

*   1 Overview
*   2 CE Linux Forum Bird's of a Feather session
*   3 Sessions and BOFS on embedded topics
    *   3.1 Embedded Linux BOF
    *   3.2 Embedded Linux Wiki BOF
    *   3.3 BoFS: Linux in Mobile Phones
    *   3.4 Power Management BoFS
*   4 Sessions by category
    *   4.1 Realtime sessions
    *   4.2 Power management
    *   4.3 Security
    *   4.4 Tracing
    *   4.5 Bootup technology
    *   4.6 System Size
    *   4.7 Architecture/Processor Support
    *   4.8 Tools
*   5 CELF Areas of emphasis

## Overview

The CE Linux Forum is a sponsor of the [2007 Ottawa Linux Symposium](http://www.linuxsymposium.org/2007).

This is our third year of sponsorship, and we really enjoy participating each year. Our participation consists of several items:

*   CELF hosts its own BOF, which is open to the public
*   Individual members present specific sessions at the event
*   CELF members often lead or participate in BOFs
*   CELF gives out prizes donated by member companies at the final keynote session of the symposium.

| ![Alert.gif](http://elinux.org/File:Alert.gif) *Note: The acronym "BOFs" stands for "Birds-of-a-Feather"session. This is an informal session where people with similar interests get together to share their ideas and plans.* |

## CE Linux Forum Bird's of a Feather session

This BOF is for anyone interested in the latest work being done in the area of embedded Linux. We have a few interesting mini-talks on new memory measurement tools, size and bootup time reduction techniques, and experience with testing realtime features in Linux.

Please feel free to come and discuss your own embedded project.

The BOF was held at:

*   Place: Westin Hotel, adjacent to the Congress Centre
*   Room: Confederation Ballroom III, on the Fourth Floor
*   Date: Friday, June 29
*   Time: 7:00 pm to 9:00 pm

CELF BOF Agenda:

| Person | Topic |
| --- | --- |
| Matt Mackall | Discussion and demo of pagemap (accurate memory measurement) patches and tools |
| Michael Opdenacker | Size and Bootup Time techniques and demo |
| Tim Bird | Discussion on recent RT-preempt testing on embedded platforms |
| Manas Saksena | Fedora on ARM project |
| <open floor> | Lightning talks, demos, etc. Come and tell us about your own embedded project! |
|  | **Lightning Talks from Japan**: See [CELF wiki page for OLS2007](http://tree.celinuxforum.org/CelfPubWiki/OttawaLinuxSymposium2007) for links to lightning talk papers and presentations |

## Sessions and BOFS on embedded topics

### Embedded Linux BOF

*   Led by Tim Bird, this is a look at the current status of embedded features in Linux.
*   Date and Time: Wednesday, June 27 at 6:00 pm / Room: King
*   See [`www.linuxsymposium.org/2007/view_abstract.php?content_key=5`](http://www.linuxsymposium.org/2007/view_abstract.php?content_key=5)

### Embedded Linux Wiki BOF

*   Led by Michael Opdenacker, this is a discussion about the new embedded Linux wiki.
*   Date and Time: Wednesday, June 27 at 7:00 pm / Room: King
*   See [`www.linuxsymposium.org/2007/view_abstract.php?content_key=268`](http://www.linuxsymposium.org/2007/view_abstract.php?content_key=268)

### BoFS: Linux in Mobile Phones

*   Led by Scott Preece, this BOF summarizes work on Linux in Mobile phones
*   Date and Time: Friday, June 29 at 6:00 pm / Room: Rockhopper
*   See [`www.linuxsymposium.org/2007/view_abstract.php?content_key=250`](http://www.linuxsymposium.org/2007/view_abstract.php?content_key=250)

### Power Management BoFS

*   Led by Mark Gross, this BOF discusses the latest developments and plans for power management in Linux
*   Date and Time: Thursday, June 28 at 6:00 pm / Room: Rockhopper
*   See [`www.linuxsymposium.org/2007/view_abstract.php?content_key=26`](http://www.linuxsymposium.org/2007/view_abstract.php?content_key=26)

## Sessions by category

### Realtime sessions

*   [Internals of the RT Patch](https://ols2006.108.redhat.com/2007/Reprints/rostedt-Reprint.pdf), by Steven Rostedt of RedHat

### Power management

*   [Power Management BOFs](http://www.linuxsymposium.org/2007/view_abstract.php?content_key=26)
    *   Mark Gross
*   [ACPI in Linux -- Top 10 Myths vs. Reality](http://www.linuxsymposium.org/2007/view_abstract.php?content_key=24)
    *   Len Brown

### Security

*   App'***Armour Application Security BOFs - Seth Arnold***
*   TomoyoLinux [BOF](http://www.linuxsymposium.org/2007/view_abstract.php?content_key=95)
    *   ToshiharuHarada
    *   [TOMOYO Linux BoF - Ottawa Linux Symposium 2007](http://sourceforge.jp/projects/tomoyo/document/ols2007-tomoyo-20070629.pdf)
    *   [`tomoyo.sourceforge.jp/wiki-e/`](http://tomoyo.sourceforge.jp/wiki-e/)
    *   [`tomoyo.sourceforge.jp/wiki-e/?TOMOYO-LSM`](http://tomoyo.sourceforge.jp/wiki-e/?TOMOYO-LSM)
    *   [`tomoyo.sourceforge.jp/wiki-e/?TOMOYO-GUI`](http://tomoyo.sourceforge.jp/wiki-e/?TOMOYO-GUI)
    *   [`lkml.org/lkml/2007/6/13/58`](http://lkml.org/lkml/2007/6/13/58)
    *   [`tomoyo.sourceforge.jp/cgi-bin/lxr/source/`](http://tomoyo.sourceforge.jp/cgi-bin/lxr/source/)
    *   [`sourceforge.jp/projects/tomoyo/document/elc2007-presentation-20070418.pdf/en/4/elc2007-presentation-20070418.pdf`](http://sourceforge.jp/projects/tomoyo/document/elc2007-presentation-20070418.pdf/en/4/elc2007-presentation-20070418.pdf) (ELC2007 slides)
*   [Linux Integrity Projects](http://www.linuxsymposium.org/2007/view_abstract.php?content_key=199)
    *   David Safford
*   [Trusted Secure Embedded Linux: From Hardware Root of Trust to Mandatory Access Control](http://www.linuxsymposium.org/2007/view_abstract.php?content_key=162)
    *   Hadi Nahari

### Tracing

*   [Linux Tracing BOFs](http://www.linuxsymposium.org/2007/view_abstract.php?content_key=113)
    *   Vara Prasad
*   [Djprobe - Probing the Kernel With the Smallest Overhead](http://www.linuxsymposium.org/2007/view_abstract.php?content_key=97)
    *   Masami Hiramatsu
*   [In-kernel Dynamic Application Tracing Mechanism and Dynamic Tracing of Kernel Data Structure](http://www.linuxsymposium.org/2007/view_abstract.php?content_key=166)
    *   Prasanna S. Panchamukhi
*   [Dynamic Tracing and Performance Analysis Using SystemTap](http://www.linuxsymposium.org/2007/view_abstract.php?content_key=197)
    *   Mike Mason
*   [Ptrace, Utrace, Uprobes: Lightweight, Dynamic Tracing of User Apps](http://www.linuxsymposium.org/2007/view_abstract.php?content_key=215)
    *   James A. Keniston

### Bootup technology

*   [Breaking the Chains: Using LinuxBIOS to Liberate Embedded X86 Processors](http://www.linuxsymposium.org/2007/view_abstract.php?content_key=45)
    *   Jordan H. Crouse
*   [Readahead: Time Travel Techniques For Desktop and Embedded Systems](http://www.linuxsymposium.org/2007/view_abstract.php?content_key=40)
    *   Michael Opdenacker

### System Size

*   [Evaluating Effects of Cache Memory Compression on Embedded Systems](http://www.linuxsymposium.org/2007/view_abstract.php?content_key=100)
    *   Anderson Farias Briglia
*   [More Linux for Less](http://www.linuxsymposium.org/2007/view_abstract.php?content_key=243)
    *   Robin Getz

### Architecture/Processor Support

*   [Distributed Cluster Computing on Cell/PS3](http://www.linuxsymposium.org/2007/view_abstract.php?content_key=98) slide:attachment:ols-2007-ps3-bof.pdf - Akira Tsukamoto
*   [Linux on Cell Broadband Engine](http://www.linuxsymposium.org/2007/view_abstract.php?content_key=177)
    *   Arnd Bergmann

### Tools

*   [Cross Compiling Linux](http://www.linuxsymposium.org/2007/view_abstract.php?content_key=3)
    *   Rob Landley
*   [The 7 Dwarves: Debugging Information Beyond gdb](http://www.linuxsymposium.org/2007/view_abstract.php?content_key=173)
    *   Arnaldo Carvalho de Melo
*   [Frysk 1, Kernel 0?](http://www.linuxsymposium.org/2007/view_abstract.php?content_key=72)
    *   Andrew Cagney
*   [Where is Your Application Stuck](http://www.linuxsymposium.org/2007/view_abstract.php?content_key=2)
    *   Vivek Kashyap
*   [Implementation of a Branch Tracing Tool and Regression Test Framework](http://www.linuxsymposium.org/2007/view_abstract.php?content_key=129)
    *   Hiro Yoshioka

## CELF Areas of emphasis

These are the areas of emphasis that CELF is promoting at this year's symposium:

*   RT-preempt - what can we do to help improve it and get it mainlined?
*   Embedded Linux Wiki -

[Categories](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Events](http://eLinux.org/Category:Events "Category:Events")
*   [2007](http://eLinux.org/Category:2007 "Category:2007")

# Proposed OSCON 2012 Embedded Linux track

> From: [eLinux.org](http://eLinux.org/Proposed_OSCON_2012_Embedded_Linux_track "http://eLinux.org/Proposed_OSCON_2012_Embedded_Linux_track")

# Proposed OSCON 2012 Embedded Linux track

OSCON 2011 had a limited amount of content about Linux, embedded development, BSD and relevant tools, notably in the [Open Hardware](http://www.oscon.com/oscon2011/public/schedule/proceedings#topic-661) track. Let's propose a lot more talks and sessions in 2012\. The purpose of this page is to gather suggestions for what embedded Linux content OSCON 2012 should include.

## Contents

*   1 Motivation: Why the Embedded Community Might Care about OSCON
*   2 Strawman Suggestions for Presentations
    *   2.1 Satellite meetings
    *   2.2 Dedicated tracks
    *   2.3 Invited talks
    *   2.4 Sessions
    *   2.5 Contributed talks
    *   2.6 Workshops

## Motivation: Why the Embedded Community Might Care about OSCON

OSCON is a giant meeting of a diverse group of influential open source developers, leaders, and businesspeople. By speaking to contributors to other projects outside our traditional contacts in the embedded world, eLinux engineers can recruit talented people who are not currently working on embedded and can promote the spread of Linux into new applications. For example, OSCON attracts Python developers who might attend one presentation about build and configuration management in the embedded space but who never attend ELC. OSCON attendees who work on server-based virtualization might be curious to learn more about device emulators or mobile security. UI/UX designers in Portland might chat in the hallway with compiler deployers who are stuck with creating a new GUI . . .

## Strawman Suggestions for Presentations

*   Satellite meetings
*   Dedicated tracks
*   Invited talks
*   Sessions
*   Contributed talks
*   Workshops

### Satellite meetings

### Dedicated tracks

### Invited talks

*   "High-Level Web Interface to Low-Level Linux: the Case of the Beagleboard", Jason Kridner, TI
*   Java Virtual Machines: design considerations for mobile
*   New Features in Qt5 and What They Offer for Mobile
*   KDE or GNOME on Mobile Devices

### Sessions

*   Build systems (featuring embedded Linux)
*   Mobile embedded and its challenges (security, battery life . . .)
*   Automotive Linux and Intelligent Transportation Systems

### Contributed talks

### Workshops

*   BeagleBoard
*   Arduino
*   Yocto

# Technical Conference 2005

> From: [eLinux.org](http://eLinux.org/Technical_Conference_2005 "http://eLinux.org/Technical_Conference_2005")

# Technical Conference 2005

Table Of Contents:

## Contents

*   1 Presentation Materials
*   2 Introduction
*   3 Registration
*   4 Sessions
    *   4.1 Session List
    *   4.2 Session Schedule
*   5 Hotel Information

## Presentation Materials

The conference is over, but you can see most of the (excellent) presentations at: Tech Conference 2005Docs

## Introduction

The CE Linux Forum is holding a technical conference (in conjunction with their annual Plenary meeting).

*   Location: San Jose - Dolce Hayes Mansion (South San Jose area - see map in Hotel Information below)
*   Date: January 25-26, 2005 (Tuesday-Wednesday)
*   Times:
    *   January 25: 2:00 pm to 7:00 pm half-day
    *   January 26: 9:00 am to 6:00 pm full-day
*   Snacks and Meals:
    *   Drinks and snacks will be available throughout both days
    *   Lunch and dinner will be provided on both days
    *   Drinks, snacks and the meals listed are included in your registration (that is, they're free)

## Registration

Members of the forum should register at: [Plenary Registration](http://www.celinuxforum.org/MemberOnly/Plenary/2005/plenary2005.htm).

If you are an employee of a member company then you can register as a CELF member [here](http://www.celinuxforum.org/AddMemberForm.htm), and then register for the technical conference using the link above.

(See the CELF member company roster [here](http://www.celinuxforum.org/MemberOrganization.htm).)

Special non-member invited guests (mostly, people Tim Bird has talked to) will be registered by the forum office.

While openings are available, member companies may invite non-member guests. Please limit the number of non-member guests to 2 per company (due to costs). Please limit the total number of attendees from your company (including non-member guests) to 8.

/\ In order for us to make appropriate arrangements for the conference facilities, please register as soon as possible. Space is filling up - so don't delay.

## Sessions

There will be 28 sessions, and Tuesday evening there will be a over 20 technical demonstrations presented by various members of the forum.

The sessions will consists of:

*   Presentations
*   Discussions
*   A Panel
*   Tutorials

Demonstrations should be registered [here](http://www.celinuxforum.org/MemberOnly/Plenary/2005/plenary2005.htm) (at the bottom of the page).

### Session List

Technical sessions are as follows (in no particular order):

| **Person** | **Session Description** | **Session Slot** |
| Greg Ungerer, SnapGear | uCLinux | 25- 2:00-A |
| Tohru Nojiri, Hitachi | Linux Kernel State Tracer (LKST) technology | 25- 2:00-C |
| Todd Poynor, [Monta Vista](http://elinux.org/Monta_Vista "Monta Vista") | Dynamic Power Management | 26-10:00-B |
| Philippe Robin, ARM | Developing and Optimizing Linux on ARM Cores | 25- 3:00-A |
| Ed Plowman | [OpenGL](http://elinux.org/OpenGL "OpenGL") ES, [Open VG](http://elinux.org/index.php?title=Open_VG&action=edit&redlink=1 "Open VG (page does not exist)") and [Open MAX](http://www.khronos.org/openmax/) | 26- 9:00-C |
| Matt Mackall | Linux-tiny and Directions for Small Systems | 26-11:00-A |
| Erik Andersen | uClibc | 26-10:00-A |
| John Vugts & Jeroen Brouwer, Philips | UHAPI tutorial | 26- 2:00-C x2 |
| Karim Yaghmour, Opersys | Building Embedded Linux Systems - Tutorial | 26- 2:00-A x3 |
| Pieter van der Meulen, Philips | Audio, Video, Graphics WG discussion | 26- 4:00-C |
| Dongjun Shin, Samsung | Flash Memory WG discussion | 26- 4:00-B |
| Scott Preece, Motorola | Mobile Phone Profile WG - intro and working session | 26-12:00-A |
| Mark Orvek, [Monta Vista](http://elinux.org/Monta_Vista "Monta Vista") | Power Management WG discussion - suspend to flash technology, etc. | 26-11:00-B |
| Manas Saksena, [Time Sys](http://elinux.org/Time_Sys "Time Sys") | Real Time WG discussion | 26- 2:00-B |
| Hiroo Suyama, NEC | System Size WG discussion | 26- 9:00-A |
| Matsubara-san & Hagiwara-san & Hisao Munakata, Renesas | Graphics [APIs](http://elinux.org/APIs "APIs") for Linux (including DirectFB and 3D) | 26-10:00-C |
| Nigel Cunningham | Linux 2.6 Power Management | 26- 9:00-B |
| [Emmanuel Fleury](http://www.cs.aau.dk/~fleury) & Kristian S�rensen, [Aalborg University](http://www.aau.dk) | [Umbrella Security Framework](http://umbrella.sf.net) | 26-11:00-C |
| Dennis Oliver Kropp | DirectFB | 25- 3:00-C |
| Michael Hunold | Linux DVB | 26-12:00-C |
| Markku Ursin, Movial | Creating GTK+ based UI's for embedded devices | 26-11:00-C |
| John Cooper, [Time Sys](http://elinux.org/Time_Sys "Time Sys") | 2.6 Realtime preemption patch | 26- 3:00-B |
| Seiji Munetoh, IBM & Nichola Szeto, Sony | Integrating TCG (Trusted Computing Group) technology in Linux | 25- 2:00-B |
| Tim Bird, Sony | Bootup Time WG discussion - current bootup time projects | 26- 12:00-B |
| Andrew Morton, Lead kernel developerHisao Munakata, RenesasMark Orvek, [Monta Vista](http://elinux.org/Monta_Vista "Monta Vista")Ruud Derwig, PhilipsModerated by Tim Bird, Sony | Panel - Improving Commercial CE Involvement in Linux | 25- 4:00-ABC |

### Session Schedule

**CELF Technical Conference - January 25**

**1:00-2:00 - Lunch**

**Time**

**Room A - Hayes Ballroom**

**Room B - Monterey room**

**Room C - Morgan Hill room**

2:00 - 2:50 pm

uClinux - Greg Ungerer, SnapGear

Integrating TCG (Trusted Computing Group) technology in Linux - Seiji Munetoh, IBM & Nicholas Szeto, Sony

Linux Kernel State Tracer (LKST) technology - Tohru Nojiri, Hitachi

3:00 - 3:50 pm

Linux on Arm Cores - Philippe Robin, ARM

Umbrella Security Framework - Emmanuel Fleury

DirectFB - Dennis Oliver Kropp

4:00 - 4:50 pm

Panel - Improving commercial CE involvement in Linux - Andrew Morton, Hisao Munakata, Mark Orvek, Ruud Derwig : Moderated by Tim Bird

**5:00-6:30 - Demonstrations**

**7:00 - Dinner**

.

**CELF Technical Conference - January 26**

**Time**

**Room A - Hayes Ballroom**

**Room B - Monterey room**

**Room C - Morgan Hill room**

9:00 - 9:50

System Size WG discussion - Hiroo Suyama

Linux 2.6 Power Management - Nigel Cunningham

[OpenGL](http://eLinux.org/OpenGL "OpenGL") ES, [Open VF](http://eLinux.org/index.php?title=Open_VF&action=edit&redlink=1 "Open VF (page does not exist)") and [Open MAX](http://www.khronos.org/openmax/) - Ed Plowman - ARM

10:00 - 10:50

uClibc - Erik Andersen

Dynamic Power Management - Todd Poynor, Monta Vista

Graphics APIS for Linux - Matsubara, Hagiwara, Hisao Munakata, Renesas

11:00 - 11:50

Linux-tiny - Matt Mackall

Power Management WG discussion - suspend to flash technology, etc. - Mark Orvek, Monta Vista

Creating GTK+ based UI's for embedded devices - Markku Ursin, Movial

12:00 - 12:50

Mobile Phone Profile WG - intro and working session - Scott Preece

Bootup Time WG discussion - current projects - Tim Bird, Sony

Linux DVB - Michael Hunold

**1:00-2:00 - Lunch Break**

2:00 - 2:50 pm

Embedding Linux tutorial - Karim Yaghmour

Real Time WG discussion - Manas Saksena, [Time Sys](http://eLinux.org/Time_Sys "Time Sys")

UHAPI tutorial - John Vugts - Philips

3:00 - 3:50 pm

Embedding Linux tutorial2 - Karim Yaghmour

2.6 Real-time preemption patch - John Cooper, [Time Sys](http://eLinux.org/Time_Sys "Time Sys")

UHAPI tutorial2 - John Vugts - Philips

4:00 - 4:50 pm

Embedding Linux tutorial3 - Karim Yaghmour

Flash Memory WG discussion - Dongjun Shin, Samsung

Audio, Video, Graphics WG discussion - Pieter van der Muelen, Philips

**5:00-6:00 - Break**

**6:00 - Dinner**

## Hotel Information

| Name: | Dolce Hayes Mansion |
| Address: | 200 Edenvale Avenue, San Jose, CA 95136, USA |
| Telephone: | +1 (408) 226-3200 |
| Fax: | +1 (408) 362-2329 |
| Web-site: | [`HayesMansion.Dolce.com`](http://HayesMansion.Dolce.com) |
| Room rate: | $145.90 per person (single occupancy) per night including breakfast and all taxes. |
| Reservation: | For hotel reservation please fill in and fax this [[[Media:CELF-Plenary-Hotel-Reservation-Form.pdf]] form (Adobe PDF)] directly to the hotel at +1 (408) 362-2329 by January 3rd, 2005 |
| Map: | [MapQuest map](http://www.mapquest.com/maps/map.adp?country=US&countryid=US&searchtype=address&address=200+Edenvale+Avenue&city=San+Jose&state=CA&zipcode=95136&search=++Search++) |

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Events](http://eLinux.org/Category:Events "Category:Events")

# 词汇表

> 原文: [eLinux.org](http://eLinux.org/Glossary "http://eLinux.org/Glossary")
> 翻译：[@mintisan](https://github.com/mintisan)
> 校订：[@lzufalcon](https://github.com/lzufalcon)

# 术语表

本文介绍嵌入式 Linux 中使用的术语表，并列出本书中其它的术语表章节：

## 高频主题术语表

以下是特定技术领域的一些术语表：

*   启动时间
    *   Linux 启动过程涉及的相关术语
*   电源管理
    *   CELF 电源管理工作组术语定义
*   实时性 - 系统实时性能相关术语
*   安全 - Linux 安全及安全架构相关术语

| 目录 |
| --- |
| A B C D E F G H I J K L M N O P Q R S T U V W X Y Z  |

## A

**Abatron** [Abatron](http://www.abatron.ch/) 是一家瑞士厂商，他们生产市场流行的 JTAG 调试器，这些调试器常用于调试嵌入式 Linux 系统。他们的主要产品是 `BDIx000` 系列的 JTAG 调试器。

**异步 I/O （Asynchronous I/O）** 在启动 I/O 之后即回到主程序中，而非等到功能 I/O 完成。此时，I/O 传输和处理器同时并行工作，在 I/O 操作的同时也在执行主程序流程，而非阻塞等待其完成。

## B

**板子（Board）** 当我们在说开发板，一般是在说带有嵌入式 Linux 操作系统的硬件设备，它其实是一块印刷电路板。我们有时也叫它开发板或者评估板。

**阻塞 I/O（Blocked I/O）** 直到 I/O 所有的数据请求完成之后才返回程序控制权的方式。这种方式下，I/O 传输与处理器串行执行。

**板级支持包（BSP）** 其实就是用于支持特定硬件板的代码，这个术语一般用于指代代码，而不能见名知义地当作一个具体的“包”。它通常指适用于某块特定板子的所有特定软件，包括内核代码、用户代码等等。

## C

**交叉编译器（Cross-compiler）** 交叉编译器是指，一个运行在某个平台上的编译器，它通过配置后有能力为另外一个平台或者多个其他平台生成代码。

**交叉编译过程（Cross-compilation）** 交叉编译是指，通过交叉编译器编译代码，代码针对另外一个平台，而不是执行编译的平台本身。

## D

## E

**嵌入式 Linux 会议（ELC）** 这是每年为嵌入式 Linux 开发者准备的主要技术会议之一。参考事件 一节可以看到历年事件的资料。

**嵌入式（Embedded）** “嵌入式”设备通常意味着该设备独立于其他附带的软硬件特性，具有固定的功能。该术语多少有些含糊不清，它是相对于通用功能而言的，意味着专用。需要提到的是，移动手机虽然现在支持各种通用程序和功能，但是也被当作嵌入式设备。典型的嵌入式 Linux 产品包括数字相机、路由器、电视机与机顶盒以及非消费类的嵌入式设备，像传感器、工控设备以及除桌面和服务器市场外所有运行 Linux 的设备。详情请看[维基百科嵌入式入门指南](http://en.wikipedia.org/wiki/Embedded_system)。

## F

**文件系统（File system）** 操作系统用来管理磁盘分区的一套方法和数据结构，也就是磁盘组织文件的方式。有时也指用于存储文件或者文件系统类型的分区或者磁盘。

## G

## H

**主机（Host）** 主机或者宿主机是指软件开发者具体为他们的产品编写和编译软件时所用的机器。在主机－目标机环境中，主机用来开发软件，目标机用来运行主机开发出来的软件。

## I

**知识产权模块（IP 核）** IP 核是指芯片上某个执行不同功能的集成电路的一部分，IP 核代表“知识产权”，它被开发或者授权，然后才能集成到系统的 SOC 或者某些其他芯片中。这个核作为一个单元被授权和操作，这个单元需要用诸如 Verilog 这样的硬件描述语言来表达出一个准确定义的线路。因为相同的 IP 核可能用在多种芯片上（并且通常是来自不同公司的芯片），所以为系统上某个 IP 核所写的驱动也常能够（添加少许修改就可以）在其他使用了相同 IP 核的系统上工作。在当代处理器上常见的 IP 块有视频控制器、 UART (串行端口)、 总线控制器和网络接口 (有线和无线)，而这些只是冰山一角。

## J

**JTAG** "Joint Test Action Group" 的缩写, JTAG 是一种调试接口，用于在嵌入式开发板上验证硬件和调试软件。 详见 JTAG

## K

**内核（Kernel）**

Linux 内核是 Linux 系统的核心软件，它负责与硬件打交道，代表进程管理资源，也负责协调进程与硬件之间以及不同进程间的交互。

## L

## M

## N

**非阻塞 I/O （Non-blocking I/O）** 在启动 I/O 进程之后即返回控制权到调用程序，而且是在 I/O 完成之前。I/O 传输与处理器工作可并行执行，也就是说，I/O 操作执行之时，用户程序可不受影响地持续运行。即异步 I/O。

**非易失性存储（Non-volatile storage）** (NVS, 非易失性存储，也称持久性储存) ，此术语描述的是这样一个存储设备，即使掉了电它的内容也会保留。存储器使用磁介质（例如磁盘，磁带或者泡沫内存）通常是天然具有非易失性，然后半导体内存（静态内存，特别是动态内存）通常是易失的但是在永久地接上一个（可反复充电的）电池后，就可以作成非易失性的存储器了。

## O

## P

**物理层（PHY）** 物理层（Physical Layer）的缩写。物理层通常指代在一个芯片或者主板上实现了网络功能的硬件电路。有时候，物理层是单独的芯片实现的，但是更一般的是指 SoC 上的网络设备或者接口模块。详见 [`en.wikipedia.org/wiki/PHY_(chip)`](http://en.wikipedia.org/wiki/PHY_(chip))

## Q

## R

**基于内存的文件系统（RAM-based file system）** 作为存储介质，在易失性 RAM 上构建的文件系统。

## S

**片上系统（SOC）** 片上系统是指单一集成电路上包含一个几乎完整系统的芯片，它可能会有多种 IP 核，这些 IP 核实现不同的硬件功能，除了系统主 CPU 以外，如串口、网口、总线和视频控制器。一般读作 "ess-oh-see" 或者 "sock"。详见 [`en.wikipedia.org/wiki/System_on_a_chip`](http://en.wikipedia.org/wiki/System_on_a_chip)

**同步 I/O （Synchronous I/O）** 直到所有的数据请求传输后才返回控制权到调用程序本身，I/O 传输与处理器工作串行执行。即阻塞 I/O 。

## T

**目标板（Target）** 目标板是执行所开发软件的设备或者环境。它可能是开发板，真实的产品或者仿真器。一般而言，开发者在主机上开发完软件之后需要到目标板上测试，调试和部署。

**工具链（Toolchain）** 工具链是一整套为嵌入式设备构建软件的程序，具体来说，它指代编译器和连接器。但是它也可能是其他特定于某个特别架构或者 CPU 的其他程序，例如调试器，分析器和与目标软件配合使用的其他工具。

## U

## V

## W

## X

## Y

## Z

[分类](http://eLinux.org/Special:Categories "Special:Categories"):

*   [贡献你的力量](http://eLinux.org/Category:NeedsEditing "Category:NeedsEditing")

# JTAG

> From: [eLinux.org](http://eLinux.org/JTAG "http://eLinux.org/JTAG")

# JTAG

Joint Test Action Group, referring to IEEE Standard 1149.1: Four-pin (plus power/ground) interface designed to test connections between chips. Interface is serial (clocked via the TCK pin). Configuration is performed by manipulating a state machine one bit at a time (via TMS pin), then transferring one bit of data in and out per TCK clock (via TDI and TDO pins, respectively). Different instruction modes can be loaded to read the chip ID, sample input pins, drive (or float) output pins, manipulate chip functions, or bypass (pipe TDI to TDO to logically shorten chains of multiple chips). Operating frequency varies per chip, but is typically 10-100MHz TCK (10-100ns per bit time). The description of how JTAG is implemented for a specific device is described in a file specific to that device called a [BSDL](http://eLinux.org/BSDL "BSDL") file.

## Contents

*   1 Information
*   2 Tutorial
*   3 Hardware (emulators)
*   4 Tools

### Information

*   [`en.wikipedia.org/wiki/JTAG`](http://en.wikipedia.org/wiki/JTAG)
*   [`www.asset-intertech.com/products/free_resources.htm`](http://www.asset-intertech.com/products/free_resources.htm)
    *   various resources
*   [openjtag wiki](http://www.openjtag.net)
*   [Common JTAG Pinouts](http://eLinux.org/images/e/ea/JTAGpinouts.pdf "JTAGpinouts.pdf")
*   [Macraigor JSCAN](http://www.macraigor.com/jscan.htm)
*   [Overview of On Chip Debug Methods](http://www.eetimes.com/design/embedded-internet-design/4019860/JTAG-101--Part-1-Overview-and-On-Chip-Debug-Methods)
*   [gojtag](http://www.gojtag.com/) - needs to be ported to Linux

### Tutorial

[Tutorial from Asset Intertech](http://eLinux.org/images/0/0e/Boundryscan_tutorial.pdf "Boundryscan tutorial.pdf")

[Embedded Linux JTAG debugging (CELF presentation)](http://tree.celinuxforum.org/CelfPubWiki/ELC2009Presentations?action=AttachFile&do=get&target=DebuggingWithJtagCelf2009.pdf)

### Hardware (emulators)

*   [Holly Gates](http://eLinux.org/Holly_Gates "Holly Gates") wiggler - Parallel Port
*   [Cheap Tag](http://eLinux.org/Cheap_Tag "Cheap Tag") 5v only parallel port
*   Flyswatter- USB
*   [ARM DS-5](http://www.arm.com/ds5) - DS-5 and DSTREAM provide embedded Linux developers with a full professional development suite
*   [gnICE](http://docs.blackfin.uclinux.org/doku.php?id=hw:jtag:gnice)
    *   USB w/full schematics
*   [ICEbear JTAG](http://www.section5.ch/icebear) - USB
*   [JTAG Blue](http://www.renaelectronics.com/2007Fall/product_x_cable.htm) - Parallel Port
*   [`wiki.openwrt.org/JTAG_Cables`](http://wiki.openwrt.org/JTAG_Cables)
*   [`hri.sourceforge.net/tools/`](http://hri.sourceforge.net/tools/)
    *   Macraigor compatible wiggler
*   [`www.sparkfun.com/shop/index.php?shop=1&cart=201362&cat=74&`](http://www.sparkfun.com/shop/index.php?shop=1&cart=201362&cat=74&)
*   [`www.ocdemon.net/hwproducts.htm`](http://www.ocdemon.net/hwproducts.htm)
    *   $150-$1800 par,usb,serial,ethernet
*   [`www.dlpdesign.com/usb/2232m.shtml`](http://www.dlpdesign.com/usb/2232m.shtml)
    *   USB module
*   [`www.corelis.com/products/index.htm`](http://www.corelis.com/products/index.htm)
    *   Emulators, Testing and Programming
*   [`www.amontec.com/jtagkey.shtml`](http://www.amontec.com/jtagkey.shtml)
    *   USB
*   [`www.sparkfun.com/commerce/product_info.php?products_id=7834`](http://www.sparkfun.com/commerce/product_info.php?products_id=7834)
    *   USB
*   [`www.ronetix.at/peedi.html`](http://www.ronetix.at/peedi.html)
    *   JTAG/BDM Emulator and Flash Programmer
*   [`www.mentor.com/products/embedded_software/majic-jtag-probe/`](http://www.mentor.com/products/embedded_software/majic-jtag-probe/)
    *   JTAG Emulator, Flash Programmer, Hardware Bring-up
*   [Embest UNetICE](http://www.armkits.com/Product/unetice.asp) - USB and Ethernet based JTAG Emualtor for ARM7 and ARM9 processors
*   [XDS100v2](http://www.armkits.com/Product/xds100.asp) - USB JTAG emulator for TI processor available from [Embest](http://www.armkits.com)
*   [Dangerous Prototypes Bus Blaster](http://dangerousprototypes.com/docs/Bus_Blaster) (~35$ open hardware)

### Tools

*   [JTAG_Finder](http://eLinux.org/JTAG_Finder "JTAG Finder")
*   [UsingJtagTools](http://eLinux.org/UsingJtagTools "UsingJtagTools")
*   [`openwince.sourceforge.net/jtag/`](http://openwince.sourceforge.net/jtag/)
*   [`fjtag.sourceforge.net/`](http://fjtag.sourceforge.net/)
*   [`jtagtools.sourceforge.net/`](http://jtagtools.sourceforge.net/)
*   [`www.lart.tudelft.nl/projects/jtag/jflash-linux.tar.gz`](http://www.lart.tudelft.nl/projects/jtag/jflash-linux.tar.gz)
*   [`lapwww.epfl.ch/dev/arm/jelie/index.php`](http://lapwww.epfl.ch/dev/arm/jelie/index.php)
*   [`cvs.arm.linux.org.uk/cgi/viewcvs.cgi/jtag/`](http://cvs.arm.linux.org.uk/cgi/viewcvs.cgi/jtag/)
*   [`jtager.sourceforge.net/`](http://jtager.sourceforge.net/)
*   [`openocd.berlios.de/web/`](http://openocd.berlios.de/web/)
*   [`urjtag.org/`](http://urjtag.org/)
*   [`opencollector.org`](http://opencollector.org) database contains a list of opensource JTAG SW tools

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Development Tools](http://eLinux.org/Category:Development_Tools "Category:Development Tools")

# Power Management Definition Of Terms

> From: [eLinux.org](http://eLinux.org/Power_Management_Definition_Of_Terms "http://eLinux.org/Power_Management_Definition_Of_Terms")

# Power Management Definition Of Terms

Definition of Terms for Power Management working group

Classes In the future, a Class will be a set of Operating Points. DPM will be architected to choose the appropriate Operating Point for the current Class, based on constraints. The current implementation of DPM restricts each Class to contain only one Operating Point. Continuing the above example of device constraints for a network adapter, if a Class contained two Operating Points, "slow_cpu_fast_io" which specified an IO bus frequency of 25 [MHz](http://eLinux.org/MHz "MHz") and "slow_cpu_slow_io" which specified an IO bus frequency of 5 [MHz](http://eLinux.org/MHz "MHz"), then DPM would not be able to set the Operating Point to "slow_cpu_slow_io" while the network adapter was active.

Device constraints Constraints describe the required relationships between the hardware operating parameters. For example, for a network adapter to function properly, it might be required that the frequency of the IO bus to which it is attached must be greater than 10 [MHz](http://eLinux.org/MHz "MHz").

DPM The [Monta Vista](http://eLinux.org/Monta_Vista "Monta Vista") Dynamic Power Management subsystem

Operating Points An Operating Point is a specific set of values of power parameters. The system designer chooses an Operating Point to reflect a certain level of system performance together with an associated level of energy consumption.

Hibernate See Suspend-to-Disk

Operating States The Operating State reflects the current state of the system: executing a task, processing interrupts, or idle. Each process has an associated Operating State, as does the system idle loop and the interrupt handling code path. It is also an abstraction that software uses to request a specific level of system performance, since there are multiple operating states that can be associated with a task, and the various operating states may be mapped to differing Operating Points, thus causing differing levels of performance and power consumption for different tasks. The current system Operating State is set to the Operating State of the process currently executing (or the idle loop or interrupt handlers). The board specific implementation portion of DPM may also alter the system's current Operating State while kernel code is executing. For example, the kernel idle loop code may explicitly set the system's current Operating State to "idle" while there is no task that is ready to execute.

Policy Manager Software that dynamically sets the current policy from the set of defined policies. The Policy Manager selects the current Policy based on certain system conditions. For example, the Policy Manager can select the Current Policy in one of the following ways: 1\. If the user presses the device's soft-power switch, the Policy Manager can choose an ultra_low_power Class; 2\. If remaining battery power reaches a threshold, the Policy Manager may choose a lower_power_and_performance Class; 3\. If the device is connected to main power, the Policy Manager may choose a high_performance Class.

Power Control Layer Power control layer is the software layer on top of which power management framework sits. This layer provides H/W specific power control methods to power management framework with abstracted power control interfaces.

Power Management Framework Power management framework in kernel maintains system power management policy and implements core functions for static power management and dynamic power management technologies. PM framework plays the role of coordinating energy resource among multiple tasks and adapting system operating state according to task specific requirements.

Power Parameters Power parameters are the hardware parameters that may be modified to affect the power usage of the platform, such as clock frequencies or dividers, voltage levels, and so forth.

Power Policy A Policy is a mapping of which Class is invoked for each Operating State. For example, a "power-off" policy may map all Operating States to an extremely low power Class; a "power-off-fast-wakeup" may map all Operating States to a low power and low wakeup latency Class; and a "active" policy may map an Operating State used by interactive processes to a high power Class, an Operating State used by background processes to a medium power Class, and an Operating State used by the kernel idle loop to a low power and low wake up latency Class. Whenever the Operating State changes (due to an explicit request or implicitly due to a change of which process is currently executing) DPM uses the current Policy to determine which Class is associated with the new Operating State. DPM selects the best Operating Point from the new Class, and then sets the hardware parameters defined by the Operating Point.

Suspend/Resume System suspend refers to placing the system in a low-power state with many components powered off, or perhaps entirely powering off the system after saving state to stable storage. This is a relatively lengthy procedure undertaken when an extended period of product inactivity is expected, as for example when the user presses a "standby" button on the product or the product has not been in use for a long period of time. This procedure can thus be distinguished from the power state changes appropriate for a running system driven by technologies such as Dynamic Power Management, which are executed more quickly during very brief idle periods. System resume refers to the process of restoring the state of the system to approximate pre-suspend conditions upon resume.

Suspend-to-Disk/Hibernate A technique by which systems preserve state on disk during suspend and restore system state from disk upon resume. This is typically done on platforms where all of RAM may be saved to a disk device and then the RAM (and perhaps the entire system) may be powered off during the suspend period. This is commonly referred to as "hibernating" for laptop/notebook computers.

Suspend-to-RAM A technique by which systems preserve state in RAM during suspend and restore system state from RAM upon resume. This is necessary on platforms that remove power from some portions of the system, such as the CPU core or I/O core, but maintain power to SDRAM during the suspend period

Suspend modes / Standby modes / Sleep modes A platform may support more than one suspend mode, that is, system behavior during a suspend may differ depending on what suspend mode has been requested. For example, one mode may stop certain clocks during suspend but leave all components powered on, while another mode may power off various components (such as the CPU core or I/O modules) but leave others powered on (such as to leave SDRAM in self-refresh state), and so forth.

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Embedded Dictionary](http://eLinux.org/Category:Embedded_Dictionary "Category:Embedded Dictionary")

# Real Time Terms

> From: [eLinux.org](http://eLinux.org/Real_Time_Terms "http://eLinux.org/Real_Time_Terms")

# Real Time Terms

The following terms were copied from the Terminology section of the Realtime Technologies Specification of the CELF.

See [`tree.celinuxforum.org/CelfPubWiki/RTSpecDraft_5fR2`](http://tree.celinuxforum.org/CelfPubWiki/RTSpecDraft_5fR2)

* * *

Context switch The act of replacing the running task *A* by another task *B*. The state of task *A* is saved, and *A* is placed in the ready queue; the state of task *B* is restored, and *B* becomes a running task.

Critical section A brief interval during which a task accesses shared data. During this interval, no other tasks are allowed to access the same data. One way of ensuring this is to prevent preemption during the critical section. If the critical section defers preemption for a bounded interval, the resulting priority inversion is bounded.

Deadline-monotonic priority setting The task with the shortest relative deadline is assigned the highest priority.

Deadline requirement A real-time requirement that requires the response to be completed within a fixed time interval from the triggering event. A *relative deadline* is the duration of the above mentioned interval; an *absolute deadline* is the moment in time at which the response must be completed.

Fixed priority preemptive scheduling The task with the highest priority is always running. If a task with a higher priority becomes runnable, the running task will be preempted immediately. The priority of a task, process or Interrupt Service Routine (ISR) is explicitly determined at creation, or by an explicit set-priority command. No implicit priority changes by the scheduler are assumed. For an exception to this rule see **Priority inheritance.** The scheduling policy of SCHED_FIFO in Linux implements fixed priority preemptive scheduling.

```
Note: Fixed priority scheduling is typically designed to be used for a single coherent application. 
```

Granularity The time range of a certain interval. We can talk about the granularity of a timing requirement, of a non-interruptible code segment, etc. *Needs fixing*

Hard deadline requirement Missing the deadline is considered an error.

Hard real-time system System with hard real-time requirements.

Hybrid real-time system This refers to a system where a real-time kernel is used in conjunction with a (mostly) unmodified Linux kernel, to provide real-time services to a subset of tasks on the system. This is often also referred to as the "multi-kernel" approach.

Interrupt latency Time passed between interrupt occurrence and activation of interrupt handler.

Interrupt masking Making certain interrupts invisible to the software.

Interrupt response time (worst-case) (Worst-case) time passed between interrupt occurrence and either completion of interrupt service routine (ISR) or wake up of dependent task.

Jitter – absolute Deviation of the occurrence of an event (e.g. completion of frame) from expected occurrence.

Jitter – relative Deviation of the interval between two successive occurrences of an event (e.g. completion of frame) from expected interval.

Mutual exclusion Prevent multiple tasks or ISRs from accessing the same data concurrently. Mutual exclusion is used to protect the integrity of the data.

Preemption A running thread or process can be temporarily suspended. The state of the thread or process (including e.g., program counter, and register values) is saved. When the process or thread is later resumed, the saved state is restored.

Priority inheritance If a high priority-task blocks for a critical section, a low-priority task that holds the lock for the section gets a priority boost. It inherits the priority of the blocked task. This prevents the unbounded priority inversion that could occur if medium priority tasks preempt the lower-priority task that holds the lock. Note that, with priority inheritance, the medium-priority tasks suffer priority inversion as well. But, and this is important in real-time systems, the priority inversion for all tasks is bounded (can be determined without knowing the exact run-time schedule)

Priority inversion The highest priority task is not running. There can be several reasons for priority inversion. One of them is the absence of full preemption. Priority inversion is one of the main reasons for deadlines being missed.

Real-time requirement A requirement on the completion time of a response, generally measured relative to the event that triggered the response.

Real-time system System with one or more real-time requirements.

Response time (worst-case) (worst-case) Time passed between event occurrence and completion of the response to that event. The event may be an interrupt. The response typically involves an interrupt handler and one or more synchronized tasks.

Runnable task (also ready/active task) A task that can run from a logical perspective, but is prevented from running physically.

Semaphore A synchronization primitive often used to achieve mutual exclusion.

Soft deadline Missing deadlines is sometimes acceptable. Compared to hard deadlines, where there is no reason to consider the value of a late result, the value of a late result for a soft deadline is of interest. The value of the result may, for instance, decrease linearly after the deadline.

Soft real-time requirement Soft deadline, or average-case response time requirement.

Note that hard and soft real-time requirements are orthogonal to the temporal granularity that is required. Meeting a soft requirement in the microsecond domain may be more difficult than meeting a hard requirement in the milliseconds domain.

Soft real-time system System with soft real-time requirements.

## Contents

*   1 Timing Model
    *   1.1 Events
    *   1.2 Time Periods
*   2 Terms in need of definition

## Timing Model

It is relatively well-established that the following events and time periods are of interest when measuring realtime performance:

### Events

*   0' - event initiation
*   A - hardware interrupt assertion
    *   This is the time when the hardware interrupt line for an event is raised
*   B - Interrupt service routine starts execution
*   B' - Task is scheduled
*   C - Task starts execution
*   D - Result is received from processing the event

### Time Periods

Real time performance is often expressed in terms of the maximum, minimum and average duration for certain time periods defined by the events above.

Here are some common terms, expressed relative to those events:

Interrupt latency The time from A to B (from hardware interrupt assertion to ISR start).

Scheduling latency The time from B' to C (from time of task scheduling to process start).

```
Note that sometimes this term is used to refer to the time from A to C (from interrupt assertion to process start). 
```

Processing time The time from C to D (from process start to completion of processing).

Response time The time from A to D (total time from interrupt assertion to delivery of processed data).

Often, these or similar terms are used with less accuracy to describe the closest approximation one can get, with a particular test framework and instrumentation set.

For example, 'response latency' may be reported as "response time", and refer to the time from when a host program records the time, previous to transmitting a piece of data which will cause an interrupt on the target machine, to the time when a host program records the time after receiving some signal from the target that processing is completed. Of course, time is taken in the operations of recording time, transmiting data, and detecting signals on the host machine. But it may be that timing these individual operations at a finer granularity requires instrumentation or hardware support not reasonably available for a test.

## Terms in need of definition

*   Reservation system
*   Precision
*   Granularity (above definition is weak)

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Linux](http://eLinux.org/Category:Linux "Category:Linux")

# Security Terms

> From: [eLinux.org](http://eLinux.org/Security_Terms "http://eLinux.org/Security_Terms")

# Security Terms

Linux Security Modules (LSM) A framework to support security systems as loadable Linux modules.

Stack guarding A mechanism for protecting the system from buffer overrun ("stack smashing") attacks.

[Category](http://eLinux.org/Special:Categories "Special:Categories"):

*   [Security](http://eLinux.org/Category:Security "Category:Security")